/*spdengine
Copyright (c) ArchGL Corporation
All rights reserved.

  '      '
 . \ /\ / .
  '.(  ).'
  .'(..)'.
 /  /[]\  \
    \  /

Copyright (c) ArchGL Corporation. All rights reserved.

spdengine is commercial software. it may NOT be used free of charge
without the authorization of ArchGL Corporation, and may NOT be
arbitrarily distributed.
*/
var spdengine=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1)),r(n(15)),r(n(437)),r(n(17)),r(n(23))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.ErrorCode=r.ErrorCode;var i=n(3);t.PluginToolHandle=i.PluginToolHandle,t.PluginToolType=i.PluginToolType;var o=n(4);t.SystemType=o.SystemType;var a=n(5);t.GISLayer=a.GISLayer;var s=n(6);t.GUMUNIT=s.GUMUNIT,t.GUMUnitName=s.GUMUnitName;var c=n(7);t.MEASURESTATE=c.MEASURESTATE,t.MEASURETYPE=c.MEASURETYPE;var l=n(8);t.ICameraAnimationLoopDir=l.ICameraAnimationLoopDir;var u=n(9);t.IMarkerType=u.IMarkerType;var p=n(10);t.AnimationType=p.AnimationType,t.TransformationType=p.TransformationType,t.CenterType=p.CenterType,t.DeformationType=p.DeformationType;var d=n(11);t.DirectoryCheckState=d.DirectoryCheckState;var h=n(12);t.RotationCenterMode=h.RotationCenterMode;var f=n(13);t.PanoramaModel=f.PanoramaModel;var m=n(14);t.Language=m.Language},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode={handleConflict:"Failed to add object, because of handle conflict.",bindConflict:"Failed to bind, it has been bound.",noShortcuts:"Command must bind shortcuts",existObject:"The Object already exists",notCompatible:"The type of the source is not compatible with the type of the distination",GetAWebGLBrowser:"This page requires a browser that supports WebGL.<br> We recommend using Chrome or FireFox browser"}},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.STATEFUL=0]="STATEFUL",e[e.FUNCTIONAL=1]="FUNCTIONAL"}(r||(r={})),t.PluginToolType=r,function(e){e[e.PAN=0]="PAN",e[e.SCALE=1]="SCALE",e[e.MAGNIFY=2]="MAGNIFY",e[e.SHRINK=3]="SHRINK",e[e.CLEARSELCTED=4]="CLEARSELCTED",e[e.SECTION=5]="SECTION",e[e.EXPLODED=6]="EXPLODED",e[e.FOCUS=7]="FOCUS",e[e.FULLSCREEN=8]="FULLSCREEN",e[e.HIDDEN=9]="HIDDEN",e[e.REGOIN=10]="REGOIN",e[e.RESET=11]="RESET",e[e.ISOLATION=12]="ISOLATION",e[e.MARKER2D=13]="MARKER2D",e[e.MEASURE2D=14]="MEASURE2D",e[e.MEASURE3D=15]="MEASURE3D",e[e.PEEL=16]="PEEL",e[e.SHOWALL=17]="SHOWALL",e[e.WANDER=18]="WANDER",e[e.ZOOMWIN=19]="ZOOMWIN",e[e.COUNT=20]="COUNT"}(i||(i={})),t.PluginToolHandle=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ST_2D=1]="ST_2D",e[e.ST_3D=2]="ST_3D",e[e.ST_CELL=4]="ST_CELL",e[e.ST_GIS=8]="ST_GIS",e[e.ST_PANORAMA=16]="ST_PANORAMA",e[e.ST_2D_WSM=32]="ST_2D_WSM",e[e.ST_3D_WSM=64]="ST_3D_WSM"}(t.SystemType||(t.SystemType={}))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BAIDUMAP=1]="BAIDUMAP",e[e.AMAP=2]="AMAP",e[e.QQMAP=3]="QQMAP",e[e.GOOGLEMAP=4]="GOOGLEMAP",e[e.ARCGIS=5]="ARCGIS",e[e.TIANDIMAP=6]="TIANDIMAP"}(r||(r={})),t.GISLayer=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNIT_MM=1e3]="UNIT_MM",e[e.UNIT_M=1]="UNIT_M",e[e.UNIT_FOOT=.3048]="UNIT_FOOT"}(r||(r={})),t.GUMUNIT=r;var i=new Map;t.GUMUnitName=i,i.set(r.UNIT_MM,"mm"),i.set(r.UNIT_M,"m"),i.set(r.UNIT_FOOT,"ft")},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DIS=0]="DIS",e[e.ANH=1]="ANH",e[e.AREA=2]="AREA",e[e.VOL=3]="VOL",e[e.POINT=4]="POINT",e[e.PSENCLOSEAREA=5]="PSENCLOSEAREA"}(r||(r={})),t.MEASURETYPE=r,function(e){e[e.DIS=0]="DIS",e[e.ANH=1]="ANH",e[e.AREA=2]="AREA",e[e.VOL=3]="VOL",e[e.POINT=4]="POINT",e[e.PSENCLOSEAREA=5]="PSENCLOSEAREA"}(i||(i={})),t.MEASURESTATE=i},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CLOCKWISE=1]="CLOCKWISE",e[e.COUNTERCLOCKWISE=2]="COUNTERCLOCKWISE"}(r||(r={})),t.ICameraAnimationLoopDir=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.MODEL=1]="MODEL",e[e.COMPONENT=2]="COMPONENT"}(r||(r={})),t.IMarkerType=r},function(e,t,n){"use strict";var r,i,o,a;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BASE=0]="BASE",e[e.CONSTRUCTION=1]="CONSTRUCTION",e[e.LOOP=2]="LOOP"}(r||(r={})),t.AnimationType=r,function(e){e[e.PAN=0]="PAN",e[e.ROTATION=1]="ROTATION",e[e.TRANSFORMATION=2]="TRANSFORMATION",e[e.DEFORMATION=3]="DEFORMATION"}(i||(i={})),t.TransformationType=i,function(e){e[e.BASEPOINT=0]="BASEPOINT",e[e.SELFPOINT=1]="SELFPOINT",e[e.SPECIFYPOINT=2]="SPECIFYPOINT"}(o||(o={})),t.CenterType=o,function(e){e[e.ENLARGE=0]="ENLARGE",e[e.NARROW=1]="NARROW"}(a||(a={})),t.DeformationType=a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CHECK=0]="CHECK",e[e.HALFCHECK=1]="HALFCHECK",e[e.UNCHECK=2]="UNCHECK"}(r||(r={})),t.DirectoryCheckState=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.SelectElementBoundingBoxCenterMode=0]="SelectElementBoundingBoxCenterMode",e[e.RaycastPointMode=1]="RaycastPointMode",e[e.ScreenCenterMode=2]="ScreenCenterMode",e[e.ComposeMode=3]="ComposeMode"}(r||(r={})),t.RotationCenterMode=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DEG369=1]="DEG369",e[e.DEG720=2]="DEG720",e[e.FISHEYE=3]="FISHEYE",e[e.CUBE=4]="CUBE"}(r||(r={})),t.PanoramaModel=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.zh_CN=0]="zh_CN",e[e.zh_HK=1]="zh_HK",e[e.ja=2]="ja",e[e.en=3]="en"}(r||(r={})),t.Language=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16);t.Command=r.Command;var i=n(326);t.Plugin=i.Plugin;var o=n(352);t.Scott=o.Scott;var a=n(338);t.Control=a.Control;var s=n(427);t.Apis=s.Apis;var c=n(331);t.ClippingCommand=c.ClippingCommand;var l=n(332);t.ExplodeCommand=l.ExplodeCommand;var u=n(327);t.Fullscreen=u.Fullscreen;var p=n(333);t.RegionCommand=p.RegionCommand;var d=n(346);t.HiddenCommand=d.HiddenCommand;var h=n(340);t.Measure3DCommand=h.Measure3DCommand;var f=n(342);t.Measure2DCommand=f.Measure2DCommand;var m=n(345);t.PeelCommand=m.PeelCommand;var g=n(335);t.ZoomWinCommand=g.ZoomWinCommand;var y=n(339);t.WanderCommand=y.WanderCommand;var v=n(330);t.PanCommand=v.PanCommand,t.RotateCommand=v.RotateCommand,t.ScaleCommand=v.ScaleCommand,t.MagnifyCommand=v.MagnifyCommand,t.ShrinkCommand=v.ShrinkCommand;var x=n(329);t.HomeCommand=x.HomeCommand;var M=n(343);t.Marker2DCommand=M.Marker2DCommand;var b=n(350);t.ClearCommand=b.ClearCommand;var w=n(348);t.FocusCommand=w.FocusCommand;var A=n(349);t.ShowAllCommand=A.ShowAllCommand;var _=n(436);t.TowerCrane=_.TowerCrane,t.DTowerCrane=_.DTowerCrane,t.Route=_.Route,t.Case=_.Case;var E=n(428);t.DirectoryTree=E.DirectoryTree},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(17),a=n(21),s=new Map;t.Command=function(e,t,n){if(!e||0===e.length)throw new Error(i.ErrorCode.noShortcuts);var r=0;e.forEach(function(e){r|=e});var o=s.get(t);if(o||(o=new Map,s.set(t,o)),o.has(r))throw new Error(i.ErrorCode.bindConflict);return function(e){var i,a;return(i=n,a=[],2&i&&a.push(2<<28),1&i&&a.push(1<<28),4&i&&a.push(4<<28),a).forEach(function(t){o.set(r|t,e)}),e.prototype["mode"+t]=n,e}};var c=o.BrowserInfo.isMac?346:1114,l=o.BrowserInfo.isMac?2394:3162,u=function(e){return"Control"==e.key||"Meta"==e.key||"Alt"==e.key||"Shift"==e.key},p=function(){function e(e){var t,n=[],r=[],i=s.get(e);function o(e){e.undo&&(n.push(e),n.length>20&&n.shift().dispose())}function a(){r.length>0&&(r.forEach(function(e){e.dispose()}),r.length=0)}this.initialize=function(e){t=e},this.do=function(e){var n=t.UI.getWorkMode();return n<<=28,new Promise(function(r,s){var p,d;if("number"==typeof e)p=e;else if(e instanceof KeyboardEvent){if(u(e))return void s();p=(d=e).which|(d.metaKey&&256)|(d.shiftKey&&2048)|(d.ctrlKey&&1024)|(d.altKey&&512)}else if("object"==typeof e&&e.do)return e.initialize(t),e.do(),r(),o(e),void a();if(p!==c)if(p!==l)if(i){p|=n;var h=i.get(p);if(h){var f=new h;f.initialize(t),f.do(),r(),o(f),a()}s()}else s();else this.redo().then(r,s);else this.undo().then(r,s)})},this.undo=function(){return new Promise(function(e,i){if(n.length>0){var o=n.pop();if(o.undo)return o.undo.apply(o,t),r.push(o),void e();i()}})},this.redo=function(){return new Promise(function(e,n){if(r.length>0){var i=r.pop();return i.do.apply(i,t),o(i),void e()}n()})},this.dispose=function(){n.forEach(function(e){e.dispose()}),r.forEach(function(e){e.dispose()}),n.length=0,r.length=0,r=null,n=null,i&&(i=null),t=null}}return e=r([a.ApiExport(["do","undo","redo"])],e)}();t.CommandService=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18);t.BrowserInfo=r.BrowserInfo;var i=n(19);t.Util=i.Util;var o=n(20);t.Icon=o.Icon},function(e,t,n){"use strict";function r(e,t){return-1!==e.indexOf(t)}function i(e,t){if("undefined"==typeof window&&"undefined"==typeof self)return{isMac:!1,isWin:!1,isWebkit:!1,isIE:!1,isIE11OrGreater:!1,isSafari:!1,isFireFox:!1,isEdge:!1,isWorker:!1,isTouchDevice:!1,isIOS:!1,isAndroid:!1,isMobile:!1,dpi:{x:0,y:0},isNode:!0,supportWasm:!1,supportWebGL2:!1,supportThreads:!1};var n="undefined"!=typeof self&&"undefined"==typeof window,i=e||window.navigator.userAgent,o=t||window.navigator.appVersion,a=r(i,"rv:")&&r(i,"Trident"),s=r(i,"MSIE")||a,c=r(i,"WebKit"),l=!1,u=!1,p=!1,d=!1;s||(l=r(i,"Chrome"),u=r(i,"Firefox"),r(i,"Safari")&&(p=!r(i,"Chrome")&&!r(i,"Android")),(d=r(i,"Edge"))&&(c=l=u=!1));var h=r(o,"Win")||r(o,"NT"),f="ontouchstart"in window,m=r(o,"Android"),g=r(o,"iPhone")||r(o,"iPad")||r(o,"iPod");return{isMac:!g&&r(o,"Mac"),isWin:h,isWebkit:c,isIE:s,isIE11OrGreater:a,isChrome:l,isSafari:p,isFireFox:u,isEdge:d,isWorker:n,isAndroid:m,isIOS:g,isMobile:m||g,isTouchDevice:f,isNode:!1,supportWasm:void 0!==window.WebAssembly,supportWebGL2:function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(e){return!1}}(),supportThreads:!!(window.SharedArrayBuffer&&window.SharedWorker&&window.Atomics)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserInfo=i;var o,a=i();t.BrowserInfo=a,Object.defineProperty(a,"dpi",{get:(o=null,function(){if(null===o){if(null!=window.screen.deviceXDPI)return{x:0|window.screen.deviceXDPI,y:0|window.screen.deviceYDPI};var e=document.createElement("div");e.style.cssText="width: 1in; height: 1in; position:absolute; left: 0px; top: 0px;z-index:99;visibility:hidden;padding:0;margin:0;",document.body.appendChild(e),o={x:0|e.offsetWidth,y:0|e.offsetHeight},e.parentNode.removeChild(e)}return o})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/[^A-Z0-9+\/=]/i,i=function(e){return null==e||null==e};t.Util=Object.freeze({isBase64:function(e){if(!("string"==typeof e||e instanceof String))return!1;var t=e.length;if(!t||t%4!=0||r.test(e))return!1;var n=e.indexOf("=");return-1===n||n===t-1||n===t-2&&"="===e[t-1]},isArray:function(e){return Array.isArray(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNil:i,isString:function(e){return"string"==typeof e},isObject:function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},isFunction:function(e){return"function"==typeof e},getRandomString:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=e.length,n="",r=0;r<8;r++)n+=e.charAt(Math.floor(Math.random()*t));return n},isNumber:function(e){return!i(e)&&!1===isNaN(e)&&"number"==typeof e},assert:function(e,t,n,r){var o=e(t);if(!o)switch(r){case 1:throw new Error(n);default:i(t)||console.error(n)}return o}}),t.default=t.Util},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon={check:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiUlEQVQ4T8WTUQ2AMAwFbw6QgAQkIAEUECTgCAdYQAJSkEBKtgRGt9DxQX+3u3R9neNjuY88vwkqYJfuSzqYgRpoSwQCdx7erIIHbBGocCxogAGYomiTsCZYgQUYvSQLa0+QLoJEzvvrwLSl02IMErkvUZ3TTlVqD0QilYUtKZg7eP3HSlb5Jj8A6REVEZMwuzMAAAAASUVORK5CYII=",fullscreen:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAAAn0lEQVRIx+3UsQ3CMBCF4Q9ET0bICGwATEIYgQ3CBIzAKDBCRmCEbBAaCss4BBdIQfIvufDpnc9+8h2FOXLFEK0Uu4SuiUWLROKAO86vfY/uQxGocMED+6kXDEFiDi1ucXD5a7/jAnVgSy59+b6Ft+bJpcbmG+F/N5pgtuSyTgVXI+JL5Gc74nkTHN6khmKqwBEHbCduXEWaDqfSI/PjCYgOHIGFHHRHAAAAAElFTkSuQmCC",exitfullscreen:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAAAlUlEQVRIx2NgGAUUAgUGBgYDPPIOlFrQwMDAsB+P/H9CljDROggIWcBPhBkC+CRZsIR5ApLhCQwMDBcIWNCPFk8N+CwQYGBgsEfiX2BgYCjEY3giAwNDPJqeUTAKaAwcoNkfGSfgUT8fi3oUwIinABOAZqIHDAwMjnjKogMMDAyNUP4HIjLmMCvsPhCoKwipGQWDAAAAsowcgRb+JSoAAAAASUVORK5CYII=",marker:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAAA3ElEQVRIx+2Ubw3CMBDFfyEImIRJQMJQAA4oCkACDggKhgUUFAfDwXAwHIwvt+SyrOt1+9qXNOmfvPfurtdCRkYEO6ADeuBuJTlFCg2nxGs1N5l0QrBE3gINUMhebzHwRvFa1rWYXMVwlcFYXHMsmc8ahMRdinjIICZ+BG5rDPxEfXXkVSjzjcGwAkrgpzJw0pJ74JP6ePzE2kkrNoELXZzBEP1T6lzIvjnybeT8IqVpgS9wBt4p5YgZvIAD8EgVnkOzgJN0B6UQrCiAk5TS/Ju2kd90PLxqgIw0/AH7yE4dIFP5oAAAAABJRU5ErkJggg==",save:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAAAgklEQVRIx2NgGAUjFqxnYGD4TwYOINaC/wwMDAIMDAwNUIwP7IfS/UhsOGDCo/EDHrkEqGEGSGIfsSlkIjMIFaC0ACGFTBTEkwIxiljINHwBAwPDAQYGhguUWvCAgYEhHlvkEQtYiHDpAkrSOxOtM9SoBYPbAgESzeIfVKXpKKAfAAALtSkslRyR3wAAAABJRU5ErkJggg==",hand:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAdElEQVRIx2NgGAVUBufpYThJljBR4Gqq+AbZ1edxiFPsAwYGBgZDMn1JtAX4LD6PRFPdAmyW0cwCrIAFjY/sAkLhThZATymkJkWSgogmPsDqClroJdcSkvSRYwnJekjRQHbQEqORZkUFQcBIJV/QLEmPAAAA/GEZreBF1PUAAAAASUVORK5CYII=",zoomin:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAZklEQVRIx2NgGAUEACOR6s4jsQ2p6YDzaIbjEiPbcErkqaKZLEtI1YRXPRMNLSbZELLkWEi0FMYmO6lS3QekKCZVnIGBgbRIpnoOpqY6sjRTpcggpiyiWv7A52KqWEKMI0YtGYkAAH5vIPVNMakzAAAAAElFTkSuQmCC",zoomout:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAYklEQVRIx2NgGAUEACOR6s4jsQ2p6YDzaIbjEiPbcErkqaKZLEtI1YRXPRMl3qSH6wnqYyFTM9FJlRgLqJru8XqXHPV0j2RSfUHTzEaVIoOYsohq5RI+F1PFEmIcMWrJSAQASdEbUCIP5FEAAAAASUVORK5CYII=",paning:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAABBUlEQVRIx+2U0Y2DMBBEn3INuASXkBJSAqngUkJKSAcpAaUCdBW4BKcDrgPSgfMze1pF4cDA391IiLWAndnxYPjHBD4q3o3AXvVjayEBGIAEFOCwRdNGDRNw1h3gCmQRFq0XYRDJxalHa5siqF5MEF2T/EJgKMBJU4YaglYfAXSu6UnkaAoj75yIH+x+IfgCPl1t+Abuqi1VR+CmiVfZZKpbN6XVSfZVoXM2tY7s4JpGrYe5e5ClthdBmvHNbPVBjYOL51QMq9Sb72dHOPXX9rXe70XSzlBlm1+dnqi9yBMkjSZYfMBlF8OxlF3WHHhRdnUjzxbZ886GMpKexEYoI9dmBH8YT+g4T3F9YpKCAAAAAElFTkSuQmCC",rotation:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAABMklEQVRIx+1Uy23DMBQjCr67R/AIHsGdIBnBnSDOBFUnSDfIKEYncDfQCMo9AtQLDQiGf4FzKRACgqUHm+T7WMAL/wakFaRdtIqt371tJHYAPIBCy5PmHhGaI29JC6RdSSuzeKlYIK3dk8Ehc33L4rcsfthVIgBnAKXK0sqxV+y8t0QdafWoXEE9AWk1ad0ix1axGO/fQ1NjvLsJM1WM998tJXIArtn5NDUtip0GcgA9aZc1AQfgE8CPzh96+nxaSGuyPnzJ+TuAZijfHJJExm5r0nzWAy+R8XtH0sIceSmBaqHpbu0HIy0tZRAAtDumbjEDAGiUxZxIsUa+1oNBJADotS9GGdYTxB1paQt57nS44JLEOu0TgFa3apq6qx5FKddO5AHAkbRK8/9U9BJ84Xn4Az5yVM62aEKHAAAAAElFTkSuQmCC",scaling:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAAA4ElEQVRIx+2Ubw2DMBTEf1kmAAmVgAQkbA6QsDmYAyRUQiWwKWAOkFAJ3ZfXpGkKvMK3hUsI6Z+8u+u1D04cQAM8gAkIyTfJfHOk+A3wUtBJwQ7oAStrXvbtKh6VtivunOzra4/FS3HNEUQ3RkswiKqScl+Yj4KslmAW6yUEySHHS9aKuGRjA3wqM3vLv9MQAHwzRyFROGbjTVwLc2lg9yTsEXhmAqoxrwS2lMFQ4ygGZpQE1beo9h24FUGL6BQv2SSB2z1ZtMkNKvWiIE53tYu8m44b3dQeIdHi/0hO6PEDJh5OsmLjNl4AAAAASUVORK5CYII=",cliping:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsSAAALEgHS3X78AAAA30lEQVRIx+WV4Q2CMBCFP43/ZQRHYATcwA1kA91AnIC4gU5gnKBxA51AN7BMgH+OpLmgUEgh0Zc0ba7Xvt7r9Qr/ji3waOs87UgSAYvQJF7QJGcgBnLAiM0AqdiN9C4qX93SymGmFqyAA3AHCrFdgSdgZWzVmhNwUbYNsAaOdZEloncTMqBsmDef5GpL0utOdj5Z05VkCdx+IpIgd6JTeDLEYywlmqAke3l4QeXKhpQrdmRLJOMij8SYf5t8yUbGKRulRJg4h3DLSuWrW95XgabaNf5/4gMb+nBRzec1Lt6X8jBer120xgAAAABJRU5ErkJggg==",home:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAAAvklEQVRIx+2V7wnDIBDFfw0dIN3EDZoROoIjOEI2CZ0gK2SDZgOzQbtB+kVBRMT450MgD0Q4373nHYfChYqQwA5oQLQSl8AEfGuaKEfcoprJFBCvZmIFXgkckSsuKnOzb6VSc0r6KlNy98LJUMDsBu4B0gf4AQ8n1geMV8PDDIIVXlzSLVKJPRtM6zaPI5xLjN4ercDHALwDydqcLbHkrqDfWwqpozFOZfA8atC3rEybUbUr9ODNHme8/uQs/AFfSjOOqnDs8AAAAABJRU5ErkJggg==",explode:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAAA8ElEQVRIx+2U0Q3CMAxEnzpBR+gI3YCyAWzACGxAN6k6ASNkhLJBRigblB9bsqwCLmo/kHp/SZQ7+3wJ7PgXNEAGJiDJejXiBIxAC1RAt4aQJy7duRXqZB1GLRdz4GIlRUxLRMqgDRcpQrsM4yQi3u/K2WftKaPzaOTiKBWqDUo4zBC3xqbwcLX9bIRqk6Q5i4YlAoqrECQRsG/CJyz9ImCHrvujrH10ZwWKgOgT6J1gL/tfUWz9xxQz1dZmsNF3076LqRd4AGfg5hL0iTgDB+C4tDuN4SBEOsQJuMuwhzV+1tZEVVOUF9oY8rlixxZ4AVspT5c+IM8TAAAAAElFTkSuQmCC",peeling:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAAA4klEQVRIx+2UXQ3EIBCEJ6cAB4cUpCChEnBQCZVQCZXQOkBCJXAvQ7Ih0ANKHy65SRpSfuaDZRfgr0EyADYAAcAJYHrCeOW/I8QDsL3GmoaBAJOMK4JCD8hdGOc2snD+npvwyvS9b5y6Kfa7iL0uhOjk59hXpZnH1oytJ2ihiU2MNdu1FrBxcSiAAjehMv3VACMWyxAY0XqRDLoHEJWCtkKWdQOipi/pexsQTa7GqupgqEoA1eijWgAHc3quBFkW5dFTyWmVyjvIpXGzUpNYZLeNcyl6iopdRhmnF2laX83f1wdvfVmHzbSgpgAAAABJRU5ErkJggg==",measuring:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAAAzElEQVRIx+2V4Q2CMBCFPwgDdARH6AbUDRjBERzBDYyTwAaygYzgBrpB/XMmtbElBzXxBy+5cHckXN8L7wobZlAl+i6qn8BUaoAD+uiDLnOYLJpEfwL2Qe2XSlQn+jvg9EWqYgNC7YvDAdeoV1wiK0MOv2Jwk6dZy6DJaD+WOG2dYeGB49oBKQZj5IPiA4ywuEug8MTHWplbFRdgkNoofpJK6wMNvMbJyMqwkvfBKjlL3kmod9FbkjbIu+C9DUxpNRSNGM0vjMd2zf4XXhfaMAY00I8JAAAAAElFTkSuQmCC",wander:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAABX0lEQVRIx+2V7VGEMBCGHxkLSAmUQAfSgViBdqAdHFZgCWoF2EGwgsMKjg7gKsA/m5l1LzlyjOMvd4YJbMK++272A/5lo1SABxb1vKj9Wr69rOWlAAdltAX28l0DjQI9qPc61/iD/NAaRkHngUl0YW8SsCzpxJgz+gV4ldWbvVb0TQ7AFDGAMhwDKEXf2Z+uI4YcMEcMAAwqLFpG2Tu5hyIzbAHgqJywIZwjuhMApzyK6QE+EywGlcJJgNl4GuRG1l4ZujVnjjHqxQWFFwB6caRJMNgEUCsDM/Ah91JF2K9m0Qg8AjtzH9rAl6yNnE22iiIB4IBn4C7hWWCzU+yq3Er20ntsEXkTstCLnNHVawycubDxDINeMexjacqZlmB1S+Y5n5NFZaTI+i2DJZZFb9KyO8mWe9G/m3O9hOPJ9KFxDdTJoJmE8j7Rhis1iBYVnh/96OoXxmut6mT48+H+DZ6FbNCnkADHAAAAAElFTkSuQmCC",hidden:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAABBElEQVRIx+2UYQ3CMBCFP1BQB1TCHDAUgAPmgEmoA3AADgYKBgoGCsDBcAB/Hklp2jHCT/aSS3fN7t5d+64wYMCvGCX2HTAHZvILYAJk8m/ABdjrO4lxYn+jtQYMMJV/kt2BJXAFKsB+21kBPIAWaEQSgxXBQzFfJS+UuPFInBIWHTGdyCM/Gh1Fo4rX6swlSLIugloJQrQeifEKCbFWjiRiFRjth8fVROKzBPFbB1WigzIgiSmn+tSBVbLUJW491YTqKhVr+6rIRQTgZHlwXAvFLPpKNVc1dUeQ8ebEKqb3U/FKUAIr+WdNMZrslxjuspnW3gRhR2GFR5nR3RyA3fC8/yGelHRNbwwElrIAAAAASUVORK5CYII=",zoomWin:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAAA6UlEQVRIx+2UvxWCQAyHP/4M4AiMwAZSWrIBbOAKOAJj2LkBWNniBLKB0tlhE3x5vgMB4WHBV10ux5Ffkgus/CMhcANqIAECWdeyzpSNsjPA/7zMMfzgAjyBFMiBEqiAs9gVcFW2JWd2gAccu6L3JJpwhPJEqXpjGw42UZuIJU0mSvn2JzKJtDcmBfXQS4amaFJcw95B5TIGIuXzpRG2ai8FTm35t5d4aF016CryMjWYvU2dFqkl8DD4LKBoeYiBNEXepwaTjQq35fBeFDRKmilZSJtu1FhpWjcS/1diNY6HjOv7SOUrM/MCkbJFQEfOqxQAAAAASUVORK5CYII=",region:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsSAAALEgHS3X78AAAAv0lEQVRIx+2UuxGCQBRFD2gBlkAJlEBoSAfagS3QgmVYBRqZagViBUJmBsnFecMM6iI6MrMnem+/77N7wTMVUuAC1EAGJLJr2bnxMX4OxN3DZj2XHIE7sAX2QAFUwEF+BZyNH2jNEoiA3assIkWVDqhAZrJ7EPYsbqN3pdDe/6Ft+FfLNSp9ryv4oC/Xbl9C35PJkOnnu5K4lHlUWZk/2bABSj3j0qjrSVkujATFGltp/i3WRspdpP42sAKeH9MABs87jiHzx3MAAAAASUVORK5CYII=",baiduMap:"data:image/jpeg;base64,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",aMap:"data:image/jpeg;base64,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",QQMap:"data:image/jpeg;base64,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",googleMap:"data:image/jpeg;base64,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",arcMap:"data:image/jpeg;base64,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",EllipsoidTerrain:"data:image/png;base64,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",STKTerrain:"data:image/png;base64,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",TDMAP:"data:image/png;base64,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MBjGVpYL+ejgIFoweIB7bRUlnUpvoNQ4LgkmJLaaicHIjskJ0JrT77zX6xFvnHwbu4w+vL6a4hzugD8SCQ+QJrVndt/jX7/t8uXLTzzxxKULl69dW/6PZ5//53/654WF+eeee27//gNo+A899NCOHRO/+MUvfvnUk197/LGR7cnK81sg/vVmDV2zq0hWi0YTBuICYFS1Lgmmizz29GhcvlyuZDKZysjo5fXVdrXP+Fwu18TEBBJr7969yEsUS61W7RrqxOT20dHRubm5cyuLeP/8uYu7Zvejpb/w/O9RVNFIHERtMDEEbHjsv35V04y5uQW0Q2xFJp1FYt500y1kz/y50Gk22zfccMvOnbM9wwRZCEX8iqpY7VQgxA8MBpvt5oUL54qywHAWxskYhgYaLUmyPxj2uvymQtCffOCBCxcuvP76+//56immR0SDrAOM2OUEc0CAG406agkvjh67EzV+uf+4iDRF8hgsEfSH3jz5Nsidy+W5fOkqQzv37zsCJJAFhXXaX/7TK7988qm9e/cfP37kuWdf0LUeeCllYd0OT3Yzj1/r6saPfvy/3nzzjb/6qy+jIgEongCfSa0VSlvV5laX1g07l23VAfmeSDQO4sVyYG+5SonutmyTyb1jj8zO7Jyw0oauSFAh7VpPFq3hwBjv6IDbQikuXFwqFApgcMVMAwwGDblWg3qLpZbrwBDaytx12wPoqfVSqytqIPsv/+HV733ve5999HNf/tJ/wfr8fi/S1OwS+HGw3OGxbWaP+N73//H9D9772uNfv/POjwIiIDrb7XqtWXe67KNjSc3UmmKd6VqRC6FQGFdJZTe9bt+R40fownkZBLLZaM+dfNUgBdbJWEhrvdnyet+A4mg1626n00qZFGE6WFtLaEPbWu2OSr1BUxzv7N506L49e3dLUmtgICh2Wq+efJW2W5euLf39975zz/2fmJqeOHvh/e1j26ZnJn/34gtnz567dOmyoulTkzt/+7s//OmVl7/85S9xLuD9uQMH9oIMYmUbqyui1J6dnRZENRmL2EsGhGUtm45Go4nABD5Dkjr9ra99G90BAMSwNMEYyCeKtnFuvt0S+/jg4RuVMk32WvUKWhqIpdo1SMZqsdoH46OslW+hus1uJBBGN23U6k6H/f233rWwgE3ymed+9avnnrbRth/9z3+597573nrj1Be+8AXs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",SPDLOGO:"data:image/png;base64,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",CIRCLE:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMC43MTQiIGhlaWdodD0iMjAuNzE0IiB2aWV3Qm94PSIwIDAgMjAuNzE0IDIwLjcxNCI+DQogIDxkZWZzPg0KICAgIDxzdHlsZT4NCiAgICAgIC5jbHMtMSB7DQogICAgICAgIGZpbGw6ICMwMmQ2ZGM7DQogICAgICAgIHN0cm9rZS13aWR0aDogMnB4Ow0KICAgICAgfQ0KDQogICAgICAuY2xzLTEsIC5jbHMtMiB7DQogICAgICAgIHN0cm9rZTogI2ZmZjsNCiAgICAgIH0NCg0KICAgICAgLmNscy0yIHsNCiAgICAgICAgZmlsbDogI2ZmZjsNCiAgICAgICAgc3Ryb2tlLXdpZHRoOiAzcHg7DQogICAgICB9DQoNCiAgICAgIC5jbHMtMyB7DQogICAgICAgIHN0cm9rZTogbm9uZTsNCiAgICAgIH0NCg0KICAgICAgLmNscy00IHsNCiAgICAgICAgZmlsbDogbm9uZTsNCiAgICAgIH0NCiAgICA8L3N0eWxlPg0KICA8L2RlZnM+DQogIDxnIGlkPSJjaXJjbGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04MjUgLTkwNSkiPg0KICAgIDxnIGlkPSLmpK3lnIZfMTQ2IiBkYXRhLW5hbWU9IuakreWchiAxNDYiIGNsYXNzPSJjbHMtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODI1IDkwNSkiPg0KICAgICAgPGNpcmNsZSBjbGFzcz0iY2xzLTMiIGN4PSIxMC4zNTciIGN5PSIxMC4zNTciIHI9IjEwLjM1NyIvPg0KICAgICAgPGNpcmNsZSBjbGFzcz0iY2xzLTQiIGN4PSIxMC4zNTciIGN5PSIxMC4zNTciIHI9IjkuMzU3Ii8+DQogICAgPC9nPg0KICAgIDxnIGlkPSLmpK3lnIZfMTQ3IiBkYXRhLW5hbWU9IuakreWchiAxNDciIGNsYXNzPSJjbHMtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODMxLjA3MyA5MTEuMDczKSI+DQogICAgICA8Y2lyY2xlIGNsYXNzPSJjbHMtMyIgY3g9IjQuMjg0IiBjeT0iNC4yODQiIHI9IjQuMjg0Ii8+DQogICAgICA8Y2lyY2xlIGNsYXNzPSJjbHMtNCIgY3g9IjQuMjg0IiBjeT0iNC4yODQiIHI9IjIuNzg0Ii8+DQogICAgPC9nPg0KICA8L2c+DQo8L3N2Zz4NCg==",SPD:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2OS40MzMiIGhlaWdodD0iMzIuMTM4IiB2aWV3Qm94PSIwIDAgNjkuNDMzIDMyLjEzOCI+DQogIDxkZWZzPg0KICAgIDxzdHlsZT4NCiAgICAgIC5jbHMtMSB7DQogICAgICAgIGZpbGw6ICMwMmQ2ZGM7DQogICAgICB9DQogICAgPC9zdHlsZT4NCiAgPC9kZWZzPg0KICA8ZyBpZD0iemhpemh1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTUwOS4wMjYgNzM5Ljk0NCkiPg0KICAgIDxwYXRoIGlkPSLot6/lvoRfNTQ1NiIgZGF0YS1uYW1lPSLot6/lvoQgNTQ1NiIgY2xhc3M9ImNscy0xIiBkPSJNMTc4Ni44NDMtNzMyLjI1M2MtLjE4OS0uMjMzLS4zODgtLjQ2LS42LS42NzhhMTEuMzM5LDExLjMzOSwwLDAsMC0yLjQxMi0xLjkxLDEyLjA4OSwxMi4wODksMCwwLDAtNS4yLTEuNjM3cS0uNS0uMDQtMS4wMDctLjA0YTEyLjUwNiwxMi41MDYsMCwwLDAtMS45NjUuMTU1LDMuNjU5LDMuNjU5LDAsMCwxLS4wMjgtLjQ1LDMuNzI5LDMuNzI5LDAsMCwxLC4wODgtLjgwNywzLjk4NSwzLjk4NSwwLDAsMSwxLjUzMy0yLjMyNCw2LjkzLDYuOTMsMCwwLDAtMy4zMTYsMi42OTEsNi4xNjEsNi4xNjEsMCwwLDAtLjcxLDEuNTM5LDEwLjYxMSwxMC42MTEsMCwwLDAtNy4wODksOS43NywxMC4zMjcsMTAuMzI3LDAsMCwwLDQuNzc1LDguNTgyLDYuOTU3LDYuOTU3LDAsMCwxLDUuODgxLTQuNDI4LDcuNzMxLDcuNzMxLDAsMCwxLC44MzEtLjA0NSw3LjU3MSw3LjU3MSwwLDAsMSwyLjUuNDJoMGE2Ljc4Myw2Ljc4MywwLDAsMSw0LjIxMSw0LjA1MywxMC4zMjYsMTAuMzI2LDAsMCwwLDQuNzc1LTguNTgyLDkuOTg4LDkuOTg4LDAsMCwwLTIuMjY4LTYuMzA5Wm0tLjUxMiw0LjkyYzAtLjA0LDAtLjA4MSwwLS4xMjFhMy44MDUsMy44MDUsMCwwLDAtLjg0Ny0yLjM4NCwzLjUyNiwzLjUyNiwwLDAsMC0yLjQ5My0xLjU5bC0uMTA2LDBhNC4zNTksNC4zNTksMCwwLDEtLjctLjA1OCw0LjY2OSw0LjY2OSwwLDAsMS0yLjQtMS4xOTJsLS4wNzUtLjA3MmgwbC0uMDQ1LS4wNDRhMy45MzksMy45MzksMCwwLDEtLjQ3NS0uNTcxaDBhNC40LDQuNCwwLDAsMC0xLjMwNi0uODczLDcuNDM1LDcuNDM1LDAsMCwxLC44MTgtLjEwOHEuMy0uMDIzLjYtLjAyM2E3LjUxNiw3LjUxNiwwLDAsMSwzLjM1Ni43OCw2Ljk2NSw2Ljk2NSwwLDAsMSwyLjE4MiwxLjY4Nyw2LjQsNi40LDAsMCwxLDEuMDIxLDEuNjE4LDYuMDQsNi4wNCwwLDAsMSwuNSwyLjQxNlExNzg2LjM1Ni03MjcuNiwxNzg2LjMzMS03MjcuMzMzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIzMy44NTEgMCkiLz4NCiAgICA8ZyBpZD0i57uEXzI2OTkiIGRhdGEtbmFtZT0i57uEIDI2OTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1MDkuMDI2IC03MzUuNjY2KSI+DQogICAgICA8cGF0aCBpZD0i6Lev5b6EXzU0NTciIGRhdGEtbmFtZT0i6Lev5b6EIDU0NTciIGNsYXNzPSJjbHMtMSIgZD0iTTE1MzEuMTc2LTY4Ni41OTNsLS42NzEtLjUtNC45NDMtMy42ODItLjkxNy0uNjg0aDBhMi4yMjYsMi4yMjYsMCwwLDAtMS4yNDQtLjUxMywxLjY3MSwxLjY3MSwwLDAsMC0xLjU0Ny45NjNsLS4wNDQuMTE0aDBsLS4wNjYuMTctLjA1MS4xMy0uMDA4LjAxOC01LjUzNiwxNC4xOTItMS4zLDMuMzMtMS42NDUsMy45NS0uMDI3LjAxN2EyLjcwNSwyLjcwNSwwLDAsMS0yLjMsMS40bC0uMDE2LjAwOWgwYy0uMDM5LDAtLjA3OSwwLS4xMTksMGExLjY0OCwxLjY0OCwwLDAsMC0xLjcxMSwxLjU3NSwxLjU1NiwxLjU1NiwwLDAsMCwuODUxLDEuMzYyLDEuNzM4LDEuNzM4LDAsMCwwLC40NDMuMTY2aDBhNy40LDcuNCwwLDAsMCwxLjEwNS4yODMsNy42MTksNy42MTksMCwwLDAsMS4zMzYuMTE3LDcuMzkxLDcuMzkxLDAsMCwwLDQuNjc1LTEuNjI4LDYuNTQxLDYuNTQxLDAsMCwwLDEuODc4LTIuNDQ0bC45MzctMy4zODEsNC4xNTMtMTQuOTg1djBsLjA1Ny0uMmEuNTIzLjUyMywwLDAsMSwuNDU5LS4yNTcuNTQ1LjU0NSwwLDAsMSwuMjg2LjA3OWw1LjgsNi4yM2ExMC45MzQsMTAuOTM0LDAsMCwxLS4wOTUtMS40NDEsMTAuOTUzLDEwLjk1MywwLDAsMSwuNjA2LTMuNmMuMDQ5LS4xNC4xLS4yNzkuMTU1LS40MTZsLS41LS4zNzFaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTUwOS4wMjYgNjkyLjAzNSkiLz4NCiAgICAgIDxwYXRoIGlkPSLot6/lvoRfNTQ1OCIgZGF0YS1uYW1lPSLot6/lvoQgNTQ1OCIgY2xhc3M9ImNscy0xIiBkPSJNMjA0Ny4xLTY2OC4zNThjLS4wNCwwLS4wOCwwLS4xMiwwaDBsLS4wMTUtLjAwOWEyLjcsMi43LDAsMCwxLTIuMy0xLjRsLS4wMjgtLjAxNy0xLjY0NC0zLjk1LTEuMy0zLjMzLTUuNTM2LTE0LjE5Mi0uMDA3LS4wMTgtLjA1MS0uMTMtLjA2Ni0uMTdoMGwtLjA0NS0uMTE1YTEuNjcxLDEuNjcxLDAsMCwwLTEuNTQ3LS45NjMsMi4yMjgsMi4yMjgsMCwwLDAtMS4yNDUuNTEzaDBsLS45MTcuNjg0LTQuOTQzLDMuNjgyLS42NzEuNWgwbC0uNS4zN3EuMDgyLjIwNi4xNTUuNDE2YTEwLjk0MSwxMC45NDEsMCwwLDEsLjYwNywzLjYsMTAuODUsMTAuODUsMCwwLDEtLjEsMS40NDFsNS44LTYuMjNhLjU0NC41NDQsMCwwLDEsLjI4Ni0uMDc5LjUyMy41MjMsMCwwLDEsLjQ1OS4yNTdsLjA1Ny4ydjBsNC4xNTMsMTQuOTg1LjkzNywzLjM4MWE2LjUzNyw2LjUzNywwLDAsMCwxLjg3OCwyLjQ0NCw3LjM5MSw3LjM5MSwwLDAsMCw0LjY3NSwxLjYyOCw3LjYzMiw3LjYzMiwwLDAsMCwxLjMzNi0uMTE3LDcuNDMsNy40MywwLDAsMCwxLjEwNS0uMjgzaDBhMS43NDMsMS43NDMsMCwwLDAsLjQ0My0uMTY2LDEuNTU2LDEuNTU2LDAsMCwwLC44NTEtMS4zNjJBMS42NDgsMS42NDgsMCwwLDAsMjA0Ny4xLTY2OC4zNThaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTk3OS4zNzUgNjkyLjY1MykiLz4NCiAgICA8L2c+DQogICAgPHBhdGggaWQ9Iui3r+W+hF81NDU5IiBkYXRhLW5hbWU9Iui3r+W+hCA1NDU5IiBjbGFzcz0iY2xzLTEiIGQ9Ik0xODQxLjE4LTUyMS4wMzhhNC44NzEsNC44NzEsMCwwLDAtLjE4OS0xLjMsNS42NzYsNS42NzYsMCwwLDAtNS41NDctMy45MzEsNS42NzYsNS42NzYsMCwwLDAtNS41NDcsMy45MzEsNC44OCw0Ljg4LDAsMCwwLS4xODgsMS4zYzAsLjAxNiwwLC4wMzMsMCwuMDQ5LDAsMi45MTYsMi41NjgsNC4xMDksNS43MzYsNC4xMDlzNS43MzYtMS4xOTMsNS43MzYtNC4xMDlDMTg0MS4xODEtNTIxLjAwNSwxODQxLjE4MS01MjEuMDIyLDE4NDEuMTgtNTIxLjAzOFptLTguMDE3LS4zODdhLjgxMS44MTEsMCwwLDEtLjgxMS0uODEuODEuODEsMCwwLDEsLjgxMS0uODEuODEuODEsMCwwLDEsLjgxLjgxQS44MS44MSwwLDAsMSwxODMzLjE2My01MjEuNDI0Wm00Ljc3MiwwYS44MS44MSwwLDAsMS0uODEtLjgxLjgxLjgxLDAsMCwxLC44MS0uODEuODEuODEsMCwwLDEsLjgxLjgxQS44MS44MSwwLDAsMSwxODM3LjkzNS01MjEuNDI0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI5MS42NzIgLTE5NC4zNDQpIi8+DQogIDwvZz4NCjwvc3ZnPg0K",BIGSPDLOGO:"data:image/png;base64,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"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(23),o=new i.ArrayMap,a=new i.ArrayMap,s=new Map,c=new i.ArrayMap,l=new i.ArrayMap;t.BindParam=function(e,t,n){var r=c.get(n);r||(r=new Map,c.set(n,r));var i=r.get(e);i||(i=[],r.set(e,i)),i.push(t)},t.RollBackParam=function(e,t){if(l.has(t)&&l.get(t).has(e)){var n=l.get(t).get(e);n&&n.length?o.get(t).PARAMS[e]=n.pop():o.get(t).PARAMS[e]=o.get(t).PARAMS[e]}},t.SaveParam=function(e,t,n){if(l.has(t)&&l.get(t).has(e)){var r=l.get(t).get(e),i=o.get(t).PARAMS;r&&r.push(i[e]),i[e]=n}},t.ParamExport=function(e,t,n){return function(r,i){var o=s.get(r);o||(o=new Map,s.set(r,o)),o.has(e)&&console.warn(" "+e+" ."),o.set(e,{propertyName:i,defaultValue:t,supportRollBack:n})}},t.ApiExport=function(e,t){return t=null==t?"UI":t,function(n){var i=n,a=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var p,d=o.get(r.Process.currentId);d||(d={handle:r.Process.currentId},o.set(r.Process.currentId,d)),(p=d[t])||(p=d[t]={},"3D"==t&&(d.D3=p));for(var h=this,f=function(e){var n=e;if(p[e]||d[e])if(p[e])console.warn(t+" api name "+e+" redeclaration, will be covered");else{for(var r in d)if(d[r][e]&&!d[e+"_"+r]){d[e+"_"+r]=d[e];break}delete d[e],n=e+"_"+t}d[n]=p[e]=function(){try{return h[e].apply(h,arguments)}catch(t){console.error("execute api '"+e+"' error"),console.error(t)}}},m=0,g=e;m<g.length;m++)f(g[m]);var y=s.get(n.prototype);if(y){var v=d.PARAMS;v||(v=d.PARAMS={}),y.forEach(function(e,t){if(e.supportRollBack){var n=l.get(r.Process.currentId);n||(n=new Map,l.set(r.Process.currentId,n)),n.set(t,[])}void 0===v[t]&&void 0===h[e.propertyName]&&(h[e.propertyName]=e.defaultValue,Object.defineProperty(v,t,{get:function(){try{return h[e.propertyName]}catch(t){console.error("get param '"+e.propertyName+"' error!"),console.error(t)}},set:function(n){try{!function(e,t,n){var r=c.get(n);if(r){var i=r.get(e);i&&i.forEach(function(e){e&&e(t)})}}(t,n,d.handle),h[e.propertyName]=n}catch(e){console.error("set param '"+t+"' error!"),console.error(e)}}}))})}return i.apply(h,a)};for(var u in a.prototype=Object.create(i.prototype),i)a[u]=i[u];return a}},t.InnerApiExport=function(e,t){return t=null==t?"UI":t,function(n){var i=n,o=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var s,c=a.get(r.Process.currentId);c||(c={handle:r.Process.currentId},a.set(r.Process.currentId,c)),(s=c[t])||(s=c[t]={});for(var l=this,u=function(e){s[e]=function(){return l[e].apply(l,arguments)}},p=0,d=e;p<d.length;p++)u(d[p]);return i.apply(l,n)};for(var s in o.prototype=Object.create(i.prototype),i)o[s]=i[s];return o}};var u=function(){return function(e){var t,n,i,s,c=this;this.getApi=function(){return n||(void 0===t&&(t=r.Process.currentId),(n=o.get(t))||(n={handle:t,project:e},o.set(t,n),n.PARAMS||(n.PARAMS={})),c.initEgineApi(n),n)},this.getInnerApi=function(){return i||(void 0===t&&(t=r.Process.currentId),i=a.get(t),n||(i={handle:t,project:e},a.set(t,n)),i)},this.ready=function(){},this.dispose=function(){o.delete(t),s=null},this.initEgineApi=function(e){if(!e.engine){var t=e.engine={};s=n["3D"].getWasmModule(),t.malloc=function(e){return s&&s._malloc&&e>0?s._malloc(e):-1},t.free=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e;n<r.length;n++){var i=r[n];s&&s._free&&s._free(i)}},t.stringToUTF8=function(e){return s?s.stringToUTF8(e):-1},["createBench","onMessage","onError","onMessageImage","draw","resize","setMouseState","onPluginEvent","loadModel","setModelScale","getTransformMatrix","setModelTransform","setModelTranslate","setModelRenderState","update","controlUpdate","raycast","highLightComponent","getBoundingBox","visiableComponent","showAll","hiddenAll","hiddenComponent","regionCast","setFps","createWsmCamera","setCameraData","getBoxByRenderState","setExtendedViewTextureData","setClippingsState","setClippingsValue","setParams","setTextViewTextureData","dispatchEvent","setRenderState","removeModel","setExplosionState","transparentMesh","changeTransparent","backTransparent","storeModelFileInIndexDB","deleteModelFileFromIndexDB","getMeshArea","getMeshVolume","changeMeshColor","backMeshColor","backMeshPosition","changeMeshScale","changeMeshAngle","changeMeshPosition","backMeshScale","setAnimationData","animationReset","getModelBox","getModelInitBoundBox","getModelCurrentBoundBox","setBackgroundTextureData","destoryBench","updateView","setUrlParams","setBenchTransform","getBenchTransform","setHeaders","removeRenderElementByHandle","visiableRenderElementByHandle","hiddenRenderElementByHandle","highLightRenderElementByHandle","changeRenderElementEmissiveColor","backRenderElementEmissiveColor","loadShxCache","restoreRenderElementTransparent","openRenderElementGlow","closeRenderElementGlow","changeRenderElementOutlineColor","restoreRenderElementOutlineColor","changeRenderElementBloomColor","restoreRenderElementBloomColor","setRenderElementCanSelectedState","getRenderElementCanSelectedState","getRenderState","createRebar","createHelixRebar","createLine","createPolygon","createPolygon2d","createArc","createDiscreteRebar","createDiscreteHelixRebar","createText","createMeshLine","createRebarElement","createHelixRebarElement","createLineElement","createPolygonElement","createPolygon2dElement","createArcElement","createDiscreteRebarElement","createDiscreteHelixRebarElement","createTextElement","createMeshLineElement","gpuRaycast","getElementGuidByteDataByHandle","getSelectedElementGuids","getSelectedElementCount","getRenderElementIDs","getRenderElementNumber","getRenderElementTransform","getModelTransform","isolationMesh","getSpaceNames","setSpaceByName","setModelMatrix","hiddenComponents","visiableComponents","animationElement","animationElements"].map(function(n){t[n]=function(){var t=function(e){return e&&e.length&&(e="_"+e[0].toUpperCase()+e.slice(1)),e}(n);return s&&s[t]?([].unshift.call(arguments,e.handle),s[t].apply(s.asm[t],arguments)):s&&s.asm&&s.asm[t]?([].unshift.call(arguments,e.handle),s.asm[t].apply(s.asm[t],arguments)):s&&s.asm&&s.asm[t.slice(1)]?([].unshift.call(arguments,e.handle),s.asm[t.slice(1)].apply(s.asm[t],arguments)):void console.warn("wasm function: "+t+" not exist!")}}),t.UTF8ToString=function(e){return s.UTF8ToString(e)},t.stringToUTF8=(r=new Array,function(e){var n=function(e){var t,n;r.length=0,t=e.length;for(var i=0;i<t;i++)(n=e.charCodeAt(i))>=65536&&n<=1114111?(r.push(n>>18&7|240),r.push(n>>12&63|128),r.push(n>>6&63|128),r.push(63&n|128)):n>=2048&&n<=65535?(r.push(n>>12&15|224),r.push(n>>6&63|128),r.push(63&n|128)):n>=128&&n<=2047?(r.push(n>>6&31|192),r.push(63&n|128)):r.push(255&n);return r}(e),i=t.malloc(n.length+1);return s.stringToUTF8(e,i,n.length+1),i})}var r}}}();t.ApiService=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.Process={get currentId(){return r},create:function(){return++r}},t.default=t.Process},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24);t.ArrayCamera3D=r.ArrayCamera3D;var i=n(26);t.Camera3D=i.Camera3D;var o=n(36);t.CubeCamera3D=o.CubeCamera3D;var a=n(43);t.OrthographicCamera3D=a.OrthographicCamera3D;var s=n(25);t.PerspectiveCamera3D=s.PerspectiveCamera3D;var c=n(44);t.StereoCamera3D=c.StereoCamera3D;var l=n(45);t.Float64BufferAttribute=l.Float64BufferAttribute,t.Float32BufferAttribute=l.Float32BufferAttribute,t.Uint32BufferAttribute=l.Uint32BufferAttribute,t.Int32BufferAttribute=l.Int32BufferAttribute,t.Uint16BufferAttribute=l.Uint16BufferAttribute,t.Int16BufferAttribute=l.Int16BufferAttribute,t.Uint8ClampedBufferAttribute=l.Uint8ClampedBufferAttribute,t.Uint8BufferAttribute=l.Uint8BufferAttribute,t.Int8BufferAttribute=l.Int8BufferAttribute,t.BufferAttribute3D=l.BufferAttribute3D;var u=n(47);t.BufferGeometry3D=u.BufferGeometry3D;var p=n(55);t.Clock=p.Clock;var d=n(37);t.Constant=d.Constant;var h=n(52);t.DirectGeometry3D=h.DirectGeometry3D;var f=n(28);t.EventDispatcher3D=f.EventDispatcher3D;var m=n(51);t.Face3D=m.Face3D;var g=n(50);t.Geometry3D=g.Geometry3D;var y=n(56);t.InstancedBufferAttribute3D=y.InstancedBufferAttribute3D;var v=n(57);t.InstancedBufferGeometry3D=v.InstancedBufferGeometry3D;var x=n(58);t.InstancedInterleavedBuffer3D=x.InstancedInterleavedBuffer3D;var M=n(59);t.InterleavedBuffer3D=M.InterleavedBuffer3D;var b=n(60);t.InterleavedBufferAttribute3D=b.InterleavedBufferAttribute3D;var w=n(34);t.Layers=w.Layers;var A=n(27);t.Object3D=A.Object3D;var _=n(61);t.Raycaster3D=_.Raycaster3D;var E=n(63);t.Uniform3D=E.Uniform3D;var D=n(64);t.BoxBufferGeometry3D=D.BoxBufferGeometry3D,t.BoxGeometry=D.BoxGeometry;var S=n(65);t.CircleBufferGeometry3D=S.CircleBufferGeometry3D,t.CircleGeometry3D=S.CircleGeometry3D;var P=n(75);t.CylinderBufferGeometry3D=P.CylinderBufferGeometry3D,t.CylinderGeometry3D=P.CylinderGeometry3D;var T=n(76);t.ConeBufferGeometry=T.ConeBufferGeometry,t.ConeGeometry=T.ConeGeometry;var C=n(77);t.PlaneBufferGeometry3D=C.PlaneBufferGeometry3D,t.PlaneGeometry3D=C.PlaneGeometry3D,t.textPlane=C.textPlane;var R=n(78);t.SphereBufferGeometry3D=R.SphereBufferGeometry3D,t.SphereGeometry3D=R.SphereGeometry3D;var I=n(79);t.CircleLineBufferGeometry3D=I.CircleLineBufferGeometry3D;var O=n(80);t.ArrowHelper3D=O.ArrowHelper3D;var L=n(126);t.BoxHelper3D=L.BoxHelper3D;var k=n(127);t.DirectionalLightHelper3D=k.DirectionalLightHelper3D;var B=n(128);t.AmbientLight3D=B.AmbientLight3D;var U=n(130);t.DirectionalLight3D=U.DirectionalLight3D;var N=n(131);t.DirectionalLightShadow3D=N.DirectionalLightShadow3D;var F=n(133);t.HemisphereLight3D=F.HemisphereLight3D;var j=n(129);t.Light3D=j.Light3D;var z=n(132);t.LightShadow3D=z.LightShadow3D;var V=n(134);t.PointLight3D=V.PointLight3D;var H=n(135);t.RectAreaLight3D=H.RectAreaLight3D;var G=n(136);t.SpotLight3D=G.SpotLight3D;var W=n(137);t.SpotLightShadow3D=W.SpotLightShadow3D;var X=n(138);t.Cache=X.Cache;var Y=n(139);t.CubeTextureLoader3D=Y.CubeTextureLoader3D;var Q=n(149);t.FileLoader3D=Q.FileLoader3D;var q=n(148);t.ImageLoader3D=q.ImageLoader3D;var K=n(140);t.LoadingManager3D=K.LoadingManager3D;var Z=n(152);t.TextureLoader3D=Z.TextureLoader3D;var J=n(101);t.GUMBaseMaterial3D=J.GUMBaseMaterial3D;var $=n(82);t.LineBasicMaterial3D=$.LineBasicMaterial3D;var ee=n(84);t.LineDashedMaterial3D=ee.LineDashedMaterial3D;var te=n(83);t.Material3D=te.Material3D;var ne=n(85);t.MaterialProperties3D=ne.MaterialProperties3D,t.Shader=ne.Shader;var re=n(86);t.MeshBasicMaterial3D=re.MeshBasicMaterial3D;var ie=n(87);t.MeshDepthMaterial3D=ie.MeshDepthMaterial3D;var oe=n(88);t.MeshDistanceMaterial3D=oe.MeshDistanceMaterial3D;var ae=n(89);t.MeshLambertMaterial3D=ae.MeshLambertMaterial3D;var se=n(90);t.MeshNormalMaterial3D=se.MeshNormalMaterial3D;var ce=n(91);t.MeshPhongMaterial3D=ce.MeshPhongMaterial3D;var le=n(92);t.MeshPhysicalMaterial3D=le.MeshPhysicalMaterial3D;var ue=n(93);t.MeshStandardMaterial3D=ue.MeshStandardMaterial3D;var pe=n(94);t.MeshToonMaterial3D=pe.MeshToonMaterial3D;var de=n(95);t.PointsMaterial3D=de.PointsMaterial3D;var he=n(96);t.RawShaderMaterial3D=he.RawShaderMaterial3D;var fe=n(97);t.ShaderMaterial3D=fe.ShaderMaterial3D;var me=n(99);t.ShadowMaterial3D=me.ShadowMaterial3D;var ge=n(100);t.SpriteMaterial3D=ge.SpriteMaterial3D;var ye=n(68);t.Box23D=ye.Box23D;var ve=n(48);t.Box33D=ve.Box33D;var xe=n(46);t.Color3D=xe.Color3D,t.HSL=xe.HSL;var Me=n(69);t.Cylindrical3D=Me.Cylindrical3D;var be=n(29);t.Euler3D=be.Euler3D;var we=n(70);t.Frustum3D=we.Frustum3D;var Ae=n(72);t.Line33D=Ae.Line33D;var _e=n(30);t._Math=_e._Math;var Ee=n(35);t.Matrix33D=Ee.Matrix33D;var De=n(33);t.Matrix43D=De.Matrix43D;var Se=n(71);t.Plane3D=Se.Plane3D;var Pe=n(32);t.Quaternion3D=Pe.Quaternion3D;var Te=n(62);t.Ray3D=Te.Ray3D;var Ce=n(49);t.Sphere3D=Ce.Sphere3D;var Re=n(73);t.Spherical3D=Re.Spherical3D;var Ie=n(74);t.Triangle3D=Ie.Triangle3D;var Oe=n(42);t.Vector23D=Oe.Vector23D;var Le=n(31);t.Vector33D=Le.Vector33D;var ke=n(40);t.Vector43D=ke.Vector43D;var Be=n(153);t.Circle3D=Be.Circle3D;var Ue=n(114);t.Component3D=Ue.Component3D;var Ne=n(154);t.CubeSolid3D=Ne.CubeSolid3D;var Fe=n(156);t.CircleCurve3D=Fe.CircleCurve3D;var je=n(158);t.Curve3D=je.Curve3D;var ze=n(157);t.EllicpseCurve3D=ze.EllicpseCurve3D;var Ve=n(159);t.NurbsCurve3D=Ve.NurbsCurve3D;var He=n(115);t.Entity3D=He.Entity3D;var Ge=n(125);t.Point3D=Ge.Point3D;var We=n(103);t.Bone3D=We.Bone3D;var Xe=n(104);t.Group3D=Xe.Group3D;var Ye=n(105);t.Line3D=Ye.Line3D;var Qe=n(106);t.LineLoop3D=Qe.LineLoop3D;var qe=n(107);t.LineSegments3D=qe.LineSegments3D;var Ke=n(108);t.LOD3D=Ke.LOD3D;var Ze=n(109);t.Mesh3D=Ze.Mesh3D;var Je=n(110);t.Points3D=Je.Points3D;var $e=n(111);t.Skeleton3D=$e.Skeleton3D;var et=n(112);t.SkinnedMesh3D=et.SkinnedMesh3D;var tt=n(113);t.Sprite3D=tt.Sprite3D;var nt=n(160);t.EllipseSurface3D=nt.EllipseSurface3D;var rt=n(161);t.Surface3D=rt.Surface3D;var it=n(162);t.CircleSurface3D=it.CircleSurface3D;var ot=n(163);t.TubeSurface3D=ot.TubeSurface3D;var at=n(164);t.CylinderSurface3D=at.CylinderSurface3D;var st=n(165);t.GUMWebGLRenderer=st.GUMWebGLRenderer;var ct=n(318);t.WebGLRenderer=ct.WebGLRenderer;var lt=n(39);t.WebGLRenderTarget=lt.WebGLRenderTarget;var ut=n(38);t.WebGLRenderTargetCube=ut.WebGLRenderTargetCube;var pt=n(168);t.WebGL2RenderingContext=pt.WebGL2RenderingContext,t.WebGLCapabilities=pt.WebGLCapabilities;var dt=n(167);t.WebGLExtensions=dt.WebGLExtensions;var ht=n(171);t.WebGLProperties=ht.WebGLProperties;var ft=n(304);t.WebGLRenderLists=ft.WebGLRenderLists,t.WebGLRenderList=ft.WebGLRenderList;var mt=n(169);t.WebGLState=mt.WebGLState,t.ColorBuffer=mt.ColorBuffer,t.DepthBuffer=mt.DepthBuffer,t.StencilBuffer=mt.StencilBuffer;var gt=n(170);t.WebGLInfo=gt.WebGLInfo;var yt=n(314);t.WebGLShadowMap=yt.WebGLShadowMap;var vt=n(317);t.WebVRManager=vt.WebVRManager;var xt=n(316);t.WebXRManager=xt.WebXRManager;var Mt=n(178);t.GUMWebGLProgram=Mt.GUMWebGLProgram;var bt=n(177);t.WebGLPrograms=bt.WebGLPrograms;var wt=n(176);t.WebGLObjects=wt.WebGLObjects;var At=n(313);t.WebGLUtils=At.WebGLUtils;var _t=n(303);t.WebGLUniforms=_t.WebGLUniforms,t.SingleUniform=_t.SingleUniform,t.PureArrayUniform=_t.PureArrayUniform;var Et=n(175);t.WebGLGeometries=Et.WebGLGeometries;var Dt=n(174);t.WebGLAttributes=Dt.WebGLAttributes;var St=n(172);t.WebGLMaterialInfos=St.WebGLMaterialInfos;var Pt=n(98);t.UniformsUtils=Pt.UniformsUtils;var Tt=n(319);t.Fog3D=Tt.Fog3D;var Ct=n(320);t.FogExp23D=Ct.FogExp23D;var Rt=n(321);t.Scene3D=Rt.Scene3D;var It=n(322);t.MinorScene3D=It.MinorScene3D;var Ot=n(142);t.CanvasTexture=Ot.CanvasTexture;var Lt=n(143);t.CompressedTexture=Lt.CompressedTexture;var kt=n(144);t.CubeTexture=kt.CubeTexture;var Bt=n(145);t.DataTexture=Bt.DataTexture;var Ut=n(146);t.DepthTexture=Ut.DepthTexture;var Nt=n(41);t.Texture=Nt.Texture;var Ft=n(147);t.VideoTexture=Ft.VideoTexture;var jt=n(117);t.CameraCodeType=jt.CameraCodeType;var zt=n(121);t.CodeType3D=zt.CodeType3D,t.CodeType3DName=zt.CodeType3DName;var Vt=n(120);t.ComponentType=Vt.ComponentType;var Ht=n(119);t.Queue=Ht.Queue,t.QueueNode=Ht.QueueNode,t.ArrayMap=Ht.ArrayMap;var Gt=n(118);t.ActionType=Gt.ActionType,t.ResponseContentType=Gt.ResponseContentType;var Wt=n(123);t.RenderMode=Wt.RenderMode,t.MakerLineState=Wt.MakerLineState,t.RenderState=Wt.RenderState,t.DEVICESTATE=Wt.DEVICESTATE,t.MOVESTATE=Wt.MOVESTATE,t.ModelRenderState=Wt.ModelRenderState;var Xt=n(122);t.PackageType=Xt.PackageType,t.ObjectDefinition=Xt.ObjectDefinition;var Yt=n(323);t.VerticalAlignment=Yt.VerticalAlignment,t.HorizontalAlignment=Yt.HorizontalAlignment;var Qt=n(124);t.PICKPOINT=Qt.PICKPOINT;var qt=n(324);t.threePointArcToArc=qt.threePointArcToArc;var Kt=n(53);t.arrayMin=Kt.arrayMin,t.arrayMax=Kt.arrayMax,t.btoa3D=Kt.btoa3D,t.atob3D=Kt.atob3D,t.arrayRemove=Kt.arrayRemove,t.arrayHas=Kt.arrayHas,t.reverseModelId=Kt.reverseModelId,t.getModelIdByGuid=Kt.getModelIdByGuid,t.btoa=Kt.btoa,t.atob=Kt.atob,t.arraySum=Kt.arraySum,t.getCompomentType=Kt.getCompomentType,t.setGuidNewModelId=Kt.setGuidNewModelId,t.getNewModelIdByCompId=Kt.getNewModelIdByCompId,t.unicodeToGB18030=Kt.unicodeToGB18030,t.getEngineVersion=Kt.getEngineVersion;var Zt=n(150);t.GUMWorker=Zt.GUMWorker,t.GUMWorkerCreator=Zt.GUMWorkerCreator;var Jt=n(325);t.MARKERTYPE=Jt.MARKERTYPE},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n.isArrayCamera=!0,n.cameras=t||[],n}return i(t,e),t}(n(25).PerspectiveCamera3D);t.ArrayCamera3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),a=n(30),s=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.isPerspectiveCamera=!0,o.type="PerspectiveCamera3D",o.fov=void 0!==t?t:50,o.zoom=1,o.near=void 0!==r?r:.1,o.far=void 0!==i?i:2e3,o.focus=10,o.aspect=void 0!==n?n:1,o.view=null,o.filmGauge=35,o.filmOffset=0,o.updateProjectionMatrix(),o}return i(t,e),t.prototype.copy=function(e,t){return o.Camera3D.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},t.prototype.setFocalLength=function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*a._Math.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},t.prototype.getFocalLength=function(){var e=Math.tan(.5*a._Math.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},t.prototype.getEffectiveFOV=function(){return 2*a._Math.RAD2DEG*Math.atan(Math.tan(.5*a._Math.DEG2RAD*this.fov)/this.zoom)},t.prototype.getFilmWidth=function(){return this.filmGauge*Math.min(this.aspect,1)},t.prototype.getFilmHeight=function(){return this.filmGauge/Math.max(this.aspect,1)},t.prototype.setViewOffset=function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},t.prototype.clearViewOffset=function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},t.prototype.updateProjectionMatrix=function(){var e=this.near,t=e*Math.tan(.5*a._Math.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var s=o.fullWidth,c=o.fullHeight;i+=o.offsetX*r/s,t-=o.offsetY*n/c,r*=o.width/s,n*=o.height/c}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},t}(o.Camera3D);t.PerspectiveCamera3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),a=n(33),s=n(31),c=function(e){function t(){var t=e.call(this)||this;return t.isCamera=!0,t.type="Camera3D",t.matrixWorldInverse=new a.Matrix43D,t.projectionMatrix=new a.Matrix43D,t.projectionMatrixInverse=new a.Matrix43D,t}return i(t,e),t.prototype.copy=function(e,t){return o.Object3D.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},t.prototype.getWorldDirection=function(e){void 0===e&&(console.warn("spdengine-3D.Camera3D: .getWorldDirection() target is now required"),e=new s.Vector33D),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},t.prototype.updateMatrixWorld=function(e){if(o.Object3D.prototype.updateMatrixWorld.call(this,e),this.projectMatrix){var t=a.Matrix43D.get().getInverse(this.projectMatrix);this.matrixWorld.premultiply(t),a.Matrix43D.back(t)}this.matrixWorldInverse.getInverse(this.matrixWorld)},t.prototype.clone=function(){return(new this.constructor).copy(this)},t}(o.Object3D);t.Camera3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=n(29),s=n(31),c=n(32),l=n(33),u=n(30),p=n(34),d=n(35),h=function(e){function t(){var n=e.call(this)||this;n.renderOrder=0,n.id=t.object3DId++,n.uuid=u._Math.generateUUID(),n.name="",n.parent=null,n.children=[],n.up=t.DefaultUp.clone(),n.position=new s.Vector33D;var r=n.rotation=new a.Euler3D,i=n.quaternion=new c.Quaternion3D;return n.scale=new s.Vector33D(1,1,1),r.onChange(function(){i.setFromEuler(r,!1)}),i.onChange(function(){r.setFromQuaternion(i,void 0,!1)}),n.matrix=new l.Matrix43D,n.matrixWorld=new l.Matrix43D,n.matrixAutoUpdate=t.DefaultMatrixAutoUpdate,n.matrixWorldNeedsUpdate=!1,n.layers=new p.Layers,n.visible=!0,n.castShadow=!1,n.receiveShadow=!1,n.frustumCulled=!0,n.renderOrder=0,n.userData={},n.castShadow=!0,n.receiveShadow=!0,n.modelViewMatrix=new l.Matrix43D,n.normalMatrix=new d.Matrix33D,n}return i(t,e),t.get=function(){var e=t.arrays.pop();return e||(e=new t),e},t.back=function(e){return t.arrays.push(e),e},t.prototype.onBeforeRender=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.onAfterRender=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.applyMatrix=function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},t.prototype.applyQuaternion=function(e){return this.quaternion.premultiply(e),this},t.prototype.setRotationFromAxisAngle=function(e,t){this.quaternion.setFromAxisAngle(e,t)},t.prototype.setRotationFromEuler=function(e){this.quaternion.setFromEuler(e,!0)},t.prototype.setRotationFromMatrix=function(e){this.quaternion.setFromRotationMatrix(e)},t.prototype.setRotationFromQuaternion=function(e){this.quaternion.copy(e)},t.prototype.rotateOnAxis=function(e,t){var n=c.Quaternion3D.get();return n.setFromAxisAngle(e,t),this.quaternion.multiply(n),c.Quaternion3D.back(n),this},t.prototype.rotateOnWorldAxis=function(e,t){var n=c.Quaternion3D.get();return n.setFromAxisAngle(e,t),this.quaternion.premultiply(n),c.Quaternion3D.back(n),this},t.prototype.rotateX=function(e){var t=s.Vector33D.get().set(1,0,0);return this.rotateOnAxis(t,e),s.Vector33D.back(t),this},t.prototype.rotateY=function(e){var t=s.Vector33D.get().set(0,1,0);return this.rotateOnAxis(t,e),s.Vector33D.back(t),this},t.prototype.rotateZ=function(e){var t=s.Vector33D.get().set(0,0,1);return this.rotateOnAxis(t,e),s.Vector33D.back(t),this},t.prototype.translateOnAxis=function(e,t){var n=s.Vector33D.get();return n.copy(e).applyQuaternion(this.quaternion),this.position.add(n.multiplyScalar(t)),s.Vector33D.back(n),this},t.prototype.translateX=function(e){var t=s.Vector33D.get().set(1,0,0);return this.translateOnAxis(t,e),s.Vector33D.back(t),this},t.prototype.translateY=function(e){var t=s.Vector33D.get().set(0,1,0);this.translateOnAxis(t,e),s.Vector33D.back(t)},t.prototype.translateZ=function(e){var t=s.Vector33D.get().set(0,0,1);this.translateOnAxis(t,e),s.Vector33D.back(t)},t.prototype.localToWorld=function(e){return e.applyMatrix4(this.matrixWorld)},t.prototype.worldToLocal=function(e){var t=l.Matrix43D.get();return e.applyMatrix4(t.getInverse(this.matrixWorld)),l.Matrix43D.back(t),e},t.prototype.lookAt=function(e,t,n){var r=l.Matrix43D.get(),i=s.Vector33D.get();e instanceof s.Vector33D?i.copy(e):i.set(e,t,n),this.isCamera?r.lookAt(this.position,i,this.up):r.lookAt(i,this.position,this.up),this.quaternion.setFromRotationMatrix(r),l.Matrix43D.back(r),s.Vector33D.back(i)},t.prototype.add=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}var i=e[0];return i===this?(console.error("spdengine-3D.Object3D.add: object can't be added as a child of itself.",i),this):(i&&i instanceof t?(null!==i.parent&&i.parent.remove(i),i.parent=this,i.dispatchEvent({type:"added"}),this.children.push(i)):console.error("spdengine-3D.Object3D.add: object not an instance of spdengine-3D.Object3D.",i),this)},t.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}var r=e[0],i=this.children.indexOf(r);return-1!==i&&(r.parent=null,r.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},t.prototype.getObjectById=function(e){return this.getObjectByProperty("id",e)},t.prototype.getObjectByName=function(e){return this.getObjectByProperty("name",e)},t.prototype.getObjectByProperty=function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},t.prototype.getWorldPosition=function(e){return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},t.prototype.getWorldQuaternion=function(e){var t=s.Vector33D.get(),n=s.Vector33D.get();return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),s.Vector33D.back(t),s.Vector33D.back(n),e},t.prototype.getWorldScale=function(e){var t=s.Vector33D.get(),n=c.Quaternion3D.get();return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),s.Vector33D.back(t),c.Quaternion3D.back(n),e},t.prototype.getWorldDirection=function(e){void 0===e&&(console.warn("spdengine-3D.Object3D: .getWorldDirection() target is now required"),e=new s.Vector33D),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},t.prototype.raycast=function(e,t){},t.prototype.traverse=function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},t.prototype.traverseVisible=function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},t.prototype.traverseAncestors=function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},t.prototype.updateMatrix=function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},t.prototype.updateMatrixWorld=function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},t.prototype.clone=function(e){return new this.constructor(this.code).copy(this,e)},t.prototype.copy=function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.code=e.code,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this},t.object3DId=0,t.DefaultUp=new s.Vector33D(0,1,0),t.DefaultMatrixAutoUpdate=!0,t.arrays=[],t}(o.EventDispatcher3D);t.Object3D=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(){var e=this;this._listeners=void 0,this.addEventListener=function(t,n){void 0===e._listeners&&(e._listeners={});var r=e._listeners;void 0===r[t]&&(r[t]=[]);var i=r[t];-1===i.indexOf(n)&&i.push(n)},this.hasEventListener=function(t,n){if(void 0===e._listeners)return!1;var r=e._listeners[t];return void 0!==r&&-1!==r.indexOf(n)},this.removeEventListener=function(t,n){if(void 0!==e._listeners){var r=e._listeners[t];if(void 0!==r){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},this.dispatchEvent=function(t){if(void 0!==e._listeners){var n=e._listeners[t.type];if(void 0!==n){t.target=e;for(var r=n.slice(),i=0,o=r.length;i<o;++i)try{r[i].call(e,t)}catch(e){console.error(e)}}}},this.clearEventListener=function(){e._listeners=void 0}}}();t.EventDispatcher3D=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),i=n(31),o=n(33),a=n(32),s=function(){function e(t,n,r,i){this.isEuler=!0,this._x=t||0,this._y=n||0,this._z=r||0,this._order=void 0===i?e.DefaultOrder:i}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},e.prototype.clone=function(){return new e(this._x,this._y,this._z,this._order)},e.prototype.copy=function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},e.prototype.setFromRotationMatrix=function(e,t,n){var i=r._Math.clamp,o=e.elements,a=o[0],s=o[4],c=o[8],l=o[1],u=o[5],p=o[9],d=o[2],h=o[6],f=o[10];return 0===(t=t||this._order)?(this._y=Math.asin(i(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-p,f),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(h,u),this._z=0)):4===t?(this._x=Math.asin(-i(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(c,f),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,a),this._z=0)):2===t?(this._x=Math.asin(i(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,a))):5===t?(this._y=Math.asin(-i(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,u))):1===t?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-p,u),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(c,f))):3===t?(this._z=Math.asin(-i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(h,u),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-p,f),this._y=0)):console.warn("spdengine-3D.Euler3D: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},e.prototype.setFromQuaternion=function(e,t,n){var r=o.Matrix43D.get();return r.makeRotationFromQuaternion(e),this.setFromRotationMatrix(r,t,n),o.Matrix43D.back(r),this},e.prototype.setFromVector3=function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},e.prototype.reorder=function(e){var t=a.Quaternion3D.get();return t.setFromEuler(this),this.setFromQuaternion(t,e),a.Quaternion3D.back(t),this},e.prototype.equals=function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},e.prototype.fromArray=function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},e.prototype.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},e.prototype.toVector3=function(e){return e?e.set(this._x,this._y,this._z):new i.Vector33D(this._x,this._y,this._z)},e.prototype.onChange=function(e){return this.onChangeCallback=e,this},e.prototype.onChangeCallback=function(){},e.DefaultOrder=0,e.arrays=[],e}();t.Euler3D=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,POW252:Math.pow(2,52),POW244:Math.pow(2,44),METER2FOOT:3.2808399,BASE64KEYSTR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]).toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*r.DEG2RAD},radToDeg:function(e){return e*r.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},leftShift:function(e,t){return Math.floor(e*Math.pow(2,t))},rightShift:function(e,t){return Math.floor(e/Math.pow(2,t))}};t._Math=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),i=n(32),o=n(33),a=function(){function e(e,t,n){this.isVector3=!0,this.x=e||0,this.y=t||0,this.z=n||0}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t,n){return this.x=e,this.y=t,this.z=n,this},e.prototype.setScalar=function(e){return this.x=e,this.y=e,this.z=e,this},e.prototype.setX=function(e){return this.x=e,this},e.prototype.setY=function(e){return this.y=e,this},e.prototype.setZ=function(e){return this.z=e,this},e.prototype.setComponent=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},e.prototype.getComponent=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},e.prototype.clone=function(){return new e(this.x,this.y,this.z)},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},e.prototype.addScalar=function(e){return this.x+=e,this.y+=e,this.z+=e,this},e.prototype.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},e.prototype.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},e.prototype.subScalar=function(e){return this.x-=e,this.y-=e,this.z-=e,this},e.prototype.subVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},e.prototype.multiply=function(e){return this.x=this.x*e.x,this.y=this.y*e.y,this.z=this.z*e.z,this},e.prototype.multiplyScalar=function(e){return this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this},e.prototype.multiplyVectors=function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},e.prototype.applyEuler=function(e){var t=i.Quaternion3D.get().setFromEuler(e);return this.applyQuaternion(t),i.Quaternion3D.back(t),this},e.prototype.applyAxisAngle=function(e,t){var n=i.Quaternion3D.get().setFromAxisAngle(e,t);return this.applyQuaternion(n),i.Quaternion3D.back(n),this},e.prototype.applyMatrix3=function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},e.prototype.applyMatrix4=function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},e.prototype.applyQuaternion=function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*r-a*n,l=s*n+a*t-i*r,u=s*r+i*n-o*t,p=-i*t-o*n-a*r;return this.x=c*s+p*-i+l*-a-u*-o,this.y=l*s+p*-o+u*-i-c*-a,this.z=u*s+p*-a+c*-o-l*-i,this},e.prototype.project=function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},e.prototype.unproject=function(e){var t=o.Matrix43D.get().getInverse(e.projectionMatrix);return this.applyMatrix4(t).applyMatrix4(e.matrixWorld),o.Matrix43D.back(t),this},e.prototype.transformDirection=function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},e.prototype.divide=function(e){return this.x=this.x/e.x,this.y=this.y/e.y,this.z=this.z/e.z,this},e.prototype.divideScalar=function(e){return this.multiplyScalar(1/e)},e.prototype.min=function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},e.prototype.max=function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},e.prototype.clamp=function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},e.prototype.clampScalar=function(t,n){var r=e.get(),i=e.get();return r.set(t,t,t),i.set(n,n,n),this.clamp(r,i),e.back(r),e.back(i),this},e.prototype.clampLength=function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},e.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},e.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},e.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},e.prototype.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},e.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},e.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},e.prototype.normalize=function(){return this.divideScalar(this.length()||1)},e.prototype.setLength=function(e){return this.normalize().multiplyScalar(e)},e.prototype.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},e.prototype.lerpVectors=function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},e.prototype.cross=function(e){return this.crossVectors(this,e)},e.prototype.crossVectors=function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},e.prototype.projectOnVector=function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},e.prototype.projectOnPlane=function(t){var n=e.get().copy(this).projectOnVector(t);return this.sub(n),e.back(n),this},e.prototype.reflect=function(t){return this.sub(e.back(e.get()).copy(t).multiplyScalar(2*this.dot(t)))},e.prototype.angleTo=function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(r._Math.clamp(t,-1,1))},e.prototype.distanceTo=function(e){return Math.sqrt(this.distanceToSquared(e))},e.prototype.distanceToSquared=function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},e.prototype.manhattanDistanceTo=function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},e.prototype.setFromSpherical=function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},e.prototype.setFromSphericalCoords=function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},e.prototype.setFromCylindrical=function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},e.prototype.setFromCylindricalCoords=function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},e.prototype.setFromMatrixPosition=function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},e.prototype.setFromMatrixScale=function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},e.prototype.setFromMatrixColumn=function(e,t){return this.fromArray(e.elements,4*t)},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},e.prototype.precisionEquals=function(e,t){return Math.abs(this.x-e.x)<=t&&Math.abs(this.y-e.y)<=t&&Math.abs(this.z-e.z)<=t},e.prototype.fromArray=function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},e.prototype.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},e.prototype.fromBufferAttribute=function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},e.prototype.lerpArc=function(t,n,r){if(Math.abs(this.distanceTo(t)-n.distanceTo(t))>.001)return console.error("this is not a arc."),this;var i=e.get().copy(this).sub(t).normalize(),o=e.get().copy(n).sub(t).normalize(),a=e.get().lerpVectors(i,o,.5).normalize(),s=e.get();return r<.5?s.lerpVectors(i,a,2*r).normalize():s.lerpVectors(a,o,2*(r-.5)).normalize(),this.copy(t).add(s.multiplyScalar(n.distanceTo(t))),e.back(i),e.back(o),e.back(s),this},e.prototype.calcAngle=function(e,t){var n=this.distanceTo(e),r=this.distanceTo(t),i=e.distanceTo(t);return Math.acos((Math.pow(n,2)+Math.pow(i,2)-Math.pow(r,2))/(2*n*i))},e.arrays=[],e}();t.Vector33D=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=n(30),o=function(){function e(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.slerp=function(e,t,n,r){return n.copy(e).slerp(t,r)},e.slerpFlat=function(e,t,n,r,i,o,a){var s=n[r+0],c=n[r+1],l=n[r+2],u=n[r+3],p=i[o+0],d=i[o+1],h=i[o+2],f=i[o+3];if(u!==f||s!==p||c!==d||l!==h){var m=1-a,g=s*p+c*d+l*h+u*f,y=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){var x=Math.sqrt(v),M=Math.atan2(x,g*y);m=Math.sin(m*M)/x,a=Math.sin(a*M)/x}var b=a*y;if(s=s*m+p*b,c=c*m+d*b,l=l*m+h*b,u=u*m+f*b,m===1-a){var w=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=w,c*=w,l*=w,u*=w}}e[t]=s,e[t+1]=c,e[t+2]=l,e[t+3]=u},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},e.prototype.clone=function(){return new e(this._x,this._y,this._z,this._w)},e.prototype.copy=function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},e.prototype.setFromEuler=function(e,t){if(!e||!e.isEuler)throw new Error("spdengine-3D.Quaternion3D: .setFromEuler() now expects an Euler3D rotation rather than a Vector33D and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,c=a(n/2),l=a(r/2),u=a(i/2),p=s(n/2),d=s(r/2),h=s(i/2);return 0===o?(this._x=p*l*u+c*d*h,this._y=c*d*u-p*l*h,this._z=c*l*h+p*d*u,this._w=c*l*u-p*d*h):4===o?(this._x=p*l*u+c*d*h,this._y=c*d*u-p*l*h,this._z=c*l*h-p*d*u,this._w=c*l*u+p*d*h):2===o?(this._x=p*l*u-c*d*h,this._y=c*d*u+p*l*h,this._z=c*l*h+p*d*u,this._w=c*l*u-p*d*h):5===o?(this._x=p*l*u-c*d*h,this._y=c*d*u+p*l*h,this._z=c*l*h-p*d*u,this._w=c*l*u+p*d*h):1===o?(this._x=p*l*u+c*d*h,this._y=c*d*u+p*l*h,this._z=c*l*h-p*d*u,this._w=c*l*u-p*d*h):3===o&&(this._x=p*l*u-c*d*h,this._y=c*d*u-p*l*h,this._z=c*l*h+p*d*u,this._w=c*l*u+p*d*h),!1!==t&&this.onChangeCallback(),this},e.prototype.setFromAxisAngle=function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},e.prototype.setFromRotationMatrix=function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],c=n[9],l=n[2],u=n[6],p=n[10],d=r+s+p;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(u-c)*t,this._y=(o-l)*t,this._z=(a-i)*t):r>s&&r>p?(t=2*Math.sqrt(1+r-s-p),this._w=(u-c)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+l)/t):s>p?(t=2*Math.sqrt(1+s-r-p),this._w=(o-l)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(c+u)/t):(t=2*Math.sqrt(1+p-r-s),this._w=(a-i)/t,this._x=(o+l)/t,this._y=(c+u)/t,this._z=.25*t),this.onChangeCallback(),this},e.prototype.setFromUnitVectors=function(e,t){var n,i=r.Vector33D.get();return(n=e.dot(t)+1)<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?i.set(-e.y,e.x,0):i.set(0,-e.z,e.y)):i.crossVectors(e,t),this._x=i.x,this._y=i.y,this._z=i.z,this._w=n,r.Vector33D.back(i),this.normalize()},e.prototype.angleTo=function(e){return 2*Math.acos(Math.abs(i._Math.clamp(this.dot(e),-1,1)))},e.prototype.rotateTowards=function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},e.prototype.inverse=function(){return this.conjugate()},e.prototype.conjugate=function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},e.prototype.dot=function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},e.prototype.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},e.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},e.prototype.normalize=function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},e.prototype.multiply=function(e){return this.multiplyQuaternions(this,e)},e.prototype.premultiply=function(e){return this.multiplyQuaternions(e,this)},e.prototype.multiplyQuaternions=function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,c=t._z,l=t._w;return this._x=n*l+o*a+r*c-i*s,this._y=r*l+o*s+i*a-n*c,this._z=i*l+o*c+n*s-r*a,this._w=o*l-n*a-r*s-i*c,this.onChangeCallback(),this},e.prototype.slerp=function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-t;return this._w=c*o+t*this._w,this._x=c*n+t*this._x,this._y=c*r+t*this._y,this._z=c*i+t*this._z,this.normalize()}var l=Math.sqrt(s),u=Math.atan2(l,a),p=Math.sin((1-t)*u)/l,d=Math.sin(t*u)/l;return this._w=o*p+this._w*d,this._x=n*p+this._x*d,this._y=r*p+this._y*d,this._z=i*p+this._z*d,this.onChangeCallback(),this},e.prototype.equals=function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},e.prototype.fromArray=function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},e.prototype.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},e.prototype.onChange=function(e){return this.onChangeCallback=e,this},e.prototype.onChangeCallback=function(){},e.arrays=[],e}();t.Quaternion3D=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=function(){function e(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t,n,r,i,o,a,s,c,l,u,p,d,h,f,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=l,g[10]=u,g[14]=p,g[3]=d,g[7]=h,g[11]=f,g[15]=m,this},e.prototype.identity=function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},e.prototype.clone=function(){return(new e).fromArray(this.elements)},e.prototype.copy=function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},e.prototype.copyPosition=function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},e.prototype.extractBasis=function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},e.prototype.makeBasis=function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},e.prototype.extractRotation=function(e){var t=r.Vector33D.get(),n=this.elements,i=e.elements,o=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),s=1/t.setFromMatrixColumn(e,2).length();return n[0]=i[0]*o,n[1]=i[1]*o,n[2]=i[2]*o,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,r.Vector33D.back(t),this},e.prototype.makeRotationFromEuler=function(e){e&&e.isEuler||console.error("spdengine-3D.Matrix43D: .makeRotationFromEuler() now expects a Euler3D rotation rather than a Vector33D and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),c=Math.sin(r),l=Math.cos(i),u=Math.sin(i);if(0===e.order){var p=o*l,d=o*u,h=a*l,f=a*u;t[0]=s*l,t[4]=-s*u,t[8]=c,t[1]=d+h*c,t[5]=p-f*c,t[9]=-a*s,t[2]=f-p*c,t[6]=h+d*c,t[10]=o*s}else if(4===e.order){var m=s*l,g=s*u,y=c*l,v=c*u;t[0]=m+v*a,t[4]=y*a-g,t[8]=o*c,t[1]=o*u,t[5]=o*l,t[9]=-a,t[2]=g*a-y,t[6]=v+m*a,t[10]=o*s}else if(2===e.order){m=s*l,g=s*u,y=c*l,v=c*u;t[0]=m-v*a,t[4]=-o*u,t[8]=y+g*a,t[1]=g+y*a,t[5]=o*l,t[9]=v-m*a,t[2]=-o*c,t[6]=a,t[10]=o*s}else if(5===e.order){p=o*l,d=o*u,h=a*l,f=a*u;t[0]=s*l,t[4]=h*c-d,t[8]=p*c+f,t[1]=s*u,t[5]=f*c+p,t[9]=d*c-h,t[2]=-c,t[6]=a*s,t[10]=o*s}else if(1===e.order){var x=o*s,M=o*c,b=a*s,w=a*c;t[0]=s*l,t[4]=w-x*u,t[8]=b*u+M,t[1]=u,t[5]=o*l,t[9]=-a*l,t[2]=-c*l,t[6]=M*u+b,t[10]=x-w*u}else if(3===e.order){x=o*s,M=o*c,b=a*s,w=a*c;t[0]=s*l,t[4]=-u,t[8]=c*l,t[1]=x*u+w,t[5]=o*l,t[9]=M*u-b,t[2]=b*u-M,t[6]=a*l,t[10]=w*u+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},e.prototype.makeRotationFromQuaternion=function(e){var t=r.Vector33D.get().set(0,0,0),n=r.Vector33D.get().set(1,1,1);return this.compose(t,e,n),r.Vector33D.back(n),r.Vector33D.back(t),this},e.prototype.lookAt=function(e,t,n){var i=r.Vector33D.get(),o=r.Vector33D.get(),a=r.Vector33D.get(),s=this.elements;return a.subVectors(e,t),0===a.lengthSq()&&(a.z=1),a.normalize(),i.crossVectors(n,a),0===i.lengthSq()&&(1===Math.abs(n.z)?a.x+=1e-4:a.z+=1e-4,a.normalize(),i.crossVectors(n,a)),i.normalize(),o.crossVectors(a,i),s[0]=i.x,s[4]=o.x,s[8]=a.x,s[1]=i.y,s[5]=o.y,s[9]=a.y,s[2]=i.z,s[6]=o.z,s[10]=a.z,r.Vector33D.back(a),r.Vector33D.back(o),r.Vector33D.back(i),this},e.prototype.multiply=function(e){return this.multiplyMatrices(this,e)},e.prototype.premultiply=function(e){return this.multiplyMatrices(e,this)},e.prototype.multiplyMatrices=function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],l=n[1],u=n[5],p=n[9],d=n[13],h=n[2],f=n[6],m=n[10],g=n[14],y=n[3],v=n[7],x=n[11],M=n[15],b=r[0],w=r[4],A=r[8],_=r[12],E=r[1],D=r[5],S=r[9],P=r[13],T=r[2],C=r[6],R=r[10],I=r[14],O=r[3],L=r[7],k=r[11],B=r[15];return i[0]=o*b+a*E+s*T+c*O,i[4]=o*w+a*D+s*C+c*L,i[8]=o*A+a*S+s*R+c*k,i[12]=o*_+a*P+s*I+c*B,i[1]=l*b+u*E+p*T+d*O,i[5]=l*w+u*D+p*C+d*L,i[9]=l*A+u*S+p*R+d*k,i[13]=l*_+u*P+p*I+d*B,i[2]=h*b+f*E+m*T+g*O,i[6]=h*w+f*D+m*C+g*L,i[10]=h*A+f*S+m*R+g*k,i[14]=h*_+f*P+m*I+g*B,i[3]=y*b+v*E+x*T+M*O,i[7]=y*w+v*D+x*C+M*L,i[11]=y*A+v*S+x*R+M*k,i[15]=y*_+v*P+x*I+M*B,this},e.prototype.multiplyScalar=function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},e.prototype.applyToBufferAttribute=function(e){for(var t=r.Vector33D.get(),n=0,i=e.count;n<i;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return r.Vector33D.back(t),e},e.prototype.determinant=function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],c=e[13],l=e[2],u=e[6],p=e[10],d=e[14];return e[3]*(+i*s*u-r*c*u-i*a*p+n*c*p+r*a*d-n*s*d)+e[7]*(+t*s*d-t*c*p+i*o*p-r*o*d+r*c*l-i*s*l)+e[11]*(+t*c*u-t*a*d-i*o*u+n*o*d+i*a*l-n*c*l)+e[15]*(-r*a*l-t*s*u+t*a*p+r*o*u-n*o*p+n*s*l)},e.prototype.transpose=function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},e.prototype.setPosition=function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},e.prototype.getDet=function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8],u=e[9],p=e[10],d=e[11],h=e[12],f=e[13],m=e[14],g=e[15];return t*(u*m*c-f*p*c+f*s*d-a*m*d-u*s*g+a*p*g)+n*(h*p*c-l*m*c-h*s*d+o*m*d+l*s*g-o*p*g)+r*(l*f*c-h*u*c+h*a*d-o*f*d-l*a*g+o*u*g)+i*(h*u*s-l*f*s-h*a*p+o*f*p+l*a*m-o*u*m)},e.prototype.getInverse=function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],l=r[5],u=r[6],p=r[7],d=r[8],h=r[9],f=r[10],m=r[11],g=r[12],y=r[13],v=r[14],x=r[15],M=h*v*p-y*f*p+y*u*m-l*v*m-h*u*x+l*f*x,b=g*f*p-d*v*p-g*u*m+c*v*m+d*u*x-c*f*x,w=d*y*p-g*h*p+g*l*m-c*y*m-d*l*x+c*h*x,A=g*h*u-d*y*u-g*l*f+c*y*f+d*l*v-c*h*v,_=i*M+o*b+a*w+s*A;if(0===_){var E="spdengine-3D.Matrix43D: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(E);return console.warn(E),this.identity()}var D=1/_;return n[0]=M*D,n[1]=(y*f*s-h*v*s-y*a*m+o*v*m+h*a*x-o*f*x)*D,n[2]=(l*v*s-y*u*s+y*a*p-o*v*p-l*a*x+o*u*x)*D,n[3]=(h*u*s-l*f*s-h*a*p+o*f*p+l*a*m-o*u*m)*D,n[4]=b*D,n[5]=(d*v*s-g*f*s+g*a*m-i*v*m-d*a*x+i*f*x)*D,n[6]=(g*u*s-c*v*s-g*a*p+i*v*p+c*a*x-i*u*x)*D,n[7]=(c*f*s-d*u*s+d*a*p-i*f*p-c*a*m+i*u*m)*D,n[8]=w*D,n[9]=(g*h*s-d*y*s-g*o*m+i*y*m+d*o*x-i*h*x)*D,n[10]=(c*y*s-g*l*s+g*o*p-i*y*p-c*o*x+i*l*x)*D,n[11]=(d*l*s-c*h*s-d*o*p+i*h*p+c*o*m-i*l*m)*D,n[12]=A*D,n[13]=(d*y*a-g*h*a+g*o*f-i*y*f-d*o*v+i*h*v)*D,n[14]=(g*l*a-c*y*a-g*o*u+i*y*u+c*o*v-i*l*v)*D,n[15]=(c*h*a-d*l*a+d*o*u-i*h*u-c*o*f+i*l*f)*D,this},e.prototype.scale=function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},e.prototype.getMaxScaleOnAxis=function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},e.prototype.makeTranslation=function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},e.prototype.makeRotationX=function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},e.prototype.makeRotationY=function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},e.prototype.makeRotationZ=function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},e.prototype.makeRotationAxis=function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,c=i*o,l=i*a;return this.set(c*o+n,c*a-r*s,c*s+r*a,0,c*a+r*s,l*a+n,l*s-r*o,0,c*s-r*a,l*s+r*o,i*s*s+n,0,0,0,0,1),this},e.prototype.makeScale=function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},e.prototype.makeShear=function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},e.prototype.compose=function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,c=i+i,l=o+o,u=a+a,p=i*c,d=i*l,h=i*u,f=o*l,m=o*u,g=a*u,y=s*c,v=s*l,x=s*u,M=n.x,b=n.y,w=n.z;return r[0]=(1-(f+g))*M,r[1]=(d+x)*M,r[2]=(h-v)*M,r[3]=0,r[4]=(d-x)*b,r[5]=(1-(p+g))*b,r[6]=(m+y)*b,r[7]=0,r[8]=(h+v)*w,r[9]=(m-y)*w,r[10]=(1-(p+f))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},e.prototype.decompose=function(t,n,i){var o=r.Vector33D.get(),a=e.get(),s=this.elements,c=o.set(s[0],s[1],s[2]).length(),l=o.set(s[4],s[5],s[6]).length(),u=o.set(s[8],s[9],s[10]).length();this.determinant()<0&&(c=-c),t.x=s[12],t.y=s[13],t.z=s[14],a.copy(this);var p=1/c,d=1/l,h=1/u;return a.elements[0]*=p,a.elements[1]*=p,a.elements[2]*=p,a.elements[4]*=d,a.elements[5]*=d,a.elements[6]*=d,a.elements[8]*=h,a.elements[9]*=h,a.elements[10]*=h,n.setFromRotationMatrix(a),i.x=c,i.y=l,i.z=u,r.Vector33D.back(o),e.back(a),this},e.prototype.makePerspective=function(e,t,n,r,i,o){var a=this.elements,s=2*i/(t-e),c=2*i/(n-r),l=(t+e)/(t-e),u=(n+r)/(n-r),p=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},e.prototype.makeOrthographic=function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),c=1/(n-r),l=1/(o-i),u=(t+e)*s,p=(n+r)*c,d=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},e.prototype.makeRotationFromCenterAndRotationMatrix=function(e,t){if(e&&t){var n=e.clone().negate(),i=t.elements,o=new r.Vector33D,a=o.set(i[0],i[4],i[8]).dot(n),s=o.set(i[1],i[5],i[9]).dot(n),c=o.set(i[2],i[6],i[10]).dot(n);return n.x=a+e.x,n.y=s+e.y,n.z=c+e.z,this.set(i[0],i[4],i[8],n.x,i[1],i[5],i[9],n.y,i[2],i[6],i[10],n.z,0,0,0,1),this}},e.prototype.equals=function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},e.prototype.fromArray=function(e,t){if(void 0===t&&(t=0),e.length>=16)for(var n=0;n<16;n++)this.elements[n]=e[n+t];else console.warn("spdengine-3D Matrix43D fromArray The array's length less than 16, the Matrix's value is not change");return this},e.prototype.toArray=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e},e.arrays=[],e}();t.Matrix43D=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.mask=1}return e.prototype.set=function(e){this.mask=1<<e|0},e.prototype.enable=function(e){this.mask|=1<<e|0},e.prototype.toggle=function(e){this.mask^=1<<e|0},e.prototype.disable=function(e){this.mask&=~(1<<e|0)},e.prototype.test=function(e){return 0!=(this.mask&e.mask)},e}();t.Layers=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=function(){function e(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("spdengine-3D.Matrix33D: the constructor no longer reads arguments. use .set() instead.")}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t,n,r,i,o,a,s,c){var l=this.elements;return l[0]=e,l[1]=r,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=c,this},e.prototype.identity=function(){return this.set(1,0,0,0,1,0,0,0,1),this},e.prototype.clone=function(){return(new e).fromArray(this.elements)},e.prototype.copy=function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},e.prototype.setFromMatrix4=function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},e.prototype.applyToBufferAttribute=function(e){for(var t=r.Vector33D.get(),n=0,i=e.count;n<i;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return r.Vector33D.back(t),e},e.prototype.multiply=function(e){return this.multiplyMatrices(this,e)},e.prototype.premultiply=function(e){return this.multiplyMatrices(e,this)},e.prototype.multiplyMatrices=function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],c=n[1],l=n[4],u=n[7],p=n[2],d=n[5],h=n[8],f=r[0],m=r[3],g=r[6],y=r[1],v=r[4],x=r[7],M=r[2],b=r[5],w=r[8];return i[0]=o*f+a*y+s*M,i[3]=o*m+a*v+s*b,i[6]=o*g+a*x+s*w,i[1]=c*f+l*y+u*M,i[4]=c*m+l*v+u*b,i[7]=c*g+l*x+u*w,i[2]=p*f+d*y+h*M,i[5]=p*m+d*v+h*b,i[8]=p*g+d*x+h*w,this},e.prototype.multiplyScalar=function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},e.prototype.determinant=function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return t*o*l-t*a*c-n*i*l+n*a*s+r*i*c-r*o*s},e.prototype.getInverse=function(e,t){var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],l=n[5],u=n[6],p=n[7],d=n[8],h=d*c-l*p,f=l*u-d*s,m=p*s-c*u,g=i*h+o*f+a*m;if(0===g){var y="spdengine-3D.Matrix33D: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(y);return console.warn(y),this.identity()}var v=1/g;return r[0]=h*v,r[1]=(a*p-d*o)*v,r[2]=(l*o-a*c)*v,r[3]=f*v,r[4]=(d*i-a*u)*v,r[5]=(a*s-l*i)*v,r[6]=m*v,r[7]=(o*u-p*i)*v,r[8]=(c*i-o*s)*v,this},e.prototype.transpose=function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},e.prototype.getNormalMatrix=function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},e.prototype.transposeIntoArray=function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},e.prototype.setUvTransform=function(e,t,n,r,i,o,a){var s=Math.cos(i),c=Math.sin(i);this.set(n*s,n*c,-n*(s*o+c*a)+o+e,-r*c,r*s,-r*(-c*o+s*a)+a+t,0,0,1)},e.prototype.scale=function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],c=r[4],l=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*c,r[6]=t*a+n*l,r[1]=-n*i+t*s,r[4]=-n*o+t*c,r[7]=-n*a+t*l,this},e.prototype.translate=function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},e.prototype.getAffineRotationAndScale=function(e,t,n){var i=r.Vector33D.get().set(0,0,0).project(e),o=r.Vector33D.get().set(0,1,0).project(e),a=r.Vector33D.get().set(1,0,0).project(e);i.x=t(i.x),o.x=t(o.x),a.x=t(a.x),i.y=n(i.y),o.y=n(o.y),a.y=n(a.y);var s=o.x-i.x,c=a.y-i.y,l=o.y-i.y,u=a.x-i.x;return this.identity(),this.elements[0]=s,this.elements[1]=l,this.elements[2]=u,this.elements[3]=c,r.Vector33D.back(i),r.Vector33D.back(o),r.Vector33D.back(a),this},e.prototype.equals=function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},e.prototype.fromArray=function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},e.prototype.toArray=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e},e.prototype.fromThreePoint=function(e,t,n){var r=this.elements;return r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=t.x,r[4]=t.y,r[5]=t.z,r[6]=n.x,r[7]=n.y,r[8]=n.z,this},e.arrays=[],e}();t.Matrix33D=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(25),a=n(27),s=n(31),c=n(37),l=n(38),u=function(e){function t(t,n,r){var i=e.call(this)||this;i.type="CubeCamera3D";var a=new o.PerspectiveCamera3D(90,1,t,n);a.up.set(0,-1,0),a.lookAt(new s.Vector33D(1,0,0)),i.add(a);var u=new o.PerspectiveCamera3D(90,1,t,n);u.up.set(0,-1,0),u.lookAt(new s.Vector33D(-1,0,0)),i.add(u);var p=new o.PerspectiveCamera3D(90,1,t,n);p.up.set(0,0,1),p.lookAt(new s.Vector33D(0,1,0)),i.add(p);var d=new o.PerspectiveCamera3D(90,1,t,n);d.up.set(0,0,-1),d.lookAt(new s.Vector33D(0,-1,0)),i.add(d);var h=new o.PerspectiveCamera3D(90,1,t,n);h.up.set(0,-1,0),h.lookAt(new s.Vector33D(0,0,1)),i.add(h);var f=new o.PerspectiveCamera3D(90,1,t,n);f.up.set(0,-1,0),f.lookAt(new s.Vector33D(0,0,-1)),i.add(f);var m={format:c.Constant.RGBFormat,magFilter:c.Constant.LinearFilter,minFilter:c.Constant.LinearFilter};return i.renderTarget=new l.WebGLRenderTargetCube(r,r,m),i.renderTarget.texture.name="CubeCamera3D",i.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,a,n),n.activeCubeFace=1,e.render(t,u,n),n.activeCubeFace=2,e.render(t,p,n),n.activeCubeFace=3,e.render(t,d,n),n.activeCubeFace=4,e.render(t,h,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,e.render(t,f,n),e.setRenderTarget(null)},i.clear=function(e,t,n,r){for(var i=this.renderTarget,o=0;o<6;o++)i.activeCubeFace=o,e.setRenderTarget(i),e.clear(t,n,r);e.setRenderTarget(null)},i}return i(t,e),t}(a.Object3D);t.CubeCamera3D=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Constant={kNAME:"spdengine",kVERSION:"v0.1.0",MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1016,UnsignedShort4444Type:1017,UnsignedShort5551Type:1018,UnsignedShort565Type:1019,UnsignedInt248Type:1020,AlphaFormat:1021,RGBFormat:1022,RGBAFormat:1023,LuminanceFormat:1024,LuminanceAlphaFormat:1025,RGBEFormat:1023,DepthFormat:1026,DepthStencilFormat:1027,RGB_S3TC_DXT1_Format:33776,RGBA_S3TC_DXT1_Format:33777,RGBA_S3TC_DXT3_Format:33778,RGBA_S3TC_DXT5_Format:33779,RGB_PVRTC_4BPPV1_Format:35840,RGB_PVRTC_2BPPV1_Format:35841,RGBA_PVRTC_4BPPV1_Format:35842,RGBA_PVRTC_2BPPV1_Format:35843,RGB_ETC1_Format:36196,RGBA_ASTC_4x4_Format:37808,RGBA_ASTC_5x4_Format:37809,RGBA_ASTC_5x5_Format:37810,RGBA_ASTC_6x5_Format:37811,RGBA_ASTC_6x6_Format:37812,RGBA_ASTC_8x5_Format:37813,RGBA_ASTC_8x6_Format:37814,RGBA_ASTC_8x8_Format:37815,RGBA_ASTC_10x5_Format:37816,RGBA_ASTC_10x6_Format:37817,RGBA_ASTC_10x8_Format:37818,RGBA_ASTC_10x10_Format:37819,RGBA_ASTC_12x10_Format:37820,RGBA_ASTC_12x12_Format:37821,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3e3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,RGBADepthPacking:3201,TangentSpaceNormalMap:0,ObjectSpaceNormalMap:1}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.isWebGLRenderTargetCube=!0,i.activeCubeFace=0,i.activeMipMapLevel=0,i}return i(t,e),t}(n(39).WebGLRenderTarget);t.WebGLRenderTargetCube=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=n(40),s=n(37),c=n(41),l=function(e){function t(t,n,r){var i=e.call(this)||this;return i.isWebGLRenderTarget=!0,i.width=t,i.height=n,i.scissor=new a.Vector43D(0,0,t,n),i.scissorTest=!1,i.viewport=new a.Vector43D(0,0,t,n),void 0===(r=r||{}).minFilter&&(r.minFilter=s.Constant.LinearFilter),i.texture=new c.Texture(void 0,void 0,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),i.texture.generateMipmaps=void 0===r.generateMipmaps||r.generateMipmaps,i.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,i.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,i.depthTexture=void 0!==r.depthTexture?r.depthTexture:null,i}return i(t,e),t.prototype.setSize=function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},t.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})},t}(o.EventDispatcher3D);t.WebGLRenderTarget=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},e.prototype.setScalar=function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},e.prototype.setX=function(e){return this.x=e,this},e.prototype.setY=function(e){return this.y=e,this},e.prototype.setZ=function(e){return this.z=e,this},e.prototype.setW=function(e){return this.w=e,this},e.prototype.setComponent=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},e.prototype.getComponent=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},e.prototype.clone=function(){return new e(this.x,this.y,this.z,this.w)},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this},e.prototype.addScalar=function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},e.prototype.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},e.prototype.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this},e.prototype.subScalar=function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},e.prototype.subVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},e.prototype.multiplyScalar=function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},e.prototype.applyMatrix4=function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},e.prototype.divideScalar=function(e){return this.multiplyScalar(1/e)},e.prototype.setAxisAngleFromQuaternion=function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},e.prototype.setAxisAngleFromRotationMatrix=function(e){var t,n,r,i,o=e.elements,a=o[0],s=o[4],c=o[8],l=o[1],u=o[5],p=o[9],d=o[2],h=o[6],f=o[10];if(Math.abs(s-l)<.01&&Math.abs(c-d)<.01&&Math.abs(p-h)<.01){if(Math.abs(s+l)<.1&&Math.abs(c+d)<.1&&Math.abs(p+h)<.1&&Math.abs(a+u+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,g=(u+1)/2,y=(f+1)/2,v=(s+l)/4,x=(c+d)/4,M=(p+h)/4;return m>g&&m>y?m<.01?(n=0,r=.707106781,i=.707106781):(r=v/(n=Math.sqrt(m)),i=x/n):g>y?g<.01?(n=.707106781,r=0,i=.707106781):(n=v/(r=Math.sqrt(g)),i=M/r):y<.01?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(y)),r=M/i),this.set(n,r,i,t),this}var b=Math.sqrt((h-p)*(h-p)+(c-d)*(c-d)+(l-s)*(l-s));return Math.abs(b)<.001&&(b=1),this.x=(h-p)/b,this.y=(c-d)/b,this.z=(l-s)/b,this.w=Math.acos((a+u+f-1)/2),this},e.prototype.min=function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},e.prototype.max=function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},e.prototype.clamp=function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},e.prototype.clampScalar=function(t,n){var r=e.get(),i=e.get();return r.set(t,t,t,t),i.set(n,n,n,n),this.clamp(r,i),e.back(r),e.back(i),this},e.prototype.clampLength=function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},e.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},e.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},e.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},e.prototype.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},e.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},e.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},e.prototype.normalize=function(){return this.divideScalar(this.length()||1)},e.prototype.setLength=function(e){return this.normalize().multiplyScalar(e)},e.prototype.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},e.prototype.lerpVectors=function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},e.prototype.fromArray=function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},e.prototype.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},e.prototype.fromBufferAttribute=function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},e.arrays=[],e}();t.Vector43D=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=n(37),s=n(35),c=n(42),l=n(30),u=function(e){function t(n,r,i,o,u,p,d,h,f,m){var g=e.call(this)||this;return g.mipmaps=[],g.unpackAlignment=4,g.isTexture=!0,g.id=t.textureId++,g.uuid=l._Math.generateUUID(),g.name="",g.image=void 0!==n?n:t.DEFAULT_IMAGE,g.mipmaps=[],g.mapping=void 0!==r?r:t.DEFAULT_MAPPING,g.wrapS=void 0!==i?i:a.Constant.ClampToEdgeWrapping,g.wrapT=void 0!==o?o:a.Constant.ClampToEdgeWrapping,g.magFilter=void 0!==u?u:a.Constant.LinearFilter,g.minFilter=void 0!==p?p:a.Constant.LinearMipMapLinearFilter,g.anisotropy=void 0!==f?f:1,g.format=void 0!==d?d:a.Constant.RGBAFormat,g.type=void 0!==h?h:a.Constant.UnsignedByteType,g.offset=new c.Vector23D(0,0),g.repeat=new c.Vector23D(1,1),g.center=new c.Vector23D(0,0),g.rotation=0,g.matrixAutoUpdate=!0,g.matrix=new s.Matrix33D,g.generateMipmaps=!0,g.premultiplyAlpha=!1,g.flipY=!0,g.unpackAlignment=4,g.encoding=void 0!==m?m:a.Constant.LinearEncoding,g.version=0,g.onUpdate=null,g}return i(t,e),t.prototype.updateMatrix=function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},Object.defineProperty(t.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})},t.prototype.transformUv=function(e){if(this.mapping===a.Constant.UVMapping){if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case a.Constant.RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case a.Constant.ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case a.Constant.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case a.Constant.RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case a.Constant.ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case a.Constant.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}},t.DEFAULT_IMAGE=void 0,t.DEFAULT_MAPPING=a.Constant.UVMapping,t.textureId=0,t}(o.EventDispatcher3D);t.Texture=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.x=void 0===e?0:e,this.y=void 0===t?0:t}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},Object.defineProperty(e.prototype,"width",{get:function(){return this.x},set:function(e){this.x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.y},set:function(e){this.y=e},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.setScalar=function(e){return this.x=e,this.y=e,this},e.prototype.setX=function(e){return this.x=e,this},e.prototype.setY=function(e){return this.y=e,this},e.prototype.setComponent=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},e.prototype.getComponent=function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.addScalar=function(e){return this.x+=e,this.y+=e,this},e.prototype.addVectors=function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},e.prototype.addScaledVector=function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.subScalar=function(e){return this.x-=e,this.y-=e,this},e.prototype.subVectors=function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},e.prototype.multiply=function(e){return this.x=this.x*e.x,this.y=this.y*e.y,this},e.prototype.multiplyScalar=function(e){return this.x=this.x*e,this.y=this.y*e,this},e.prototype.divide=function(e){return this.x=this.x/e.x,this.y=this.y/e.y,this},e.prototype.divideScalar=function(e){return this.multiplyScalar(1/e)},e.prototype.applyMatrix3=function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},e.prototype.min=function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},e.prototype.max=function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},e.prototype.clamp=function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},e.prototype.clampScalar=function(t,n){var r=e.get(),i=e.back(e.get());return r.set(t,t),i.set(n,n),this.clamp(r,i),e.back(r),e.back(i),this},e.prototype.clampLength=function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},e.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},e.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},e.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},e.prototype.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.cross=function(e){return this.x*e.y-this.y*e.x},e.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)},e.prototype.normalize=function(){return this.divideScalar(this.length()||1)},e.prototype.angle=function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},e.prototype.distanceTo=function(e){return Math.sqrt(this.distanceToSquared(e))},e.prototype.distanceToSquared=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},e.prototype.manhattanDistanceTo=function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},e.prototype.setLength=function(e){return this.normalize().multiplyScalar(e)},e.prototype.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},e.prototype.lerpVectors=function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.fromArray=function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},e.prototype.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},e.prototype.fromBufferAttribute=function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this},e.prototype.rotateAround=function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this},e.prototype.calcAxisAngle=function(){return this.x>=0&&this.y>=0?Math.atan(this.x/this.y):this.x>=0&&this.y<0?Math.PI-Math.atan(this.x/-this.y):this.x<0&&this.y<0?Math.PI+Math.atan(this.x/this.y):2*Math.PI-Math.atan(-this.x/this.y)},e.prototype.calcAngle=function(e,t){var n=this.distanceTo(e),r=this.distanceTo(t),i=e.distanceTo(t);return Math.acos((Math.pow(n,2)+Math.pow(i,2)-Math.pow(r,2))/(2*n*i))},e.arrays=[],e}();t.Vector23D=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),a=function(e){function t(t,n,r,i,o,a){var s=e.call(this)||this;return s.isOrthographicCamera=!0,s.type="OrthographicCamera3D",s.zoom=1,s.view=null,s.left=t,s.right=n,s.top=r,s.bottom=i,s.near=void 0!==o?o:.1,s.far=void 0!==a?a:2e3,s.updateProjectionMatrix(),s}return i(t,e),t.prototype.copy=function(e,t){return o.Camera3D.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},t.prototype.setViewOffset=function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},t.prototype.clearViewOffset=function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},t.prototype.updateProjectionMatrix=function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,p=(this.top-this.bottom)/this.view.height;o=(i+=u*(this.view.offsetX/c))+u*(this.view.width/c),s=(a-=p*(this.view.offsetY/l))-p*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},t}(o.Camera3D);t.OrthographicCamera3D=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(33),o=n(30),a=function(){function e(){this.type="StereoCamera3D",this.aspect=1,this.eyeSep=.064,this.cameraL=new r.PerspectiveCamera3D,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new r.PerspectiveCamera3D,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}var t,n,a,s,c,l,u,p,d,h;return e.prototype.update=function(t){return e.update.call(this,t)},e.update=function(e){if(h||(h=new i.Matrix43D,d=new i.Matrix43D),t!==this||n!==e.focus||a!==e.fov||s!==e.aspect*this.aspect||c!==e.near||l!==e.far||u!==e.zoom||p!==this.eyeSep){t=this,n=e.focus,a=e.fov,s=e.aspect*this.aspect,c=e.near,l=e.far,u=e.zoom;var r=e.projectionMatrix.clone(),f=(p=this.eyeSep/2)*c/n,m=c*Math.tan(o._Math.DEG2RAD*a*.5)/u,g=void 0,y=void 0;h.elements[12]=-p,d.elements[12]=p,g=-m*s+f,y=m*s+f,r.elements[0]=2*c/(y-g),r.elements[8]=(y+g)/(y-g),this.cameraL.projectionMatrix.copy(r),g=-m*s-f,y=m*s-f,r.elements[0]=2*c/(y-g),r.elements[8]=(y+g)/(y-g),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(h),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(d)},e}();t.StereoCamera3D=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(46),a=n(42),s=n(31),c=n(40),l=function(){function e(e,t,n){this.isBufferAttribute=!0,this.onUploadCallback=function(){},this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}return Object.defineProperty(e.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++},enumerable:!0,configurable:!0}),e.prototype.setArray=function(e){return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},e.prototype.setDynamic=function(e){return this.dynamic=e,this},e.prototype.copy=function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},e.prototype.copyAt=function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},e.prototype.copyArray=function(e){return this.array.set(e),this},e.prototype.copyColorsArray=function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("spdengine-3D.BufferAttribute3D.copyColorsArray(): color is undefined",r),a=new o.Color3D),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},e.prototype.copyVector2sArray=function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("spdengine-3D.BufferAttribute3D.copyVector2sArray(): vector is undefined",r),o=new a.Vector23D),t[n++]=o.x,t[n++]=o.y}return this},e.prototype.copyVector3sArray=function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("spdengine-3D.BufferAttribute3D.copyVector3sArray(): vector is undefined",r),o=new s.Vector33D),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},e.prototype.copyVector4sArray=function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("spdengine-3D.BufferAttribute3D.copyVector4sArray(): vector is undefined",r),o=new c.Vector43D),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},e.prototype.set=function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},e.prototype.getX=function(e){return this.array[e*this.itemSize]},e.prototype.setX=function(e,t){return this.array[e*this.itemSize]=t,this},e.prototype.getY=function(e){return this.array[e*this.itemSize+1]},e.prototype.setY=function(e,t){return this.array[e*this.itemSize+1]=t,this},e.prototype.getZ=function(e){return this.array[e*this.itemSize+2]},e.prototype.setZ=function(e,t){return this.array[e*this.itemSize+2]=t,this},e.prototype.getW=function(e){return this.array[e*this.itemSize+3]},e.prototype.setW=function(e,t){return this.array[e*this.itemSize+3]=t,this},e.prototype.setXY=function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},e.prototype.setXYZ=function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},e.prototype.setXYZW=function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},e.prototype.onUpload=function(e){return this.onUploadCallback=e,this},e.prototype.clone=function(){return new e(this.array,this.itemSize).copy(this)},e.prototype.dispose=function(){this.array=null},e}();t.BufferAttribute3D=l;var u=function(e){function t(t,n,r){return e.call(this,new Int8Array(t),n,r)||this}return i(t,e),t}(l);t.Int8BufferAttribute=u;var p=function(e){function t(t,n,r){return e.call(this,new Uint8Array(t),n,r)||this}return i(t,e),t}(l);t.Uint8BufferAttribute=p;var d=function(e){function t(t,n,r){return e.call(this,new Uint8ClampedArray(t),n,r)||this}return i(t,e),t}(l);t.Uint8ClampedBufferAttribute=d;var h=function(e){function t(t,n,r){return e.call(this,new Int16Array(t),n,r)||this}return i(t,e),t}(l);t.Int16BufferAttribute=h;var f=function(e){function t(t,n,r){return e.call(this,new Uint16Array(t),n,r)||this}return i(t,e),t}(l);t.Uint16BufferAttribute=f;var m=function(e){function t(t,n,r){return e.call(this,new Int32Array(t),n,r)||this}return i(t,e),t}(l);t.Int32BufferAttribute=m;var g=function(e){function t(t,n,r){return e.call(this,new Uint32Array(t),n,r)||this}return i(t,e),t}(l);t.Uint32BufferAttribute=g;var y=function(e){function t(t,n,r){return e.call(this,new Float32Array(t),n,r)||this}return i(t,e),t}(l);t.Float32BufferAttribute=y;var v=function(e){function t(t,n,r){return e.call(this,new Float64Array(t),n,r)||this}return i(t,e),t}(l);t.Float64BufferAttribute=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),i=function(){return function(){}}();t.HSL=i;var o=function(){function e(e,t,n){this.r=1,this.g=1,this.b=1,this.isColor=!0,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}var t,n,i;return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(t){return t&&t instanceof e?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},e.prototype.setScalar=function(e){return this.r=e,this.g=e,this.b=e,this},e.prototype.setHex=function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},e.prototype.setRGB=function(e,t,n){return this.r=e,this.g=t,this.b=n,this},e.prototype.hue2rgb=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e},e.prototype.setHSL=function(e,t,n){if(e=r._Math.euclideanModulo(e,1),t=r._Math.clamp(t,0,1),n=r._Math.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,o=2*n-i;this.r=this.hue2rgb(o,i,e+1/3),this.g=this.hue2rgb(o,i,e),this.b=this.hue2rgb(o,i,e-1/3)}return this},e.prototype.setStyle=function(t){function n(e){void 0!==e&&parseFloat(e)<1&&console.warn("spdengine-3D.Color3D: Alpha component of "+t+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i=void 0,o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,n(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,n(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var s=parseFloat(i[1])/360,c=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return n(i[5]),this.setHSL(s,c,l)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u,p=(u=r[1]).length;if(3===p)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===p)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}t&&t.length>0&&(void 0!==(u=e.ColorKeywords[t])?this.setHex(u):console.warn("spdengine-3D.Color3D: Unknown color "+t));return this},e.prototype.clone=function(){return new e(this.r,this.g,this.b)},e.prototype.copy=function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},e.prototype.copyGammaToLinear=function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},e.prototype.copyLinearToGamma=function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},e.prototype.convertGammaToLinear=function(e){return this.copyGammaToLinear(this,e),this},e.prototype.convertLinearToGamma=function(e){return this.copyLinearToGamma(this,e),this},e.prototype.copySRGBToLinear=function(e){return this.r=this.SRGBToLinear(e.r),this.g=this.SRGBToLinear(e.g),this.b=this.SRGBToLinear(e.b),this},e.prototype.SRGBToLinear=function(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)},e.prototype.copyLinearToSRGB=function(e){return this.r=this.LinearToSRGB(e.r),this.g=this.LinearToSRGB(e.g),this.b=this.LinearToSRGB(e.b),this},e.prototype.LinearToSRGB=function(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055},e.prototype.convertSRGBToLinear=function(){return this.copySRGBToLinear(this),this},e.prototype.convertLinearToSRGB=function(){return this.copyLinearToSRGB(this),this},e.prototype.getHex=function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},e.prototype.getHexString=function(){return("000000"+this.getHex().toString(16)).slice(-6)},e.prototype.getHSL=function(e){void 0===e&&(console.warn("spdengine-3D.Color3D: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),c=(s+a)/2;if(s===a)t=0,n=0;else{var l=a-s;switch(n=c<=.5?l/(a+s):l/(2-a-s),a){case r:t=(i-o)/l+(i<o?6:0);break;case i:t=(o-r)/l+2;break;case o:t=(r-i)/l+4}t/=6}return e.h=t,e.s=n,e.l=c,e},e.prototype.getStyle=function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},e.prototype.offsetHSL=function(t,n,r){return e.offsetHSL.call(this,t,n,r)},e.prototype.add=function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},e.prototype.addColors=function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},e.prototype.addScalar=function(e){return this.r+=e,this.g+=e,this.b+=e,this},e.prototype.sub=function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},e.prototype.multiply=function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},e.prototype.multiplyScalar=function(e){return this.r*=e,this.g*=e,this.b*=e,this},e.prototype.lerp=function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},e.prototype.lerpHSL=function(t,n){return e.lerpHSL.call(this,t,n)},e.prototype.equals=function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},e.prototype.fromArray=function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},e.prototype.toArray=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},e.prototype.toJSON=function(){return this.getHex()},e.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},e.arrays=[],e.offsetHSL=(t={h:void 0,s:void 0,l:void 0},function(e,n,r){return this.getHSL(t),t.h+=e,t.s+=n,t.l+=r,this.setHSL(t.h,t.s,t.l),this}),e.lerpHSL=(n={h:0,s:0,l:0},i={h:0,s:0,l:0},function(e,t){this.getHSL(n),e.getHSL(i);var o=r._Math.lerp(n.h,i.h,t),a=r._Math.lerp(n.s,i.s,t),s=r._Math.lerp(n.l,i.l,t);return this.setHSL(o,a,s),this}),e}();t.Color3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=n(45),s=n(30),c=n(48),l=n(49),u=n(33),p=n(35),d=n(27),h=n(31),f=n(50),m=n(52),g=n(53),y=function(e){function t(){var n=e.call(this)||this;return n.groups=[],n.isBufferGeometry=!0,n.rotateX=function(e){var t=u.Matrix43D.get();return t.makeRotationX(e),this.applyMatrix(t),u.Matrix43D.back(t),this},n.rotateY=function(e){var t=u.Matrix43D.get();return t.makeRotationY(e),this.applyMatrix(t),u.Matrix43D.back(t),this},n.translate=function(e,t,n){var r=u.Matrix43D.get();return r.makeTranslation(e,t,n),this.applyMatrix(r),u.Matrix43D.back(r),this},n.scale=function(e,t,n){var r=u.Matrix43D.get();return r.makeScale(e,t,n),this.applyMatrix(r),u.Matrix43D.back(r),this},n.lookAt=function(e){var t=d.Object3D.get();t.lookAt(e),t.updateMatrix(),d.Object3D.back(t),this.applyMatrix(t.matrix)},n.center=function(){var e=h.Vector33D.get();return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),h.Vector33D.back(e),this},n.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new l.Sphere3D);var e=c.Box33D.get(),t=h.Vector33D.get(),n=this.attributes.get("position"),r=this.index;if(r&&n){var i=this.boundingSphere.center;e.setFromBufferGeometry(this),e.getCenter(i);for(var o=0,a=Math.max(0,this.drawRange.start),s=Math.min(r.count,this.drawRange.start+this.drawRange.count),u=a;u<s;u++)t.fromBufferAttribute(n,r.getX(u)),o=Math.max(o,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('spdengine-3D.BufferGeometry3D.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}else if(n){i=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(i);o=0,u=0;for(var p=n.count;u<p;u++)t.x=n.getX(u),t.y=n.getY(u),t.z=n.getZ(u),o=Math.max(o,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('spdengine-3D.BufferGeometry3D.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}c.Box33D.back(e),h.Vector33D.back(t)},n.id=t.bufferGeometryId+=2,n.uuid=s._Math.generateUUID(),n.name="",n.type="BufferGeometry3D",n.index=null,n.attributes=new Map,n.morphAttributes=new Map,n.groups=[],n.boundingBox=null,n.boundingSphere=null,n.drawRange={start:0,count:1/0},n.userData={},n}return i(t,e),t.prototype.getIndex=function(){return this.index},t.prototype.setIndex=function(e){e.isBufferAttribute?this.index=e:this.index=new(g.arrayMax(e)>65535?a.Uint32BufferAttribute:g.arrayMax(e)>255?a.Uint16BufferAttribute:a.Uint8BufferAttribute)(e,1),this.index.name="index"},t.prototype.addAttribute=function(e,t){return"index"===e&&t.isBufferAttribute?(console.warn("spdengine-3D.BufferGeometry3D.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes.set(e,t),t.isBufferAttribute&&(t.name=e),this)},t.prototype.getAttribute=function(e){return this.attributes.get(e)},t.prototype.removeAttribute=function(e){return this.attributes.delete(e),this},t.prototype.addGroup=function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},t.prototype.clearGroups=function(){this.groups=[]},t.prototype.setDrawRange=function(e,t){this.drawRange.start=e,this.drawRange.count=t},t.prototype.setLineDrawRange=function(e,t){void 0===this.lineDrawRange&&(this.lineDrawRange={start:0,count:1/0}),this.lineDrawRange.start=e,this.lineDrawRange.count=t},t.prototype.applyMatrix=function(e){var t=this.attributes.get("position");void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.get("normal");void 0!==n&&((new p.Matrix33D).getNormalMatrix(e).applyToBufferAttribute(n),t.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},t.prototype.rotateZ=function(e){var t=u.Matrix43D.get();return t.makeRotationZ(e),this.applyMatrix(t),u.Matrix43D.back(t),this},t.prototype.setFromObject=function(e){var t=e.geometry;if((e.isPoints||e.isLine)&&t instanceof f.Geometry3D){var n=new a.Float32BufferAttribute(3*t.vertices.length,3),r=new a.Float32BufferAttribute(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new a.Float32BufferAttribute(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t instanceof f.Geometry3D&&this.fromGeometry(t);return this},t.prototype.setFromPoints=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new a.Float32BufferAttribute(t,3)),this},t.prototype.updateFromObject=function(e){var t,n=e.geometry;if(e.isMesh&&n instanceof f.Geometry3D){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.get("position"))&&t instanceof a.BufferAttribute3D&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.get("normal"))&&t instanceof a.BufferAttribute3D&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.get("color"))&&t instanceof a.BufferAttribute3D&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.get("uv"))&&t instanceof a.BufferAttribute3D&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.get("lineDistance"))&&t instanceof a.BufferAttribute3D&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},t.prototype.fromGeometry=function(e){return e.__directGeometry=(new m.DirectGeometry3D).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},t.prototype.fromDirectGeometry=function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new a.BufferAttribute3D(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new a.BufferAttribute3D(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new a.BufferAttribute3D(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new a.BufferAttribute3D(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new a.BufferAttribute3D(o,2).copyVector2sArray(e.uvs2))}for(var s in this.groups=e.groups,e.morphTargets)if(e.morphTargets[s]){for(var c=[],l=e.morphTargets[s],u=0,p=l.length;u<p;u++){var d=l[u],h=new a.Float32BufferAttribute(3*d.data.length,3);h.name=d.name,c.push(h.copyVector3sArray(d.data))}this.morphAttributes.set(s,c)}if(e.skinIndices.length>0){var f=new a.Float32BufferAttribute(4*e.skinIndices.length,4);this.addAttribute("skinIndex",f.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var m=new a.Float32BufferAttribute(4*e.skinWeights.length,4);this.addAttribute("skinWeight",m.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},t.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new c.Box33D);var e=this.attributes.get("position");void 0!==e&&this.index?this.boundingBox.setFromBufferGeometry(this):void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('spdengine-3D.BufferGeometry3D.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},t.prototype.computeFaceNormals=function(){},t.prototype.computeVertexNormals=function(){var e=this.index,t=this.attributes,n=this.groups;if(t.has("position")){var r=t.get("position").array;if(t.has("normal"))for(var i=t.get("normal").array,o=0,s=i.length;o<s;o++)i[o]=0;else this.addAttribute("normal",new a.BufferAttribute3D(new Float32Array(r.length),3));var c=t.get("normal").array,l=void 0,u=void 0,p=void 0,d=new h.Vector33D,f=new h.Vector33D,m=new h.Vector33D,g=new h.Vector33D,y=new h.Vector33D;if(e){var v=e.array;0===n.length&&this.addGroup(0,v.length);for(var x=0,M=n.length;x<M;++x){var b=n[x],w=b.start;for(o=w,s=w+b.count;o<s;o+=3)l=3*v[o+0],u=3*v[o+1],p=3*v[o+2],d.fromArray(r,l),f.fromArray(r,u),m.fromArray(r,p),g.subVectors(m,f),y.subVectors(d,f),g.cross(y),c[l]+=g.x,c[l+1]+=g.y,c[l+2]+=g.z,c[u]+=g.x,c[u+1]+=g.y,c[u+2]+=g.z,c[p]+=g.x,c[p+1]+=g.y,c[p+2]+=g.z}}else for(o=0,s=r.length;o<s;o+=9)d.fromArray(r,o),f.fromArray(r,o+3),m.fromArray(r,o+6),g.subVectors(m,f),y.subVectors(d,f),g.cross(y),c[o]=g.x,c[o+1]=g.y,c[o+2]=g.z,c[o+3]=g.x,c[o+4]=g.y,c[o+5]=g.z,c[o+6]=g.x,c[o+7]=g.y,c[o+8]=g.z;this.normalizeNormals(),t.get("normal").needsUpdate=!0}},t.prototype.merge=function(e,t){void 0===t&&(t=0),this.attributes.forEach(function(n,r){if(void 0!==e.attributes.get(r))for(var i=n.array,o=e.attributes.get(r),a=o.array,s=0,c=o.itemSize*t;s<a.length;s++,c++)i[c]=a[s]})},t.prototype.toNonIndexed=function(){if(null===this.index)return console.warn("spdengine-3D.BufferGeometry3D.toNonIndexed(): Geometry3D is already non-indexed."),this;var e=new t,n=this.index.array;this.attributes.forEach(function(t,r){for(var i=t.array,o=t.itemSize,s=new i.constructor(n.length*o),c=0,l=0,u=0,p=n.length;u<p;u++){c=n[u]*o;for(var d=0;d<o;d++)s[l++]=i[c++]}e.addAttribute(r,new a.BufferAttribute3D(s,o))});for(var r=this.groups,i=0,o=r.length;i<o;i++){var s=r[i];e.addGroup(s.start,s.count,s.materialIndex)}return e},t.prototype.clone=function(){return(new this.constructor).copy(this)},t.prototype.copy=function(e){var t,n,r=this;this.index=null,this.attributes=new Map,this.morphAttributes=new Map,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone()),e.attributes.forEach(function(e,t){r.addAttribute(t,e.clone())}),e.morphAttributes.forEach(function(e,r){var i=[];for(t=0,n=e.length;t<n;t++)i.push(e[t].clone());this.morphAttributes.set(r,i)});var o=e.groups;for(t=0,n=o.length;t<n;t++){var a=o[t];this.addGroup(a.start,a.count,a.materialIndex)}var s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());var c=e.boundingSphere;return null!==c&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},t.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})},t.prototype.setFromIGUMBufferGeometry=function(e){this.id=e.id,this.uuid=e.uuid,this.drawRange=e.drawRange,e.lineDrawRange&&(this.lineDrawRange=e.lineDrawRange),this.boundingBox||(this.boundingBox=new c.Box33D),this.boundingBox.setFromArray(e.boundingBox),this.boundingSphere||(this.boundingSphere=new l.Sphere3D);var t=e.boundingSphere.center,n=h.Vector33D.get();return this.boundingSphere.set(n.set(t[0],t[1],t[2]),e.boundingSphere.radius),h.Vector33D.back(n),this.attributes=e.attributes,this.index=e.index,this.shared=e.shared,this.code=e.code,this.textContext=e.textContext,this},t.prototype.getIGUMBufferGeometry=function(){return this.boundingBox||this.computeBoundingBox(),this.boundingSphere||this.computeBoundingSphere(),{code:this.code,uuid:s._Math.generateUUID(),id:this.id,attributes:this.attributes,drawRange:{start:this.drawRange.start,count:this.drawRange.count},lineDrawRange:this.lineDrawRange?{start:this.lineDrawRange.start,count:this.lineDrawRange.count}:void 0,shared:this.shared,index:this.index?this.index:null,boundingBox:[this.boundingBox.min.x,this.boundingBox.min.y,this.boundingBox.min.z,this.boundingBox.max.x,this.boundingBox.max.y,this.boundingBox.max.z],boundingSphere:{radius:this.boundingSphere.radius,center:[this.boundingSphere.center.x,this.boundingSphere.center.y,this.boundingSphere.center.z]}}},t.bufferGeometryId=1e8,t.normalizeNormals=function(){for(var e=this.attributes.get("normal"),t=h.Vector33D.get(),n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.normalize(),e.setXYZ(n,t.x,t.y,t.z);h.Vector33D.back(t)},t}(o.EventDispatcher3D);t.BufferGeometry3D=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=function(){function e(e,t){this.min=void 0!==e?e:new r.Vector33D(1/0,1/0,1/0),this.max=void 0!==t?t:new r.Vector33D(-1/0,-1/0,-1/0)}var t;return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t){return this.min.copy(e),this.max.copy(t),this},e.prototype.setFromArray=function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.length;s<c;s+=3){var l=e[s],u=e[s+1],p=e[s+2];l<t&&(t=l),u<n&&(n=u),p<r&&(r=p),l>i&&(i=l),u>o&&(o=u),p>a&&(a=p)}return this.min.set(t,n,r),this.max.set(i,o,a),this},e.prototype.setFromBuffer=function(e,t){return this.min.set(e[t],e[t+1],e[t+2]),this.max.set(e[t+3],e[t+4],e[t+5]),this},e.prototype.setFromBufferAttribute=function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.count;s<c;s++){var l=e.getX(s),u=e.getY(s),p=e.getZ(s);l<t&&(t=l),u<n&&(n=u),p<r&&(r=p),l>i&&(i=l),u>o&&(o=u),p>a&&(a=p)}return this.min.set(t,n,r),this.max.set(i,o,a),this},e.prototype.setFromBufferGeometry=function(e){var t=e.index,n=e.attributes.get("position");if(t&&n){for(var i=1/0,o=1/0,a=1/0,s=-1/0,c=-1/0,l=-1/0,u=new r.Vector33D,p=Math.max(0,e.drawRange.start),d=Math.min(t.count,e.drawRange.start+e.drawRange.count),h=p;h<d;h++){u.fromBufferAttribute(n,t.getX(h));var f=u.x,m=u.y,g=u.z;f<i&&(i=f),m<o&&(o=m),g<a&&(a=g),f>s&&(s=f),m>c&&(c=m),g>l&&(l=g)}this.min.set(i,o,a),this.max.set(s,c,l)}else n?this.setFromBufferAttribute(n):this.makeEmpty();return this},e.prototype.setFromPoints=function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},e.prototype.setFromCenterAndSize=function(e,t){var n=r.Vector33D.get(),i=n.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),r.Vector33D.back(n),this},e.prototype.setFromObject=function(e){return this.makeEmpty(),this.expandByObject(e)},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){return this.min.copy(e.min),this.max.copy(e.max),this},e.prototype.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},e.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},e.prototype.getCenter=function(e){return void 0===e&&(console.warn("spdengine-3D.Box33D: .getCenter() target is now required"),e=new r.Vector33D),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},e.prototype.getSize=function(e){return void 0===e&&(console.warn("spdengine-3D.Box33D: .getSize() target is now required"),e=new r.Vector33D),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},e.prototype.expandByPoint=function(e){return this.min.min(e),this.max.max(e),this},e.prototype.expandByVector=function(e){return this.min.sub(e),this.max.add(e),this},e.prototype.expandByScalar=function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},e.prototype.expandByObject=function(e){var t,n,i=r.Vector33D.get(),o=this;return e.updateMatrixWorld(!0),e.traverse(function(e){var r=e.geometry;if(void 0!==r)if(r.isGeometry){var a=r.vertices;for(t=0,n=a.length;t<n;t++)i.copy(a[t]),i.applyMatrix4(e.matrixWorld),o.expandByPoint(i)}else if(r.isBufferGeometry){var s=r.attributes.get("position");if(void 0!==s)for(t=0,n=s.count;t<n;t++)i.fromBufferAttribute(s,t).applyMatrix4(e.matrixWorld),o.expandByPoint(i)}}),r.Vector33D.back(i),this},e.prototype.containsPoint=function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},e.prototype.containsBox=function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},e.prototype.getParameter=function(e,t){return void 0===t&&(console.warn("spdengine-3D.Box33D: .getParameter() target is now required"),t=new r.Vector33D),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},e.prototype.intersectsBox=function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},e.prototype.intersectsSphere=function(e){var t=r.Vector33D.get();this.clampPoint(e.center,t);var n=t.distanceToSquared(e.center)<=e.radius*e.radius;return r.Vector33D.back(t),n},e.prototype.intersectsPlane=function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},e.prototype.satForAxes=function(e){for(var t=r.Vector33D.get(),n=r.Vector33D.get(),i=r.Vector33D.get(),o=r.Vector33D.get(),a=r.Vector33D.get(),s=0,c=e.length-3;s<=c;s+=3){o.fromArray(e,s);var l=a.x*Math.abs(o.x)+a.y*Math.abs(o.y)+a.z*Math.abs(o.z),u=t.dot(o),p=n.dot(o),d=i.dot(o);if(Math.max(-Math.max(u,p,d),Math.min(u,p,d))>l)return r.Vector33D.back(a),r.Vector33D.back(o),r.Vector33D.back(i),r.Vector33D.back(n),r.Vector33D.back(t),!1}return r.Vector33D.back(o),r.Vector33D.back(i),r.Vector33D.back(n),r.Vector33D.back(t),!0},e.prototype.intersectsTriangle=function(e){if(this.isEmpty())return!1;var t=r.Vector33D.get(),n=r.Vector33D.get(),i=r.Vector33D.get(),o=r.Vector33D.get(),a=r.Vector33D.get(),s=r.Vector33D.get(),c=r.Vector33D.get(),l=r.Vector33D.get(),u=r.Vector33D.get();this.getCenter(c),l.subVectors(this.max,c),t.subVectors(e.a,c),n.subVectors(e.b,c),i.subVectors(e.c,c),o.subVectors(n,t),a.subVectors(i,n),s.subVectors(t,i);var p=[0,-o.z,o.y,0,-a.z,a.y,0,-s.z,s.y,o.z,0,-o.x,a.z,0,-a.x,s.z,0,-s.x,-o.y,o.x,0,-a.y,a.x,0,-s.y,s.x,0];return this.satForAxes(p)?(p=[1,0,0,0,1,0,0,0,1],this.satForAxes(p)?(u.crossVectors(o,a),p=[u.x,u.y,u.z],r.Vector33D.back(u),r.Vector33D.back(l),r.Vector33D.back(c),r.Vector33D.back(s),r.Vector33D.back(a),r.Vector33D.back(o),r.Vector33D.back(i),r.Vector33D.back(n),r.Vector33D.back(t),this.satForAxes(p)):(r.Vector33D.back(u),r.Vector33D.back(l),r.Vector33D.back(c),r.Vector33D.back(s),r.Vector33D.back(a),r.Vector33D.back(o),r.Vector33D.back(i),r.Vector33D.back(n),r.Vector33D.back(t),!1)):(r.Vector33D.back(u),r.Vector33D.back(l),r.Vector33D.back(c),r.Vector33D.back(s),r.Vector33D.back(a),r.Vector33D.back(o),r.Vector33D.back(i),r.Vector33D.back(n),r.Vector33D.back(t),!1)},e.prototype.clampPoint=function(e,t){return t.copy(e).clamp(this.min,this.max)},e.prototype.distanceToPoint=function(e){var t=r.Vector33D.get(),n=t.copy(e).clamp(this.min,this.max);return r.Vector33D.back(t),n.sub(e).length()},e.prototype.getBoundingSphere=function(e){var t=r.Vector33D.get();return this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),r.Vector33D.back(t),e},e.prototype.intersect=function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},e.prototype.union=function(e){return this.min.min(e.min),this.max.max(e.max),this},e.prototype.applyMatrix4=function(t){return e.applyMatrix4.call(this,t)},e.prototype.translate=function(e){return this.min.add(e),this.max.add(e),this},e.prototype.equals=function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},e.prototype.getVolume=function(){return this.isEmpty()?0:Math.abs((this.max.x-this.min.x)*(this.max.y-this.min.y)*(this.max.z-this.min.z))},e.prototype.project=function(t,n){return e.project.call(this,t,n)},e.arrays=[],e.applyMatrix4=(t=[new r.Vector33D,new r.Vector33D,new r.Vector33D,new r.Vector33D,new r.Vector33D,new r.Vector33D,new r.Vector33D,new r.Vector33D],function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}),e.project=function(){var e=[new r.Vector33D,new r.Vector33D,new r.Vector33D,new r.Vector33D,new r.Vector33D,new r.Vector33D,new r.Vector33D,new r.Vector33D];return function(t,n){var r;return r=this,e[0].set(r.max.x,r.max.y,r.max.z),e[1].set(r.max.x,r.max.y,r.min.z),e[2].set(r.max.x,r.min.y,r.max.z),e[3].set(r.max.x,r.min.y,r.min.z),e[4].set(r.min.x,r.max.y,r.max.z),e[5].set(r.min.x,r.max.y,r.min.z),e[6].set(r.min.x,r.min.y,r.max.z),e[7].set(r.min.x,r.min.y,r.min.z),e.forEach(function(e){return e.project(t)}),n.setFromPoints(e),n}}(),e}();t.Box33D=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=n(48),o=function(){function e(e,t){this.center=void 0!==e?e:new r.Vector33D,this.radius=void 0!==t?t:0}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t){return this.center.copy(e),this.radius=t,this},e.prototype.setFromPoints=function(e,t){var n=this.center,r=i.Box33D.get();void 0!==t?n.copy(t):r.setFromPoints(e).getCenter(n),i.Box33D.back(r);for(var o=0,a=0,s=e.length;a<s;a++)o=Math.max(o,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(o),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){return this.center.copy(e.center),this.radius=e.radius,this},e.prototype.empty=function(){return this.radius<=0},e.prototype.containsPoint=function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},e.prototype.distanceToPoint=function(e){return e.distanceTo(this.center)-this.radius},e.prototype.intersectsSphere=function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},e.prototype.intersectsBox=function(e){return e.intersectsSphere(this)},e.prototype.intersectsPlane=function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},e.prototype.clampPoint=function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("spdengine-3D.Sphere3D: .clampPoint() target is now required"),t=new r.Vector33D),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},e.prototype.getBoundingBox=function(e){return void 0===e&&(console.warn("spdengine-3D.Sphere3D: .getBoundingBox() target is now required"),e=new i.Box33D),e.set(this.center,this.center),e.expandByScalar(this.radius),e},e.prototype.applyMatrix4=function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},e.prototype.translate=function(e){return this.center.add(e),this},e.prototype.equals=function(e){return e.center.equals(this.center)&&e.radius===this.radius},e.arrays=[],e}();t.Sphere3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=n(31),s=n(46),c=n(42),l=n(48),u=n(49),p=n(30),d=n(33),h=n(35),f=n(27),m=n(51),g=function(e){function t(){var n=e.call(this)||this;return n.isGeometry=!0,n.rotateX=function(e){var t=d.Matrix43D.get();return t.makeRotationX(e),this.applyMatrix(t),d.Matrix43D.back(t),this},n.rotateY=function(e){var t=d.Matrix43D.get();return t.makeRotationY(e),this.applyMatrix(t),d.Matrix43D.back(t),this},n.rotateZ=function(e){var t=d.Matrix43D.get();return t.makeRotationZ(e),this.applyMatrix(t),d.Matrix43D.back(t),this},n.translate=function(e,t,n){var r=d.Matrix43D.get();return r.makeTranslation(e,t,n),this.applyMatrix(r),d.Matrix43D.back(r),this},n.scale=function(e,t,n){var r=d.Matrix43D.get();return r.makeScale(e,t,n),this.applyMatrix(r),d.Matrix43D.back(r),this},n.lookAt=function(e){var t=f.Object3D.get();t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix),f.Object3D.back(t)},n.center=function(){var e=a.Vector33D.get();return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),a.Vector33D.back(e),this},Object.defineProperty(n,"id",{value:t.geometryId+=2}),n.uuid=p._Math.generateUUID(),n.name="",n.type="Geometry3D",n.vertices=[],n.colors=[],n.faces=[],n.faceVertexUvs=[[]],n.morphTargets=[],n.morphNormals=[],n.skinWeights=[],n.skinIndices=[],n.lineDistances=[],n.boundingBox=null,n.boundingSphere=null,n.elementsNeedUpdate=!1,n.verticesNeedUpdate=!1,n.uvsNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.lineDistancesNeedUpdate=!1,n.groupsNeedUpdate=!1,n}return i(t,e),t.prototype.applyMatrix=function(e){for(var t=(new h.Matrix33D).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},t.prototype.fromBufferGeometry=function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes,i=r.get("position").array,o=void 0!==r.get("normal")?r.get("normal").array:void 0,l=void 0!==r.get("color")?r.get("color").array:void 0,u=void 0!==r.get("uv")?r.get("uv").array:void 0,p=void 0!==r.get("uv2")?r.get("uv2").array:void 0;void 0!==p&&(this.faceVertexUvs[1]=[]);for(var d=[],h=[],f=[],g=0,y=0;g<i.length;g+=3,y+=2)t.vertices.push(new a.Vector33D(i[g],i[g+1],i[g+2])),void 0!==o&&d.push(new a.Vector33D(o[g],o[g+1],o[g+2])),void 0!==l&&t.colors.push(new s.Color3D(l[g],l[g+1],l[g+2])),void 0!==u&&h.push(new c.Vector23D(u[y],u[y+1])),void 0!==p&&f.push(new c.Vector23D(p[y],p[y+1]));function v(e,n,r,i){var a=void 0!==o?[d[e].clone(),d[n].clone(),d[r].clone()]:[],s=void 0!==l?[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()]:[],c=new m.Face3D(e,n,r,a,s,i);t.faces.push(c),void 0!==u&&t.faceVertexUvs[0].push([h[e].clone(),h[n].clone(),h[r].clone()]),void 0!==p&&t.faceVertexUvs[1].push([f[e].clone(),f[n].clone(),f[r].clone()])}var x=e.groups;if(x.length>0)for(g=0;g<x.length;g++)for(var M=x[g],b=M.start,w=(y=b,b+M.count);y<w;y+=3)void 0!==n?v(n[y],n[y+1],n[y+2],M.materialIndex):v(y,y+1,y+2,M.materialIndex);else if(void 0!==n)for(g=0;g<n.length;g+=3)v(n[g],n[g+1],n[g+2]);else for(g=0;g<i.length/3;g+=3)v(g,g+1,g+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},t.prototype.normalize=function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new d.Matrix43D;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},t.prototype.computeFaceNormals=function(){for(var e=new a.Vector33D,t=new a.Vector33D,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],s=this.vertices[i.b],c=this.vertices[i.c];e.subVectors(c,s),t.subVectors(o,s),e.cross(t),e.normalize(),i.normal.copy(e)}},t.prototype.computeVertexNormals=function(e){var t,n,r,i,o,s;for(void 0===e&&(e=!0),s=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)s[t]=new a.Vector33D;if(e){var c=void 0,l=void 0,u=void 0,p=new a.Vector33D,d=new a.Vector33D;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],c=this.vertices[o.a],l=this.vertices[o.b],u=this.vertices[o.c],p.subVectors(u,l),d.subVectors(c,l),p.cross(d),s[o.a].add(p),s[o.b].add(p),s[o.c].add(p)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)s[(o=this.faces[r]).a].add(o.normal),s[o.b].add(o.normal),s[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)s[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var h=(o=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(s[o.a]),h[1].copy(s[o.b]),h[2].copy(s[o.c])):(h[0]=s[o.a].clone(),h[1]=s[o.b].clone(),h[2]=s[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},t.prototype.computeFlatVertexNormals=function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},t.prototype.computeMorphNormals=function(){var e,n,r,i,o;for(r=0,i=this.faces.length;r<i;r++)for((o=this.faces[r]).__originalFaceNormal?o.__originalFaceNormal.copy(o.normal):o.__originalFaceNormal=o.normal.clone(),o.__originalVertexNormals||(o.__originalVertexNormals=[]),e=0,n=o.vertexNormals.length;e<n;e++)o.__originalVertexNormals[e]?o.__originalVertexNormals[e].copy(o.vertexNormals[e]):o.__originalVertexNormals[e]=o.vertexNormals[e].clone();var s=new t;for(s.faces=this.faces,e=0,n=this.morphTargets.length;e<n;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var c=this.morphNormals[e].faceNormals,l=this.morphNormals[e].vertexNormals,u=void 0,p=void 0;for(r=0,i=this.faces.length;r<i;r++)u=new a.Vector33D,p={a:new a.Vector33D,b:new a.Vector33D,c:new a.Vector33D},c.push(u),l.push(p)}var d=this.morphNormals[e];s.vertices=this.morphTargets[e].vertices,s.computeFaceNormals(),s.computeVertexNormals();var h=void 0,f=void 0;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],h=d.faceNormals[r],f=d.vertexNormals[r],h.copy(o.normal),f.a.copy(o.vertexNormals[0]),f.b.copy(o.vertexNormals[1]),f.c.copy(o.vertexNormals[2])}for(r=0,i=this.faces.length;r<i;r++)(o=this.faces[r]).normal=o.__originalFaceNormal,o.vertexNormals=o.__originalVertexNormals},t.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new l.Box33D),this.boundingBox.setFromPoints(this.vertices)},t.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new u.Sphere3D),this.boundingSphere.setFromPoints(this.vertices)},t.prototype.merge=function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,c=e.faces,l=this.faceVertexUvs[0],u=e.faceVertexUvs[0],p=this.colors,d=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new h.Matrix33D).getNormalMatrix(t));for(var f=0,g=a.length;f<g;f++){var y=a[f].clone();void 0!==t&&y.applyMatrix4(t),o.push(y)}for(f=0,g=d.length;f<g;f++)p.push(d[f].clone());for(f=0,g=c.length;f<g;f++){var v=c[f],x=void 0,M=void 0,b=void 0,w=v.vertexNormals,A=v.vertexColors;(x=new m.Face3D(v.a+i,v.b+i,v.c+i)).normal.copy(v.normal),void 0!==r&&x.normal.applyMatrix3(r).normalize();for(var _=0,E=w.length;_<E;_++)M=w[_].clone(),void 0!==r&&M.applyMatrix3(r).normalize(),x.vertexNormals.push(M);x.color.copy(v.color);for(_=0,E=A.length;_<E;_++)b=A[_],x.vertexColors.push(b.clone());x.materialIndex=v.materialIndex+n,s.push(x)}for(f=0,g=u.length;f<g;f++){var D=u[f],S=[];if(void 0!==D){for(_=0,E=D.length;_<E;_++)S.push(D[_].clone());l.push(S)}}}else console.error("spdengine-3D.Geometry3D.merge(): geometry not an instance of spdengine-3D.Geometry3D.",e)},t.prototype.mergeMesh=function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("spdengine-3D.Geometry3D.mergeMesh(): mesh not an instance of spdengine-3D.Mesh3D.",e)},t.prototype.mergeVertices=function(){var e,t,n,r,i,o,a,s,c={},l=[],u=[],p=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===c[t=Math.round(e.x*p)+"_"+Math.round(e.y*p)+"_"+Math.round(e.z*p)]?(c[t]=n,l.push(this.vertices[n]),u[n]=l.length-1):u[n]=u[c[t]];var d=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=u[i.a],i.b=u[i.b],i.c=u[i.c],o=[i.a,i.b,i.c];for(var h=0;h<3;h++)if(o[h]===o[(h+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var f=d[n];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},t.prototype.setFromPoints=function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new a.Vector33D(r.x,r.y,r.z||0))}return this},t.prototype.sortFacesByMaterialIndex=function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);for(n=0;n<t;n++){var s=e[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},t.prototype.clone=function(){return(new this.constructor).copy(this)},t.prototype.copy=function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var c=e.colors;for(t=0,n=c.length;t<n;t++)this.colors.push(c[t].clone());var l=e.faces;for(t=0,n=l.length;t<n;t++)this.faces.push(l[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=u.length;r<i;r++){var p=u[r],d=[];for(o=0,a=p.length;o<a;o++){var h=p[o];d.push(h.clone())}this.faceVertexUvs[t].push(d)}}var f=e.morphTargets;for(t=0,n=f.length;t<n;t++){var m={name:void 0,vertices:[],normals:[]};if(m.name=f[t].name,void 0!==f[t].vertices)for(m.vertices=[],r=0,i=f[t].vertices.length;r<i;r++)m.vertices.push(f[t].vertices[r].clone());if(void 0!==f[t].normals)for(m.normals=[],r=0,i=f[t].normals.length;r<i;r++)m.normals.push(f[t].normals[r].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var y={vertexNormals:[],faceNormals:[]};if(void 0!==g[t].vertexNormals)for(y.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var v=g[t].vertexNormals[r],x={};x.a=v.a.clone(),x.b=v.b.clone(),x.c=v.c.clone(),y.vertexNormals.push(x)}if(void 0!==g[t].faceNormals)for(y.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)y.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(y)}var M=e.skinWeights;for(t=0,n=M.length;t<n;t++)this.skinWeights.push(M[t].clone());var b=e.skinIndices;for(t=0,n=b.length;t<n;t++)this.skinIndices.push(b[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var A=e.boundingBox;null!==A&&(this.boundingBox=A.clone());var _=e.boundingSphere;return null!==_&&(this.boundingSphere=_.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},t.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})},t.geometryId=100000001,t}(o.EventDispatcher3D);t.Geometry3D=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=n(46),o=function(){function e(e,t,n,o,a,s){this.a=e,this.b=t,this.c=n,this.normal=o&&o instanceof r.Vector33D?o:new r.Vector33D,this.vertexNormals=Array.isArray(o)?o:[],this.color=a&&a instanceof i.Color3D?a:new i.Color3D,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=void 0!==s?s:0}return e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this},e}();t.Face3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),a=function(e){function t(){var t=e.call(this)||this;return t.vertices=[],t.normals=[],t.colors=[],t.uvs=[],t.uvs2=[],t.groups=[],t.morphTargets={},t.skinWeights=[],t.skinIndices=[],t.boundingBox=null,t.boundingSphere=null,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t}return i(t,e),t.prototype.computeGroups=function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},t.prototype.fromGeometry=function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,a=i[0]&&i[0].length>0,s=i[1]&&i[1].length>0,c=e.morphTargets,l=c.length;if(l>0){t=[];for(var u=0;u<l;u++)t[u]={name:c[u].name,data:[]};this.morphTargets.position=t}var p,d=e.morphNormals,h=d.length;if(h>0){p=[];for(u=0;u<h;u++)p[u]={name:d[u].name,data:[]};this.morphTargets.normal=p}var f=e.skinIndices,m=e.skinWeights,g=f.length===r.length,y=m.length===r.length;r.length>0&&0===n.length&&console.error("spdengine-3D.DirectGeometry3D: Faceless geometries are not supported.");for(u=0;u<n.length;u++){var v=n[u];this.vertices.push(r[v.a],r[v.b],r[v.c]);var x=v.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var M=v.normal;this.normals.push(M,M,M)}var b,w=v.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var A=v.color;this.colors.push(A,A,A)}if(!0===a)void 0!==(b=i[0][u])?this.uvs.push(b[0],b[1],b[2]):(console.warn("spdengine-3D.DirectGeometry3D.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new o.Vector23D,new o.Vector23D,new o.Vector23D));if(!0===s)void 0!==(b=i[1][u])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("spdengine-3D.DirectGeometry3D.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new o.Vector23D,new o.Vector23D,new o.Vector23D));for(var _=0;_<l;_++){var E=c[_].vertices;t[_].data.push(E[v.a],E[v.b],E[v.c])}for(_=0;_<h;_++){var D=d[_].vertexNormals[u];p[_].data.push(D.a,D.b,D.c)}g&&this.skinIndices.push(f[v.a],f[v.b],f[v.c]),y&&this.skinWeights.push(m[v.a],m[v.b],m[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},t}(n(28).EventDispatcher3D);t.DirectGeometry3D=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),i=n(54),o=!1,a="4.4.0.5";console.warn("SPDEngine Version : "+a),t.getEngineVersion=function(){return a},t.isDebug=function(){return o};var s=12;function c(e){for(var t="",n="",i=0;i<e.length;i++){for(var o=e.charCodeAt(i).toString(2);o.length<16;)o="0"+o;n+=o}for(i=0;i<n.length;i+=6){for(var a=n.slice(i,i+6);a.length<6;)a+="0";t+=r._Math.BASE64KEYSTR[parseInt(a,2)]}for(;t.length%4!=0;)t+="=";return t}t.getSegment=function(){return s},t.arrayMin=function(e){if(0===e.length)return 1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]<t&&(t=e[n]);return t},t.arrayMax=function(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t},t.arraySum=function(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return t},t.btoa3D=c;var l,u=function(e){if(!l){l=new Map;for(var t=0;t<r._Math.BASE64KEYSTR.length;++t)l.set(r._Math.BASE64KEYSTR[t],t)}e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var n="",i="";for(t=0;t<e.length;t++){var o=l.get(e[t]);if(64===o)break;for(var a=o.toString(2);a.length<6;)a="0"+a;n+=a}for(t=0;t<n.length;t+=16){var s=n.slice(t,t+16);16===s.length&&(i+=String.fromCharCode(parseInt(s,2)))}return i};t.atob3D=u;var p,d=(p=[],function(e,t){e.forEach(function(e){e!==t&&p.push(e)}),e.length=0,e.push.apply(e,p),p.length=0});function h(e){return e=((255&e)<<8)+((65280&e)>>8)}function f(e){return e.charCodeAt(e.length-1)}t.arrayRemove=d,t.arrayHas=function(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},t.reverseModelId=h,t.getModelIdByGuid=function(e){if(8!==e.length){if(9===e.length||9===(e=u(e)).length)return h(e.charCodeAt(e.length-1));console.error("uuid type llegality.")}else console.error("uuid type llegality.")},t.setGuidNewModelId=function(e,t,n){if(8!==e.length){if(9===e.length||9===(e=u(e)).length)return e=e.slice(0,8)+String.fromCharCode(h(t)),n?m(e):e;console.error("uuid type llegality.")}else console.error("uuid type llegality.")},t.getCompomentType=f,t.unicodeToGB18030=function(e){return i.UnicodeToGB18030MapTable[e]};var m=c;t.btoa=m;var g=u;t.atob=g;var y=f;t.getNewModelIdByCompId=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UnicodeToGB18030MapTable={164:41448,167:41452,168:41383,176:41443,177:41408,183:41380,215:41409,224:43172,225:43170,232:43176,233:43174,234:43194,236:43180,237:43178,242:43184,243:43182,247:41410,249:43188,250:43186,252:43193,257:43169,275:43173,283:43175,299:43177,324:43197,328:43198,333:43181,363:43185,462:43171,464:43179,466:43183,468:43187,470:43189,472:43190,474:43191,476:43192,505:43199,593:43195,609:43200,711:41382,713:41381,714:43072,715:43073,729:43074,913:42657,914:42658,915:42659,916:42660,917:42661,918:42662,919:42663,920:42664,921:42665,922:42666,923:42667,924:42668,925:42669,926:42670,927:42671,928:42672,929:42673,931:42674,932:42675,933:42676,934:42677,935:42678,936:42679,937:42680,945:42689,946:42690,947:42691,948:42692,949:42693,950:42694,951:42695,952:42696,953:42697,954:42698,955:42699,956:42700,957:42701,958:42702,959:42703,960:42704,961:42705,963:42706,964:42707,965:42708,966:42709,967:42710,968:42711,969:42712,1025:42919,1040:42913,1041:42914,1042:42915,1043:42916,1044:42917,1045:42918,1046:42920,1047:42921,1048:42922,1049:42923,1050:42924,1051:42925,1052:42926,1053:42927,1054:42928,1055:42929,1056:42930,1057:42931,1058:42932,1059:42933,1060:42934,1061:42935,1062:42936,1063:42937,1064:42938,1065:42939,1066:42940,1067:42941,1068:42942,1069:42943,1070:42944,1071:42945,1072:42961,1073:42962,1074:42963,1075:42964,1076:42965,1077:42966,1078:42968,1079:42969,1080:42970,1081:42971,1082:42972,1083:42973,1084:42974,1085:42975,1086:42976,1087:42977,1088:42978,1089:42979,1090:42980,1091:42981,1092:42982,1093:42983,1094:42984,1095:42985,1096:42986,1097:42987,1098:42988,1099:42989,1100:42990,1101:42991,1102:42992,1103:42993,1105:42967,7743:43196,8208:43356,8211:43075,8212:41386,8213:43076,8214:41388,8216:41390,8217:41391,8220:41392,8221:41393,8229:43077,8230:41389,8240:41451,8242:41444,8243:41445,8245:43078,8251:41465,8364:41699,8451:41446,8453:43079,8457:43080,8470:41453,8481:43353,8544:41713,8545:41714,8546:41715,8547:41716,8548:41717,8549:41718,8550:41719,8551:41720,8552:41721,8553:41722,8554:41723,8555:41724,8560:41633,8561:41634,8562:41635,8563:41636,8564:41637,8565:41638,8566:41639,8567:41640,8568:41641,8569:41642,8592:41467,8593:41468,8594:41466,8595:41469,8598:43081,8599:43082,8600:43083,8601:43084,8712:41418,8719:41415,8721:41414,8725:43085,8730:41420,8733:41432,8734:41438,8735:43086,8736:41423,8739:43087,8741:41422,8743:41412,8744:41413,8745:41417,8746:41416,8747:41426,8750:41427,8756:41440,8757:41439,8758:41411,8759:41419,8765:41431,8776:41430,8780:41429,8786:43088,8800:41433,8801:41428,8804:41436,8805:41437,8806:43089,8807:43090,8814:41434,8815:41435,8853:43154,8857:41425,8869:41421,8895:43091,8978:41424,9312:41689,9313:41690,9314:41691,9315:41692,9316:41693,9317:41694,9318:41695,9319:41696,9320:41697,9321:41698,9332:41669,9333:41670,9334:41671,9335:41672,9336:41673,9337:41674,9338:41675,9339:41676,9340:41677,9341:41678,9342:41679,9343:41680,9344:41681,9345:41682,9346:41683,9347:41684,9348:41685,9349:41686,9350:41687,9351:41688,9352:41649,9353:41650,9354:41651,9355:41652,9356:41653,9357:41654,9358:41655,9359:41656,9360:41657,9361:41658,9362:41659,9363:41660,9364:41661,9365:41662,9366:41663,9367:41664,9368:41665,9369:41666,9370:41667,9371:41668,9472:43428,9473:43429,9474:43430,9475:43431,9476:43432,9477:43433,9478:43434,9479:43435,9480:43436,9481:43437,9482:43438,9483:43439,9484:43440,9485:43441,9486:43442,9487:43443,9488:43444,9489:43445,9490:43446,9491:43447,9492:43448,9493:43449,9494:43450,9495:43451,9496:43452,9497:43453,9498:43454,9499:43455,9500:43456,9501:43457,9502:43458,9503:43459,9504:43460,9505:43461,9506:43462,9507:43463,9508:43464,9509:43465,9510:43466,9511:43467,9512:43468,9513:43469,9514:43470,9515:43471,9516:43472,9517:43473,9518:43474,9519:43475,9520:43476,9521:43477,9522:43478,9523:43479,9524:43480,9525:43481,9526:43482,9527:43483,9528:43484,9529:43485,9530:43486,9531:43487,9532:43488,9533:43489,9534:43490,9535:43491,9536:43492,9537:43493,9538:43494,9539:43495,9540:43496,9541:43497,9542:43498,9543:43499,9544:43500,9545:43501,9546:43502,9547:43503,9552:43092,9553:43093,9554:43094,9555:43095,9556:43096,9557:43097,9558:43098,9559:43099,9560:43100,9561:43101,9562:43102,9563:43103,9564:43104,9565:43105,9566:43106,9567:43107,9568:43108,9569:43109,9570:43110,9571:43111,9572:43112,9573:43113,9574:43114,9575:43115,9576:43116,9577:43117,9578:43118,9579:43119,9580:43120,9581:43121,9582:43122,9583:43123,9584:43124,9585:43125,9586:43126,9587:43127,9601:43128,9602:43129,9603:43130,9604:43131,9605:43132,9606:43133,9607:43134,9608:43136,9609:43137,9610:43138,9611:43139,9612:43140,9613:43141,9614:43142,9615:43143,9619:43144,9620:43145,9621:43146,9632:41462,9633:41461,9650:41464,9651:41463,9660:43147,9661:43148,9670:41460,9671:41459,9675:41456,9678:41458,9679:41457,9698:43149,9699:43150,9700:43151,9701:43152,9733:41455,9734:41454,9737:43153,9792:41442,9794:41441,11905:65104,11908:65108,11912:65111,11915:65112,11916:65117,11927:65118,11943:65131,11946:65134,11950:65137,11955:65139,11958:65140,11959:65141,11963:65145,11978:65156,12272:43402,12273:43403,12274:43404,12275:43405,12276:43406,12277:43407,12278:43408,12279:43409,12280:43410,12281:43411,12282:43412,12283:43413,12288:41377,12289:41378,12290:41379,12291:41384,12293:41385,12294:43365,12295:43414,12296:41396,12297:41397,12298:41398,12299:41399,12300:41400,12301:41401,12302:41402,12303:41403,12304:41406,12305:41407,12306:43155,12307:41470,12308:41394,12309:41395,12310:41404,12311:41405,12317:43156,12318:43157,12321:43328,12322:43329,12323:43330,12324:43331,12325:43332,12326:43333,12327:43334,12328:43335,12329:43336,12350:43401,12353:42145,12354:42146,12355:42147,12356:42148,12357:42149,12358:42150,12359:42151,12360:42152,12361:42153,12362:42154,12363:42155,12364:42156,12365:42157,12366:42158,12367:42159,12368:42160,12369:42161,12370:42162,12371:42163,12372:42164,12373:42165,12374:42166,12375:42167,12376:42168,12377:42169,12378:42170,12379:42171,12380:42172,12381:42173,12382:42174,12383:42175,12384:42176,12385:42177,12386:42178,12387:42179,12388:42180,12389:42181,12390:42182,12391:42183,12392:42184,12393:42185,12394:42186,12395:42187,12396:42188,12397:42189,12398:42190,12399:42191,12400:42192,12401:42193,12402:42194,12403:42195,12404:42196,12405:42197,12406:42198,12407:42199,12408:42200,12409:42201,12410:42202,12411:42203,12412:42204,12413:42205,12414:42206,12415:42207,12416:42208,12417:42209,12418:42210,12419:42211,12420:42212,12421:42213,12422:42214,12423:42215,12424:42216,12425:42217,12426:42218,12427:42219,12428:42220,12429:42221,12430:42222,12431:42223,12432:42224,12433:42225,12434:42226,12435:42227,12443:43361,12444:43362,12445:43366,12446:43367,12449:42401,12450:42402,12451:42403,12452:42404,12453:42405,12454:42406,12455:42407,12456:42408,12457:42409,12458:42410,12459:42411,12460:42412,12461:42413,12462:42414,12463:42415,12464:42416,12465:42417,12466:42418,12467:42419,12468:42420,12469:42421,12470:42422,12471:42423,12472:42424,12473:42425,12474:42426,12475:42427,12476:42428,12477:42429,12478:42430,12479:42431,12480:42432,12481:42433,12482:42434,12483:42435,12484:42436,12485:42437,12486:42438,12487:42439,12488:42440,12489:42441,12490:42442,12491:42443,12492:42444,12493:42445,12494:42446,12495:42447,12496:42448,12497:42449,12498:42450,12499:42451,12500:42452,12501:42453,12502:42454,12503:42455,12504:42456,12505:42457,12506:42458,12507:42459,12508:42460,12509:42461,12510:42462,12511:42463,12512:42464,12513:42465,12514:42466,12515:42467,12516:42468,12517:42469,12518:42470,12519:42471,12520:42472,12521:42473,12522:42474,12523:42475,12524:42476,12525:42477,12526:42478,12527:42479,12528:42480,12529:42481,12530:42482,12531:42483,12532:42484,12533:42485,12534:42486,12540:43360,12541:43363,12542:43364,12549:43205,12550:43206,12551:43207,12552:43208,12553:43209,12554:43210,12555:43211,12556:43212,12557:43213,12558:43214,12559:43215,12560:43216,12561:43217,12562:43218,12563:43219,12564:43220,12565:43221,12566:43222,12567:43223,12568:43224,12569:43225,12570:43226,12571:43227,12572:43228,12573:43229,12574:43230,12575:43231,12576:43232,12577:43233,12578:43234,12579:43235,12580:43236,12581:43237,12582:43238,12583:43239,12584:43240,12585:43241,12832:41701,12833:41702,12834:41703,12835:41704,12836:41705,12837:41706,12838:41707,12839:41708,12840:41709,12841:41710,12849:43354,12963:43337,13198:43338,13199:43339,13212:43340,13213:43341,13214:43342,13217:43343,13252:43344,13262:43345,13265:43346,13266:43347,13269:43348,13383:65110,13427:65109,13726:65114,13838:65116,13850:65115,14616:65120,14702:65119,14799:65122,14800:65125,14815:65123,14963:65124,15182:65128,15470:65129,15584:65130,16470:65135,16735:65136,17207:65138,17324:65144,17329:65143,17373:65146,17622:65147,17996:65149,18017:65148,18211:65152,18217:65153,18300:65154,18317:65155,18759:65157,18810:65158,18813:65159,18818:65160,18819:65161,18821:65162,18822:65163,18843:65165,18847:65164,18870:65167,18871:65166,19575:65174,19615:65171,19616:65172,19617:65173,19618:65175,19619:65170,19731:65176,19732:65177,19733:65178,19734:65179,19735:65180,19736:65181,19737:65182,19886:65183,19968:53947,19969:46753,19970:33088,19971:50911,19972:33089,19973:33090,19974:33091,19975:52722,19976:54729,19977:51453,19978:51663,19979:53186,19980:55458,19981:45755,19982:54251,19983:33092,19984:55460,19985:46067,19986:33093,19987:55208,19988:51154,19989:55463,19990:51904,19991:33094,19992:51184,19993:45563,19994:53941,19995:46292,19996:46763,19997:52159,19998:55465,19999:33095,20000:33096,20001:33097,20002:46762,20003:33098,20004:49597,20005:53711,20006:33099,20007:51621,20008:55469,20009:33100,20010:47350,20011:53694,20012:58332,20013:54992,20014:33101,20015:33102,20016:47073,20017:33103,20018:46254,20019:33104,20020:49625,20021:33105,20022:55484,20023:33106,20024:52712,20025:46500,20026:52906,20027:55031,20028:33107,20029:49398,20030:48857,20031:55471,20032:33108,20033:33109,20034:33110,20035:50379,20036:33111,20037:48835,20038:33112,20039:55473,20040:50100,20041:53989,20042:33113,20043:54958,20044:52954,20045:54695,20046:47861,20047:47014,20048:49366,20049:33114,20050:50873,20051:50642,20052:51143,20053:33115,20054:47572,20055:33116,20056:46027,20057:53970,20058:33117,20059:33118,20060:55487,20061:48837,20062:50930,20063:53938,20064:53168,20065:53223,20066:33119,20067:33120,20068:33121,20069:33122,20070:51945,20071:33123,20072:33124,20073:55488,20074:33125,20075:33126,20076:33127,20077:33128,20078:33129,20079:33130,20080:49906,20081:49874,20082:33131,20083:51433,20084:33132,20085:33133,20086:33134,20087:33135,20088:33136,20089:33137,20090:33138,20091:33139,20092:33140,20093:33141,20094:51116,20095:33142,20096:33143,20097:33144,20098:33145,20099:33146,20100:33147,20101:33148,20102:49611,20103:33149,20104:54248,20105:54777,20106:33150,20107:51906,20108:46846,20109:55457,20110:54234,20111:49143,20112:33152,20113:54470,20114:48037,20115:55489,20116:52965,20117:48814,20118:33153,20119:33154,20120:55464,20121:33155,20122:53703,20123:53417,20124:33156,20125:33157,20126:33158,20127:55485,20128:55791,20129:52726,20130:49082,20131:33159,20132:48571,20133:47781,20134:53984,20135:45818,20136:47840,20137:50358,20138:33160,20139:53229,20140:48809,20141:52644,20142:49601,20143:33161,20144:33162,20145:33163,20146:51159,20147:55793,20148:33164,20149:55796,20150:33165,20151:33166,20152:33167,20153:33168,20154:51403,20155:55529,20156:33169,20157:33170,20158:33171,20159:53978,20160:51890,20161:51402,20162:55532,20163:55530,20164:55494,20165:48630,20166:50893,20167:46064,20168:33172,20169:55531,20170:48625,20171:48617,20172:33173,20173:51412,20174:46291,20175:33174,20176:33175,20177:49880,20178:33176,20179:45782,20180:55248,20181:51915,20182:52219,20183:54732,20184:47286,20185:53193,20186:33177,20187:33178,20188:33179,20189:55770,20190:55536,20191:51114,20192:33180,20193:55534,20194:33181,20195:46330,20196:49646,20197:53972,20198:33182,20199:33183,20200:55533,20201:33184,20202:53959,20203:55535,20204:50119,20205:33185,20206:33186,20207:33187,20208:53750,20209:33188,20210:55001,20211:55538,20212:33189,20213:55541,20214:48382,20215:48347,20216:33190,20217:33191,20218:33192,20219:51406,20220:33193,20221:47069,20222:33194,20223:47042,20224:33195,20225:50931,20226:33196,20227:33197,20228:33198,20229:33199,20230:33200,20231:33201,20232:33202,20233:55544,20234:53953,20235:33203,20236:33204,20237:52969,20238:48319,20239:47100,20240:47013,20241:53469,20242:33205,20243:33206,20244:33207,20245:33208,20246:33209,20247:55002,20248:54213,20249:48111,20250:48097,20251:55537,20252:33210,20253:33211,20254:51617,20255:52912,20256:46251,20257:33212,20258:55539,20259:33213,20260:51659,20261:55542,20262:49879,20263:55543,20264:33214,20265:33215,20266:52913,20267:55545,20268:33216,20269:33217,20270:33218,20271:45742,20272:47552,20273:33219,20274:55715,20275:33220,20276:45289,20277:33221,20278:49638,20279:33222,20280:51692,20281:33223,20282:52165,20283:33224,20284:52166,20285:55716,20286:33225,20287:33226,20288:33227,20289:33228,20290:33229,20291:46568,20292:33230,20293:33231,20294:46507,20295:33232,20296:33233,20297:33234,20298:33235,20299:33236,20300:33237,20301:52923,20302:46541,20303:55201,20304:55284,20305:54227,20306:33238,20307:52453,20308:33239,20309:47822,20310:33240,20311:55714,20312:55772,20313:54240,20314:55549,20315:47088,20316:55287,20317:55550,20318:55546,20319:55713,20320:50403,20321:33241,20322:33242,20323:54198,20324:55540,20325:55773,20326:33243,20327:55547,20328:33244,20329:50661,20330:33245,20331:33246,20332:49360,20333:33247,20334:33248,20335:53744,20336:45275,20337:33249,20338:33250,20339:48337,20340:55718,20341:33251,20342:55717,20343:33252,20344:33253,20345:33254,20346:33255,20347:55724,20348:55726,20349:33256,20350:55723,20351:51897,20352:33257,20353:33258,20354:33259,20355:55721,20356:54966,20357:33260,20358:33261,20359:33262,20360:46046,20361:55720,20362:33263,20363:49405,20364:33264,20365:51916,20366:33265,20367:55722,20368:33266,20369:55719,20370:33267,20371:33268,20372:55728,20373:33269,20374:33270,20375:46769,20376:33271,20377:33272,20378:33273,20379:47529,20380:33274,20381:53952,20382:33275,20383:33276,20384:53184,20385:33277,20386:33278,20387:49858,20388:33344,20389:48580,20390:54764,20391:45792,20392:51144,20393:49131,20394:55725,20395:33345,20396:55727,20397:33346,20398:52970,20399:47854,20400:33347,20401:33348,20402:33349,20403:33350,20404:33351,20405:51158,20406:33352,20407:33353,20408:33354,20409:33355,20410:33356,20411:33357,20412:33358,20413:33359,20414:33360,20415:45539,20416:33361,20417:33362,20418:33363,20419:46297,20420:46829,20421:55732,20422:33364,20423:33365,20424:33366,20425:33367,20426:49057,20427:33368,20428:33369,20429:33370,20430:55774,20431:51150,20432:49406,20433:55736,20434:33371,20435:33372,20436:33373,20437:33374,20438:33375,20439:52183,20440:47101,20441:33376,20442:55733,20443:33377,20444:55735,20445:45475,20446:54241,20447:55737,20448:33378,20449:53445,20450:33379,20451:55734,20452:33380,20453:33381,20454:55729,20455:33382,20456:55730,20457:49577,20458:55731,20459:33383,20460:33384,20461:48371,20462:53470,20463:47273,20464:33385,20465:48867,20466:33386,20467:55741,20468:33387,20469:33388,20470:33389,20471:33390,20472:55738,20473:33391,20474:45235,20475:33392,20476:33393,20477:33394,20478:55746,20479:33395,20480:33396,20481:33397,20482:33398,20483:33399,20484:33400,20485:33401,20486:33402,20487:33403,20488:33404,20489:33405,20490:33406,20491:33408,20492:55748,20493:45494,20494:33409,20495:55743,20496:33410,20497:33411,20498:46521,20499:33412,20500:48883,20501:33413,20502:33414,20503:33415,20504:52424,20505:47858,20506:53968,20507:33416,20508:55747,20509:33417,20510:33418,20511:48616,20512:33419,20513:45995,20514:33420,20515:33421,20516:33422,20517:55749,20518:48875,20519:33423,20520:55750,20521:55739,20522:50399,20523:33424,20524:55742,20525:55745,20526:55744,20527:33425,20528:33426,20529:33427,20530:33428,20531:33429,20532:33430,20533:33431,20534:33432,20535:33433,20536:33434,20537:33435,20538:54702,20539:33436,20540:54965,20541:33437,20542:51171,20543:33438,20544:33439,20545:33440,20546:33441,20547:55752,20548:33442,20549:33443,20550:33444,20551:48345,20552:55754,20553:33445,20554:33446,20555:33447,20556:55740,20557:33448,20558:55755,20559:50859,20560:33449,20561:33450,20562:33451,20563:33452,20564:33453,20565:55753,20566:33454,20567:33455,20568:33456,20569:33457,20570:55286,20571:33458,20572:52643,20573:33459,20574:33460,20575:33461,20576:33462,20577:33463,20578:33464,20579:33465,20580:33466,20581:48545,20582:33467,20583:33468,20584:33469,20585:33470,20586:33471,20587:33472,20588:55756,20589:33473,20590:33474,20591:33475,20592:33476,20593:33477,20594:33478,20595:33479,20596:33480,20597:33481,20598:50620,20599:52661,20600:33482,20601:33483,20602:33484,20603:55757,20604:33485,20605:33486,20606:55751,20607:45989,20608:49150,20609:33487,20610:33488,20611:33489,20612:33490,20613:47285,20614:33491,20615:33492,20616:49404,20617:33493,20618:33494,20619:33495,20620:33496,20621:45304,20622:33497,20623:33498,20624:33499,20625:33500,20626:33501,20627:33502,20628:33503,20629:33504,20630:33505,20631:33506,20632:33507,20633:33508,20634:33509,20635:33510,20636:33511,20637:33512,20638:33513,20639:33514,20640:33515,20641:33516,20642:33517,20643:46326,20644:33518,20645:55758,20646:33519,20647:55759,20648:46242,20649:55760,20650:33520,20651:33521,20652:46303,20653:33522,20654:33523,20655:33524,20656:33525,20657:33526,20658:45249,20659:33527,20660:33528,20661:33529,20662:33530,20663:33531,20664:33532,20665:33533,20666:55761,20667:51637,20668:33534,20669:33600,20670:33601,20671:33602,20672:33603,20673:33604,20674:33605,20675:33606,20676:33607,20677:33608,20678:33609,20679:33610,20680:33611,20681:33612,20682:33613,20683:33614,20684:33615,20685:33616,20686:33617,20687:53233,20688:33618,20689:33619,20690:33620,20691:33621,20692:33622,20693:33623,20694:55762,20695:33624,20696:33625,20697:33626,20698:49605,20699:33627,20700:33628,20701:33629,20702:33630,20703:33631,20704:33632,20705:33633,20706:33634,20707:33635,20708:33636,20709:33637,20710:55766,20711:51630,20712:33638,20713:33639,20714:33640,20715:33641,20716:55765,20717:55764,20718:55767,20719:33642,20720:33643,20721:33644,20722:33645,20723:52187,20724:33646,20725:48553,20726:33647,20727:33648,20728:33649,20729:33650,20730:33651,20731:50855,20732:33652,20733:33653,20734:33654,20735:33655,20736:33656,20737:33657,20738:33658,20739:33659,20740:33660,20741:33661,20742:55763,20743:55768,20744:33662,20745:33664,20746:33665,20747:55769,20748:33666,20749:33667,20750:33668,20751:33669,20752:33670,20753:33671,20754:51429,20755:33672,20756:33673,20757:33674,20758:33675,20759:33676,20760:33677,20761:33678,20762:33679,20763:33680,20764:33681,20765:33682,20766:33683,20767:33684,20768:33685,20769:49372,20770:33686,20771:33687,20772:33688,20773:33689,20774:33690,20775:33691,20776:33692,20777:33693,20778:33694,20779:33695,20780:33696,20781:33697,20782:33698,20783:33699,20784:33700,20785:33701,20786:33702,20787:33703,20788:33704,20789:33705,20790:33706,20791:33707,20792:33708,20793:33709,20794:33710,20795:33711,20796:33712,20797:33713,20798:33714,20799:46841,20800:55459,20801:54474,20802:33715,20803:54442,20804:53462,20805:46052,20806:54743,20807:33716,20808:53192,20809:47586,20810:33717,20811:49099,20812:33718,20813:50146,20814:33719,20815:33720,20816:33721,20817:46802,20818:33722,20819:33723,20820:52675,20821:55790,20822:55792,20823:33724,20824:33725,20825:33726,20826:46515,20827:33727,20828:46773,20829:33728,20830:33729,20831:33730,20832:33731,20833:33732,20834:48804,20835:33733,20836:33734,20837:51435,20838:33735,20839:33736,20840:51371,20841:33737,20842:33738,20843:45259,20844:47531,20845:49657,20846:55778,20847:33739,20848:49340,20849:47538,20850:33740,20851:47576,20852:53451,20853:45560,20854:50916,20855:48863,20856:46564,20857:55240,20858:33741,20859:53752,20860:48358,20861:51934,20862:33742,20863:33743,20864:48317,20865:55782,20866:55527,20867:33744,20868:33745,20869:50394,20870:33746,20871:33747,20872:47316,20873:51389,20874:33748,20875:33749,20876:45793,20877:54489,20878:33750,20879:33751,20880:33752,20881:33753,20882:50096,20883:33754,20884:33755,20885:50145,20886:55970,20887:51423,20888:33756,20889:53428,20890:33757,20891:48892,20892:50601,20893:33758,20894:33759,20895:33760,20896:47578,20897:33761,20898:55971,20899:33762,20900:54441,20901:55972,20902:33763,20903:33764,20904:33765,20905:33766,20906:33767,20907:55803,20908:46764,20909:33768,20910:33769,20911:47083,20912:45561,20913:55804,20914:46053,20915:48886,20916:33770,20917:49142,20918:53937,20919:49380,20920:33771,20921:33772,20922:33773,20923:46771,20924:55806,20925:55805,20926:33774,20927:33775,20928:48827,20929:33776,20930:33777,20931:33778,20932:50912,20933:33779,20934:55228,20935:55969,20936:33780,20937:49593,20938:33781,20939:46578,20940:49640,20941:33782,20942:33783,20943:48373,20944:33784,20945:46293,20946:33785,20947:33786,20948:33787,20949:33788,20950:33789,20951:33790,20952:33856,20953:33857,20954:33858,20955:49629,20956:33859,20957:50429,20958:33860,20959:33861,20960:48312,20961:47026,20962:33862,20963:33863,20964:47087,20965:33864,20966:33865,20967:33866,20968:33867,20969:33868,20970:33869,20971:55788,20972:33870,20973:50878,20974:33871,20975:49069,20976:48075,20977:33872,20978:33873,20979:46538,20980:33874,20981:56265,20982:53463,20983:33875,20984:52665,20985:45244,20986:46070,20987:48119,20988:56266,20989:47791,20990:33876,20991:54500,20992:46518,20993:46579,20994:55510,20995:51408,20996:33877,20997:33878,20998:47062,20999:51152,21000:55511,21001:33879,21002:49071,21003:33880,21004:33881,21005:56251,21006:55512,21007:33882,21008:33883,21009:53452,21010:48046,21011:33884,21012:33885,21013:33886,21014:60350,21015:49616,21016:49653,21017:54514,21018:47317,21019:46260,21020:33887,21021:46069,21022:33888,21023:33889,21024:51646,21025:33890,21026:33891,21027:33892,21028:50640,21029:33893,21030:33894,21031:33895,21032:50649,21033:49403,21034:33896,21035:45552,21036:33897,21037:55513,21038:47566,21039:33898,21040:46525,21041:33899,21042:33900,21043:55514,21044:33901,21045:33902,21046:54982,21047:52130,21048:51375,21049:51634,21050:46284,21051:49100,21052:33903,21053:47604,21054:33904,21055:55515,21056:55516,21057:46823,21058:48321,21059:52458,21060:33905,21061:33906,21062:33907,21063:33908,21064:33909,21065:33910,21066:53239,21067:33911,21068:55517,21069:51120,21070:33912,21071:33913,21072:47568,21073:48547,21074:33914,21075:33915,21076:52446,21077:33916,21078:50890,21079:33917,21080:33918,21081:33920,21082:33921,21083:33922,21084:55520,21085:33923,21086:55518,21087:33924,21088:33925,21089:55519,21090:33926,21091:33927,21092:33928,21093:45310,21094:33929,21095:48871,21096:33930,21097:51875,21098:48372,21099:33931,21100:33932,21101:33933,21102:33934,21103:47281,21104:33935,21105:33936,21106:47342,21107:33937,21108:33938,21109:33939,21110:33940,21111:33941,21112:33942,21113:33943,21114:33944,21115:33945,21116:33946,21117:55522,21118:33947,21119:48587,21120:33948,21121:55524,21122:55523,21123:33949,21124:33950,21125:33951,21126:33952,21127:33953,21128:50684,21129:33954,21130:33955,21131:33956,21132:33957,21133:33958,21134:33959,21135:33960,21136:55525,21137:33961,21138:33962,21139:55526,21140:33963,21141:33964,21142:33965,21143:33966,21144:33967,21145:33968,21146:33969,21147:49574,21148:33970,21149:51376,21150:45292,21151:47526,21152:48339,21153:52977,21154:56253,21155:49619,21156:33971,21157:33972,21158:33973,21159:33974,21160:46767,21161:55034,21162:50604,21163:48601,21164:56254,21165:56255,21166:33975,21167:33976,21168:33977,21169:49400,21170:48802,21171:49357,21172:33978,21173:33979,21174:33980,21175:33981,21176:33982,21177:33983,21178:33984,21179:33985,21180:33986,21181:33987,21182:56256,21183:51910,21184:33988,21185:33989,21186:33990,21187:45738,21188:33991,21189:33992,21190:33993,21191:54210,21192:33994,21193:50147,21194:33995,21195:53675,21196:33996,21197:33997,21198:33998,21199:33999,21200:56258,21201:34e3,21202:49365,21203:34001,21204:34002,21205:34003,21206:56259,21207:34004,21208:49073,21209:34005,21210:34006,21211:34007,21212:34008,21213:34009,21214:34010,21215:50364,21216:34011,21217:34012,21218:34013,21219:34014,21220:51162,21221:34015,21222:34016,21223:34017,21224:34018,21225:34019,21226:34020,21227:34021,21228:34022,21229:34023,21230:34024,21231:34025,21232:56260,21233:34026,21234:34027,21235:34028,21236:34029,21237:34030,21238:34031,21239:34032,21240:34033,21241:55784,21242:51671,21243:34034,21244:34035,21245:34036,21246:47540,21247:52976,21248:54472,21249:34037,21250:34038,21251:34039,21252:34040,21253:45308,21254:46290,21255:34041,21256:53465,21257:34042,21258:34043,21259:34044,21260:34045,21261:55785,21262:34046,21263:57035,21264:55787,21265:34112,21266:34113,21267:34114,21268:34115,21269:55472,21270:48047,21271:45489,21272:34116,21273:46039,21274:55502,21275:34117,21276:34118,21277:54481,21278:34119,21279:34120,21280:48563,21281:49135,21282:34121,21283:53179,21284:34122,21285:34123,21286:55504,21287:34124,21288:34125,21289:34126,21290:47051,21291:34127,21292:34128,21293:34129,21294:55505,21295:34130,21296:34131,21297:34132,21298:34133,21299:34134,21300:34135,21301:34136,21302:34137,21303:34138,21304:34139,21305:50853,21306:51192,21307:53949,21308:34140,21309:34141,21310:55506,21311:50404,21312:34142,21313:51886,21314:34143,21315:51111,21316:34144,21317:55462,21318:34145,21319:51709,21320:52967,21321:48092,21322:45291,21323:34146,21324:34147,21325:34148,21326:48042,21327:53421,21328:34149,21329:45488,21330:55268,21331:55231,21332:34150,21333:46501,21334:49908,21335:50383,21336:34151,21337:34152,21338:45737,21339:34153,21340:45751,21341:34154,21342:45541,21343:57266,21344:54716,21345:49064,21346:49836,21347:55509,21348:49841,21349:34155,21350:55508,21351:52948,21352:34156,21353:56032,21354:34157,21355:52928,21356:34158,21357:34159,21358:55476,21359:50094,21360:54177,21361:52899,21362:34160,21363:48308,21364:51380,21365:49873,21366:34161,21367:48877,21368:53430,21369:34162,21370:56033,21371:34163,21372:34164,21373:34165,21374:34166,21375:51172,21376:34167,21377:34168,21378:45991,21379:34169,21380:46834,21381:52476,21382:49402,21383:34170,21384:34171,21385:49399,21386:34172,21387:53689,21388:53729,21389:55495,21390:34173,21391:34174,21392:34176,21393:34177,21394:34178,21395:34179,21396:34180,21397:45790,21398:34181,21399:34182,21400:49381,21401:34183,21402:47857,21403:34184,21404:34185,21405:55496,21406:34186,21407:54445,21408:34187,21409:34188,21410:53217,21411:55497,21412:34189,21413:55498,21414:53187,21415:34190,21416:46072,21417:48839,21418:34191,21419:34192,21420:34193,21421:34194,21422:55499,21423:34195,21424:34196,21425:34197,21426:34198,21427:34199,21428:34200,21429:34201,21430:56268,21431:34202,21432:34203,21433:34204,21434:34205,21435:51365,21436:34206,21437:34207,21438:34208,21439:53208,21440:34209,21441:51454,21442:45774,21443:34210,21444:34211,21445:34212,21446:34213,21447:34214,21448:54230,21449:45798,21450:48304,21451:54225,21452:52139,21453:47028,21454:34215,21455:34216,21456:34217,21457:47010,21458:34218,21459:34219,21460:51941,21461:34220,21462:51361,21463:51932,21464:45540,21465:53488,21466:34221,21467:50641,21468:34222,21469:34223,21470:34224,21471:56261,21472:46590,21473:34225,21474:34226,21475:49114,21476:47557,21477:48868,21478:49645,21479:34227,21480:57270,21481:57269,21482:54971,21483:48592,21484:54745,21485:45256,21486:46755,21487:49097,21488:52392,21489:57267,21490:51895,21491:54226,21492:34228,21493:55503,21494:53942,21495:47813,21496:52158,21497:52414,21498:34229,21499:57271,21500:46576,21501:57268,21502:34230,21503:34231,21504:34232,21505:54261,21506:34233,21507:46036,21508:47351,21509:34234,21510:57274,21511:34235,21512:47823,21513:48298,21514:46581,21515:34236,21516:52652,21517:50171,21518:47859,21519:49396,21520:52674,21521:53234,21522:57272,21523:53189,21524:34237,21525:49856,21526:57273,21527:49904,21528:34238,21529:34239,21530:34240,21531:48893,21532:34241,21533:49631,21534:52684,21535:54007,21536:47053,21537:57281,21538:34242,21539:57284,21540:34243,21541:34244,21542:47089,21543:45257,21544:46806,21545:47060,21546:34245,21547:47788,21548:52477,21549:49108,21550:52145,21551:50932,21552:34246,21553:54952,21554:57285,21555:34247,21556:52962,21557:46003,21558:34248,21559:34249,21560:52988,21561:46261,21562:34250,21563:52935,21564:47856,21565:34251,21566:52961,21567:34252,21568:53693,21569:34253,21570:34254,21571:57280,21572:34255,21573:34256,21574:46324,21575:34257,21576:46026,21577:34258,21578:47334,21579:57275,21580:34259,21581:34260,21582:34261,21583:34262,21584:50373,21585:34263,21586:57276,21587:57277,21588:57278,21589:50619,21590:57279,21591:57282,21592:54449,21593:57283,21594:34264,21595:51130,21596:52952,21597:34265,21598:34266,21599:34267,21600:34268,21601:34269,21602:50392,21603:34270,21604:57290,21605:34271,21606:57295,21607:34272,21608:55004,21609:34273,21610:34274,21611:34275,21612:34276,21613:34277,21614:34278,21615:34279,21616:34280,21617:57289,21618:57306,21619:52918,21620:34281,21621:47815,21622:57294,21623:57288,21624:50654,21625:34282,21626:34283,21627:51691,21628:47860,21629:50172,21630:34284,21631:34285,21632:48855,21633:34286,21634:57286,21635:34287,21636:57293,21637:34288,21638:50648,21639:34289,21640:34290,21641:34291,21642:34292,21643:54694,21644:47821,21645:34293,21646:48844,21647:54205,21648:47296,21649:34294,21650:55012,21651:34295,21652:57287,21653:47550,21654:49063,21655:34296,21656:34297,21657:49660,21658:57291,21659:57292,21660:34298,21661:57296,21662:34299,21663:34300,21664:34301,21665:34302,21666:34368,21667:57307,21668:57317,21669:34369,21670:57303,21671:57302,21672:55241,21673:57315,21674:57316,21675:58859,21676:53927,21677:57298,21678:34370,21679:49065,21680:34371,21681:54491,21682:34372,21683:49096,21684:57300,21685:34373,21686:34374,21687:34375,21688:53196,21689:34376,21690:34377,21691:57309,21692:34378,21693:53706,21694:34379,21695:57310,21696:45223,21697:50871,21698:57299,21699:34380,21700:47845,21701:34381,21702:46815,21703:52699,21704:47614,21705:54485,21706:34382,21707:34383,21708:57311,21709:53228,21710:45221,21711:57319,21712:57297,21713:53702,21714:57301,21715:57304,21716:57305,21717:57308,21718:34384,21719:48041,21720:34385,21721:57312,21722:57313,21723:34386,21724:57314,21725:57318,21726:57320,21727:54196,21728:34387,21729:34388,21730:34389,21731:34390,21732:34391,21733:47335,21734:50614,21735:57322,21736:51674,21737:49576,21738:50372,21739:34392,21740:34393,21741:49118,21742:53240,21743:34394,21744:34395,21745:34396,21746:54748,21747:57326,21748:34397,21749:34398,21750:34399,21751:34400,21752:34401,21753:34402,21754:45752,21755:34403,21756:47839,21757:57324,21758:34404,21759:56257,21760:34405,21761:53732,21762:34406,21763:34407,21764:34408,21765:34409,21766:52212,21767:46269,21768:34410,21769:45222,21770:34411,21771:34412,21772:34413,21773:34414,21774:34415,21775:57329,21776:52422,21777:57330,21778:34416,21779:34417,21780:57325,21781:34418,21782:34419,21783:34420,21784:34421,21785:34422,21786:34423,21787:57321,21788:34424,21789:34425,21790:34426,21791:34427,21792:57323,21793:34428,21794:57327,21795:57328,21796:48061,21797:34429,21798:34430,21799:57331,21800:34432,21801:34433,21802:57332,21803:34434,21804:48035,21805:34435,21806:51931,21807:52904,21808:57511,21809:45994,21810:34436,21811:57510,21812:34437,21813:34438,21814:34439,21815:57505,21816:34440,21817:34441,21818:34442,21819:34443,21820:57342,21821:34444,21822:52697,21823:57340,21824:34445,21825:57338,21826:34446,21827:49104,21828:55236,21829:34447,21830:51660,21831:34448,21832:34449,21833:57336,21834:45217,21835:34450,21836:34451,21837:34452,21838:34453,21839:34454,21840:57341,21841:34455,21842:34456,21843:34457,21844:34458,21845:57339,21846:57506,21847:34459,21848:34460,21849:34461,21850:34462,21851:34463,21852:57512,21853:34464,21854:34465,21855:34466,21856:34467,21857:47048,21858:34468,21859:34469,21860:50849,21861:51638,21862:49330,21863:57333,21864:34470,21865:34471,21866:50622,21867:34472,21868:55492,21869:57337,21870:50422,21871:34473,21872:34474,21873:34475,21874:34476,21875:34477,21876:34478,21877:57507,21878:57508,21879:57509,21880:53413,21881:34479,21882:34480,21883:57524,21884:52452,21885:34481,21886:57521,21887:34482,21888:49062,21889:57519,21890:52921,21891:57515,21892:51654,21893:34483,21894:34484,21895:49326,21896:57518,21897:47853,21898:47792,21899:57513,21900:34485,21901:34486,21902:34487,21903:57334,21904:34488,21905:57523,21906:34489,21907:34490,21908:57528,21909:34491,21910:34492,21911:34493,21912:46253,21913:57529,21914:34494,21915:34495,21916:53170,21917:47816,21918:34496,21919:57520,21920:34497,21921:34498,21922:34499,21923:34500,21924:34501,21925:34502,21926:34503,21927:53498,21928:34504,21929:34505,21930:34506,21931:34507,21932:34508,21933:34509,21934:34510,21935:34511,21936:34512,21937:57516,21938:34513,21939:54523,21940:34514,21941:57335,21942:34515,21943:50663,21944:34516,21945:57517,21946:34517,21947:54263,21948:34518,21949:57526,21950:57527,21951:34519,21952:34520,21953:34521,21954:34522,21955:34523,21956:57540,21957:53473,21958:34524,21959:34525,21960:34526,21961:57532,21962:34527,21963:34528,21964:57545,21965:57546,21966:34529,21967:34530,21968:34531,21969:57534,21970:57514,21971:51620,21972:57537,21973:34532,21974:57522,21975:34533,21976:34534,21977:34535,21978:34536,21979:34537,21980:51912,21981:57539,21982:34538,21983:57525,21984:34539,21985:52939,21986:34540,21987:52163,21988:57549,21989:57542,21990:57538,21991:34541,21992:57547,21993:34542,21994:57530,21995:57535,21996:57536,21997:34543,21998:34544,21999:57541,22000:34545,22001:34546,22002:57543,22003:57544,22004:34547,22005:57548,22006:34548,22007:57531,22008:34549,22009:34550,22010:34551,22011:34552,22012:34553,22013:52180,22014:57557,22015:34554,22016:57558,22017:57554,22018:34555,22019:34556,22020:34557,22021:34558,22022:34624,22023:34625,22024:57552,22025:48334,22026:34626,22027:34627,22028:57553,22029:34628,22030:47298,22031:55493,22032:34629,22033:34630,22034:34631,22035:34632,22036:34633,22037:34634,22038:34635,22039:34636,22040:53482,22041:34637,22042:34638,22043:49903,22044:34639,22045:34640,22046:57551,22047:57533,22048:34641,22049:34642,22050:34643,22051:57556,22052:57555,22053:34644,22054:34645,22055:57559,22056:34646,22057:34647,22058:34648,22059:34649,22060:57564,22061:57560,22062:34650,22063:34651,22064:34652,22065:55030,22066:46e3,22067:34653,22068:55276,22069:34654,22070:52155,22071:34655,22072:34656,22073:57562,22074:34657,22075:52987,22076:34658,22077:34659,22078:34660,22079:47833,22080:34661,22081:34662,22082:34663,22083:34664,22084:34665,22085:34666,22086:34667,22087:34668,22088:34669,22089:34670,22090:34671,22091:34672,22092:57569,22093:57565,22094:53933,22095:34673,22096:34674,22097:34675,22098:34676,22099:34677,22100:57570,22101:34678,22102:34679,22103:57563,22104:57561,22105:57567,22106:34680,22107:34681,22108:57568,22109:34682,22110:34683,22111:34684,22112:34685,22113:34686,22114:57566,22115:34688,22116:57572,22117:34689,22118:34690,22119:34691,22120:50935,22121:55468,22122:54507,22123:57574,22124:51913,22125:34692,22126:34693,22127:34694,22128:34695,22129:57573,22130:34696,22131:34697,22132:34698,22133:34699,22134:47297,22135:34700,22136:34701,22137:34702,22138:34703,22139:57575,22140:57576,22141:34704,22142:34705,22143:34706,22144:34707,22145:34708,22146:34709,22147:34710,22148:34711,22149:57577,22150:57571,22151:34712,22152:34713,22153:34714,22154:34715,22155:34716,22156:34717,22157:34718,22158:47807,22159:52455,22160:34719,22161:34720,22162:34721,22163:57578,22164:34722,22165:34723,22166:34724,22167:34725,22168:34726,22169:34727,22170:34728,22171:34729,22172:34730,22173:34731,22174:34732,22175:34733,22176:34734,22177:34735,22178:34736,22179:53241,22180:34737,22181:34738,22182:34739,22183:34740,22184:34741,22185:34742,22186:34743,22187:34744,22188:34745,22189:34746,22190:34747,22191:57579,22192:34748,22193:34749,22194:34750,22195:34751,22196:34752,22197:34753,22198:34754,22199:51394,22200:34755,22201:34756,22202:34757,22203:34758,22204:48576,22205:34759,22206:34760,22207:34761,22208:34762,22209:34763,22210:34764,22211:34765,22212:34766,22213:34767,22214:34768,22215:34769,22216:34770,22217:34771,22218:50386,22219:34772,22220:34773,22221:34774,22222:34775,22223:34776,22224:34777,22225:34778,22226:34779,22227:34780,22228:57580,22229:34781,22230:34782,22231:57581,22232:34783,22233:34784,22234:51188,22235:52164,22236:34785,22237:57582,22238:48088,22239:55478,22240:54002,22241:57583,22242:52677,22243:34786,22244:46810,22245:34787,22246:34788,22247:34789,22248:34790,22249:34791,22250:34792,22251:57585,22252:34793,22253:54448,22254:34794,22255:34795,22256:49319,22257:46289,22258:34796,22259:34797,22260:52903,22261:57584,22262:34798,22263:34799,22264:34800,22265:57586,22266:47564,22267:34801,22268:34802,22269:47610,22270:52668,22271:57587,22272:34803,22273:34804,22274:34805,22275:50900,22276:57588,22277:34806,22278:54450,22279:34807,22280:51366,22281:57590,22282:57589,22283:34808,22284:34809,22285:34810,22286:34811,22287:34812,22288:34813,22289:34814,22290:34880,22291:34881,22292:34882,22293:34883,22294:34884,22295:34885,22296:34886,22297:34887,22298:34888,22299:34889,22300:57591,22301:34890,22302:34891,22303:52673,22304:34892,22305:34893,22306:34894,22307:51877,22308:34895,22309:34896,22310:34897,22311:34898,22312:54490,22313:56279,22314:56281,22315:34899,22316:56280,22317:47591,22318:56284,22319:56285,22320:46552,22321:34900,22322:34901,22323:56282,22324:34902,22325:34903,22326:34904,22327:34905,22328:34906,22329:56283,22330:45985,22331:56287,22332:34907,22333:34908,22334:48120,22335:34909,22336:54967,22337:34910,22338:56288,22339:34911,22340:34912,22341:34913,22342:34914,22343:48889,22344:34915,22345:34916,22346:47035,22347:34917,22348:56272,22349:52398,22350:49074,22351:48053,22352:55288,22353:49107,22354:34918,22355:34919,22356:34920,22357:34921,22358:34922,22359:49129,22360:34923,22361:34924,22362:48353,22363:52403,22364:56286,22365:45267,22366:52971,22367:47064,22368:55225,22369:50882,22370:34925,22371:34926,22372:49316,22373:34927,22374:52409,22375:34928,22376:56295,22377:56289,22378:50874,22379:56291,22380:34929,22381:56296,22382:34930,22383:50679,22384:34931,22385:34932,22386:34933,22387:56298,22388:34934,22389:34935,22390:56297,22391:49088,22392:34936,22393:34937,22394:34938,22395:56294,22396:56293,22397:34939,22398:34940,22399:34941,22400:34942,22401:34944,22402:46265,22403:49324,22404:49826,22405:56290,22406:56292,22407:34945,22408:34946,22409:34947,22410:34948,22411:53453,22412:56301,22413:34949,22414:34950,22415:34951,22416:34952,22417:34953,22418:49373,22419:56306,22420:34954,22421:34955,22422:34956,22423:34957,22424:34958,22425:34959,22426:34960,22427:46818,22428:34961,22429:34962,22430:34963,22431:34964,22432:56307,22433:56274,22434:47544,22435:54443,22436:56300,22437:34965,22438:49105,22439:56304,22440:34966,22441:56273,22442:34967,22443:46566,22444:34968,22445:56299,22446:49125,22447:34969,22448:34970,22449:34971,22450:56302,22451:34972,22452:56305,22453:34973,22454:34974,22455:34975,22456:56313,22457:34976,22458:34977,22459:34978,22460:34979,22461:34980,22462:34981,22463:34982,22464:34983,22465:34984,22466:47521,22467:45219,22468:34985,22469:34986,22470:34987,22471:34988,22472:34989,22473:34990,22474:34991,22475:49905,22476:34992,22477:34993,22478:46023,22479:56303,22480:34994,22481:34995,22482:56312,22483:34996,22484:50898,22485:56308,22486:34997,22487:34998,22488:56309,22489:56311,22490:56310,22491:34999,22492:35e3,22493:56318,22494:35001,22495:54258,22496:45754,22497:35002,22498:35003,22499:35004,22500:56317,22501:35005,22502:35006,22503:35007,22504:35008,22505:35009,22506:35010,22507:35011,22508:35012,22509:56484,22510:35013,22511:56315,22512:35014,22513:35015,22514:35016,22515:35017,22516:56314,22517:35018,22518:35019,22519:35020,22520:56316,22521:50656,22522:48121,22523:35021,22524:35022,22525:56483,22526:35023,22527:35024,22528:56485,22529:35025,22530:52419,22531:35026,22532:35027,22533:35028,22534:46801,22535:56768,22536:35029,22537:35030,22538:35031,22539:56481,22540:35032,22541:56482,22542:35033,22543:35034,22544:35035,22545:51125,22546:35036,22547:35037,22548:35038,22549:46825,22550:35039,22551:35040,22552:35041,22553:56487,22554:35042,22555:35043,22556:35044,22557:35045,22558:56486,22559:35046,22560:56489,22561:45476,22562:35047,22563:35048,22564:46540,22565:35049,22566:35050,22567:35051,22568:35052,22569:35053,22570:49072,22571:35054,22572:35055,22573:35056,22574:35057,22575:35058,22576:53727,22577:35059,22578:35060,22579:35061,22580:35062,22581:46786,22582:35063,22583:35064,22584:35065,22585:35066,22586:35067,22587:35068,22588:35069,22589:35070,22590:35136,22591:35137,22592:35138,22593:35139,22594:35140,22595:35141,22596:56488,22597:35142,22598:35143,22599:35144,22600:35145,22601:35146,22602:35147,22603:35148,22604:52218,22605:60403,22606:35149,22607:35150,22608:35151,22609:52188,22610:35152,22611:35153,22612:52222,22613:35154,22614:35155,22615:35156,22616:52417,22617:35157,22618:35158,22619:35159,22620:35160,22621:35161,22622:51451,22623:35162,22624:35163,22625:35164,22626:35165,22627:35166,22628:35167,22629:56490,22630:35168,22631:35169,22632:35170,22633:35171,22634:35172,22635:52462,22636:56491,22637:35173,22638:35174,22639:35175,22640:35176,22641:35177,22642:35178,22643:35179,22644:35180,22645:35181,22646:35182,22647:35183,22648:35184,22649:35185,22650:35186,22651:35187,22652:35188,22653:35189,22654:56275,22655:35190,22656:56495,22657:56492,22658:35191,22659:48819,22660:35192,22661:51963,22662:35193,22663:35194,22664:35195,22665:56493,22666:35196,22667:35197,22668:35198,22669:35200,22670:35201,22671:35202,22672:35203,22673:35204,22674:51658,22675:50361,22676:35205,22677:35206,22678:35207,22679:35208,22680:35209,22681:51133,22682:56494,22683:35210,22684:35211,22685:35212,22686:54518,22687:53478,22688:35213,22689:35214,22690:35215,22691:35216,22692:35217,22693:35218,22694:35219,22695:35220,22696:50347,22697:46805,22698:35221,22699:35222,22700:35223,22701:35224,22702:35225,22703:35226,22704:35227,22705:35228,22706:35229,22707:35230,22708:35231,22709:35232,22710:35233,22711:35234,22712:35235,22713:35236,22714:35237,22715:35238,22716:56276,22717:35239,22718:35240,22719:35241,22720:35242,22721:45530,22722:35243,22723:35244,22724:35245,22725:56277,22726:35246,22727:35247,22728:35248,22729:35249,22730:35250,22731:35251,22732:35252,22733:35253,22734:35254,22735:35255,22736:35256,22737:56278,22738:35257,22739:35258,22740:35259,22741:47806,22742:35260,22743:35261,22744:35262,22745:35263,22746:35264,22747:35265,22748:35266,22749:35267,22750:35268,22751:35269,22752:35270,22753:35271,22754:35272,22755:35273,22756:51392,22757:35274,22758:35275,22759:35276,22760:35277,22761:35278,22762:35279,22763:51903,22764:51401,22765:35280,22766:55219,22767:35281,22768:51705,22769:35282,22770:35283,22771:49095,22772:35284,22773:35285,22774:47864,22775:35286,22776:35287,22777:53948,22778:35288,22779:35289,22780:35290,22781:35291,22782:35292,22783:35293,22784:35294,22785:35295,22786:58042,22787:35296,22788:46246,22789:35297,22790:35298,22791:45496,22792:35299,22793:35300,22794:35301,22795:35302,22796:35303,22797:47284,22798:35304,22799:53188,22800:35305,22801:35306,22802:35307,22803:35308,22804:55783,22805:53158,22806:52706,22807:35309,22808:35310,22809:55789,22810:46816,22811:35311,22812:53945,22813:35312,22814:35313,22815:47547,22816:35314,22817:35315,22818:35316,22819:35317,22820:58041,22821:58039,22822:35318,22823:46323,22824:35319,22825:52460,22826:52395,22827:47090,22828:35320,22829:55474,22830:53739,22831:47803,22832:35321,22833:51879,22834:35322,22835:35323,22836:52663,22837:35324,22838:35325,22839:53956,22840:49124,22841:48336,22842:46817,22843:35326,22844:57029,22845:35392,22846:35393,22847:35394,22848:35395,22849:57030,22850:56252,22851:35396,22852:53721,22853:35397,22854:35398,22855:50918,22856:50382,22857:47086,22858:35399,22859:47068,22860:35400,22861:35401,22862:49148,22863:55264,22864:35402,22865:50933,22866:35403,22867:35404,22868:45500,22869:57032,22870:48561,22871:52439,22872:57034,22873:35405,22874:57033,22875:35406,22876:35407,22877:35408,22878:35409,22879:35410,22880:46572,22881:35411,22882:51677,22883:35412,22884:35413,22885:45250,22886:35414,22887:35415,22888:35416,22889:35417,22890:35418,22891:35419,22892:35420,22893:35421,22894:35422,22895:35423,22896:35424,22897:35425,22898:35426,22899:50606,22900:50603,22901:35427,22902:50380,22903:35428,22904:48361,22905:52221,22906:35429,22907:35430,22908:35431,22909:47811,22910:35432,22911:35433,22912:35434,22913:58873,22914:51431,22915:58874,22916:52733,22917:35435,22918:55217,22919:47294,22920:49896,22921:35436,22922:51409,22923:35437,22924:35438,22925:58875,22926:35439,22927:35440,22928:35441,22929:35442,22930:46794,22931:48331,22932:35443,22933:35444,22934:53757,22935:59041,22936:35445,22937:50158,22938:35446,22939:35447,22940:35448,22941:35449,22942:59044,22943:35450,22944:35451,22945:35452,22946:35453,22947:58878,22948:59045,22949:52695,22950:35454,22951:35456,22952:47041,22953:58876,22954:58877,22955:59043,22956:35457,22957:35458,22958:50397,22959:59048,22960:35459,22961:35460,22962:59047,22963:35461,22964:35462,22965:35463,22966:35464,22967:35465,22968:35466,22969:50115,22970:35467,22971:50910,22972:35468,22973:35469,22974:59050,22975:35470,22976:35471,22977:35472,22978:35473,22979:35474,22980:35475,22981:35476,22982:50359,22983:35477,22984:35478,22985:35479,22986:59042,22987:51900,22988:35480,22989:35481,22990:35482,22991:35483,22992:48611,22993:47555,22994:59046,22995:53461,22996:52911,22997:35484,22998:35485,22999:59049,23000:59056,23001:35486,23002:53926,23003:35487,23004:48554,23005:59053,23006:35488,23007:35489,23008:35490,23009:35491,23010:35492,23011:59055,23012:35493,23013:49361,23014:35494,23015:35495,23016:53964,23017:35496,23018:35497,23019:35498,23020:48295,23021:35499,23022:35500,23023:35501,23024:35502,23025:35503,23026:35504,23027:35505,23028:35506,23029:35507,23030:35508,23031:35509,23032:35510,23033:59057,23034:35511,23035:54006,23036:35512,23037:35513,23038:35514,23039:55243,23040:35515,23041:52734,23042:35516,23043:52702,23044:49830,23045:59051,23046:59052,23047:48575,23048:59054,23049:59059,23050:35517,23051:35518,23052:59058,23053:35519,23054:35520,23055:35521,23056:35522,23057:59062,23058:35523,23059:59064,23060:35524,23061:35525,23062:35526,23063:35527,23064:50415,23065:35528,23066:35529,23067:35530,23068:50376,23069:35531,23070:35532,23071:48874,23072:51695,23073:35533,23074:35534,23075:59063,23076:35535,23077:46832,23078:35536,23079:35537,23080:35538,23081:50148,23082:35539,23083:35540,23084:35541,23085:35542,23086:35543,23087:35544,23088:35545,23089:54249,23090:59060,23091:35546,23092:59061,23093:35547,23094:51362,23095:35548,23096:35549,23097:35550,23098:35551,23099:35552,23100:59069,23101:35553,23102:35554,23103:35555,23104:59065,23105:35556,23106:35557,23107:35558,23108:35559,23109:35560,23110:50885,23111:35561,23112:35562,23113:52721,23114:59067,23115:35563,23116:35564,23117:35565,23118:35566,23119:35567,23120:35568,23121:35569,23122:35570,23123:35571,23124:35572,23125:59068,23126:35573,23127:35574,23128:35575,23129:35576,23130:48105,23131:35577,23132:35578,23133:35579,23134:35580,23135:35581,23136:35582,23137:35648,23138:59070,23139:35649,23140:35650,23141:35651,23142:35652,23143:59066,23144:35653,23145:35654,23146:49335,23147:35655,23148:35656,23149:35657,23150:35658,23151:35659,23152:35660,23153:35661,23154:35662,23155:35663,23156:54180,23157:59071,23158:51700,23159:59075,23160:35664,23161:35665,23162:59076,23163:35666,23164:35667,23165:35668,23166:35669,23167:53494,23168:35670,23169:35671,23170:35672,23171:35673,23172:35674,23173:35675,23174:35676,23175:35677,23176:35678,23177:35679,23178:35680,23179:35681,23180:35682,23181:35683,23182:35684,23183:35685,23184:35686,23185:35687,23186:50109,23187:35688,23188:35689,23189:35690,23190:35691,23191:35692,23192:35693,23193:35694,23194:50116,23195:59074,23196:35695,23197:35696,23198:35697,23199:35698,23200:35699,23201:35700,23202:35701,23203:35702,23204:35703,23205:35704,23206:35705,23207:35706,23208:35707,23209:35708,23210:59073,23211:35709,23212:35710,23213:35712,23214:35713,23215:35714,23216:35715,23217:35716,23218:59079,23219:53169,23220:35717,23221:60404,23222:35718,23223:35719,23224:59082,23225:35720,23226:35721,23227:35722,23228:35723,23229:35724,23230:59077,23231:35725,23232:35726,23233:48350,23234:51625,23235:35727,23236:35728,23237:35729,23238:35730,23239:35731,23240:35732,23241:48309,23242:35733,23243:35734,23244:53203,23245:35735,23246:35736,23247:35737,23248:35738,23249:35739,23250:59080,23251:35740,23252:59081,23253:35741,23254:59086,23255:35742,23256:59088,23257:35743,23258:35744,23259:35745,23260:59089,23261:35746,23262:35747,23263:35748,23264:59083,23265:46549,23266:35749,23267:59084,23268:35750,23269:35751,23270:59087,23271:35752,23272:35753,23273:50395,23274:35754,23275:59078,23276:35755,23277:35756,23278:35757,23279:35758,23280:35759,23281:59085,23282:35760,23283:35761,23284:35762,23285:35763,23286:35764,23287:35765,23288:35766,23289:35767,23290:35768,23291:35769,23292:35770,23293:35771,23294:35772,23295:35773,23296:35774,23297:35775,23298:35776,23299:35777,23300:35778,23301:35779,23302:35780,23303:35781,23304:35782,23305:59090,23306:35783,23307:35784,23308:35785,23309:35786,23310:35787,23311:35788,23312:35789,23313:35790,23314:35791,23315:35792,23316:35793,23317:35794,23318:59092,23319:59091,23320:35795,23321:35796,23322:35797,23323:35798,23324:35799,23325:35800,23326:35801,23327:35802,23328:35803,23329:35804,23330:35805,23331:35806,23332:35807,23333:35808,23334:35809,23335:35810,23336:35811,23337:35812,23338:35813,23339:35814,23340:35815,23341:35816,23342:35817,23343:35818,23344:35819,23345:35820,23346:59093,23347:35821,23348:55800,23349:35822,23350:35823,23351:59094,23352:35824,23353:35825,23354:35826,23355:35827,23356:35828,23357:35829,23358:35830,23359:35831,23360:59095,23361:35832,23362:35833,23363:35834,23364:35835,23365:35836,23366:35837,23367:35838,23368:35904,23369:35905,23370:35906,23371:35907,23372:35908,23373:35909,23374:35910,23375:35911,23376:55251,23377:59101,23378:35912,23379:59102,23380:49111,23381:54480,23382:35913,23383:55254,23384:46310,23385:52207,23386:59098,23387:55491,23388:55246,23389:53410,23390:35914,23391:50127,23392:35915,23393:35916,23394:59103,23395:48318,23396:47554,23397:59099,23398:53671,23399:35917,23400:35918,23401:47778,23402:49871,23403:35919,23404:55467,23405:35920,23406:35921,23407:35922,23408:51947,23409:58862,23410:35923,23411:59100,23412:35924,23413:47093,23414:35925,23415:35926,23416:35927,23417:35928,23418:51430,23419:35929,23420:35930,23421:50421,23422:35931,23423:35932,23424:58802,23425:50430,23426:35933,23427:52220,23428:58803,23429:54700,23430:35934,23431:54254,23432:51928,23433:45234,23434:35935,23435:52174,23436:52714,23437:35936,23438:35937,23439:47850,23440:35938,23441:35939,23442:35940,23443:58805,23444:35941,23445:58804,23446:35942,23447:55258,23448:47577,23449:55014,23450:46760,23451:52720,23452:53963,23453:45478,23454:51893,23455:35943,23456:46056,23457:51699,23458:49101,23459:53499,23460:51922,23461:58806,23462:48066,23463:35944,23464:35945,23465:35946,23466:53212,23467:47532,23468:35947,23469:35948,23470:35949,23471:35950,23472:54487,23473:35951,23474:35952,23475:47782,23476:53735,23477:53244,23478:48338,23479:35953,23480:58807,23481:51421,23482:35954,23483:35955,23484:35956,23485:49133,23486:45558,23487:52190,23488:35957,23489:35958,23490:48325,23491:35959,23492:48324,23493:54010,23494:50140,23495:49116,23496:35960,23497:35961,23498:35962,23499:35963,23500:47291,23501:35964,23502:35965,23503:35966,23504:50114,23505:35968,23506:47790,23507:54434,23508:35969,23509:35970,23510:35971,23511:35972,23512:35973,23513:35974,23514:35975,23515:35976,23516:35977,23517:51166,23518:50351,23519:45804,23520:35978,23521:47569,23522:35979,23523:35980,23524:58811,23525:49608,23526:35981,23527:35982,23528:54703,23529:35983,23530:35984,23531:35985,23532:35986,23533:35987,23534:58812,23535:35988,23536:58814,23537:35989,23538:35990,23539:35991,23540:35992,23541:35993,23542:35994,23543:35995,23544:46311,23545:46804,23546:52162,23547:53680,23548:46524,23549:35996,23550:35997,23551:51929,23552:35998,23553:47074,23554:35999,23555:36e3,23556:51684,23557:36001,23558:48555,23559:36002,23560:36003,23561:52926,23562:55280,23563:36004,23564:36005,23565:36006,23566:36007,23567:53409,23568:36008,23569:51673,23570:36009,23571:36010,23572:46843,23573:59096,23574:48354,23575:36011,23576:46014,23577:36012,23578:51664,23579:36013,23580:59097,23581:45986,23582:36014,23583:36015,23584:36016,23585:36017,23586:57036,23587:36018,23588:54216,23589:57037,23590:36019,23591:53922,23592:36020,23593:36021,23594:36022,23595:36023,23596:57038,23597:36024,23598:36025,23599:36026,23600:36027,23601:48845,23602:36028,23603:36029,23604:57039,23605:36030,23606:36031,23607:36032,23608:51884,23609:54012,23610:46047,23611:58858,23612:50401,23613:48801,23614:52914,23615:50418,23616:48854,23617:50856,23618:45795,23619:36033,23620:36034,23621:48851,23622:36035,23623:36036,23624:51196,23625:52459,23626:48620,23627:52957,23628:36037,23629:36038,23630:51898,23631:50881,23632:58860,23633:53436,23634:36039,23635:36040,23636:36041,23637:54713,23638:36042,23639:36043,23640:36044,23641:58861,23642:36045,23643:36046,23644:36047,23645:36048,23646:51956,23647:36049,23648:52672,23649:49861,23650:36050,23651:58863,23652:36051,23653:49860,23654:58864,23655:36052,23656:36053,23657:36054,23658:36055,23659:36056,23660:36057,23661:36058,23662:58872,23663:52685,23664:36059,23665:51645,23666:36060,23667:36061,23668:36062,23669:36063,23670:36064,23671:36065,23672:36066,23673:53977,23674:57768,23675:36067,23676:36068,23677:36069,23678:36070,23679:54252,23680:36071,23681:52202,23682:50929,23683:36072,23684:36073,23685:36074,23686:36075,23687:36076,23688:57772,23689:36077,23690:36078,23691:36079,23692:57767,23693:57769,23694:36080,23695:36081,23696:57770,23697:57775,23698:36082,23699:36083,23700:45805,23701:36084,23702:57771,23703:47322,23704:57773,23705:57774,23706:57776,23707:46522,23708:57777,23709:36085,23710:36086,23711:36087,23712:36088,23713:36089,23714:57779,23715:57784,23716:36090,23717:36091,23718:36092,23719:36093,23720:36094,23721:53714,23722:36160,23723:57782,23724:57781,23725:49643,23726:36161,23727:36162,23728:36163,23729:57783,23730:36164,23731:54464,23732:36165,23733:57778,23734:36166,23735:57786,23736:45238,23737:36167,23738:36168,23739:36169,23740:36170,23741:57780,23742:36171,23743:49145,23744:36172,23745:57785,23746:36173,23747:36174,23748:57787,23749:36175,23750:36176,23751:36177,23752:36178,23753:36179,23754:36180,23755:57790,23756:36181,23757:36182,23758:36183,23759:36184,23760:36185,23761:36186,23762:57788,23763:36187,23764:36188,23765:36189,23766:36190,23767:36191,23768:36192,23769:54981,23770:36193,23771:36194,23772:36195,23773:36196,23774:36197,23775:36198,23776:36199,23777:53183,23778:36200,23779:36201,23780:57789,23781:57791,23782:49869,23783:36202,23784:46827,23785:36203,23786:54264,23787:36204,23788:36205,23789:51149,23790:36206,23791:36207,23792:47077,23793:36208,23794:36209,23795:36210,23796:36211,23797:36212,23798:36213,23799:36214,23800:36215,23801:36216,23802:36217,23803:48894,23804:36218,23805:36219,23806:36220,23807:36221,23808:36222,23809:36224,23810:57792,23811:57793,23812:36225,23813:36226,23814:57799,23815:46055,23816:36227,23817:36228,23818:36229,23819:36230,23820:36231,23821:36232,23822:50921,23823:36233,23824:36234,23825:36235,23826:36236,23827:36237,23828:46302,23829:36238,23830:53698,23831:36239,23832:36240,23833:36241,23834:36242,23835:57800,23836:36243,23837:36244,23838:57798,23839:36245,23840:36246,23841:36247,23842:36248,23843:36249,23844:57797,23845:36250,23846:57795,23847:57794,23848:36251,23849:45504,23850:36252,23851:36253,23852:36254,23853:54712,23854:57796,23855:36255,23856:36256,23857:36257,23858:36258,23859:36259,23860:57803,23861:36260,23862:36261,23863:36262,23864:36263,23865:36264,23866:36265,23867:36266,23868:36267,23869:57804,23870:57802,23871:36268,23872:36269,23873:36270,23874:36271,23875:36272,23876:36273,23877:36274,23878:36275,23879:61434,23880:36276,23881:36277,23882:57811,23883:57810,23884:51126,23885:36278,23886:36279,23887:36280,23888:36281,23889:36282,23890:36283,23891:36284,23892:36285,23893:36286,23894:36287,23895:36288,23896:57801,23897:36289,23898:36290,23899:57806,23900:36291,23901:57808,23902:36292,23903:36293,23904:36294,23905:36295,23906:36296,23907:36297,23908:36298,23909:36299,23910:36300,23911:36301,23912:36302,23913:57812,23914:36303,23915:57809,23916:57805,23917:36304,23918:36305,23919:57807,23920:36306,23921:36307,23922:36308,23923:36309,23924:57813,23925:36310,23926:36311,23927:36312,23928:36313,23929:36314,23930:36315,23931:36316,23932:36317,23933:36318,23934:36319,23935:36320,23936:36321,23937:36322,23938:57814,23939:36323,23940:36324,23941:36325,23942:36326,23943:36327,23944:36328,23945:36329,23946:36330,23947:36331,23948:36332,23949:36333,23950:36334,23951:36335,23952:36336,23953:36337,23954:36338,23955:36339,23956:36340,23957:36341,23958:36342,23959:36343,23960:36344,23961:57815,23962:36345,23963:36346,23964:36347,23965:57816,23966:36348,23967:36349,23968:36350,23969:36416,23970:36417,23971:36418,23972:36419,23973:36420,23974:36421,23975:36422,23976:36423,23977:36424,23978:36425,23979:36426,23980:36427,23981:36428,23982:36429,23983:36430,23984:36431,23985:36432,23986:36433,23987:36434,23988:36435,23989:36436,23990:36437,23991:57818,23992:36438,23993:36439,23994:36440,23995:36441,23996:36442,23997:36443,23998:36444,23999:36445,24000:36446,24001:36447,24002:36448,24003:36449,24004:36450,24005:57819,24006:36451,24007:36452,24008:36453,24009:36454,24010:36455,24011:36456,24012:36457,24013:52897,24014:36458,24015:36459,24016:36460,24017:36461,24018:36462,24019:36463,24020:36464,24021:36465,24022:36466,24023:36467,24024:36468,24025:36469,24026:36470,24027:59357,24028:36471,24029:46248,24030:55005,24031:36472,24032:36473,24033:53682,24034:46002,24035:36474,24036:36475,24037:47524,24038:55283,24039:51145,24040:48862,24041:47534,24042:36476,24043:52951,24044:36477,24045:36478,24046:45806,24047:56271,24048:36480,24049:48314,24050:53969,24051:52168,24052:45261,24053:36481,24054:36482,24055:53231,24056:36483,24057:36484,24058:36485,24059:36486,24060:36487,24061:55779,24062:48621,24063:36488,24064:36489,24065:45522,24066:51920,24067:45756,24068:36490,24069:52135,24070:47019,24071:36491,24072:51878,24073:36492,24074:36493,24075:36494,24076:53155,24077:36495,24078:36496,24079:57592,24080:54730,24081:57595,24082:36497,24083:36498,24084:57594,24085:50625,24086:52475,24087:36499,24088:49585,24089:57593,24090:55011,24091:45743,24092:54980,24093:46555,24094:36500,24095:36501,24096:36502,24097:36503,24098:36504,24099:36505,24100:36506,24101:36507,24102:46328,24103:54945,24104:36508,24105:36509,24106:36510,24107:36511,24108:36512,24109:53167,24110:45295,24111:36513,24112:36514,24113:57596,24114:36515,24115:36516,24116:36517,24117:36518,24118:36519,24119:57761,24120:45987,24121:36520,24122:36521,24123:57597,24124:57598,24125:50097,24126:36522,24127:36523,24128:36524,24129:36525,24130:50141,24131:36526,24132:57762,24133:47097,24134:36527,24135:36528,24136:36529,24137:36530,24138:36531,24139:36532,24140:48079,24141:36533,24142:36534,24143:36535,24144:36536,24145:36537,24146:36538,24147:36539,24148:57763,24149:50363,24150:36540,24151:36541,24152:36542,24153:36543,24154:36544,24155:57764,24156:36545,24157:36546,24158:57765,24159:36547,24160:36548,24161:57766,24162:46257,24163:36549,24164:36550,24165:36551,24166:36552,24167:36553,24168:36554,24169:36555,24170:36556,24171:36557,24172:36558,24173:36559,24174:36560,24175:36561,24176:36562,24177:36563,24178:47305,24179:50877,24180:50410,24181:36564,24182:45730,24183:36565,24184:53458,24185:36566,24186:59355,24187:48067,24188:54231,24189:54212,24190:36567,24191:47587,24192:58063,24193:36568,24194:36569,24195:36570,24196:55215,24197:36571,24198:51180,24199:45523,24200:36572,24201:36573,24202:46258,24203:58065,24204:36574,24205:36575,24206:36576,24207:53490,24208:49838,24209:58064,24210:36577,24211:49122,24212:54182,24213:46551,24214:58066,24215:46570,24216:36578,24217:50157,24218:47357,24219:36579,24220:47278,24221:36580,24222:50643,24223:47055,24224:58068,24225:36581,24226:36582,24227:36583,24228:36584,24229:58067,24230:46792,24231:55289,24232:36585,24233:36586,24234:36587,24235:36588,24236:36589,24237:52645,24238:36590,24239:36591,24240:36592,24241:36593,24242:36594,24243:58072,24244:36595,24245:58070,24246:51964,24247:49077,24248:54201,24249:58069,24250:36596,24251:36597,24252:36598,24253:36599,24254:58071,24255:36600,24256:36601,24257:36602,24258:36603,24259:36604,24260:36605,24261:36606,24262:36672,24263:36673,24264:36674,24265:49582,24266:49352,24267:36675,24268:36676,24269:36677,24270:36678,24271:36679,24272:36680,24273:58075,24274:58074,24275:49322,24276:36681,24277:36682,24278:49614,24279:36683,24280:36684,24281:36685,24282:36686,24283:58076,24284:36687,24285:36688,24286:36689,24287:36690,24288:36691,24289:36692,24290:36693,24291:36694,24292:36695,24293:36696,24294:36697,24295:36698,24296:58077,24297:36699,24298:58078,24299:36700,24300:36701,24301:36702,24302:36703,24303:36704,24304:36705,24305:36706,24306:36707,24307:36708,24308:56264,24309:36709,24310:53715,24311:52642,24312:36710,24313:36711,24314:48552,24315:36712,24316:36713,24317:36714,24318:57027,24319:55461,24320:49066,24321:56269,24322:53996,24323:50938,24324:50602,24325:36715,24326:36716,24327:36717,24328:57028,24329:36718,24330:45527,24331:57262,24332:36719,24333:36720,24334:36721,24335:51901,24336:36722,24337:57265,24338:36723,24339:47533,24340:36724,24341:54013,24342:36725,24343:47269,24344:47851,24345:36726,24346:36727,24347:46042,24348:36728,24349:36729,24350:36730,24351:46556,24352:54725,24353:36731,24354:36732,24355:36733,24356:36734,24357:50134,24358:53202,24359:48033,24360:36736,24361:58867,24362:58866,24363:36737,24364:36738,24365:58868,24366:36739,24367:52708,24368:36740,24369:51445,24370:36741,24371:36742,24372:36743,24373:36744,24374:36745,24375:36746,24376:36747,24377:46511,24378:51135,24379:36748,24380:58870,24381:36749,24382:36750,24383:36751,24384:60592,24385:36752,24386:36753,24387:36754,24388:36755,24389:36756,24390:36757,24391:36758,24392:36759,24393:36760,24394:36761,24395:36762,24396:36763,24397:36764,24398:36765,24399:36766,24400:58854,24401:36767,24402:47593,24403:46513,24404:36768,24405:49852,24406:58856,24407:58855,24408:58857,24409:36769,24410:36770,24411:36771,24412:36772,24413:53965,24414:36773,24415:36774,24416:36775,24417:57834,24418:53454,24419:36776,24420:52654,24421:36777,24422:53733,24423:36778,24424:36779,24425:45770,24426:45547,24427:36780,24428:45554,24429:50669,24430:36781,24431:36782,24432:54723,24433:54192,24434:36783,24435:57820,24436:36784,24437:36785,24438:36786,24439:57821,24440:36787,24441:53979,24442:36788,24443:46009,24444:45515,24445:36789,24446:36790,24447:36791,24448:52729,24449:54775,24450:57822,24451:36792,24452:48822,24453:46333,24454:36793,24455:57823,24456:47836,24457:57824,24458:48050,24459:49865,24460:57825,24461:36794,24462:36795,24463:36796,24464:53484,24465:36797,24466:52669,24467:36798,24468:36799,24469:57826,24470:36800,24471:46531,24472:50631,24473:57827,24474:36801,24475:36802,24476:57828,24477:36803,24478:36804,24479:36805,24480:36806,24481:54265,24482:36807,24483:36808,24484:36809,24485:36810,24486:36811,24487:36812,24488:57829,24489:36813,24490:53677,24491:36814,24492:36815,24493:57830,24494:52898,24495:36816,24496:36817,24497:36818,24498:36819,24499:36820,24500:36821,24501:57831,24502:36822,24503:46530,24504:36823,24505:36824,24506:36825,24507:36826,24508:57832,24509:48085,24510:36827,24511:36828,24512:36829,24513:36830,24514:36831,24515:53444,24516:58080,24517:45528,24518:53988,24519:36832,24520:36833,24521:58081,24522:36834,24523:36835,24524:48329,24525:51404,24526:36836,24527:58083,24528:60670,24529:60669,24530:57263,24531:36837,24532:36838,24533:36839,24534:58082,24535:54974,24536:52732,24537:50086,24538:36840,24539:36841,24540:36842,24541:58307,24542:36843,24543:36844,24544:54994,24545:58087,24546:36845,24547:36846,24548:58088,24549:36847,24550:36848,24551:54215,24552:36849,24553:36850,24554:58092,24555:49132,24556:36851,24557:58093,24558:58085,24559:36852,24560:36853,24561:46016,24562:36854,24563:36855,24564:36856,24565:50414,24566:36857,24567:36858,24568:58094,24569:36859,24570:36860,24571:53443,24572:36861,24573:47862,24574:58089,24575:47070,24576:48051,24577:52396,24578:52171,24579:58084,24580:58086,24581:58090,24582:58091,24583:36862,24584:36928,24585:36929,24586:58103,24587:36930,24588:36931,24589:58100,24590:54517,24591:58099,24592:36932,24593:36933,24594:50605,24595:36934,24596:54778,24597:50626,24598:45760,24599:36935,24600:36936,24601:58095,24602:36937,24603:58098,24604:49583,24605:52156,24606:36938,24607:36939,24608:46497,24609:58105,24610:36940,24611:36941,24612:36942,24613:48305,24614:58097,24615:53460,24616:54457,24617:58101,24618:47574,24619:58102,24620:36943,24621:36944,24622:36945,24623:51155,24624:36946,24625:36947,24626:36948,24627:36949,24628:36950,24629:58096,24630:36951,24631:36952,24632:36953,24633:36954,24634:36955,24635:55260,24636:60833,24637:36956,24638:36957,24639:58104,24640:36958,24641:60837,24642:58110,24643:51921,24644:36959,24645:36960,24646:36961,24647:36962,24648:36963,24649:36964,24650:36965,24651:49589,24652:36966,24653:48080,24654:36967,24655:36968,24656:49110,24657:36969,24658:47843,24659:36970,24660:36971,24661:52129,24662:36972,24663:36973,24664:36974,24665:60838,24666:60835,24667:36975,24668:36976,24669:60834,24670:36977,24671:36978,24672:36979,24673:36980,24674:48086,24675:60839,24676:53492,24677:36981,24678:36982,24679:60836,24680:47838,24681:46839,24682:58273,24683:46770,24684:52465,24685:47527,24686:36983,24687:53154,24688:51105,24689:36984,24690:36985,24691:49106,24692:36986,24693:36987,24694:46833,24695:36988,24696:58106,24697:58107,24698:58109,24699:58108,24700:50389,24701:58274,24702:36989,24703:54209,24704:36990,24705:36992,24706:36993,24707:58279,24708:51140,24709:36994,24710:36995,24711:36996,24712:36997,24713:53156,24714:36998,24715:36999,24716:58281,24717:47799,24718:37e3,24719:37001,24720:37002,24721:37003,24722:58280,24723:37004,24724:48090,24725:37005,24726:58275,24727:37006,24728:37007,24729:37008,24730:58276,24731:58282,24732:37009,24733:58278,24734:37010,24735:52978,24736:54214,24737:37011,24738:37012,24739:48060,24740:37013,24741:37014,24742:54467,24743:37015,24744:50426,24745:37016,24746:37017,24747:60840,24748:53500,24749:58277,24750:37018,24751:50165,24752:37019,24753:58285,24754:45487,24755:37020,24756:58290,24757:37021,24758:37022,24759:37023,24760:48322,24761:37024,24762:37025,24763:58284,24764:46527,24765:37026,24766:37027,24767:37028,24768:37029,24769:37030,24770:37031,24771:37032,24772:37033,24773:51177,24774:58288,24775:37034,24776:37035,24777:37036,24778:48810,24779:52719,24780:37037,24781:37038,24782:37039,24783:37040,24784:37041,24785:48115,24786:37042,24787:37043,24788:37044,24789:52456,24790:37045,24791:37046,24792:58287,24793:37047,24794:58289,24795:37048,24796:53159,24797:58286,24798:37049,24799:52905,24800:48093,24801:37050,24802:37051,24803:37052,24804:37053,24805:37054,24806:46571,24807:48869,24808:45778,24809:46029,24810:37055,24811:45497,24812:58283,24813:45777,24814:46508,24815:47583,24816:46824,24817:37056,24818:37057,24819:53227,24820:58295,24821:37058,24822:48076,24823:37059,24824:37060,24825:51399,24826:53450,24827:37061,24828:37062,24829:37063,24830:37064,24831:37065,24832:58296,24833:46062,24834:37066,24835:37067,24836:37068,24837:37069,24838:60841,24839:37070,24840:54266,24841:54244,24842:37071,24843:37072,24844:37073,24845:60842,24846:58297,24847:53986,24848:37074,24849:37075,24850:37076,24851:37077,24852:37078,24853:58293,24854:37079,24855:37080,24856:37081,24857:37082,24858:54238,24859:37083,24860:37084,24861:37085,24862:37086,24863:47312,24864:58291,24865:37087,24866:37088,24867:58294,24868:47071,24869:37089,24870:58292,24871:49314,24872:37090,24873:37091,24874:37092,24875:58298,24876:37093,24877:37094,24878:37095,24879:37096,24880:37097,24881:37098,24882:37099,24883:37100,24884:37101,24885:37102,24886:37103,24887:37104,24888:37105,24889:37106,24890:37107,24891:37108,24892:37109,24893:37110,24894:37111,24895:54456,24896:37112,24897:37113,24898:37114,24899:37115,24900:37116,24901:37117,24902:37118,24903:37184,24904:46280,24905:37185,24906:58299,24907:37186,24908:48069,24909:37187,24910:51703,24911:37188,24912:37189,24913:51685,24914:37190,24915:37191,24916:37192,24917:50365,24918:37193,24919:37194,24920:37195,24921:37196,24922:37197,24923:37198,24924:37199,24925:60843,24926:37200,24927:37201,24928:37202,24929:37203,24930:49917,24931:37204,24932:37205,24933:37206,24934:37207,24935:48091,24936:49070,24937:37208,24938:37209,24939:37210,24940:37211,24941:37212,24942:37213,24943:37214,24944:52927,24945:37215,24946:37216,24947:37217,24948:37218,24949:58300,24950:37219,24951:49078,24952:37220,24953:37221,24954:37222,24955:37223,24956:37224,24957:37225,24958:37226,24959:37227,24960:37228,24961:37229,24962:37230,24963:37231,24964:37232,24965:37233,24966:37234,24967:37235,24968:37236,24969:37237,24970:37238,24971:45551,24972:37239,24973:37240,24974:54519,24975:37241,24976:37242,24977:37243,24978:37244,24979:37245,24980:58302,24981:37246,24982:37248,24983:37249,24984:37250,24985:37251,24986:37252,24987:37253,24988:37254,24989:60845,24990:37255,24991:37256,24992:37257,24993:37258,24994:37259,24995:37260,24996:37261,24997:37262,24998:37263,24999:58303,25000:47785,25001:60844,25002:37264,25003:37265,25004:58301,25005:37266,25006:37267,25007:37268,25008:37269,25009:37270,25010:37271,25011:37272,25012:37273,25013:37274,25014:37275,25015:58304,25016:37276,25017:37277,25018:37278,25019:37279,25020:37280,25021:37281,25022:47798,25023:37282,25024:37283,25025:37284,25026:46766,25027:37285,25028:37286,25029:37287,25030:37288,25031:37289,25032:53432,25033:37290,25034:45251,25035:60846,25036:37291,25037:37292,25038:37293,25039:37294,25040:37295,25041:60847,25042:49345,25043:37296,25044:58305,25045:37297,25046:37298,25047:37299,25048:37300,25049:37301,25050:37302,25051:37303,25052:37304,25053:37305,25054:37306,25055:37307,25056:37308,25057:37309,25058:37310,25059:37311,25060:37312,25061:37313,25062:50611,25063:37314,25064:37315,25065:37316,25066:37317,25067:37318,25068:37319,25069:37320,25070:37321,25071:37322,25072:37323,25073:37324,25074:37325,25075:37326,25076:37327,25077:58306,25078:37328,25079:37329,25080:37330,25081:37331,25082:37332,25083:37333,25084:37334,25085:37335,25086:37336,25087:56498,25088:37337,25089:37338,25090:37339,25091:37340,25092:37341,25093:37342,25094:60848,25095:37343,25096:47338,25097:37344,25098:52972,25099:60071,25100:53479,25101:51961,25102:51414,25103:53175,25104:46025,25105:52946,25106:48612,25107:37345,25108:37346,25109:58334,25110:48114,25111:60072,25112:54717,25113:37347,25114:50909,25115:60073,25116:37348,25117:37349,25118:37350,25119:60074,25120:37351,25121:60076,25122:60075,25123:37352,25124:60078,25125:60077,25126:37353,25127:37354,25128:37355,25129:37356,25130:48600,25131:37357,25132:60079,25133:37358,25134:49854,25135:37359,25136:37360,25137:37361,25138:37362,25139:46273,25140:46327,25141:37363,25142:37364,25143:48039,25144:37365,25145:37366,25146:37367,25147:37368,25148:37369,25149:60646,25150:60645,25151:47039,25152:52217,25153:45538,25154:37370,25155:60647,25156:37371,25157:37372,25158:37373,25159:51656,25160:60648,25161:60649,25162:37374,25163:51926,25164:57040,25165:45765,25166:54522,25167:37440,25168:37441,25169:50891,25170:45255,25171:46322,25172:51411,25173:37442,25174:37443,25175:37444,25176:52688,25177:37445,25178:37446,25179:49080,25180:37447,25181:37448,25182:37449,25183:37450,25184:37451,25185:37452,25186:37453,25187:49115,25188:37454,25189:37455,25190:51108,25191:54964,25192:37456,25193:49321,25194:57041,25195:51624,25196:53743,25197:50596,25198:45287,25199:46006,25200:51397,25201:37457,25202:37458,25203:45282,25204:37459,25205:37460,25206:47094,25207:37461,25208:37462,25209:50682,25210:37463,25211:37464,25212:46835,25213:37465,25214:54738,25215:46032,25216:48316,25217:37466,25218:37467,25219:37468,25220:45997,25221:37469,25222:37470,25223:37471,25224:37472,25225:48881,25226:45265,25227:37473,25228:37474,25229:37475,25230:37476,25231:37477,25232:37478,25233:53974,25234:51939,25235:55205,25236:37479,25237:52662,25238:46774,25239:49081,25240:54747,25241:37480,25242:47271,25243:50647,25244:37481,25245:37482,25246:37483,25247:57042,25248:49113,25249:49877,25250:51136,25251:37484,25252:48036,25253:45480,25254:37485,25255:37486,25256:50666,25257:37487,25258:37488,25259:50683,25260:52391,25261:37489,25262:37490,25263:37491,25264:37492,25265:45479,25266:37493,25267:37494,25268:37495,25269:46550,25270:37496,25271:37497,25272:37498,25273:50344,25274:37499,25275:57043,25276:53690,25277:46057,25278:37500,25279:50162,25280:37501,25281:37502,25282:47095,25283:37504,25284:55028,25285:46499,25286:45808,25287:50356,25288:50409,25289:49325,25290:57044,25291:37505,25292:45288,25293:50628,25294:49632,25295:37506,25296:47573,25297:37507,25298:48860,25299:52696,25300:45262,25301:37508,25302:52687,25303:57046,25304:48848,25305:55230,25306:57045,25307:54736,25308:45277,25309:37509,25310:37510,25311:50402,25312:37511,25313:37512,25314:49827,25315:48368,25316:37513,25317:54197,25318:49337,25319:50593,25320:45734,25321:54513,25322:37514,25323:37515,25324:49320,25325:51907,25326:57047,25327:54780,25328:37516,25329:47536,25330:37517,25331:51373,25332:52137,25333:37518,25334:57049,25335:49085,25336:37519,25337:37520,25338:37521,25339:37522,25340:50868,25341:55207,25342:51888,25343:50371,25344:37523,25345:46038,25346:47570,25347:37524,25348:37525,25349:37526,25350:37527,25351:54968,25352:60156,25353:45236,25354:37528,25355:37529,25356:37530,25357:37531,25358:49126,25359:37532,25360:37533,25361:52468,25362:37534,25363:37535,25364:37536,25365:37537,25366:52698,25367:37538,25368:37539,25369:37540,25370:54975,25371:49870,25372:37541,25373:52942,25374:52386,25375:53422,25376:50387,25377:46514,25378:57048,25379:54773,25380:48311,25381:48083,25382:37542,25383:37543,25384:45220,25385:37544,25386:50610,25387:46316,25388:37545,25389:37546,25390:37547,25391:54769,25392:37548,25393:37549,25394:60157,25395:37550,25396:37551,25397:37552,25398:37553,25399:37554,25400:37555,25401:57050,25402:52646,25403:37556,25404:37557,25405:52716,25406:37558,25407:37559,25408:37560,25409:37561,25410:52966,25411:57052,25412:37562,25413:52657,25414:49318,25415:37563,25416:37564,25417:55229,25418:37565,25419:57051,25420:45254,25421:47796,25422:51667,25423:50419,25424:48872,25425:37566,25426:37567,25427:37568,25428:37569,25429:45750,25430:37570,25431:37571,25432:37572,25433:37573,25434:37574,25435:37575,25436:37576,25437:37577,25438:49356,25439:52208,25440:37578,25441:48369,25442:48059,25443:46519,25444:37579,25445:37580,25446:37581,25447:50677,25448:37582,25449:57062,25450:37583,25451:37584,25452:37585,25453:57059,25454:48861,25455:37586,25456:37587,25457:57055,25458:37588,25459:37589,25460:37590,25461:37591,25462:46263,25463:48605,25464:37592,25465:37593,25466:57056,25467:50413,25468:37594,25469:37595,25470:37596,25471:37597,25472:53190,25473:37598,25474:46560,25475:37599,25476:37600,25477:37601,25478:37602,25479:46814,25480:51930,25481:46580,25482:57061,25483:37603,25484:54726,25485:37604,25486:57057,25487:52429,25488:50942,25489:37605,25490:50629,25491:37606,25492:37607,25493:37608,25494:53940,25495:37609,25496:48882,25497:37610,25498:37611,25499:37612,25500:37613,25501:37614,25502:37615,25503:37616,25504:49875,25505:37617,25506:52413,25507:46008,25508:37618,25509:48595,25510:37619,25511:49112,25512:52678,25513:53722,25514:46315,25515:37620,25516:57060,25517:57053,25518:57063,25519:37621,25520:60158,25521:37622,25522:37623,25523:49840,25524:57058,25525:37624,25526:37625,25527:54976,25528:46503,25529:37626,25530:45812,25531:37627,25532:57064,25533:37628,25534:57074,25535:37629,25536:37630,25537:37696,25538:37697,25539:37698,25540:57069,25541:37699,25542:57073,25543:37700,25544:37701,25545:51424,25546:37702,25547:37703,25548:37704,25549:55265,25550:57071,25551:50152,25552:52449,25553:37705,25554:45797,25555:37706,25556:37707,25557:37708,25558:53950,25559:37709,25560:37710,25561:37711,25562:37712,25563:37713,25564:37714,25565:37715,25566:57070,25567:37716,25568:57067,25569:52949,25570:37717,25571:46247,25572:37718,25573:37719,25574:37720,25575:37721,25576:37722,25577:49067,25578:48830,25579:37723,25580:37724,25581:48594,25582:37725,25583:37726,25584:37727,25585:37728,25586:57065,25587:37729,25588:54446,25589:37730,25590:57054,25591:37731,25592:57066,25593:37732,25594:37733,25595:37734,25596:37735,25597:49343,25598:37736,25599:57068,25600:45811,25601:47337,25602:49831,25603:37737,25604:37738,25605:48577,25606:37739,25607:37740,25608:37741,25609:37742,25610:37743,25611:57077,25612:57080,25613:37744,25614:37745,25615:45739,25616:46244,25617:37746,25618:37747,25619:46314,25620:51622,25621:37748,25622:37749,25623:37750,25624:37751,25625:37752,25626:37753,25627:57078,25628:52177,25629:37754,25630:47331,25631:37755,25632:57079,25633:57082,25634:37756,25635:37757,25636:37758,25637:37760,25638:57081,25639:37761,25640:37762,25641:37763,25642:52418,25643:37764,25644:45281,25645:46318,25646:37765,25647:37766,25648:37767,25649:37768,25650:37769,25651:37770,25652:58810,25653:37771,25654:37772,25655:37773,25656:37774,25657:37775,25658:53423,25659:37776,25660:37777,25661:45803,25662:37778,25663:60321,25664:37779,25665:57076,25666:37780,25667:37781,25668:51683,25669:57075,25670:45274,25671:53921,25672:45559,25673:37782,25674:52399,25675:37783,25676:37784,25677:37785,25678:37786,25679:37787,25680:37788,25681:37789,25682:57072,25683:37790,25684:52132,25685:37791,25686:37792,25687:37793,25688:54698,25689:37794,25690:37795,25691:37796,25692:37797,25693:37798,25694:57083,25695:37799,25696:37800,25697:37801,25698:37802,25699:37803,25700:37804,25701:37805,25702:37806,25703:46301,25704:37807,25705:50342,25706:37808,25707:37809,25708:37810,25709:57085,25710:37811,25711:37812,25712:37813,25713:37814,25714:37815,25715:37816,25716:37817,25717:37818,25718:37819,25719:37820,25720:50174,25721:50337,25722:57249,25723:37821,25724:37822,25725:37823,25726:37824,25727:37825,25728:37826,25729:37827,25730:49612,25731:37828,25732:57084,25733:48879,25734:37829,25735:50866,25736:37830,25737:37831,25738:37832,25739:37833,25740:37834,25741:37835,25742:37836,25743:37837,25744:37838,25745:46021,25746:51446,25747:37839,25748:37840,25749:52154,25750:57086,25751:37841,25752:37842,25753:57252,25754:37843,25755:37844,25756:37845,25757:37846,25758:55218,25759:37847,25760:37848,25761:37849,25762:37850,25763:37851,25764:46007,25765:37852,25766:37853,25767:37854,25768:37855,25769:49603,25770:37856,25771:37857,25772:51147,25773:45733,25774:46313,25775:37858,25776:55211,25777:37859,25778:37860,25779:37861,25780:37862,25781:50412,25782:37863,25783:57250,25784:57251,25785:37864,25786:57253,25787:37865,25788:47795,25789:37866,25790:37867,25791:37868,25792:57254,25793:37869,25794:49374,25795:37870,25796:37871,25797:51651,25798:37872,25799:37873,25800:37874,25801:37875,25802:37876,25803:37877,25804:37878,25805:45785,25806:51174,25807:37879,25808:57255,25809:37880,25810:51164,25811:37881,25812:37882,25813:37883,25814:37884,25815:57256,25816:60322,25817:37885,25818:37886,25819:37952,25820:37953,25821:37954,25822:52179,25823:37955,25824:37956,25825:37957,25826:57258,25827:37958,25828:57257,25829:37959,25830:45761,25831:37960,25832:37961,25833:37962,25834:37963,25835:37964,25836:37965,25837:37966,25838:37967,25839:37968,25840:37969,25841:37970,25842:37971,25843:37972,25844:37973,25845:37974,25846:37975,25847:37976,25848:37977,25849:37978,25850:37979,25851:37980,25852:37981,25853:37982,25854:37983,25855:37984,25856:50634,25857:37985,25858:37986,25859:37987,25860:37988,25861:37989,25862:37990,25863:37991,25864:37992,25865:57259,25866:37993,25867:37994,25868:37995,25869:37996,25870:37997,25871:37998,25872:37999,25873:38e3,25874:54492,25875:38001,25876:38002,25877:38003,25878:38004,25879:38005,25880:51393,25881:38006,25882:38007,25883:38008,25884:38009,25885:38010,25886:38011,25887:38012,25888:38013,25889:38014,25890:38016,25891:38017,25892:38018,25893:57260,25894:38019,25895:38020,25896:38021,25897:38022,25898:38023,25899:48880,25900:38024,25901:38025,25902:57261,25903:54951,25904:38026,25905:38027,25906:38028,25907:38029,25908:60087,25909:60342,25910:51925,25911:38030,25912:55548,25913:47300,25914:38031,25915:47525,25916:38032,25917:38033,25918:47045,25919:54782,25920:38034,25921:38035,25922:38036,25923:38037,25924:38038,25925:47562,25926:38039,25927:38040,25928:53415,25929:62669,25930:38041,25931:38042,25932:46544,25933:38043,25934:38044,25935:50164,25936:38045,25937:48840,25938:38046,25939:38047,25940:38048,25941:60343,25942:45245,25943:38049,25944:38050,25945:48588,25946:38051,25947:49586,25948:38052,25949:45526,25950:45992,25951:38053,25952:38054,25953:38055,25954:47314,25955:51618,25956:38056,25957:38057,25958:46808,25959:38058,25960:38059,25961:38060,25962:38061,25963:60344,25964:48820,25965:38062,25966:38063,25967:38064,25968:51965,25969:38065,25970:51139,25971:38066,25972:54779,25973:38067,25974:38068,25975:47091,25976:38069,25977:38070,25978:38071,25979:38072,25980:38073,25981:38074,25982:38075,25983:38076,25984:38077,25985:38078,25986:38079,25987:38080,25988:38081,25989:38082,25990:38083,25991:52932,25992:38084,25993:38085,25994:38086,25995:54699,25996:45555,25997:38087,25998:38088,25999:38089,26000:60595,26001:45279,26002:38090,26003:60597,26004:38091,26005:38092,26006:38093,26007:46775,26008:38094,26009:49615,26010:38095,26011:62970,26012:53425,26013:38096,26014:38097,26015:54757,26016:38098,26017:52947,26018:38099,26019:38100,26020:48623,26021:46050,26022:38101,26023:47275,26024:38102,26025:54710,26026:38103,26027:60861,26028:38104,26029:46799,26030:38105,26031:52153,26032:53442,26033:38106,26034:38107,26035:38108,26036:38109,26037:38110,26038:38111,26039:38112,26040:38113,26041:47037,26042:38114,26043:38115,26044:60598,26045:51881,26046:38116,26047:38117,26048:38118,26049:50644,26050:38119,26051:60601,26052:60600,26053:49859,26054:60599,26055:38120,26056:38121,26057:38122,26058:38123,26059:53501,26060:60602,26061:38124,26062:60603,26063:55269,26064:38125,26065:38126,26066:60604,26067:38127,26068:38128,26069:38129,26070:60605,26071:50924,26072:38130,26073:38131,26074:38132,26075:38133,26076:38134,26077:38135,26078:38136,26079:38137,26080:52958,26081:38138,26082:48328,26083:38139,26084:38140,26085:51413,26086:46505,26087:48841,26088:54972,26089:54503,26090:38141,26091:38142,26092:53678,26093:53489,26094:60088,26095:60089,26096:60090,26097:47797,26098:38208,26099:38209,26100:38210,26101:38211,26102:51889,26103:49141,26104:38212,26105:38213,26106:52730,26107:38214,26108:38215,26109:38216,26110:38217,26111:38218,26112:60096,26113:38219,26114:45242,26115:60094,26116:38220,26117:38221,26118:49317,26119:38222,26120:38223,26121:38224,26122:60091,26123:38225,26124:45821,26125:38226,26126:50167,26127:48104,26128:38227,26129:38228,26130:38229,26131:53975,26132:52980,26133:60095,26134:38230,26135:38231,26136:38232,26137:60092,26138:38233,26139:38234,26140:38235,26141:60099,26142:38236,26143:53447,26144:54195,26145:38237,26146:38238,26147:38239,26148:38240,26149:46266,26150:38241,26151:50113,26152:55282,26153:38242,26154:38243,26155:38244,26156:38245,26157:54737,26158:38246,26159:51911,26160:38247,26161:60101,26162:38248,26163:38249,26164:60100,26165:60103,26166:60102,26167:38250,26168:38251,26169:38252,26170:38253,26171:38254,26172:55015,26173:38255,26174:53204,26175:38256,26176:38257,26177:60107,26178:38258,26179:48078,26180:38259,26181:38260,26182:38261,26183:38262,26184:38263,26185:38264,26186:38265,26187:48634,26188:51662,26189:38266,26190:38267,26191:60108,26192:38268,26193:38269,26194:51641,26195:53246,26196:60106,26197:54478,26198:60109,26199:60111,26200:38270,26201:38272,26202:52717,26203:38273,26204:38274,26205:38275,26206:38276,26207:60105,26208:38277,26209:60110,26210:38278,26211:38279,26212:52974,26213:38280,26214:48094,26215:38281,26216:46015,26217:38282,26218:38283,26219:38284,26220:38285,26221:38286,26222:50901,26223:48816,26224:52986,26225:38287,26226:38288,26227:38289,26228:51175,26229:38290,26230:48807,26231:60112,26232:38291,26233:38292,26234:54983,26235:38293,26236:38294,26237:38295,26238:49600,26239:38296,26240:38297,26241:38298,26242:54493,26243:38299,26244:60113,26245:38300,26246:38301,26247:53182,26248:38302,26249:38303,26250:38304,26251:38305,26252:60114,26253:38306,26254:38307,26255:38308,26256:38309,26257:51950,26258:38310,26259:38311,26260:38312,26261:38313,26262:50607,26263:45237,26264:38314,26265:38315,26266:38316,26267:38317,26268:38318,26269:60116,26270:38319,26271:38320,26272:38321,26273:38322,26274:38323,26275:38324,26276:38325,26277:38326,26278:38327,26279:60115,26280:62687,26281:38328,26282:38329,26283:38330,26284:38331,26285:38332,26286:50362,26287:38333,26288:38334,26289:38335,26290:38336,26291:38337,26292:45481,26293:38338,26294:38339,26295:38340,26296:38341,26297:58847,26298:38342,26299:38343,26300:38344,26301:38345,26302:60117,26303:38346,26304:38347,26305:38348,26306:38349,26307:38350,26308:38351,26309:38352,26310:38353,26311:38354,26312:38355,26313:38356,26314:38357,26315:38358,26316:38359,26317:38360,26318:38361,26319:38362,26320:38363,26321:38364,26322:38365,26323:38366,26324:38367,26325:38368,26326:38369,26327:38370,26328:38371,26329:51951,26330:38372,26331:60118,26332:60119,26333:50904,26334:38373,26335:38374,26336:38375,26337:38376,26338:38377,26339:38378,26340:38379,26341:38380,26342:60120,26343:38381,26344:38382,26345:60121,26346:38383,26347:38384,26348:38385,26349:38386,26350:38387,26351:38388,26352:54459,26353:38389,26354:51194,26355:53943,26356:47356,26357:38390,26358:38391,26359:60098,26360:38392,26361:45788,26362:38393,26363:38394,26364:49916,26365:38395,26366:54520,26367:52454,26368:55278,26369:38396,26370:38397,26371:38398,26372:38464,26373:38465,26374:38466,26375:38467,26376:54466,26377:54224,26378:60355,26379:50675,26380:38468,26381:47102,26382:38469,26383:38470,26384:60372,26385:38471,26386:38472,26387:38473,26388:52151,26389:60382,26390:38474,26391:49354,26392:38475,26393:38476,26394:38477,26395:52731,26396:38478,26397:45999,26398:38479,26399:50906,26400:38480,26401:38481,26402:38482,26403:38483,26404:38484,26405:38485,26406:60412,26407:38486,26408:50366,26409:38487,26410:52916,26411:50345,26412:45502,26413:54525,26414:38488,26415:51957,26416:38489,26417:55020,26418:38490,26419:38491,26420:50899,26421:46820,26422:38492,26423:38493,26424:38494,26425:38495,26426:48122,26427:38496,26428:38497,26429:53472,26430:38498,26431:38499,26432:51633,26433:38500,26434:54483,26435:51368,26436:38501,26437:38502,26438:47307,26439:38503,26440:59582,26441:51644,26442:38504,26443:38505,26444:59579,26445:38506,26446:49390,26447:53459,26448:45764,26449:46309,26450:38507,26451:59580,26452:38508,26453:38509,26454:54728,26455:38510,26456:38511,26457:38512,26458:38513,26459:38514,26460:46789,26461:38515,26462:59581,26463:51960,26464:47324,26465:52469,26466:38516,26467:38517,26468:38518,26469:49332,26470:38519,26471:38520,26472:53742,26473:59583,26474:59586,26475:38521,26476:38522,26477:47804,26478:38523,26479:45485,26480:48604,26481:38524,26482:60093,26483:59587,26484:38525,26485:59590,26486:38526,26487:59595,26488:38528,26489:38529,26490:38530,26491:38531,26492:59596,26493:38532,26494:52169,26495:45285,26496:38533,26497:48299,26498:38534,26499:38535,26500:47545,26501:38536,26502:38537,26503:59585,26504:38538,26505:52727,26506:38539,26507:59594,26508:38540,26509:38541,26510:38542,26511:38543,26512:52982,26513:38544,26514:38545,26515:38546,26516:38547,26517:54765,26518:38548,26519:49622,26520:59588,26521:38549,26522:50102,26523:38550,26524:47611,26525:54950,26526:59592,26527:38551,26528:38552,26529:38553,26530:51936,26531:54502,26532:38554,26533:59584,26534:38555,26535:59589,26536:59591,26537:38556,26538:51129,26539:47075,26540:38557,26541:59593,26542:38558,26543:49117,26544:59602,26545:38559,26546:38560,26547:59607,26548:38561,26549:59605,26550:48348,26551:48335,26552:59611,26553:38562,26554:38563,26555:38564,26556:38565,26557:38566,26558:38567,26559:38568,26560:38569,26561:59614,26562:38570,26563:59610,26564:45562,26565:38571,26566:38572,26567:38573,26568:38574,26569:38575,26570:38576,26571:38577,26572:38578,26573:38579,26574:38580,26575:45272,26576:50355,26577:47308,26578:50914,26579:51390,26580:51425,26581:38581,26582:38582,26583:38583,26584:59599,26585:59604,26586:59606,26587:38584,26588:47601,26589:59608,26590:55285,26591:38585,26592:50427,26593:38586,26594:59612,26595:38587,26596:38588,26597:45801,26598:38589,26599:38590,26600:38591,26601:59601,26602:38592,26603:38593,26604:48365,26605:38594,26606:38595,26607:49090,26608:59597,26609:55033,26610:38596,26611:49656,26612:45809,26613:38597,26614:38598,26615:38599,26616:38600,26617:38601,26618:38602,26619:38603,26620:38604,26621:59615,26622:38605,26623:51905,26624:59609,26625:38606,26626:38607,26627:38608,26628:38609,26629:54692,26630:38610,26631:45546,26632:54715,26633:59598,26634:59600,26635:46768,26636:59603,26637:38611,26638:59613,26639:49336,26640:38612,26641:51959,26642:38613,26643:52136,26644:38614,26645:38615,26646:50908,26647:49397,26648:38616,26649:38617,26650:38618,26651:38619,26652:38620,26653:59625,26654:38621,26655:38622,26656:38623,26657:53411,26658:38624,26659:38625,26660:38626,26661:38627,26662:38628,26663:38629,26664:38630,26665:59634,26666:55018,26667:38631,26668:38632,26669:38633,26670:38634,26671:38635,26672:38636,26673:38637,26674:59616,26675:59617,26676:38638,26677:38639,26678:38640,26679:53753,26680:47819,26681:47353,26682:38641,26683:38642,26684:47345,26685:54484,26686:59631,26687:38643,26688:59630,26689:59628,26690:47600,26691:52434,26692:59622,26693:52902,26694:49138,26695:38644,26696:45240,26697:59633,26698:59632,26699:38645,26700:55232,26701:38646,26702:59620,26703:38647,26704:52649,26705:51619,26706:38648,26707:48056,26708:48603,26709:59626,26710:38649,26711:38650,26712:38651,26713:38652,26714:38653,26715:38654,26716:38720,26717:38721,26718:38722,26719:38723,26720:59618,26721:59619,26722:59621,26723:46517,26724:59623,26725:51141,26726:59627,26727:59629,26728:48560,26729:55214,26730:38724,26731:59640,26732:38725,26733:38726,26734:38727,26735:38728,26736:38729,26737:38730,26738:38731,26739:38732,26740:59637,26741:38733,26742:52656,26743:59638,26744:38734,26745:38735,26746:38736,26747:38737,26748:38738,26749:38739,26750:38740,26751:38741,26752:38742,26753:49594,26754:38743,26755:59624,26756:38744,26757:50103,26758:45296,26759:38745,26760:38746,26761:38747,26762:38748,26763:38749,26764:38750,26765:38751,26766:38752,26767:59636,26768:38753,26769:38754,26770:38755,26771:59639,26772:38756,26773:38757,26774:38758,26775:47523,26776:38759,26777:38760,26778:38761,26779:38762,26780:38763,26781:38764,26782:38765,26783:38766,26784:38767,26785:38768,26786:51666,26787:38769,26788:38770,26789:38771,26790:50126,26791:52960,26792:49382,26793:38772,26794:38773,26795:38774,26796:38775,26797:52211,26798:38776,26799:52445,26800:53429,26801:38777,26802:38778,26803:51937,26804:38779,26805:59635,26806:38780,26807:38781,26808:38782,26809:38784,26810:38785,26811:38786,26812:38787,26813:38788,26814:38789,26815:38790,26816:48364,26817:38791,26818:59641,26819:38792,26820:38793,26821:38794,26822:38795,26823:38796,26824:38797,26825:50142,26826:38798,26827:50917,26828:38799,26829:47607,26830:38800,26831:38801,26832:38802,26833:38803,26834:45300,26835:38804,26836:38805,26837:55256,26838:38806,26839:38807,26840:48300,26841:38808,26842:50671,26843:38809,26844:38810,26845:38811,26846:38812,26847:38813,26848:52420,26849:38814,26850:38815,26851:59814,26852:38816,26853:38817,26854:38818,26855:38819,26856:38820,26857:38821,26858:38822,26859:38823,26860:38824,26861:38825,26862:51629,26863:38826,26864:59810,26865:49378,26866:38827,26867:38828,26868:38829,26869:49091,26870:38830,26871:38831,26872:38832,26873:59646,26874:47575,26875:38833,26876:59643,26877:38834,26878:38835,26879:38836,26880:38837,26881:59812,26882:38838,26883:38839,26884:38840,26885:53966,26886:38841,26887:38842,26888:38843,26889:38844,26890:38845,26891:59811,26892:38846,26893:54962,26894:55221,26895:38847,26896:59815,26897:38848,26898:48567,26899:38849,26900:38850,26901:38851,26902:38852,26903:38853,26904:38854,26905:38855,26906:38856,26907:38857,26908:38858,26909:38859,26910:38860,26911:59644,26912:59645,26913:38861,26914:38862,26915:38863,26916:59809,26917:38864,26918:38865,26919:38866,26920:38867,26921:38868,26922:38869,26923:38870,26924:38871,26925:52694,26926:38872,26927:38873,26928:53932,26929:38874,26930:38875,26931:38876,26932:59826,26933:38877,26934:38878,26935:38879,26936:38880,26937:59817,26938:38881,26939:38882,26940:38883,26941:46250,26942:38884,26943:46267,26944:38885,26945:38886,26946:59819,26947:38887,26948:38888,26949:38889,26950:38890,26951:38891,26952:38892,26953:38893,26954:38894,26955:38895,26956:38896,26957:38897,26958:38898,26959:38899,26960:38900,26961:38901,26962:38902,26963:38903,26964:53416,26965:38904,26966:38905,26967:59813,26968:38906,26969:38907,26970:46078,26971:38908,26972:38909,26973:59820,26974:49379,26975:38910,26976:59818,26977:38976,26978:38977,26979:59833,26980:38978,26981:38979,26982:59832,26983:38980,26984:38981,26985:38982,26986:38983,26987:59822,26988:38984,26989:38985,26990:59642,26991:38986,26992:38987,26993:59816,26994:38988,26995:38989,26996:38990,26997:38991,26998:38992,26999:49068,27000:59825,27001:59834,27002:38993,27003:38994,27004:49829,27005:38995,27006:38996,27007:38997,27008:59823,27009:38998,27010:47301,27011:38999,27012:59821,27013:39e3,27014:54236,27015:59828,27016:59829,27017:59831,27018:39001,27019:39002,27020:39003,27021:59847,27022:39004,27023:39005,27024:39006,27025:39007,27026:39008,27027:39009,27028:49350,27029:59845,27030:39010,27031:39011,27032:59824,27033:39012,27034:39013,27035:59835,27036:45297,27037:39014,27038:39015,27039:39016,27040:39017,27041:39018,27042:39019,27043:39020,27044:39021,27045:39022,27046:39023,27047:59836,27048:54693,27049:39024,27050:39025,27051:59838,27052:39026,27053:59839,27054:39027,27055:39028,27056:39029,27057:59841,27058:39030,27059:39031,27060:49649,27061:39032,27062:39033,27063:51382,27064:39034,27065:39035,27066:39036,27067:59837,27068:39037,27069:39038,27070:39040,27071:39041,27072:39042,27073:59842,27074:39043,27075:39044,27076:39045,27077:39046,27078:39047,27079:39048,27080:39049,27081:39050,27082:59843,27083:39051,27084:59827,27085:39052,27086:59830,27087:39053,27088:48049,27089:39054,27090:39055,27091:39056,27092:59840,27093:39057,27094:39058,27095:39059,27096:39060,27097:39061,27098:39062,27099:48375,27100:39063,27101:39064,27102:39065,27103:59844,27104:59846,27105:39066,27106:39067,27107:39068,27108:39069,27109:39070,27110:39071,27111:39072,27112:39073,27113:39074,27114:39075,27115:39076,27116:39077,27117:59850,27118:39078,27119:39079,27120:39080,27121:39081,27122:59854,27123:39082,27124:39083,27125:39084,27126:39085,27127:39086,27128:39087,27129:39088,27130:39089,27131:39090,27132:39091,27133:45787,27134:39092,27135:59848,27136:39093,27137:39094,27138:39095,27139:39096,27140:39097,27141:39098,27142:39099,27143:39100,27144:39101,27145:39102,27146:47022,27147:39103,27148:39104,27149:39105,27150:39106,27151:39107,27152:39108,27153:39109,27154:39110,27155:39111,27156:39112,27157:39113,27158:39114,27159:59851,27160:59852,27161:39115,27162:39116,27163:39117,27164:39118,27165:39119,27166:39120,27167:54721,27168:39121,27169:50339,27170:39122,27171:39123,27172:39124,27173:39125,27174:39126,27175:39127,27176:59864,27177:39128,27178:47841,27179:39129,27180:39130,27181:39131,27182:39132,27183:59849,27184:39133,27185:54179,27186:39134,27187:39135,27188:39136,27189:59860,27190:39137,27191:39138,27192:39139,27193:39140,27194:39141,27195:39142,27196:39143,27197:59863,27198:59856,27199:39144,27200:39145,27201:39146,27202:39147,27203:39148,27204:59855,27205:39149,27206:39150,27207:51137,27208:39151,27209:39152,27210:39153,27211:39154,27212:39155,27213:39156,27214:39157,27215:39158,27216:59858,27217:39159,27218:39160,27219:39161,27220:39162,27221:39163,27222:39164,27223:39165,27224:59865,27225:46024,27226:39166,27227:59859,27228:39232,27229:39233,27230:39234,27231:39235,27232:39236,27233:53232,27234:39237,27235:39238,27236:39239,27237:59853,27238:39240,27239:39241,27240:39242,27241:39243,27242:39244,27243:39245,27244:39246,27245:39247,27246:39248,27247:39249,27248:39250,27249:46071,27250:39251,27251:39252,27252:39253,27253:39254,27254:39255,27255:39256,27256:39257,27257:59862,27258:39258,27259:39259,27260:59866,27261:39260,27262:39261,27263:39262,27264:52404,27265:39263,27266:39264,27267:39265,27268:53165,27269:39266,27270:39267,27271:39268,27272:39269,27273:39270,27274:39271,27275:39272,27276:39273,27277:39274,27278:59861,27279:39275,27280:59868,27281:59867,27282:39276,27283:39277,27284:39278,27285:39279,27286:39280,27287:59870,27288:39281,27289:39282,27290:39283,27291:39284,27292:39285,27293:39286,27294:39287,27295:39288,27296:59857,27297:39289,27298:39290,27299:39291,27300:39292,27301:39293,27302:39294,27303:39296,27304:39297,27305:59869,27306:39298,27307:59871,27308:50122,27309:39299,27310:39300,27311:39301,27312:39302,27313:39303,27314:39304,27315:39305,27316:39306,27317:39307,27318:39308,27319:39309,27320:39310,27321:39311,27322:39312,27323:39313,27324:39314,27325:39315,27326:39316,27327:39317,27328:39318,27329:39319,27330:39320,27331:39321,27332:39322,27333:39323,27334:39324,27335:39325,27336:39326,27337:39327,27338:39328,27339:39329,27340:39330,27341:39331,27342:39332,27343:39333,27344:39334,27345:39335,27346:39336,27347:39337,27348:39338,27349:39339,27350:39340,27351:39341,27352:39342,27353:39343,27354:39344,27355:39345,27356:39346,27357:39347,27358:39348,27359:39349,27360:39350,27361:39351,27362:39352,27363:39353,27364:39354,27365:39355,27366:39356,27367:39357,27368:39358,27369:39359,27370:39360,27371:39361,27372:39362,27373:39363,27374:39364,27375:39365,27376:39366,27377:39367,27378:39368,27379:39369,27380:39370,27381:39371,27382:39372,27383:39373,27384:39374,27385:39375,27386:39376,27387:39377,27388:39378,27389:39379,27390:39380,27391:39381,27392:39382,27393:39383,27394:39384,27395:39385,27396:39386,27397:39387,27398:39388,27399:39389,27400:39390,27401:39391,27402:39392,27403:39393,27404:39394,27405:39395,27406:39396,27407:39397,27408:39398,27409:39399,27410:39400,27411:39401,27412:39402,27413:39403,27414:39404,27415:39405,27416:39406,27417:39407,27418:39408,27419:39409,27420:39410,27421:39411,27422:39412,27423:39413,27424:51127,27425:46286,27426:48054,27427:53440,27428:60579,27429:39414,27430:39415,27431:50615,27432:39416,27433:39417,27434:39418,27435:39419,27436:39420,27437:39421,27438:39422,27439:39488,27440:39489,27441:39490,27442:54267,27443:39491,27444:39492,27445:39493,27446:39494,27447:60580,27448:39495,27449:60581,27450:50907,27451:39496,27452:39497,27453:39498,27454:49134,27455:39499,27456:39500,27457:39501,27458:39502,27459:60582,27460:39503,27461:39504,27462:60583,27463:53418,27464:39505,27465:51128,27466:39506,27467:39507,27468:47336,27469:39508,27470:39509,27471:39510,27472:39511,27473:39512,27474:39513,27475:39514,27476:39515,27477:39516,27478:39517,27479:39518,27480:39519,27481:60584,27482:39520,27483:39521,27484:39522,27485:39523,27486:39524,27487:39525,27488:39526,27489:39527,27490:54969,27491:54781,27492:46283,27493:45757,27494:52964,27495:50919,27496:39528,27497:39529,27498:52705,27499:39530,27500:39531,27501:39532,27502:39533,27503:39534,27504:39535,27505:39536,27506:39537,27507:39538,27508:39539,27509:39540,27510:39541,27511:39542,27512:39543,27513:46325,27514:39544,27515:52160,27516:48351,27517:39545,27518:39546,27519:39547,27520:39548,27521:59874,27522:59875,27523:53738,27524:59877,27525:39549,27526:46329,27527:59876,27528:39550,27529:53683,27530:51938,27531:45776,27532:39552,27533:59880,27534:39553,27535:39554,27536:39555,27537:39556,27538:59878,27539:59879,27540:39557,27541:39558,27542:54963,27543:39559,27544:39560,27545:39561,27546:59881,27547:59882,27548:39562,27549:39563,27550:39564,27551:39565,27552:39566,27553:59883,27554:39567,27555:39568,27556:39569,27557:39570,27558:39571,27559:39572,27560:39573,27561:39574,27562:59884,27563:39575,27564:39576,27565:39577,27566:39578,27567:39579,27568:39580,27569:39581,27570:39582,27571:60591,27572:50617,27573:46798,27574:39583,27575:54003,27576:39584,27577:39585,27578:39586,27579:39587,27580:39588,27581:39589,27582:39590,27583:46574,27584:39591,27585:48089,27586:60593,27587:39592,27588:39593,27589:53987,27590:39594,27591:39595,27592:39596,27593:39597,27594:39598,27595:52963,27596:39599,27597:50360,27598:39600,27599:50111,27600:39601,27601:39602,27602:46782,27603:55481,27604:45512,27605:45519,27606:45521,27607:50686,27608:39603,27609:45520,27610:39604,27611:50091,27612:39605,27613:39606,27614:39607,27615:39608,27616:39609,27617:54705,27618:39610,27619:39611,27620:39612,27621:39613,27622:39614,27623:39615,27624:39616,27625:39617,27626:60324,27627:47809,27628:39618,27629:39619,27630:39620,27631:52410,27632:39621,27633:39622,27634:39623,27635:60325,27636:39624,27637:60327,27638:39625,27639:39626,27640:39627,27641:60328,27642:39628,27643:39629,27644:39630,27645:60326,27646:39631,27647:39632,27648:39633,27649:39634,27650:39635,27651:39636,27652:39637,27653:60329,27654:60331,27655:60330,27656:39638,27657:39639,27658:39640,27659:39641,27660:39642,27661:60332,27662:39643,27663:51919,27664:55477,27665:50161,27666:39644,27667:50085,27668:50936,27669:60333,27670:50378,27671:39645,27672:60334,27673:60335,27674:60336,27675:47061,27676:39646,27677:39647,27678:39648,27679:47098,27680:39649,27681:60337,27682:51170,27683:39650,27684:60339,27685:39651,27686:47780,27687:53749,27688:45233,27689:60338,27690:60340,27691:39652,27692:39653,27693:39654,27694:46506,27695:49864,27696:51176,27697:39655,27698:60341,27699:39656,27700:52142,27701:58335,27702:39657,27703:39658,27704:54208,27705:39659,27706:39660,27707:39661,27708:39662,27709:55771,27710:39663,27711:39664,27712:52641,27713:54957,27714:51187,27715:39665,27716:39666,27717:39667,27718:55776,27719:48099,27720:39668,27721:47802,27722:58338,27723:39669,27724:39670,27725:39671,27726:39672,27727:39673,27728:53163,27729:39674,27730:39675,27731:39676,27732:58336,27733:51655,27734:39677,27735:47801,27736:39678,27737:39744,27738:39745,27739:53684,27740:58337,27741:51434,27742:47535,27743:48557,27744:46040,27745:52955,27746:39746,27747:39747,27748:52416,27749:39748,27750:39749,27751:39750,27752:58344,27753:58345,27754:52724,27755:39751,27756:39752,27757:39753,27758:39754,27759:39755,27760:52397,27761:39756,27762:48307,27763:39757,27764:58346,27765:39758,27766:58347,27767:39759,27768:39760,27769:53466,27770:39761,27771:39762,27772:39763,27773:50939,27774:47066,27775:39764,27776:39765,27777:51167,27778:53962,27779:52950,27780:39766,27781:58340,27782:58348,27783:39767,27784:51698,27785:46017,27786:39768,27787:39769,27788:58343,27789:39770,27790:39771,27791:50915,27792:58341,27793:39772,27794:39773,27795:60851,27796:58342,27797:39774,27798:39775,27799:39776,27800:39777,27801:51635,27802:39778,27803:50662,27804:39779,27805:39780,27806:39781,27807:47541,27808:39782,27809:50107,27810:39783,27811:58339,27812:50621,27813:49572,27814:49881,27815:45783,27816:39784,27817:58349,27818:48038,27819:50349,27820:39785,27821:58352,27822:48858,27823:39786,27824:39787,27825:58363,27826:58357,27827:47827,27828:39788,27829:39789,27830:39790,27831:39791,27832:47056,27833:54221,27834:39792,27835:54990,27836:54739,27837:47553,27838:54708,27839:53720,27840:39793,27841:39794,27842:39795,27843:39796,27844:53433,27845:51190,27846:39797,27847:39798,27848:39799,27849:51370,27850:45748,27851:39800,27852:50138,27853:39801,27854:39802,27855:39803,27856:58350,27857:39804,27858:39805,27859:58364,27860:58351,27861:47016,27862:58359,27863:58356,27864:39806,27865:39808,27866:39809,27867:47034,27868:39810,27869:39811,27870:50594,27871:39812,27872:58358,27873:50653,27874:45736,27875:50940,27876:39813,27877:50400,27878:39814,27879:39815,27880:55202,27881:39816,27882:49377,27883:58361,27884:39817,27885:39818,27886:58362,27887:58365,27888:52393,27889:58355,27890:39819,27891:54206,27892:39820,27893:45507,27894:60852,27895:58353,27896:58354,27897:39821,27898:58360,27899:53434,27900:50883,27901:54515,27902:58366,27903:39822,27904:39823,27905:48608,27906:39824,27907:39825,27908:58535,27909:39826,27910:39827,27911:58534,27912:39828,27913:39829,27914:39830,27915:53747,27916:58531,27917:39831,27918:58537,27919:39832,27920:39833,27921:39834,27922:51447,27923:39835,27924:39836,27925:39837,27926:39838,27927:53172,27928:39839,27929:58536,27930:58542,27931:49893,27932:39840,27933:39841,27934:46772,27935:39842,27936:39843,27937:39844,27938:39845,27939:39846,27940:39847,27941:48626,27942:39848,27943:58530,27944:39849,27945:39850,27946:47849,27947:58538,27948:39851,27949:39852,27950:58540,27951:39853,27952:39854,27953:46845,27954:55006,27955:58546,27956:39855,27957:58541,27958:39856,27959:39857,27960:39858,27961:58529,27962:39859,27963:48110,27964:52701,27965:51106,27966:50633,27967:39860,27968:39861,27969:49655,27970:39862,27971:58532,27972:39863,27973:51123,27974:48556,27975:48573,27976:58533,27977:39864,27978:55239,27979:45794,27980:39865,27981:58539,27982:48323,27983:58543,27984:39866,27985:48107,27986:58544,27987:50600,27988:58545,27989:39867,27990:39868,27991:39869,27992:39870,27993:54755,27994:49059,27995:39871,27996:58554,27997:39872,27998:58551,27999:39873,28000:58555,28001:39874,28002:39875,28003:58557,28004:39876,28005:39877,28006:50902,28007:39878,28008:39879,28009:47814,28010:49355,28011:39880,28012:39881,28013:39882,28014:47265,28015:58548,28016:39883,28017:39884,28018:39885,28019:39886,28020:54433,28021:39887,28022:39888,28023:47779,28024:48638,28025:39889,28026:39890,28027:39891,28028:58556,28029:39892,28030:39893,28031:39894,28032:39895,28033:39896,28034:52671,28035:39897,28036:39898,28037:50425,28038:39899,28039:39900,28040:53243,28041:51686,28042:39901,28043:39902,28044:54207,28045:39903,28046:53201,28047:39904,28048:39905,28049:58547,28050:39906,28051:58552,28052:58553,28053:52457,28054:39907,28055:39908,28056:39909,28057:39910,28058:39911,28059:52430,28060:39912,28061:49364,28062:58549,28063:49584,28064:58550,28065:52944,28066:39913,28067:48065,28068:46547,28069:39914,28070:51443,28071:48551,28072:54727,28073:51628,28074:47266,28075:58570,28076:39915,28077:39916,28078:58572,28079:53700,28080:39917,28081:39918,28082:53946,28083:39919,28084:39920,28085:47789,28086:39921,28087:39922,28088:47828,28089:39923,28090:39924,28091:39925,28092:39926,28093:39927,28094:39928,28095:58563,28096:46573,28097:39929,28098:39930,28099:39931,28100:55245,28101:58560,28102:53245,28103:58559,28104:39932,28105:39933,28106:39934,28107:49628,28108:52426,28109:4e4,28110:40001,28111:40002,28112:40003,28113:51943,28114:40004,28115:40005,28116:40006,28117:40007,28118:50391,28119:40008,28120:52436,28121:58568,28122:40009,28123:40010,28124:40011,28125:58567,28126:58561,28127:40012,28128:58564,28129:46509,28130:40013,28131:40014,28132:54233,28133:40015,28134:58566,28135:40016,28136:40017,28137:40018,28138:40019,28139:54009,28140:46307,28141:40020,28142:48052,28143:40021,28144:40022,28145:51694,28146:40023,28147:46270,28148:40024,28149:40025,28150:40026,28151:48108,28152:40027,28153:53709,28154:40028,28155:52461,28156:60853,28157:40029,28158:40030,28159:40031,28160:40032,28161:40033,28162:40034,28163:40035,28164:40036,28165:51173,28166:40037,28167:40038,28168:40039,28169:40040,28170:54440,28171:40041,28172:58571,28173:55253,28174:58562,28175:40042,28176:48549,28177:58565,28178:40043,28179:40044,28180:54246,28181:40045,28182:58569,28183:51704,28184:40046,28185:40047,28186:58558,28187:40048,28188:40049,28189:54245,28190:40050,28191:40051,28192:51198,28193:46793,28194:40052,28195:54524,28196:45747,28197:58583,28198:40053,28199:40054,28200:40055,28201:52930,28202:40056,28203:58573,28204:40057,28205:52924,28206:40058,28207:47323,28208:40059,28209:40060,28210:58582,28211:40061,28212:49098,28213:40062,28214:40064,28215:40065,28216:54222,28217:40066,28218:50156,28219:40067,28220:40068,28221:40069,28222:40070,28223:40071,28224:40072,28225:40073,28226:40074,28227:50632,28228:58584,28229:40075,28230:40076,28231:40077,28232:40078,28233:40079,28234:40080,28235:40081,28236:40082,28237:52676,28238:58575,28239:40083,28240:40084,28241:40085,28242:40086,28243:58580,28244:58581,28245:40087,28246:47870,28247:40088,28248:53222,28249:40089,28250:40090,28251:54719,28252:40091,28253:40092,28254:40093,28255:58578,28256:40094,28257:40095,28258:40096,28259:40097,28260:40098,28261:40099,28262:40100,28263:40101,28264:40102,28265:40103,28266:40104,28267:58576,28268:40105,28269:40106,28270:58574,28271:40107,28272:40108,28273:40109,28274:40110,28275:40111,28276:40112,28277:40113,28278:40114,28279:40115,28280:40116,28281:40117,28282:40118,28283:40119,28284:40120,28285:40121,28286:52709,28287:51882,28288:40122,28289:40123,28290:40124,28291:49315,28292:40125,28293:48550,28294:58579,28295:40126,28296:40127,28297:47304,28298:40128,28299:40129,28300:40130,28301:40131,28302:40132,28303:58599,28304:54452,28305:40133,28306:40134,28307:40135,28308:40136,28309:40137,28310:40138,28311:40139,28312:58587,28313:40140,28314:40141,28315:40142,28316:49647,28317:40143,28318:40144,28319:58601,28320:40145,28321:40146,28322:53991,28323:40147,28324:40148,28325:58591,28326:40149,28327:58592,28328:40150,28329:40151,28330:53162,28331:40152,28332:40153,28333:40154,28334:40155,28335:52189,28336:40156,28337:58586,28338:58577,28339:40157,28340:58597,28341:40158,28342:51420,28343:58595,28344:40159,28345:40160,28346:50407,28347:58594,28348:40161,28349:58593,28350:40162,28351:40163,28352:40164,28353:46076,28354:58600,28355:40165,28356:40166,28357:40167,28358:40168,28359:46561,28360:40169,28361:40170,28362:40171,28363:55244,28364:40172,28365:40173,28366:40174,28367:58598,28368:40175,28369:48044,28370:40176,28371:55250,28372:52431,28373:60408,28374:40177,28375:58596,28376:40178,28377:40179,28378:47606,28379:40180,28380:40181,28381:40182,28382:54989,28383:58585,28384:58588,28385:49914,28386:58590,28387:40183,28388:49867,28389:49348,28390:49872,28391:40184,28392:45557,28393:52402,28394:40185,28395:40186,28396:40187,28397:40188,28398:40189,28399:40190,28400:40256,28401:40257,28402:40258,28403:40259,28404:46542,28405:40260,28406:40261,28407:40262,28408:40263,28409:58607,28410:40264,28411:40265,28412:40266,28413:40267,28414:40268,28415:40269,28416:40270,28417:40271,28418:50863,28419:40272,28420:40273,28421:40274,28422:50913,28423:40275,28424:40276,28425:58613,28426:40277,28427:40278,28428:40279,28429:40280,28430:40281,28431:49833,28432:40282,28433:40283,28434:40284,28435:49388,28436:53725,28437:58606,28438:40285,28439:40286,28440:40287,28441:40288,28442:40289,28443:40290,28444:40291,28445:40292,28446:40293,28447:40294,28448:50350,28449:40295,28450:40296,28451:40297,28452:58605,28453:40298,28454:40299,28455:40300,28456:40301,28457:58614,28458:58612,28459:49918,28460:40302,28461:58589,28462:40303,28463:58608,28464:40304,28465:51966,28466:40305,28467:54724,28468:40306,28469:40307,28470:58609,28471:40308,28472:40309,28473:40310,28474:40311,28475:40312,28476:40313,28477:40314,28478:53754,28479:40315,28480:40316,28481:40317,28482:40318,28483:40320,28484:40321,28485:40322,28486:58603,28487:58604,28488:40323,28489:40324,28490:40325,28491:58610,28492:40326,28493:52907,28494:40327,28495:40328,28496:40329,28497:40330,28498:40331,28499:40332,28500:40333,28501:40334,28502:40335,28503:40336,28504:50635,28505:40337,28506:40338,28507:40339,28508:51121,28509:40340,28510:49850,28511:40341,28512:40342,28513:40343,28514:58602,28515:40344,28516:40345,28517:40346,28518:49610,28519:40347,28520:40348,28521:40349,28522:40350,28523:40351,28524:40352,28525:52406,28526:46001,28527:40353,28528:40354,28529:40355,28530:58619,28531:40356,28532:58611,28533:40357,28534:40358,28535:40359,28536:58618,28537:40360,28538:58621,28539:40361,28540:58620,28541:40362,28542:40363,28543:40364,28544:40365,28545:40366,28546:40367,28547:40368,28548:46030,28549:40369,28550:40370,28551:40371,28552:46010,28553:58615,28554:40372,28555:40373,28556:58617,28557:58616,28558:50668,28559:40374,28560:40375,28561:40376,28562:40377,28563:40378,28564:40379,28565:40380,28566:40381,28567:40382,28568:40383,28569:40384,28570:40385,28571:40386,28572:49341,28573:40387,28574:40388,28575:40389,28576:40390,28577:54504,28578:40391,28579:40392,28580:40393,28581:40394,28582:40395,28583:58786,28584:40396,28585:40397,28586:40398,28587:40399,28588:40400,28589:40401,28590:40402,28591:40403,28592:40404,28593:40405,28594:40406,28595:45252,28596:40407,28597:40408,28598:58788,28599:40409,28600:40410,28601:58787,28602:40411,28603:40412,28604:40413,28605:40414,28606:40415,28607:40416,28608:48292,28609:40417,28610:58789,28611:40418,28612:40419,28613:40420,28614:40421,28615:40422,28616:40423,28617:58785,28618:40424,28619:40425,28620:40426,28621:40427,28622:40428,28623:40429,28624:40430,28625:58622,28626:45556,28627:40431,28628:40432,28629:40433,28630:40434,28631:40435,28632:40436,28633:40437,28634:40438,28635:40439,28636:40440,28637:40441,28638:58792,28639:40442,28640:58793,28641:58790,28642:40443,28643:40444,28644:40445,28645:40446,28646:40512,28647:40513,28648:40514,28649:40515,28650:40516,28651:40517,28652:40518,28653:40519,28654:58791,28655:58794,28656:40520,28657:40521,28658:40522,28659:40523,28660:40524,28661:40525,28662:40526,28663:40527,28664:40528,28665:40529,28666:40530,28667:40531,28668:40532,28669:40533,28670:40534,28671:40535,28672:40536,28673:40537,28674:40538,28675:40539,28676:40540,28677:40541,28678:40542,28679:40543,28680:40544,28681:40545,28682:40546,28683:40547,28684:40548,28685:40549,28686:40550,28687:40551,28688:40552,28689:50905,28690:40553,28691:40554,28692:40555,28693:40556,28694:40557,28695:40558,28696:40559,28697:40560,28698:58795,28699:58797,28700:40561,28701:40562,28702:40563,28703:40564,28704:40565,28705:40566,28706:40567,28707:58796,28708:40568,28709:40569,28710:40570,28711:40571,28712:40572,28713:40573,28714:40574,28715:40576,28716:40577,28717:40578,28718:40579,28719:40580,28720:40581,28721:40582,28722:40583,28723:40584,28724:40585,28725:58799,28726:40586,28727:40587,28728:40588,28729:58798,28730:40589,28731:40590,28732:40591,28733:40592,28734:40593,28735:40594,28736:40595,28737:40596,28738:40597,28739:40598,28740:40599,28741:40600,28742:40601,28743:40602,28744:40603,28745:40604,28746:40605,28747:40606,28748:47584,28749:40607,28750:40608,28751:58800,28752:40609,28753:40610,28754:40611,28755:40612,28756:40613,28757:40614,28758:40615,28759:40616,28760:40617,28761:40618,28762:40619,28763:40620,28764:40621,28765:40622,28766:58801,28767:40623,28768:40624,28769:40625,28770:40626,28771:40627,28772:40628,28773:40629,28774:40630,28775:40631,28776:40632,28777:40633,28778:40634,28779:48112,28780:60641,28781:50160,28782:40635,28783:46534,28784:48082,28785:40636,28786:40637,28787:40638,28788:40639,28789:49641,28790:54510,28791:40640,28792:48836,28793:40641,28794:40642,28795:40643,28796:55238,28797:40644,28798:54486,28799:45779,28800:60606,28801:40645,28802:40646,28803:40647,28804:40648,28805:60097,28806:40649,28807:40650,28808:40651,28809:49839,28810:46262,28811:40652,28812:40653,28813:40654,28814:53719,28815:40655,28816:40656,28817:40657,28818:46004,28819:40658,28820:51378,28821:49083,28822:60608,28823:40659,28824:40660,28825:54987,28826:40661,28827:40662,28828:60607,28829:60609,28830:40663,28831:40664,28832:40665,28833:40666,28834:40667,28835:40668,28836:40669,28837:40670,28838:40671,28839:40672,28840:40673,28841:40674,28842:40675,28843:60613,28844:48870,28845:52415,28846:50650,28847:48828,28848:40676,28849:60614,28850:40677,28851:45566,28852:40678,28853:40679,28854:40680,28855:60612,28856:54696,28857:46563,28858:40681,28859:60610,28860:49590,28861:46051,28862:40682,28863:40683,28864:60611,28865:52152,28866:49347,28867:52478,28868:40684,28869:40685,28870:40686,28871:40687,28872:49618,28873:40688,28874:60616,28875:40689,28876:40690,28877:40691,28878:40692,28879:40693,28880:40694,28881:40695,28882:40696,28883:40697,28884:40698,28885:40699,28886:40700,28887:40701,28888:47846,28889:49363,28890:40702,28891:55026,28892:40768,28893:40769,28894:40770,28895:53708,28896:40771,28897:40772,28898:40773,28899:40774,28900:49086,28901:40775,28902:47027,28903:51669,28904:60615,28905:48098,28906:40776,28907:52428,28908:48637,28909:51400,28910:40777,28911:53161,28912:40778,28913:40779,28914:40780,28915:40781,28916:40782,28917:40783,28918:40784,28919:52713,28920:40785,28921:50667,28922:40786,28923:40787,28924:40788,28925:47081,28926:40789,28927:40790,28928:40791,28929:40792,28930:40793,28931:40794,28932:40795,28933:40796,28934:40797,28935:40798,28936:40799,28937:53705,28938:47800,28939:40800,28940:40801,28941:40802,28942:40803,28943:40804,28944:60617,28945:40805,28946:40806,28947:60618,28948:40807,28949:48064,28950:60619,28951:40808,28952:60642,28953:45498,28954:47065,28955:40809,28956:40810,28957:40811,28958:40812,28959:40813,28960:40814,28961:40815,28962:40816,28963:40817,28964:40818,28965:40819,28966:48569,28967:40820,28968:40821,28969:40822,28970:40823,28971:40824,28972:40825,28973:40826,28974:40827,28975:60620,28976:53734,28977:60621,28978:40828,28979:40829,28980:40830,28981:40832,28982:51387,28983:40833,28984:40834,28985:40835,28986:40836,28987:40837,28988:40838,28989:40839,28990:40840,28991:40841,28992:40842,28993:40843,28994:40844,28995:40845,28996:40846,28997:60625,28998:40847,28999:40848,29000:40849,29001:40850,29002:60627,29003:40851,29004:48077,29005:40852,29006:48357,29007:40853,29008:40854,29009:40855,29010:40856,29011:40857,29012:40858,29013:40859,29014:40860,29015:40861,29016:40862,29017:40863,29018:40864,29019:40865,29020:60623,29021:40866,29022:51639,29023:40867,29024:40868,29025:40869,29026:40870,29027:40871,29028:50106,29029:40872,29030:60643,29031:54741,29032:60624,29033:40873,29034:40874,29035:40875,29036:40876,29037:40877,29038:55027,29039:40878,29040:40879,29041:40880,29042:60626,29043:60622,29044:40881,29045:40882,29046:40883,29047:40884,29048:60628,29049:40885,29050:60629,29051:40886,29052:40887,29053:51647,29054:40888,29055:40889,29056:40890,29057:40891,29058:40892,29059:40893,29060:53160,29061:40894,29062:40895,29063:40896,29064:40897,29065:40898,29066:53468,29067:40899,29068:40900,29069:40901,29070:40902,29071:53676,29072:40903,29073:40904,29074:40905,29075:40906,29076:51419,29077:40907,29078:40908,29079:40909,29080:60630,29081:52981,29082:40910,29083:40911,29084:40912,29085:40913,29086:40914,29087:51948,29088:60634,29089:40915,29090:40916,29091:40917,29092:40918,29093:40919,29094:40920,29095:40921,29096:60633,29097:40922,29098:40923,29099:40924,29100:45246,29101:40925,29102:40926,29103:40927,29104:40928,29105:40929,29106:40930,29107:60631,29108:40931,29109:60632,29110:40932,29111:40933,29112:40934,29113:60644,29114:40935,29115:40936,29116:40937,29117:40938,29118:40939,29119:40940,29120:40941,29121:40942,29122:40943,29123:51388,29124:40944,29125:40945,29126:40946,29127:40947,29128:40948,29129:40949,29130:40950,29131:40951,29132:40952,29133:40953,29134:49607,29135:40954,29136:40955,29137:40956,29138:40957,29139:40958,29140:60636,29141:53728,29142:41024,29143:41025,29144:41026,29145:41027,29146:41028,29147:41029,29148:41030,29149:41031,29150:41032,29151:41033,29152:60635,29153:41034,29154:41035,29155:41036,29156:41037,29157:54511,29158:41038,29159:60637,29160:41039,29161:41040,29162:41041,29163:41042,29164:41043,29165:41044,29166:56262,29167:41045,29168:41046,29169:41047,29170:41048,29171:41049,29172:41050,29173:41051,29174:41052,29175:41053,29176:41054,29177:60638,29178:41055,29179:41056,29180:41057,29181:41058,29182:41059,29183:41060,29184:41061,29185:41062,29186:41063,29187:41064,29188:41065,29189:41066,29190:45484,29191:41067,29192:41068,29193:41069,29194:41070,29195:41071,29196:41072,29197:41073,29198:41074,29199:41075,29200:41076,29201:41077,29202:41078,29203:41079,29204:41080,29205:41081,29206:41082,29207:41083,29208:41084,29209:41085,29210:41086,29211:41088,29212:41089,29213:60639,29214:41090,29215:41091,29216:41092,29217:41093,29218:41094,29219:41095,29220:41096,29221:41097,29222:41098,29223:41099,29224:60640,29225:41100,29226:55206,29227:41101,29228:50624,29229:41102,29230:41103,29231:41104,29232:60348,29233:45230,29234:41105,29235:41106,29236:41107,29237:48884,29238:47288,29239:53935,29240:45270,29241:46585,29242:41108,29243:55475,29244:41109,29245:52140,29246:41110,29247:58333,29248:41111,29249:41112,29250:41113,29251:41114,29252:41115,29253:41116,29254:41117,29255:50860,29256:45286,29257:41118,29258:41119,29259:41120,29260:50630,29261:60345,29262:41121,29263:41122,29264:41123,29265:41124,29266:60346,29267:41125,29268:41126,29269:41127,29270:60347,29271:41128,29272:41129,29273:53696,29274:41130,29275:50595,29276:41131,29277:60146,29278:41132,29279:50354,29280:41133,29281:50357,29282:49358,29283:41134,29284:41135,29285:41136,29286:60147,29287:50369,29288:41137,29289:52975,29290:41138,29291:41139,29292:41140,29293:41141,29294:60144,29295:60148,29296:41142,29297:41143,29298:51708,29299:41144,29300:41145,29301:51107,29302:41146,29303:41147,29304:41148,29305:52440,29306:52990,29307:41149,29308:41150,29309:41151,29310:60149,29311:60150,29312:53164,29313:49383,29314:41152,29315:41153,29316:60151,29317:41154,29318:41155,29319:41156,29320:41157,29321:41158,29322:46783,29323:60152,29324:41159,29325:60153,29326:41160,29327:60154,29328:41161,29329:41162,29330:60155,29331:41163,29332:41164,29333:41165,29334:41166,29335:41167,29336:41168,29337:41169,29338:41170,29339:41171,29340:41172,29341:41173,29342:41174,29343:60145,29344:41175,29345:41176,29346:41177,29347:41178,29348:41179,29349:41180,29350:41181,29351:41182,29352:41183,29353:41184,29354:41185,29355:41186,29356:51374,29357:57835,29358:41187,29359:47032,29360:57836,29361:41188,29362:41189,29363:41190,29364:57837,29365:41191,29366:55220,29367:57838,29368:57839,29369:54220,29370:41192,29371:41193,29372:41194,29373:41195,29374:41196,29375:41197,29376:41198,29377:57841,29378:49137,29379:57840,29380:46546,29381:41199,29382:41200,29383:41201,29384:45495,29385:41202,29386:41203,29387:41204,29388:41205,29389:57843,29390:57842,29391:41206,29392:47868,29393:41207,29394:57844,29395:41208,29396:41209,29397:41210,29398:41211,29399:47543,29400:41212,29401:48849,29402:41213,29403:41214,29404:43584,29405:43585,29406:50428,29407:43586,29408:47837,29409:48582,29410:43587,29411:43588,29412:43589,29413:43590,29414:43591,29415:43592,29416:57845,29417:57847,29418:43593,29419:43594,29420:46784,29421:53185,29422:51880,29423:57846,29424:54776,29425:54268,29426:57848,29427:57852,29428:57849,29429:43595,29430:43596,29431:57850,29432:49386,29433:43597,29434:57854,29435:58017,29436:49351,29437:43598,29438:43599,29439:43600,29440:43601,29441:57851,29442:43602,29443:57853,29444:43603,29445:43604,29446:43605,29447:43606,29448:43607,29449:43608,29450:58021,29451:43609,29452:43610,29453:43611,29454:49620,29455:43612,29456:43613,29457:43614,29458:43615,29459:58019,29460:43616,29461:58024,29462:45822,29463:58018,29464:43617,29465:43618,29466:43619,29467:50125,29468:45762,29469:58023,29470:58022,29471:43620,29472:43621,29473:58020,29474:58025,29475:43622,29476:43623,29477:58027,29478:43624,29479:43625,29480:43626,29481:53449,29482:55021,29483:50088,29484:58028,29485:43627,29486:53207,29487:43628,29488:43629,29489:58030,29490:43630,29491:43631,29492:47855,29493:43632,29494:43633,29495:59872,29496:58029,29497:58026,29498:43634,29499:43635,29500:43636,29501:43637,29502:48043,29503:54451,29504:43638,29505:43639,29506:43640,29507:43641,29508:43642,29509:43643,29510:43644,29511:43645,29512:43646,29513:43648,29514:43649,29515:43650,29516:43651,29517:58032,29518:43652,29519:43653,29520:58031,29521:43654,29522:59873,29523:43655,29524:43656,29525:43657,29526:43658,29527:58033,29528:43659,29529:43660,29530:43661,29531:43662,29532:43663,29533:43664,29534:43665,29535:43666,29536:58034,29537:43667,29538:43668,29539:43669,29540:43670,29541:43671,29542:43672,29543:43673,29544:43674,29545:43675,29546:43676,29547:43677,29548:58035,29549:52385,29550:43678,29551:58036,29552:43679,29553:43680,29554:43840,29555:43841,29556:43842,29557:43843,29558:43844,29559:43845,29560:43846,29561:43847,29562:43848,29563:43849,29564:43850,29565:43851,29566:58037,29567:43852,29568:43853,29569:43854,29570:43855,29571:43856,29572:53502,29573:43857,29574:43858,29575:49866,29576:43859,29577:54257,29578:43860,29579:52725,29580:43861,29581:43862,29582:59360,29583:43863,29584:43864,29585:59361,29586:43865,29587:43866,29588:43867,29589:43868,29590:48833,29591:43869,29592:43870,29593:43871,29594:43872,29595:49898,29596:43873,29597:43874,29598:43875,29599:59364,29600:43876,29601:43877,29602:59363,29603:43878,29604:43879,29605:43880,29606:43881,29607:43882,29608:43883,29609:52710,29610:43884,29611:50101,29612:43885,29613:43886,29614:59362,29615:48055,29616:53206,29617:43887,29618:49633,29619:59369,29620:43888,29621:43889,29622:43890,29623:59368,29624:43891,29625:43892,29626:59380,29627:45731,29628:43893,29629:43894,29630:43895,29631:43896,29632:59370,29633:43897,29634:59366,29635:43898,29636:43899,29637:43900,29638:43901,29639:43902,29640:59372,29641:59371,29642:51642,29643:43904,29644:43905,29645:54756,29646:43906,29647:59365,29648:47017,29649:59367,29650:43907,29651:43908,29652:43909,29653:43910,29654:43911,29655:43912,29656:43913,29657:59374,29658:43914,29659:43915,29660:43916,29661:43917,29662:59379,29663:43918,29664:55017,29665:43919,29666:43920,29667:43921,29668:43922,29669:59373,29670:43923,29671:59378,29672:43924,29673:59377,29674:43925,29675:43926,29676:43927,29677:45280,29678:43928,29679:43929,29680:43930,29681:43931,29682:59381,29683:43932,29684:43933,29685:43934,29686:43935,29687:43936,29688:44096,29689:44097,29690:44098,29691:44099,29692:44100,29693:44101,29694:44102,29695:44103,29696:44104,29697:44105,29698:44106,29699:51186,29700:44107,29701:49349,29702:49389,29703:44108,29704:44109,29705:49648,29706:59376,29707:44110,29708:44111,29709:44112,29710:44113,29711:59382,29712:52214,29713:44114,29714:44115,29715:44116,29716:44117,29717:44118,29718:44119,29719:44120,29720:44121,29721:44122,29722:59554,29723:59553,29724:44123,29725:44124,29726:44125,29727:44126,29728:44127,29729:44128,29730:55233,29731:44129,29732:44130,29733:59386,29734:59385,29735:44131,29736:59387,29737:44132,29738:59383,29739:44133,29740:59390,29741:44134,29742:59389,29743:44135,29744:59388,29745:44136,29746:44137,29747:49621,29748:51161,29749:50685,29750:50627,29751:44138,29752:44139,29753:44140,29754:44141,29755:44142,29756:51181,29757:44143,29758:44144,29759:44145,29760:44146,29761:59555,29762:44147,29763:44148,29764:44149,29765:44150,29766:44151,29767:44152,29768:44153,29769:44154,29770:44155,29771:44156,29772:44157,29773:44158,29774:44160,29775:44161,29776:44162,29777:44163,29778:44164,29779:44165,29780:44166,29781:59558,29782:44167,29783:59557,29784:44168,29785:59559,29786:47863,29787:59384,29788:59556,29789:44169,29790:51440,29791:51626,29792:44170,29793:44171,29794:44172,29795:44173,29796:44174,29797:44175,29798:44176,29799:44177,29800:44178,29801:44179,29802:44180,29803:44181,29804:44182,29805:59561,29806:44183,29807:44184,29808:47589,29809:44185,29810:44186,29811:44187,29812:44188,29813:44189,29814:53758,29815:59560,29816:44190,29817:44191,29818:44192,29819:44352,29820:44353,29821:44354,29822:59562,29823:44355,29824:59565,29825:59566,29826:44356,29827:49575,29828:44357,29829:44358,29830:44359,29831:59567,29832:44360,29833:44361,29834:44362,29835:59568,29836:44363,29837:44364,29838:59564,29839:44365,29840:59572,29841:44366,29842:44367,29843:44368,29844:44369,29845:44370,29846:44371,29847:44372,29848:44373,29849:44374,29850:44375,29851:44376,29852:59563,29853:44377,29854:59569,29855:44378,29856:44379,29857:44380,29858:44381,29859:44382,29860:44383,29861:44384,29862:44385,29863:59573,29864:59570,29865:59571,29866:44386,29867:44387,29868:44388,29869:44389,29870:44390,29871:44391,29872:44392,29873:44393,29874:44394,29875:44395,29876:44396,29877:44397,29878:44398,29879:44399,29880:44400,29881:44401,29882:59575,29883:44402,29884:44403,29885:44404,29886:44405,29887:44406,29888:44407,29889:44408,29890:44409,29891:44410,29892:44411,29893:44412,29894:44413,29895:44414,29896:44416,29897:44417,29898:44418,29899:44419,29900:44420,29901:44421,29902:44422,29903:44423,29904:44424,29905:44425,29906:59574,29907:44426,29908:44427,29909:44428,29910:44429,29911:44430,29912:44431,29913:44432,29914:44433,29915:44434,29916:47567,29917:44435,29918:61612,29919:44436,29920:61613,29921:44437,29922:50864,29923:45290,29924:51391,29925:44438,29926:52703,29927:44439,29928:44440,29929:44441,29930:44442,29931:44443,29932:44444,29933:44445,29934:52941,29935:60081,29936:44446,29937:44447,29938:44448,29939:44608,29940:60082,29941:44609,29942:50879,29943:46281,29944:44610,29945:44611,29946:44612,29947:44613,29948:44614,29949:44615,29950:44616,29951:60083,29952:44617,29953:44618,29954:44619,29955:44620,29956:54759,29957:44621,29958:44622,29959:44623,29960:44624,29961:44625,29962:44626,29963:44627,29964:44628,29965:56825,29966:44629,29967:60084,29968:44630,29969:60085,29970:44631,29971:60086,29972:44632,29973:44633,29974:44634,29975:44635,29976:47306,29977:57264,29978:51701,29979:44636,29980:52464,29981:44637,29982:44638,29983:51706,29984:44639,29985:44640,29986:44641,29987:44642,29988:44643,29989:51707,29990:44644,29991:44645,29992:54211,29993:52134,29994:44646,29995:47270,29996:61614,29997:45506,29998:44647,29999:58808,30000:52463,30001:54217,30002:48343,30003:51690,30004:44648,30005:46567,30006:44649,30007:50384,30008:46569,30009:44650,30010:61102,30011:48045,30012:44651,30013:44652,30014:59358,30015:44653,30016:61103,30017:44654,30018:44655,30019:44656,30020:44657,30021:45993,30022:44658,30023:44659,30024:61106,30025:44660,30026:44661,30027:61105,30028:48615,30029:44662,30030:61104,30031:52919,30032:44663,30033:44664,30034:44665,30035:44666,30036:50639,30037:44667,30038:44668,30039:44669,30040:44670,30041:49652,30042:56270,30043:61107,30044:53491,30045:44672,30046:44673,30047:44674,30048:44675,30049:44676,30050:44677,30051:44678,30052:44679,30053:49876,30054:50920,30055:44680,30056:44681,30057:44682,30058:47020,30059:44683,30060:44684,30061:44685,30062:44686,30063:44687,30064:44688,30065:44689,30066:61108,30067:44690,30068:46059,30069:44691,30070:44692,30071:44693,30072:48123,30073:61109,30074:44694,30075:44695,30076:44696,30077:44697,30078:44698,30079:59356,30080:44699,30081:44700,30082:44701,30083:61110,30084:44702,30085:44703,30086:48558,30087:44704,30088:44864,30089:44865,30090:44866,30091:61922,30092:44867,30093:44868,30094:44869,30095:51944,30096:44870,30097:53961,30098:61658,30099:44871,30100:61659,30101:44872,30102:61660,30103:49606,30104:44873,30105:47341,30106:48846,30107:44874,30108:44875,30109:61662,30110:44876,30111:50609,30112:61661,30113:53745,30114:44877,30115:61664,30116:45260,30117:48618,30118:44878,30119:44879,30120:44880,30121:44881,30122:44882,30123:53983,30124:61663,30125:44883,30126:46255,30127:47080,30128:61670,30129:61669,30130:50851,30131:61665,30132:61666,30133:46275,30134:44884,30135:44885,30136:61667,30137:54766,30138:44886,30139:44887,30140:52443,30141:48850,30142:48306,30143:44888,30144:44889,30145:44890,30146:61672,30147:61671,30148:61668,30149:45729,30150:44891,30151:54946,30152:54200,30153:48823,30154:51372,30155:44892,30156:44893,30157:61674,30158:44894,30159:44895,30160:44896,30161:44897,30162:53751,30163:44898,30164:54988,30165:47835,30166:61673,30167:44899,30168:46779,30169:44900,30170:44901,30171:52660,30172:44902,30173:44903,30174:50854,30175:44904,30176:44905,30177:44906,30178:49569,30179:61675,30180:61678,30181:44907,30182:61677,30183:61680,30184:61676,30185:44908,30186:48062,30187:61679,30188:44909,30189:44910,30190:44911,30191:44912,30192:52405,30193:61682,30194:44913,30195:44914,30196:46037,30197:44915,30198:44916,30199:44917,30200:44918,30201:45524,30202:44919,30203:44920,30204:61683,30205:44921,30206:44922,30207:61684,30208:61686,30209:46305,30210:44923,30211:61681,30212:44924,30213:61687,30214:44925,30215:44926,30216:44928,30217:44929,30218:61690,30219:44930,30220:61688,30221:44931,30222:44932,30223:44933,30224:61685,30225:44934,30226:44935,30227:44936,30228:44937,30229:61693,30230:44938,30231:61689,30232:61692,30233:61694,30234:44939,30235:61857,30236:44940,30237:44941,30238:44942,30239:52929,30240:61860,30241:44943,30242:61859,30243:44944,30244:49654,30245:61691,30246:51933,30247:44945,30248:44946,30249:46321,30250:45553,30251:52401,30252:44947,30253:61862,30254:44948,30255:44949,30256:61863,30257:44950,30258:44951,30259:61868,30260:54734,30261:61865,30262:44952,30263:44953,30264:51379,30265:44954,30266:44955,30267:44956,30268:61858,30269:44957,30270:61867,30271:61864,30272:61861,30273:44958,30274:44959,30275:61866,30276:44960,30277:45120,30278:45121,30279:45122,30280:45123,30281:45124,30282:45125,30283:45126,30284:45225,30285:61869,30286:45127,30287:45128,30288:45129,30289:45130,30290:45131,30291:45132,30292:61871,30293:45133,30294:61873,30295:45134,30296:45135,30297:45136,30298:45137,30299:45138,30300:61872,30301:45139,30302:61870,30303:45140,30304:45141,30305:45142,30306:45143,30307:53666,30308:45144,30309:45145,30310:45146,30311:45147,30312:45148,30313:45149,30314:45150,30315:61874,30316:45151,30317:45152,30318:45153,30319:61875,30320:45154,30321:45155,30322:45156,30323:45157,30324:45158,30325:45159,30326:45160,30327:45161,30328:47599,30329:45162,30330:45163,30331:46535,30332:45164,30333:45271,30334:45273,30335:45165,30336:45166,30337:45167,30338:54509,30339:45168,30340:46532,30341:45169,30342:48596,30343:48074,30344:61607,30345:45170,30346:45171,30347:47326,30348:45172,30349:45173,30350:61608,30351:45174,30352:45175,30353:45224,30354:45176,30355:61609,30356:45177,30357:45178,30358:52718,30359:45179,30360:45180,30361:61610,30362:45181,30363:45182,30364:45184,30365:45185,30366:45186,30367:45187,30368:45188,30369:45189,30370:45190,30371:45191,30372:61611,30373:45192,30374:45193,30375:45194,30376:45195,30377:45196,30378:45197,30379:45198,30380:45199,30381:45200,30382:50852,30383:45201,30384:45202,30385:55013,30386:61924,30387:45203,30388:61925,30389:45204,30390:45205,30391:45206,30392:45207,30393:45208,30394:45209,30395:45210,30396:45211,30397:45212,30398:45213,30399:50163,30400:45214,30401:45215,30402:54235,30403:45216,30404:45376,30405:54993,30406:50664,30407:45377,30408:54191,30409:45378,30410:53990,30411:45379,30412:45380,30413:61121,30414:45243,30415:54709,30416:53710,30417:48352,30418:47824,30419:45381,30420:49144,30421:45382,30422:47303,30423:46529,30424:50636,30425:45383,30426:45384,30427:51874,30428:45385,30429:45386,30430:45387,30431:50123,30432:45388,30433:45389,30434:45390,30435:45391,30436:45392,30437:61122,30438:45393,30439:45394,30440:45395,30441:45396,30442:45397,30443:45398,30444:45399,30445:45400,30446:50367,30447:46754,30448:45401,30449:60908,30450:50084,30451:45402,30452:54961,30453:45403,30454:45404,30455:45405,30456:53216,30457:60911,30458:45406,30459:45407,30460:50638,30461:45408,30462:46812,30463:45409,30464:45410,30465:51873,30466:45411,30467:45412,30468:60909,30469:45413,30470:45414,30471:60912,30472:60913,30473:50108,30474:45415,30475:49076,30476:45416,30477:60910,30478:45417,30479:45418,30480:45419,30481:45420,30482:45421,30483:45422,30484:45423,30485:45424,30486:45425,30487:45426,30488:45427,30489:60916,30490:60914,30491:45428,30492:45429,30493:45430,30494:45431,30495:54758,30496:50143,30497:45432,30498:60915,30499:45433,30500:45434,30501:45435,30502:60918,30503:45436,30504:54691,30505:53667,30506:45437,30507:45438,30508:45440,30509:60917,30510:45441,30511:50128,30512:45442,30513:45443,30514:45444,30515:45445,30516:45446,30517:60919,30518:49140,30519:48876,30520:60920,30521:45447,30522:52471,30523:45448,30524:53723,30525:45449,30526:45450,30527:45451,30528:55237,30529:54774,30530:45452,30531:60924,30532:45453,30533:45454,30534:45455,30535:60923,30536:45456,30537:45457,30538:45458,30539:45459,30540:45460,30541:45461,30542:45462,30543:45463,30544:60921,30545:60922,30546:45464,30547:45465,30548:45466,30549:45467,30550:45468,30551:45469,30552:45470,30553:45471,30554:60925,30555:48806,30556:45472,30557:45632,30558:45633,30559:45634,30560:45635,30561:52143,30562:61089,30563:46781,30564:45636,30565:61090,30566:50368,30567:45637,30568:60926,30569:45638,30570:45639,30571:48606,30572:45767,30573:45640,30574:45641,30575:45642,30576:45643,30577:45644,30578:45645,30579:45646,30580:45647,30581:45648,30582:45649,30583:45650,30584:45651,30585:46787,30586:45652,30587:45653,30588:45654,30589:61093,30590:55482,30591:61091,30592:61094,30593:45655,30594:45656,30595:45657,30596:50153,30597:46066,30598:45658,30599:45659,30600:45660,30601:45661,30602:45662,30603:45663,30604:61095,30605:61092,30606:53177,30607:45664,30608:45665,30609:61096,30610:49911,30611:45666,30612:45667,30613:45668,30614:45669,30615:45670,30616:45671,30617:45672,30618:45673,30619:45674,30620:45675,30621:45676,30622:45677,30623:61097,30624:61098,30625:45678,30626:57003,30627:45679,30628:45680,30629:50867,30630:45681,30631:51142,30632:45682,30633:55029,30634:46537,30635:45683,30636:52146,30637:45684,30638:45685,30639:45686,30640:61099,30641:45687,30642:45688,30643:52651,30644:45689,30645:61100,30646:45690,30647:45691,30648:45692,30649:45693,30650:45694,30651:54704,30652:45696,30653:61101,30654:45697,30655:63172,30656:45698,30657:45699,30658:45700,30659:45701,30660:45702,30661:45703,30662:45704,30663:45705,30664:45706,30665:45707,30666:45708,30667:45709,30668:45710,30669:56263,30670:45711,30671:45712,30672:45713,30673:45714,30674:45715,30675:45716,30676:45717,30677:45718,30678:45719,30679:46243,30680:45720,30681:45721,30682:45722,30683:50092,30684:61926,30685:45723,30686:45724,30687:45725,30688:45726,30689:45727,30690:51896,30691:53971,30692:45728,30693:54954,30694:45888,30695:61426,30696:45889,30697:48856,30698:45890,30699:48579,30700:61427,30701:46796,30702:45227,30703:45891,30704:45892,30705:45893,30706:45894,30707:51887,30708:45895,30709:45896,30710:60854,30711:45897,30712:60855,30713:45898,30714:45899,30715:45900,30716:45901,30717:52985,30718:47023,30719:49139,30720:60856,30721:49899,30722:51632,30723:45902,30724:45903,30725:45904,30726:45905,30727:45906,30728:45907,30729:60857,30730:45908,30731:45909,30732:50934,30733:49075,30734:45910,30735:45911,30736:45912,30737:60860,30738:50680,30739:45913,30740:53712,30741:45914,30742:55209,30743:60858,30744:60859,30745:45915,30746:53730,30747:45916,30748:60863,30749:60864,30750:45917,30751:60868,30752:45918,30753:45919,30754:45920,30755:60872,30756:45921,30757:60870,30758:60878,30759:54760,30760:45922,30761:60873,30762:45923,30763:45924,30764:60871,30765:60862,30766:45925,30767:45926,30768:50665,30769:45927,30770:45928,30771:45929,30772:50886,30773:45930,30774:45931,30775:51689,30776:54482,30777:60865,30778:60866,30779:60867,30780:60869,30781:45932,30782:49401,30783:45933,30784:46241,30785:45934,30786:45935,30787:45936,30788:45937,30789:47592,30790:45938,30791:60880,30792:45939,30793:45940,30794:45941,30795:45942,30796:60881,30797:45943,30798:60874,30799:45944,30800:60879,30801:45945,30802:52984,30803:45946,30804:45947,30805:52150,30806:60876,30807:60877,30808:45948,30809:45949,30810:45950,30811:45952,30812:45953,30813:53237,30814:45954,30815:45955,30816:45956,30817:45957,30818:45958,30819:45959,30820:45960,30821:45961,30822:45962,30823:45963,30824:45964,30825:45965,30826:60882,30827:49650,30828:54194,30829:60875,30830:51383,30831:45966,30832:45967,30833:45968,30834:45969,30835:45970,30836:45971,30837:45972,30838:45973,30839:48367,30840:45974,30841:45975,30842:45976,30843:45977,30844:50672,30845:45978,30846:45979,30847:45980,30848:45981,30849:45982,30850:45983,30851:45984,30852:46144,30853:46145,30854:46146,30855:60886,30856:46147,30857:46575,30858:46148,30859:46149,30860:49845,30861:45229,30862:52201,30863:46150,30864:46151,30865:45486,30866:46152,30867:60884,30868:46153,30869:46154,30870:46155,30871:52715,30872:46562,30873:46156,30874:60885,30875:60883,30876:60887,30877:46157,30878:46158,30879:46586,30880:46159,30881:60888,30882:46160,30883:60889,30884:46161,30885:60892,30886:46162,30887:45516,30888:46163,30889:46164,30890:46165,30891:46166,30892:46167,30893:46168,30894:46169,30895:46170,30896:50678,30897:48366,30898:60890,30899:52412,30900:45802,30901:46171,30902:46172,30903:46173,30904:46174,30905:60891,30906:46175,30907:46176,30908:46177,30909:46178,30910:50411,30911:46179,30912:46180,30913:46277,30914:46181,30915:46182,30916:46183,30917:45301,30918:46184,30919:46185,30920:46186,30921:60895,30922:49370,30923:46312,30924:46187,30925:46188,30926:46189,30927:46190,30928:50637,30929:46191,30930:46192,30931:46193,30932:60893,30933:49092,30934:46194,30935:46195,30936:46196,30937:60894,30938:46197,30939:46198,30940:46199,30941:46200,30942:46201,30943:46202,30944:46203,30945:46204,30946:46205,30947:46206,30948:46208,30949:46209,30950:46210,30951:46211,30952:50341,30953:46212,30954:46213,30955:46214,30956:60896,30957:46215,30958:46216,30959:46217,30960:46218,30961:46219,30962:60897,30963:46220,30964:60899,30965:46221,30966:46222,30967:49623,30968:46223,30969:46224,30970:48071,30971:46225,30972:46226,30973:46227,30974:46228,30975:46229,30976:46230,30977:48568,30978:46231,30979:46232,30980:46233,30981:60898,30982:46234,30983:46235,30984:46236,30985:46237,30986:46238,30987:46239,30988:46240,30989:46400,30990:46401,30991:46402,30992:46403,30993:46404,30994:46405,30995:60900,30996:46406,30997:46407,30998:46408,30999:46409,31000:46410,31001:46411,31002:46412,31003:46413,31004:46414,31005:46415,31006:60902,31007:46416,31008:46417,31009:46418,31010:46419,31011:46420,31012:60901,31013:46421,31014:46422,31015:46423,31016:46424,31017:46425,31018:46426,31019:46427,31020:46428,31021:46429,31022:46430,31023:46431,31024:46432,31025:46433,31026:46434,31027:46435,31028:60903,31029:46436,31030:46437,31031:46438,31032:46439,31033:46440,31034:51902,31035:60650,31036:49393,31037:46441,31038:51687,31039:46442,31040:60651,31041:50926,31042:46443,31043:46444,31044:46445,31045:46446,31046:60652,31047:46447,31048:50925,31049:60653,31050:46448,31051:46449,31052:46450,31053:46451,31054:46452,31055:46453,31056:46454,31057:46455,31058:46456,31059:60656,31060:46457,31061:46458,31062:55270,31063:60659,31064:46459,31065:46460,31066:60657,31067:60654,31068:60655,31069:55203,31070:51697,31071:52206,31072:60660,31073:46461,31074:60658,31075:46462,31076:46464,31077:53225,31078:46465,31079:60662,31080:50865,31081:46466,31082:46467,31083:46468,31084:46469,31085:48320,31086:46470,31087:60661,31088:46471,31089:46472,31090:46473,31091:46474,31092:46475,31093:46476,31094:46477,31095:46523,31096:48118,31097:46478,31098:60663,31099:46479,31100:46480,31101:46481,31102:46482,31103:46483,31104:55799,31105:48635,31106:46484,31107:46485,31108:49851,31109:60664,31110:46486,31111:46487,31112:46488,31113:46489,31114:60665,31115:46490,31116:46491,31117:46492,31118:46493,31119:47267,31120:46494,31121:46495,31122:46496,31123:46656,31124:46657,31125:46658,31126:46659,31127:46660,31128:46661,31129:46662,31130:60666,31131:46663,31132:46664,31133:46665,31134:46666,31135:46667,31136:46668,31137:46669,31138:46670,31139:46671,31140:46672,31141:46673,31142:46674,31143:60667,31144:46675,31145:46676,31146:46677,31147:46678,31148:46679,31149:46680,31150:46681,31151:46682,31152:46683,31153:46684,31154:46685,31155:60668,31156:46686,31157:46687,31158:46688,31159:46689,31160:46690,31161:54253,31162:55470,31163:49387,31164:46691,31165:51165,31166:47820,31167:46692,31168:53475,31169:52157,31170:46693,31171:52666,31172:46694,31173:46695,31174:47313,31175:46696,31176:46697,31177:45564,31178:46698,31179:51183,31180:46699,31181:54998,31182:46700,31183:46701,31184:46702,31185:49094,31186:50155,31187:46703,31188:46704,31189:61429,31190:46705,31191:46706,31192:50136,31193:46707,31194:46708,31195:46709,31196:46710,31197:46711,31198:46712,31199:55266,31200:46713,31201:46714,31202:46715,31203:61431,31204:46035,31205:46716,31206:51160,31207:53741,31208:46717,31209:54984,31210:46718,31211:61432,31212:46720,31213:61430,31214:46721,31215:48125,31216:46022,31217:46722,31218:46723,31219:46724,31220:46725,31221:46726,31222:46727,31223:46728,31224:48597,31225:46729,31226:46730,31227:53958,31228:46731,31229:48096,31230:46732,31231:46733,31232:53153,31233:46734,31234:61436,31235:61435,31236:46735,31237:46736,31238:61433,31239:46737,31240:46738,31241:46739,31242:46740,31243:46028,31244:46741,31245:51668,31246:52144,31247:46742,31248:46743,31249:46744,31250:46745,31251:46746,31252:61438,31253:46747,31254:46748,31255:45278,31256:46749,31257:46750,31258:54985,31259:46751,31260:46752,31261:46912,31262:61437,31263:46913,31264:46061,31265:46914,31266:46915,31267:63189,31268:46916,31269:46917,31270:46918,31271:46919,31272:46920,31273:46921,31274:46922,31275:46923,31276:46924,31277:46925,31278:46926,31279:46927,31280:46928,31281:46929,31282:46930,31283:52936,31284:46931,31285:46932,31286:46933,31287:61602,31288:46934,31289:61601,31290:46935,31291:46526,31292:48346,31293:48124,31294:46936,31295:47333,31296:46937,31297:46938,31298:46939,31299:46940,31300:46941,31301:46942,31302:50370,31303:46943,31304:46944,31305:46945,31306:46946,31307:46947,31308:46948,31309:46949,31310:46950,31311:46951,31312:46952,31313:61603,31314:46953,31315:46954,31316:46955,31317:46956,31318:46957,31319:52203,31320:46958,31321:46959,31322:46960,31323:46961,31324:46962,31325:46963,31326:46964,31327:46965,31328:46966,31329:46967,31330:46968,31331:46969,31332:46970,31333:46971,31334:46972,31335:46973,31336:46974,31337:46976,31338:46977,31339:46978,31340:46979,31341:46980,31342:46981,31343:46982,31344:61606,31345:46983,31346:46984,31347:46985,31348:53672,31349:46986,31350:48831,31351:51182,31352:61878,31353:61879,31354:49109,31355:46987,31356:46988,31357:46989,31358:46990,31359:46249,31360:61880,31361:52667,31362:46991,31363:51156,31364:54701,31365:46992,31366:61881,31367:46993,31368:61882,31369:46994,31370:46995,31371:46996,31372:46997,31373:51151,31374:46998,31375:46999,31376:47e3,31377:53924,31378:54991,31379:47001,31380:47002,31381:61883,31382:48593,31383:46256,31384:48829,31385:47003,31386:47004,31387:47005,31388:46300,31389:52945,31390:47006,31391:49119,31392:61885,31393:47007,31394:47008,31395:47168,31396:47169,31397:49146,31398:61884,31399:47170,31400:61887,31401:47171,31402:47172,31403:47173,31404:61886,31405:61888,31406:47174,31407:47175,31408:47176,31409:47177,31410:47178,31411:61889,31412:47179,31413:47180,31414:47181,31415:47182,31416:47183,31417:47184,31418:47185,31419:47186,31420:47187,31421:47188,31422:47189,31423:49662,31424:47190,31425:47191,31426:47192,31427:47193,31428:47194,31429:47195,31430:47196,31431:47197,31432:47198,31433:47199,31434:47200,31435:49570,31436:47201,31437:47202,31438:47203,31439:47204,31440:47205,31441:47206,31442:47207,31443:47208,31444:47209,31445:47210,31446:51962,31447:47211,31448:47212,31449:54718,31450:47213,31451:47214,31452:47215,31453:47216,31454:48826,31455:48825,31456:54722,31457:47217,31458:47218,31459:49058,31460:47219,31461:52655,31462:61877,31463:47220,31464:47221,31465:47222,31466:47223,31467:47224,31468:47225,31469:48607,31470:47226,31471:46795,31472:47227,31473:47228,31474:47229,31475:47230,31476:47232,31477:47233,31478:47234,31479:47235,31480:47236,31481:55025,31482:62403,31483:47237,31484:47238,31485:62404,31486:47239,31487:47309,31488:47240,31489:47241,31490:47242,31491:62406,31492:62407,31493:47243,31494:45258,31495:47244,31496:62405,31497:47245,31498:62409,31499:52209,31500:47246,31501:47247,31502:47248,31503:62411,31504:47249,31505:53414,31506:47250,31507:47251,31508:45514,31509:62408,31510:47252,31511:47253,31512:47254,31513:62415,31514:47255,31515:46545,31516:47256,31517:47257,31518:62423,31519:47258,31520:62418,31521:47259,31522:47260,31523:47261,31524:62420,31525:62419,31526:47099,31527:47262,31528:45503,31529:47263,31530:62414,31531:62410,31532:46554,31533:47264,31534:62416,31535:47424,31536:47425,31537:62417,31538:47426,31539:62421,31540:47427,31541:47428,31542:47429,31543:47430,31544:62413,31545:47431,31546:48355,31547:47432,31548:49661,31549:47433,31550:62422,31551:47434,31552:47435,31553:47436,31554:47437,31555:47438,31556:47439,31557:62426,31558:47440,31559:62412,31560:47441,31561:46536,31562:47442,31563:48622,31564:62428,31565:47443,31566:47444,31567:47012,31568:49136,31569:55038,31570:52658,31571:47445,31572:46320,31573:47446,31574:45791,31575:47447,31576:62424,31577:47448,31578:62425,31579:51640,31580:47449,31581:62429,31582:47450,31583:47451,31584:62430,31585:47452,31586:62433,31587:47453,31588:47454,31589:47455,31590:47456,31591:47457,31592:47458,31593:47459,31594:47460,31595:47461,31596:47462,31597:47463,31598:62431,31599:47464,31600:47465,31601:62435,31602:62434,31603:47466,31604:47467,31605:62427,31606:47468,31607:49130,31608:47469,31609:46063,31610:47470,31611:62432,31612:47471,31613:47472,31614:51113,31615:47473,31616:48370,31617:47474,31618:47475,31619:47476,31620:47477,31621:62443,31622:47478,31623:47479,31624:47480,31625:47481,31626:47482,31627:47483,31628:47484,31629:47551,31630:47485,31631:47486,31632:62436,31633:47488,31634:47489,31635:47490,31636:45741,31637:48126,31638:47491,31639:52195,31640:47492,31641:47493,31642:47494,31643:47495,31644:62445,31645:62441,31646:47496,31647:47497,31648:47498,31649:47580,31650:62446,31651:47499,31652:47500,31653:47501,31654:62437,31655:62438,31656:62442,31657:49889,31658:62444,31659:62447,31660:62440,31661:48381,31662:47502,31663:47503,31664:47504,31665:53220,31666:47505,31667:47506,31668:62448,31669:47507,31670:47508,31671:47509,31672:62439,31673:47510,31674:47511,31675:47512,31676:47513,31677:47514,31678:47515,31679:47516,31680:47517,31681:62450,31682:47518,31683:47519,31684:47520,31685:47680,31686:55213,31687:50858,31688:47681,31689:47682,31690:47683,31691:47684,31692:62451,31693:47685,31694:47686,31695:47687,31696:47688,31697:62449,31698:47689,31699:49832,31700:47690,31701:47691,31702:47692,31703:47693,31704:47694,31705:47325,31706:62453,31707:47695,31708:47696,31709:62452,31710:47697,31711:47698,31712:47699,31713:46299,31714:47700,31715:47701,31716:47702,31717:62454,31718:62455,31719:47703,31720:47704,31721:47705,31722:62456,31723:47706,31724:47707,31725:47708,31726:49338,31727:47709,31728:47710,31729:49385,31730:47711,31731:47712,31732:47713,31733:47714,31734:47715,31735:50673,31736:47716,31737:47717,31738:47718,31739:47719,31740:62459,31741:47720,31742:62458,31743:47721,31744:47722,31745:47723,31746:47724,31747:47725,31748:47726,31749:47727,31750:47728,31751:46296,31752:47729,31753:47730,31754:47731,31755:62462,31756:62457,31757:47732,31758:47733,31759:62460,31760:47734,31761:47735,31762:47736,31763:47737,31764:47738,31765:47739,31766:62461,31767:47740,31768:47741,31769:47742,31770:47744,31771:47745,31772:47746,31773:47747,31774:47748,31775:62625,31776:47749,31777:47750,31778:47751,31779:47752,31780:47753,31781:47754,31782:62627,31783:48073,31784:47755,31785:47756,31786:62626,31787:47757,31788:47758,31789:47759,31790:47760,31791:47761,31792:47762,31793:47763,31794:47764,31795:47765,31796:47766,31797:47767,31798:47768,31799:47769,31800:62628,31801:47770,31802:47771,31803:47772,31804:47773,31805:47774,31806:47775,31807:45758,31808:62630,31809:62629,31810:47776,31811:47936,31812:47937,31813:47938,31814:47939,31815:47940,31816:47941,31817:47942,31818:47943,31819:47944,31820:47945,31821:48302,31822:47946,31823:47947,31824:47948,31825:47949,31826:47950,31827:47951,31828:47952,31829:47953,31830:47954,31831:47955,31832:47956,31833:47957,31834:47958,31835:47959,31836:47960,31837:47961,31838:47962,31839:47963,31840:47964,31841:47965,31842:47966,31843:47967,31844:47968,31845:47969,31846:47970,31847:47971,31848:47972,31849:47973,31850:47974,31851:47975,31852:47976,31853:47977,31854:47978,31855:47979,31856:47980,31857:47981,31858:47982,31859:50135,31860:55777,31861:47983,31862:47984,31863:47985,31864:47986,31865:47987,31866:47988,31867:49376,31868:62668,31869:55249,31870:47989,31871:47990,31872:47991,31873:47992,31874:47993,31875:47994,31876:47995,31877:47996,31878:47997,31879:47998,31880:48e3,31881:47067,31882:48001,31883:48002,31884:48003,31885:48004,31886:48005,31887:48006,31888:48007,31889:62670,31890:49571,31891:48008,31892:48009,31893:50889,31894:48010,31895:46294,31896:54707,31897:48011,31898:48012,31899:48013,31900:62672,31901:62671,31902:62673,31903:52186,31904:48014,31905:48015,31906:62674,31907:48016,31908:54465,31909:55008,31910:48017,31911:48018,31912:48019,31913:48020,31914:47072,31915:48021,31916:48022,31917:48023,31918:49592,31919:48024,31920:48025,31921:49595,31922:62675,31923:48812,31924:48026,31925:48027,31926:48028,31927:48029,31928:48030,31929:46306,31930:48031,31931:48032,31932:62676,31933:62677,31934:48811,31935:48192,31936:48193,31937:62678,31938:48194,31939:48195,31940:48196,31941:62683,31942:48197,31943:62679,31944:62682,31945:48198,31946:47869,31947:48199,31948:62680,31949:62681,31950:48200,31951:48201,31952:48202,31953:48203,31954:48204,31955:48205,31956:48206,31957:47330,31958:52423,31959:62684,31960:48207,31961:45786,31962:48208,31963:48209,31964:50131,31965:48210,31966:48211,31967:54499,31968:49079,31969:48212,31970:48213,31971:48214,31972:48215,31973:48216,31974:48217,31975:48218,31976:62685,31977:48219,31978:48220,31979:48221,31980:48222,31981:48223,31982:48224,31983:50612,31984:48225,31985:48226,31986:48227,31987:48228,31988:48229,31989:48230,31990:48231,31991:48232,31992:62697,31993:48233,31994:48234,31995:53173,31996:48235,31997:48236,31998:48237,31999:48238,32000:48239,32001:48240,32002:48241,32003:48242,32004:48243,32005:48244,32006:48245,32007:48246,32008:48247,32009:48248,32010:52937,32011:48249,32012:48250,32013:48251,32014:48252,32015:48253,32016:48254,32017:48256,32018:48257,32019:48258,32020:48259,32021:48260,32022:48261,32023:48262,32024:48263,32025:48264,32026:48265,32027:48266,32028:48267,32029:48268,32030:48269,32031:48270,32032:52184,32033:48271,32034:52215,32035:48272,32036:48273,32037:48274,32038:48275,32039:48628,32040:48276,32041:48277,32042:48278,32043:55247,32044:48279,32045:48280,32046:48281,32047:49371,32048:48282,32049:48283,32050:48284,32051:48285,32052:48286,32053:48287,32054:48288,32055:48448,32056:48449,32057:48450,32058:48451,32059:48452,32060:48453,32061:48454,32062:48455,32063:48456,32064:48457,32065:48458,32066:48459,32067:48460,32068:48461,32069:48462,32070:48463,32071:48464,32072:48465,32073:48466,32074:48467,32075:48468,32076:48469,32077:48470,32078:48471,32079:48472,32080:48473,32081:48474,32082:48475,32083:48476,32084:48477,32085:48478,32086:48479,32087:48480,32088:48481,32089:48482,32090:48483,32091:48484,32092:48485,32093:48486,32094:48487,32095:48488,32096:48489,32097:48490,32098:48491,32099:48492,32100:48493,32101:48494,32102:48495,32103:48496,32104:48497,32105:48498,32106:48499,32107:48500,32108:48501,32109:48502,32110:53493,32111:48503,32112:48504,32113:48505,32114:48506,32115:48507,32116:48508,32117:48509,32118:48510,32119:62698,32120:48512,32121:48513,32122:48514,32123:48515,32124:48516,32125:48517,32126:48518,32127:48519,32128:48520,32129:48521,32130:48522,32131:48523,32132:48524,32133:48525,32134:48526,32135:48527,32136:48528,32137:48529,32138:48530,32139:48531,32140:48532,32141:48533,32142:48534,32143:48535,32144:48536,32145:48537,32146:48538,32147:48539,32148:48540,32149:48541,32150:48542,32151:48543,32152:48544,32153:48704,32154:48705,32155:48706,32156:48707,32157:48708,32158:48709,32159:48710,32160:48711,32161:48712,32162:48713,32163:48714,32164:48715,32165:48716,32166:62699,32167:48717,32168:48718,32169:48719,32170:48720,32171:48721,32172:48722,32173:48723,32174:62700,32175:48724,32176:48725,32177:48726,32178:48727,32179:48728,32180:48729,32181:48730,32182:48731,32183:48732,32184:48733,32185:48734,32186:48735,32187:48736,32188:48737,32189:48738,32190:48739,32191:48740,32192:48741,32193:48742,32194:48743,32195:48744,32196:48745,32197:48746,32198:48747,32199:48748,32200:48749,32201:48750,32202:48751,32203:48752,32204:48753,32205:48754,32206:48755,32207:48756,32208:48757,32209:48758,32210:48759,32211:48760,32212:48761,32213:48762,32214:48763,32215:48764,32216:48765,32217:48766,32218:48768,32219:48769,32220:48770,32221:48771,32222:48772,32223:48773,32224:48774,32225:48775,32226:48776,32227:48777,32228:48778,32229:48779,32230:48780,32231:48781,32232:48782,32233:48783,32234:48784,32235:48785,32236:48786,32237:48787,32238:48788,32239:48789,32240:48790,32241:48791,32242:48792,32243:48793,32244:48794,32245:48795,32246:48796,32247:48797,32248:48798,32249:48799,32250:48800,32251:48960,32252:48961,32253:48962,32254:48963,32255:48964,32256:48965,32257:48966,32258:48967,32259:48968,32260:48969,32261:48970,32262:48971,32263:48972,32264:48973,32265:48974,32266:48975,32267:48976,32268:48977,32269:48978,32270:48979,32271:48980,32272:48981,32273:48982,32274:48983,32275:48984,32276:48985,32277:48986,32278:48987,32279:48988,32280:48989,32281:48990,32282:48991,32283:48992,32284:48993,32285:48994,32286:48995,32287:48996,32288:48997,32289:48998,32290:48999,32291:49e3,32292:49001,32293:49002,32294:49003,32295:49004,32296:49005,32297:49006,32298:49007,32299:49008,32300:49009,32301:49010,32302:49011,32303:49012,32304:49013,32305:49014,32306:49015,32307:49016,32308:49017,32309:49018,32310:49019,32311:49020,32312:49021,32313:49022,32314:49024,32315:63459,32316:49025,32317:49026,32318:49027,32319:49028,32320:49029,32321:47025,32322:49030,32323:49031,32324:49032,32325:49033,32326:49034,32327:62701,32328:49035,32329:49036,32330:49037,32331:49038,32332:49039,32333:49040,32334:49041,32335:49042,32336:49043,32337:49044,32338:49045,32339:49046,32340:49047,32341:49048,32342:49049,32343:49050,32344:49051,32345:49052,32346:49053,32347:49054,32348:49055,32349:49056,32350:49216,32351:49217,32352:49218,32353:49219,32354:49220,32355:49221,32356:49222,32357:49223,32358:49224,32359:49225,32360:49226,32361:49227,32362:49228,32363:49229,32364:49230,32365:49231,32366:49232,32367:49233,32368:49234,32369:49235,32370:49236,32371:49237,32372:49238,32373:49239,32374:49240,32375:49241,32376:49242,32377:49243,32378:49244,32379:49245,32380:49246,32381:49247,32382:49248,32383:49249,32384:49250,32385:49251,32386:55275,32387:49252,32388:49253,32389:49254,32390:49255,32391:49256,32392:49257,32393:49258,32394:49259,32395:49260,32396:49261,32397:49262,32398:49263,32399:49264,32400:49265,32401:49266,32402:49267,32403:49268,32404:49269,32405:49270,32406:49271,32407:49272,32408:49273,32409:49274,32410:49275,32411:62702,32412:49276,32413:49277,32414:49278,32415:59129,32416:48832,32417:59130,32418:47852,32419:59131,32420:53195,32421:59132,32422:54460,32423:48310,32424:59133,32425:59134,32426:48333,32427:51410,32428:52915,32429:59297,32430:49280,32431:46271,32432:59298,32433:51636,32434:47321,32435:50377,32436:49281,32437:55261,32438:49882,32439:47063,32440:54973,32441:52934,32442:47044,32443:49282,32444:49283,32445:50598,32446:59299,32447:53215,32448:59300,32449:59301,32450:59302,32451:49591,32452:55273,32453:51696,32454:53176,32455:54959,32456:54997,32457:59303,32458:45293,32459:59304,32460:59305,32461:51676,32462:53999,32463:48813,32464:59306,32465:45299,32466:51422,32467:48609,32468:59307,32469:51398,32470:49284,32471:59308,32472:48102,32473:47352,32474:53668,32475:59309,32476:49895,32477:48888,32478:48586,32479:52659,32480:59310,32481:59311,32482:48878,32483:53477,32484:49285,32485:52199,32486:52432,32487:48332,32488:59312,32489:48296,32490:53495,32491:59313,32492:49286,32493:53496,32494:59314,32495:59315,32496:46274,32497:59316,32498:59317,32499:51710,32500:52908,32501:50144,32502:59319,32503:45505,32504:46065,32505:49287,32506:59320,32507:59321,32508:55259,32509:54720,32510:59322,32511:49868,32512:55226,32513:59323,32514:59324,32515:59325,32516:48362,32517:50149,32518:49346,32519:59326,32520:59327,32521:48297,32522:49288,32523:59328,32524:59329,32525:59318,32526:46800,32527:59330,32528:49289,32529:59331,32530:59332,32531:48058,32532:46558,32533:49862,32534:45536,32535:59333,32536:54453,32537:59334,32538:47295,32539:59336,32540:59335,32541:47084,32542:49290,32543:59337,32544:45816,32545:59338,32546:59339,32547:59340,32548:59341,32549:59342,32550:59343,32551:59344,32552:54183,32553:52213,32554:59345,32555:59346,32556:59347,32557:59348,32558:51657,32559:59349,32560:59350,32561:59351,32562:59352,32563:59353,32564:48585,32565:59354,32566:62398,32567:49291,32568:47319,32569:49292,32570:51377,32571:49293,32572:49294,32573:49295,32574:49296,32575:49297,32576:49298,32577:49299,32578:62399,32579:49300,32580:62400,32581:62401,32582:49301,32583:49302,32584:49303,32585:49304,32586:49305,32587:49306,32588:49307,32589:49308,32590:49309,32591:49310,32592:47582,32593:52728,32594:49311,32595:49312,32596:55528,32597:47793,32598:49472,32599:49886,32600:61111,32601:49473,32602:47011,32603:49474,32604:49475,32605:49476,32606:49477,32607:61113,32608:49478,32609:61112,32610:45269,32611:49479,32612:49480,32613:49481,32614:49482,32615:49483,32616:61115,32617:54742,32618:55279,32619:49484,32620:49485,32621:49486,32622:54979,32623:49487,32624:49488,32625:61117,32626:51952,32627:49489,32628:61116,32629:49490,32630:49491,32631:49492,32632:49493,32633:61118,32634:49494,32635:49495,32636:49496,32637:49497,32638:61120,32639:49498,32640:49499,32641:61119,32642:49500,32643:49501,32644:49502,32645:49503,32646:49504,32647:49505,32648:49506,32649:49507,32650:53746,32651:49508,32652:51132,32653:49509,32654:50112,32655:49510,32656:49511,32657:49512,32658:49513,32659:49514,32660:47329,32661:49515,32662:49516,32663:49517,32664:49518,32665:49519,32666:49639,32667:49520,32668:49521,32669:62662,32670:53471,32671:62663,32672:49522,32673:53211,32674:49523,32675:49524,32676:51386,32677:49525,32678:49526,32679:62664,32680:49527,32681:49528,32682:49529,32683:49530,32684:49531,32685:49532,32686:49533,32687:62665,32688:62666,32689:49534,32690:62667,32691:49536,32692:49537,32693:49538,32694:49539,32695:49540,32696:55802,32697:47358,32698:49541,32699:49542,32700:58865,32701:54256,32702:49543,32703:62688,32704:49544,32705:52940,32706:49545,32707:49546,32708:49547,32709:46049,32710:49548,32711:49549,32712:49550,32713:49551,32714:61876,32715:49552,32716:53998,32717:49553,32718:62689,32719:49554,32720:49555,32721:49556,32722:49557,32723:49558,32724:53224,32725:62690,32726:49559,32727:49560,32728:51148,32729:49561,32730:49562,32731:49563,32732:49564,32733:49565,32734:49566,32735:46548,32736:46308,32737:62692,32738:49567,32739:49568,32740:49728,32741:62691,32742:62693,32743:49729,32744:49730,32745:62694,32746:49731,32747:49732,32748:49733,32749:49734,32750:62695,32751:49735,32752:47794,32753:45247,32754:49736,32755:62696,32756:49737,32757:49738,32758:49739,32759:49740,32760:49741,32761:49742,32762:49743,32763:47021,32764:53997,32765:49744,32766:49745,32767:49746,32768:53931,32769:49359,32770:49747,32771:49084,32772:60323,32773:54751,32774:60104,32775:49748,32776:49749,32777:49750,32778:49751,32779:61939,32780:46840,32781:52131,32782:49752,32783:49753,32784:50381,32785:49754,32786:61927,32787:49755,32788:61928,32789:47355,32790:61929,32791:47812,32792:54469,32793:45266,32794:49756,32795:49757,32796:61930,32797:49758,32798:49759,32799:49760,32800:61931,32801:49761,32802:61932,32803:49762,32804:49763,32805:61933,32806:61934,32807:61935,32808:61937,32809:61936,32810:50645,32811:49764,32812:49765,32813:49766,32814:49767,32815:49768,32816:49769,32817:61938,32818:49770,32819:46842,32820:49771,32821:61940,32822:53934,32823:57031,32824:52170,32825:49772,32826:49773,32827:46044,32828:49774,32829:46498,32830:49775,32831:47522,32832:49776,32833:49777,32834:50420,32835:61941,32836:49778,32837:49779,32838:61942,32839:49780,32840:49781,32841:49782,32842:49604,32843:49659,32844:54960,32845:61943,32846:49783,32847:49784,32848:49785,32849:49786,32850:61944,32851:49787,32852:49578,32853:49788,32854:49789,32855:49790,32856:50872,32857:49792,32858:48859,32859:49793,32860:49794,32861:49795,32862:49796,32863:49797,32864:49798,32865:49799,32866:49800,32867:49801,32868:49802,32869:49803,32870:49804,32871:49805,32872:49806,32873:61945,32874:46287,32875:49807,32876:49808,32877:49809,32878:49810,32879:49811,32880:49812,32881:61946,32882:49813,32883:49814,32884:49815,32885:49816,32886:49817,32887:49818,32888:49819,32889:49820,32890:49821,32891:49822,32892:49823,32893:49824,32894:49984,32895:60850,32896:60849,32897:49985,32898:49986,32899:52192,32900:53982,32901:49987,32902:52161,32903:54744,32904:49988,32905:51426,32906:49989,32907:49375,32908:48289,32909:49990,32910:49991,32911:49992,32912:49993,32913:49994,32914:49995,32915:60353,32916:49996,32917:49997,32918:53412,32919:49998,32920:55010,32921:49999,32922:46791,32923:47320,32924:60352,32925:47310,32926:5e4,32927:60351,32928:45990,32929:47561,32930:54955,32931:50001,32932:47092,32933:47050,32934:50002,32935:50003,32936:50004,32937:48359,32938:47038,32939:60358,32940:50005,32941:60359,32942:45241,32943:49103,32944:50006,32945:60357,32946:54269,32947:50007,32948:60360,32949:50008,32950:50009,32951:60361,32952:50010,32953:50011,32954:47054,32955:50012,32956:60354,32957:60356,32958:51702,32959:54999,32960:54733,32961:53426,32962:60367,32963:52920,32964:60368,32965:50013,32966:46504,32967:50014,32968:50015,32969:50016,32970:50017,32971:50018,32972:45491,32973:60370,32974:52389,32975:50019,32976:50020,32977:50021,32978:50022,32979:50023,32980:50024,32981:50025,32982:50646,32983:60371,32984:50026,32985:60369,32986:50655,32987:60366,32988:51876,32989:60373,32990:45307,32991:50027,32992:50028,32993:47866,32994:50029,32995:50030,32996:55479,32997:61923,32998:50031,32999:60362,33000:60363,33001:60364,33002:60365,33003:60374,33004:59072,33005:60377,33006:50032,33007:49128,33008:53960,33009:60375,33010:60380,33011:47340,33012:60376,33013:50033,33014:48570,33015:50034,33016:53464,33017:50035,33018:45239,33019:50036,33020:60381,33021:50396,33022:50037,33023:50038,33024:50039,33025:50040,33026:54956,33027:50041,33028:50042,33029:50043,33030:46304,33031:50044,33032:50045,33033:49910,33034:48313,33035:50046,33036:50048,33037:60378,33038:60379,33039:54496,33040:50922,33041:50388,33042:60383,33043:50599,33044:55797,33045:50049,33046:45745,33047:50050,33048:60388,33049:50051,33050:48581,33051:50052,33052:50053,33053:50054,33054:60386,33055:50055,33056:50056,33057:50057,33058:50058,33059:50059,33060:50060,33061:50061,33062:50062,33063:50063,33064:50064,33065:50065,33066:50066,33067:50067,33068:60387,33069:50068,33070:50069,33071:47276,33072:50070,33073:52689,33074:60389,33075:50071,33076:50072,33077:50073,33078:60385,33079:50074,33080:49587,33081:50075,33082:50076,33083:50077,33084:50078,33085:50079,33086:50850,33087:50080,33088:50240,33089:50241,33090:50242,33091:50243,33092:50244,33093:50245,33094:52467,33095:50246,33096:60390,33097:50247,33098:49328,33099:53944,33100:60391,33101:50248,33102:50249,33103:50250,33104:47279,33105:47277,33106:50251,33107:60392,33108:51131,33109:52723,33110:50252,33111:50253,33112:50254,33113:60394,33114:60395,33115:50255,33116:50256,33117:50257,33118:50258,33119:50259,33120:60397,33121:50260,33122:50261,33123:50262,33124:50263,33125:53448,33126:50264,33127:60402,33128:50265,33129:60398,33130:50266,33131:50267,33132:50268,33133:60401,33134:51449,33135:50269,33136:53756,33137:60396,33138:50270,33139:50271,33140:60393,33141:50272,33142:50273,33143:50274,33144:50275,33145:47289,33146:53209,33147:50405,33148:60399,33149:60400,33150:52442,33151:52680,33152:45298,33153:50276,33154:60406,33155:50277,33156:50278,33157:50279,33158:50280,33159:50281,33160:60405,33161:50282,33162:45746,33163:50283,33164:50284,33165:50285,33166:50286,33167:47328,33168:50287,33169:60407,33170:50288,33171:50289,33172:50290,33173:50291,33174:50292,33175:50293,33176:45548,33177:50294,33178:50295,33179:52421,33180:50340,33181:53157,33182:50296,33183:50297,33184:50298,33185:50299,33186:50300,33187:60409,33188:50301,33189:50302,33190:60578,33191:50304,33192:50674,33193:50305,33194:60410,33195:50306,33196:50307,33197:50308,33198:50309,33199:50310,33200:50311,33201:50312,33202:50313,33203:51653,33204:50314,33205:50315,33206:50316,33207:50317,33208:50318,33209:50319,33210:58079,33211:60414,33212:50320,33213:50321,33214:50322,33215:50323,33216:52686,33217:60577,33218:45531,33219:54199,33220:50324,33221:50325,33222:53980,33223:50326,33224:50327,33225:50328,33226:60413,33227:50329,33228:60411,33229:50330,33230:50331,33231:50332,33232:50333,33233:50334,33234:50335,33235:50336,33236:50496,33237:50497,33238:50498,33239:50499,33240:50500,33241:50501,33242:50502,33243:50503,33244:50504,33245:50505,33246:50506,33247:50507,33248:50508,33249:50509,33250:50510,33251:46012,33252:50511,33253:50512,33254:50513,33255:60080,33256:50514,33257:50515,33258:55252,33259:50516,33260:62635,33261:46068,33262:50517,33263:50518,33264:50519,33265:50520,33266:50521,33267:54977,33268:54978,33269:50522,33270:50523,33271:50524,33272:50525,33273:50526,33274:50527,33275:54761,33276:48842,33277:50528,33278:62631,33279:50529,33280:53928,33281:62632,33282:62633,33283:50530,33284:62634,33285:48843,33286:54239,33287:50531,33288:50532,33289:50533,33290:50534,33291:50535,33292:51680,33293:51681,33294:50536,33295:50537,33296:62402,33297:50538,33298:51942,33299:50539,33300:52466,33301:50540,33302:50541,33303:50542,33304:50543,33305:50544,33306:50545,33307:58038,33308:52148,33309:50546,33310:52968,33311:55003,33312:50547,33313:62637,33314:62638,33315:62639,33316:50548,33317:50549,33318:50550,33319:50551,33320:62642,33321:50552,33322:47805,33323:62643,33324:45283,33325:62640,33326:50553,33327:62641,33328:48546,33329:45781,33330:50554,33331:62646,33332:62647,33333:46822,33334:45744,33335:53199,33336:62644,33337:46252,33338:50555,33339:62645,33340:50556,33341:50557,33342:62648,33343:50558,33344:50560,33345:50561,33346:50562,33347:50563,33348:62649,33349:50564,33350:50565,33351:52647,33352:50566,33353:62650,33354:50567,33355:62651,33356:50568,33357:50569,33358:50570,33359:62652,33360:50571,33361:50572,33362:50573,33363:50574,33364:50575,33365:50576,33366:50577,33367:50578,33368:52178,33369:50579,33370:62653,33371:50580,33372:50581,33373:50582,33374:50583,33375:62654,33376:50584,33377:50585,33378:50586,33379:50587,33380:50588,33381:50589,33382:50590,33383:50591,33384:62655,33385:50592,33386:50752,33387:50753,33388:50754,33389:50755,33390:62686,33391:49596,33392:48360,33393:50756,33394:51627,33395:53726,33396:58869,33397:50757,33398:50758,33399:50759,33400:50760,33401:56499,33402:53973,33403:50761,33404:50762,33405:56500,33406:45228,33407:56501,33408:50763,33409:50764,33410:48602,33411:50765,33412:56505,33413:50766,33414:50767,33415:50768,33416:55490,33417:50769,33418:56503,33419:54259,33420:50770,33421:51670,33422:56506,33423:56502,33424:50771,33425:56507,33426:50082,33427:50772,33428:50773,33429:50774,33430:50775,33431:56508,33432:56517,33433:56509,33434:50776,33435:50777,33436:52959,33437:54949,33438:50778,33439:56527,33440:50779,33441:56525,33442:50780,33443:50781,33444:56530,33445:48614,33446:49835,33447:50782,33448:56504,33449:56523,33450:56526,33451:56510,33452:47058,33453:45253,33454:56519,33455:53438,33456:56513,33457:48040,33458:50783,33459:47036,33460:56524,33461:50784,33462:50785,33463:56518,33464:56511,33465:51163,33466:50786,33467:50787,33468:50788,33469:53695,33470:56512,33471:50789,33472:50790,33473:56522,33474:50791,33475:50792,33476:56528,33477:50793,33478:50794,33479:52909,33480:56514,33481:50795,33482:56515,33483:56520,33484:56521,33485:45780,33486:56529,33487:52181,33488:50796,33489:54455,33490:56539,33491:56543,33492:52390,33493:56550,33494:50797,33495:50151,33496:56540,33497:50798,33498:50799,33499:49089,33500:56537,33501:50800,33502:45306,33503:47542,33504:56549,33505:56531,33506:50801,33507:56516,33508:56534,33509:51444,33510:49120,33511:50802,33512:50803,33513:50804,33514:50805,33515:51643,33516:50806,33517:50807,33518:50808,33519:45501,33520:50809,33521:54178,33522:50810,33523:50811,33524:56538,33525:50812,33526:50813,33527:56533,33528:50814,33529:50875,33530:50816,33531:56542,33532:50817,33533:50818,33534:50819,33535:50820,33536:50821,33537:55234,33538:50095,33539:47030,33540:51153,33541:50089,33542:56546,33543:56536,33544:56555,33545:56532,33546:50822,33547:50823,33548:56541,33549:50824,33550:48805,33551:56535,33552:50825,33553:56544,33554:50826,33555:50827,33556:56547,33557:56548,33558:50828,33559:56568,33560:50829,33561:50830,33562:56545,33563:56738,33564:56551,33565:50831,33566:50832,33567:50833,33568:50834,33569:50835,33570:50836,33571:50837,33572:50838,33573:50839,33574:50840,33575:48363,33576:46276,33577:50841,33578:50842,33579:50083,33580:45799,33581:56570,33582:50843,33583:56562,33584:50844,33585:56559,33586:50845,33587:56572,33588:56558,33589:54e3,33590:45800,33591:50846,33592:51415,33593:51427,33594:56571,33595:50847,33596:56557,33597:50848,33598:51008,33599:51009,33600:56567,33601:51010,33602:51011,33603:56565,33604:51012,33605:51013,33606:48803,33607:56564,33608:51014,33609:45789,33610:51015,33611:51016,33612:51017,33613:51018,33614:51019,33615:56563,33616:48374,33617:56552,33618:48068,33619:51020,33620:49395,33621:51021,33622:51022,33623:51023,33624:51024,33625:51025,33626:48340,33627:56553,33628:56554,33629:51026,33630:56561,33631:56566,33632:56569,33633:46516,33634:51027,33635:51417,33636:48103,33637:56574,33638:56573,33639:54187,33640:56737,33641:56739,33642:56741,33643:54001,33644:56740,33645:56742,33646:56743,33647:53929,33648:51028,33649:51029,33650:51030,33651:51031,33652:51032,33653:51033,33654:51034,33655:47817,33656:56745,33657:51035,33658:51036,33659:56758,33660:56753,33661:56756,33662:51037,33663:51038,33664:51039,33665:51040,33666:51041,33667:51042,33668:51043,33669:56752,33670:50894,33671:51044,33672:51045,33673:49394,33674:51046,33675:51047,33676:51048,33677:51049,33678:51631,33679:51050,33680:51051,33681:51052,33682:56556,33683:56750,33684:51053,33685:51054,33686:51055,33687:51056,33688:56759,33689:51057,33690:51058,33691:56560,33692:56751,33693:51059,33694:56760,33695:51060,33696:56748,33697:51061,33698:51062,33699:51063,33700:51064,33701:51065,33702:51066,33703:51067,33704:56761,33705:56755,33706:56749,33707:50346,33708:51068,33709:51069,33710:51070,33711:51072,33712:56744,33713:49331,33714:49579,33715:56746,33716:56747,33717:51073,33718:56754,33719:48113,33720:56757,33721:54184,33722:56762,33723:51074,33724:56763,33725:50087,33726:51075,33727:51076,33728:56786,33729:56764,33730:51077,33731:51078,33732:51079,33733:56785,33734:51080,33735:47549,33736:51081,33737:51082,33738:48853,33739:51083,33740:48890,33741:51084,33742:51085,33743:47818,33744:51086,33745:51087,33746:51088,33747:51089,33748:56778,33749:51090,33750:56773,33751:51091,33752:56767,33753:51092,33754:51093,33755:51094,33756:45771,33757:56771,33758:51095,33759:56779,33760:45732,33761:56789,33762:51096,33763:51097,33764:51098,33765:56766,33766:51099,33767:51100,33768:51101,33769:50896,33770:56784,33771:51102,33772:51103,33773:51104,33774:51264,33775:51265,33776:56788,33777:49634,33778:47046,33779:51266,33780:51267,33781:51268,33782:51269,33783:51270,33784:56782,33785:56783,33786:51271,33787:51272,33788:51273,33789:56772,33790:51274,33791:51275,33792:51276,33793:56765,33794:51277,33795:56781,33796:52433,33797:51278,33798:56777,33799:51279,33800:51280,33801:51281,33802:51282,33803:56770,33804:50120,33805:50876,33806:52910,33807:56780,33808:51283,33809:56776,33810:51284,33811:51285,33812:51286,33813:51287,33814:51288,33815:51289,33816:56769,33817:51290,33818:51291,33819:51292,33820:56774,33821:49884,33822:51293,33823:51294,33824:51295,33825:51296,33826:51297,33827:51298,33828:54185,33829:54186,33830:56787,33831:53236,33832:51448,33833:51299,33834:51300,33835:51301,33836:51302,33837:51303,33838:51304,33839:51305,33840:51306,33841:56806,33842:51307,33843:51308,33844:51309,33845:51310,33846:51311,33847:51312,33848:56775,33849:51313,33850:51314,33851:51315,33852:56800,33853:49892,33854:51316,33855:51317,33856:51318,33857:51319,33858:51320,33859:51321,33860:51322,33861:51323,33862:56801,33863:51324,33864:51325,33865:51326,33866:51328,33867:51329,33868:51330,33869:51331,33870:51332,33871:51333,33872:51334,33873:56791,33874:51335,33875:51336,33876:51337,33877:51338,33878:51339,33879:55032,33880:51340,33881:56793,33882:56792,33883:47344,33884:56790,33885:51341,33886:51342,33887:51343,33888:51344,33889:50895,33890:51345,33891:46765,33892:51346,33893:51347,33894:51348,33895:51349,33896:51350,33897:56802,33898:51351,33899:47865,33900:54497,33901:56807,33902:51352,33903:51353,33904:51354,33905:46288,33906:51355,33907:56794,33908:51356,33909:49147,33910:56803,33911:51357,33912:56799,33913:51358,33914:56797,33915:51359,33916:51360,33917:51520,33918:51521,33919:51522,33920:51523,33921:51524,33922:46553,33923:51525,33924:51526,33925:51527,33926:51528,33927:56795,33928:56796,33929:56798,33930:51529,33931:48559,33932:56804,33933:51530,33934:56805,33935:51531,33936:51532,33937:51533,33938:51534,33939:51535,33940:51536,33941:51537,33942:51538,33943:56821,33944:51539,33945:50121,33946:51540,33947:51541,33948:52194,33949:51542,33950:51543,33951:51544,33952:51545,33953:56818,33954:51546,33955:51547,33956:51548,33957:51549,33958:51550,33959:51551,33960:51552,33961:51553,33962:51554,33963:51555,33964:51556,33965:51557,33966:51558,33967:55521,33968:51559,33969:51560,33970:50897,33971:51561,33972:56820,33973:51562,33974:51563,33975:51564,33976:54772,33977:56819,33978:56816,33979:51565,33980:51566,33981:56812,33982:51567,33983:56815,33984:51568,33985:56808,33986:51569,33987:51570,33988:53486,33989:51571,33990:51572,33991:51573,33992:51574,33993:51416,33994:56814,33995:51575,33996:51576,33997:56809,33998:51577,33999:51578,34000:56810,34001:52210,34002:51579,34003:56813,34004:51580,34005:51581,34006:45517,34007:51582,34008:51584,34009:51585,34010:51586,34011:51587,34012:51588,34013:49334,34014:51589,34015:48315,34016:56817,34017:51590,34018:51591,34019:56823,34020:51592,34021:56822,34022:56811,34023:51593,34024:51594,34025:51595,34026:51596,34027:51597,34028:50670,34029:51598,34030:51599,34031:51600,34032:56827,34033:51601,34034:51602,34035:51603,34036:51604,34037:51605,34038:51606,34039:51607,34040:51608,34041:51609,34042:51610,34043:51611,34044:56996,34045:51612,34046:51613,34047:56995,34048:51614,34049:51615,34050:51616,34051:51776,34052:51777,34053:51778,34054:51779,34055:51780,34056:51781,34057:51782,34058:51783,34059:51784,34060:56824,34061:51785,34062:51786,34063:51787,34064:51788,34065:50159,34066:51789,34067:49915,34068:51790,34069:51791,34070:51792,34071:54753,34072:51793,34073:51794,34074:52917,34075:51795,34076:51796,34077:51797,34078:51798,34079:56829,34080:51799,34081:45772,34082:51800,34083:51801,34084:51802,34085:51803,34086:51804,34087:51805,34088:51806,34089:51807,34090:51808,34091:50408,34092:51935,34093:51809,34094:51810,34095:51811,34096:51812,34097:51813,34098:51814,34099:51815,34100:51816,34101:51817,34102:51818,34103:51134,34104:56826,34105:56828,34106:56830,34107:56994,34108:45226,34109:45518,34110:51819,34111:51820,34112:51821,34113:51822,34114:51823,34115:57004,34116:51824,34117:51825,34118:51826,34119:51827,34120:56998,34121:48566,34122:51439,34123:51828,34124:51829,34125:51830,34126:51831,34127:51832,34128:51833,34129:51834,34130:51835,34131:51836,34132:51837,34133:51838,34134:56993,34135:51840,34136:51841,34137:56997,34138:51842,34139:51843,34140:51844,34141:51845,34142:57001,34143:51846,34144:51847,34145:51848,34146:51849,34147:51850,34148:57e3,34149:51851,34150:51852,34151:51853,34152:56999,34153:51854,34154:51855,34155:51856,34156:51857,34157:51858,34158:51859,34159:51860,34160:51861,34161:51862,34162:57005,34163:51863,34164:54476,34165:51864,34166:51865,34167:51866,34168:51867,34169:57011,34170:57002,34171:57006,34172:51868,34173:51869,34174:49369,34175:51870,34176:51871,34177:51872,34178:52032,34179:52033,34180:45473,34181:57014,34182:52034,34183:57009,34184:52035,34185:52036,34186:52037,34187:52038,34188:52039,34189:52040,34190:52041,34191:57010,34192:52042,34193:52043,34194:52044,34195:52045,34196:52046,34197:52047,34198:52048,34199:52049,34200:52050,34201:52051,34202:52052,34203:53670,34204:57013,34205:52053,34206:52054,34207:52055,34208:52056,34209:52057,34210:52058,34211:52059,34212:57007,34213:52060,34214:52061,34215:52062,34216:57008,34217:52063,34218:53437,34219:52064,34220:52065,34221:52066,34222:57012,34223:51949,34224:57017,34225:52067,34226:52068,34227:52069,34228:52070,34229:52071,34230:52072,34231:57016,34232:52073,34233:57015,34234:52074,34235:52075,34236:52076,34237:52077,34238:52078,34239:52079,34240:52080,34241:57019,34242:52081,34243:52082,34244:52083,34245:52084,34246:52085,34247:52086,34248:52087,34249:48613,34250:52088,34251:52089,34252:52090,34253:52091,34254:52092,34255:45784,34256:50154,34257:52093,34258:52094,34259:57018,34260:52096,34261:50618,34262:52097,34263:52098,34264:52099,34265:52100,34266:52101,34267:52102,34268:57020,34269:52103,34270:52104,34271:52105,34272:52106,34273:52107,34274:52108,34275:52109,34276:52441,34277:52110,34278:52111,34279:52112,34280:52113,34281:47018,34282:52114,34283:52115,34284:52116,34285:52117,34286:52118,34287:52119,34288:52120,34289:52121,34290:52122,34291:52123,34292:52124,34293:52125,34294:52126,34295:52127,34296:52128,34297:52288,34298:52289,34299:54501,34300:52290,34301:52291,34302:52292,34303:57021,34304:52293,34305:52294,34306:52295,34307:52296,34308:52297,34309:57023,34310:52298,34311:52299,34312:52300,34313:52301,34314:52302,34315:52303,34316:52304,34317:52305,34318:52306,34319:52307,34320:52308,34321:50338,34322:52309,34323:52310,34324:52311,34325:52312,34326:57025,34327:52313,34328:52314,34329:52315,34330:52316,34331:52317,34332:52318,34333:52319,34334:52320,34335:52321,34336:52322,34337:52323,34338:52324,34339:52325,34340:52326,34341:52327,34342:52328,34343:57022,34344:52329,34345:57024,34346:52330,34347:52331,34348:52332,34349:52333,34350:52334,34351:52335,34352:52336,34353:52337,34354:52338,34355:52339,34356:52340,34357:52341,34358:52342,34359:52343,34360:54714,34361:52344,34362:52345,34363:52346,34364:57026,34365:52347,34366:52348,34367:52349,34368:52350,34369:52352,34370:52353,34371:52354,34372:52355,34373:52356,34374:52357,34375:52358,34376:52359,34377:52360,34378:52361,34379:52362,34380:52363,34381:62126,34382:48034,34383:49842,34384:50608,34385:49863,34386:52364,34387:52365,34388:62127,34389:52366,34390:52367,34391:52368,34392:52369,34393:52370,34394:53481,34395:52371,34396:52372,34397:52373,34398:54237,34399:52374,34400:52375,34401:52376,34402:60349,34403:52377,34404:52378,34405:52379,34406:52380,34407:52381,34408:52382,34409:52383,34410:52384,34411:46054,34412:62128,34413:52544,34414:62129,34415:52545,34416:52546,34417:51885,34418:52547,34419:52548,34420:52549,34421:52550,34422:52551,34423:52552,34424:52553,34425:47847,34426:62131,34427:62133,34428:62132,34429:52196,34430:53178,34431:62130,34432:51892,34433:53967,34434:49900,34435:52554,34436:52555,34437:52556,34438:52557,34439:52558,34440:52559,34441:52560,34442:52931,34443:62136,34444:45302,34445:62135,34446:52561,34447:52562,34448:52563,34449:52564,34450:52565,34451:62142,34452:52566,34453:45775,34454:52567,34455:52568,34456:52569,34457:52570,34458:52571,34459:52572,34460:53697,34461:62138,34462:52573,34463:52574,34464:52575,34465:52576,34466:52577,34467:62140,34468:54505,34469:52578,34470:52579,34471:62139,34472:62134,34473:62143,34474:62141,34475:52580,34476:62137,34477:52581,34478:52582,34479:62151,34480:62148,34481:62150,34482:52583,34483:52584,34484:62154,34485:62146,34486:62144,34487:52585,34488:52586,34489:52587,34490:62149,34491:52588,34492:52589,34493:52590,34494:52591,34495:52592,34496:55035,34497:52593,34498:52594,34499:52595,34500:62145,34501:52596,34502:51193,34503:51679,34504:52597,34505:62152,34506:47558,34507:46512,34508:52598,34509:52599,34510:62147,34511:62153,34512:62160,34513:62166,34514:52600,34515:52601,34516:48087,34517:52602,34518:52603,34519:52604,34520:62165,34521:52700,34522:52605,34523:55019,34524:52606,34525:52608,34526:62162,34527:62164,34528:52609,34529:52610,34530:52611,34531:52612,34532:47346,34533:52613,34534:52614,34535:52615,34536:52616,34537:62155,34538:52617,34539:52618,34540:52619,34541:62158,34542:49913,34543:52620,34544:54749,34545:62156,34546:62157,34547:62159,34548:62163,34549:52621,34550:52622,34551:52623,34552:62169,34553:54204,34554:52624,34555:52625,34556:52626,34557:52627,34558:46826,34559:52628,34560:51953,34561:52629,34562:47076,34563:62167,34564:52630,34565:52631,34566:52632,34567:62168,34568:62170,34569:62173,34570:62171,34571:52633,34572:52634,34573:62172,34574:52635,34575:52636,34576:52637,34577:52638,34578:53713,34579:62161,34580:52639,34581:52681,34582:52640,34583:52943,34584:54953,34585:52800,34586:62179,34587:52801,34588:50139,34589:52802,34590:62176,34591:52803,34592:52804,34593:49327,34594:62188,34595:62174,34596:52805,34597:62177,34598:52806,34599:52807,34600:52808,34601:62184,34602:52809,34603:52810,34604:52811,34605:52812,34606:62178,34607:52813,34608:52814,34609:62183,34610:52815,34611:52816,34612:62182,34613:52817,34614:52818,34615:62185,34616:52819,34617:52820,34618:52821,34619:62175,34620:52822,34621:52823,34622:62180,34623:62186,34624:52824,34625:52825,34626:52826,34627:52827,34628:52828,34629:52829,34630:52830,34631:54188,34632:62181,34633:45813,34634:52831,34635:52832,34636:62194,34637:52833,34638:53419,34639:52834,34640:52835,34641:52836,34642:52837,34643:62197,34644:52838,34645:52839,34646:52840,34647:48072,34648:52841,34649:62201,34650:52842,34651:52843,34652:52844,34653:52845,34654:52846,34655:52847,34656:62192,34657:52848,34658:52849,34659:62198,34660:62200,34661:62202,34662:52850,34663:52851,34664:52852,34665:52853,34666:52854,34667:52855,34668:52856,34669:52857,34670:62195,34671:52858,34672:62193,34673:52859,34674:52860,34675:52861,34676:47867,34677:52862,34678:46587,34679:52864,34680:52865,34681:52866,34682:52867,34683:62191,34684:62199,34685:62189,34686:62190,34687:52868,34688:52869,34689:52870,34690:62187,34691:62374,34692:52871,34693:62371,34694:52872,34695:52873,34696:62370,34697:52874,34698:52875,34699:62196,34700:52876,34701:51418,34702:52877,34703:52878,34704:52879,34705:52880,34706:52881,34707:62203,34708:52882,34709:52883,34710:52884,34711:62373,34712:52885,34713:52886,34714:52887,34715:52888,34716:52889,34717:52890,34718:52891,34719:50168,34720:52892,34721:52893,34722:52894,34723:52895,34724:52896,34725:53056,34726:53057,34727:53058,34728:62205,34729:53059,34730:53060,34731:62375,34732:62377,34733:62372,34734:53061,34735:62204,34736:53062,34737:53063,34738:53064,34739:62379,34740:53065,34741:62378,34742:53066,34743:53067,34744:53068,34745:53069,34746:49885,34747:53070,34748:53071,34749:62382,34750:53072,34751:53073,34752:62384,34753:53074,34754:53075,34755:53076,34756:53077,34757:53078,34758:62369,34759:53079,34760:53080,34761:53081,34762:62385,34763:62380,34764:53082,34765:53083,34766:53084,34767:53085,34768:53086,34769:62383,34770:62206,34771:62381,34772:53087,34773:53088,34774:53089,34775:53090,34776:53091,34777:53092,34778:53093,34779:62386,34780:53094,34781:53095,34782:53096,34783:53097,34784:62388,34785:53098,34786:53099,34787:53100,34788:53101,34789:62376,34790:53102,34791:53103,34792:53104,34793:53105,34794:62387,34795:53106,34796:53107,34797:53108,34798:62389,34799:53109,34800:53110,34801:53111,34802:53112,34803:53113,34804:53114,34805:53115,34806:53116,34807:53117,34808:53118,34809:53431,34810:53120,34811:53121,34812:53122,34813:53123,34814:62392,34815:53124,34816:53125,34817:53126,34818:53127,34819:55801,34820:53128,34821:53129,34822:53130,34823:53131,34824:53132,34825:53133,34826:62393,34827:53134,34828:53135,34829:53136,34830:53137,34831:53138,34832:53139,34833:53140,34834:53141,34835:62391,34836:53142,34837:51428,34838:62390,34839:53143,34840:53144,34841:53145,34842:53146,34843:62394,34844:53147,34845:53148,34846:53149,34847:53150,34848:53151,34849:62395,34850:46272,34851:53152,34852:53312,34853:53313,34854:53314,34855:53315,34856:53316,34857:53317,34858:53318,34859:53319,34860:53320,34861:53321,34862:53322,34863:53323,34864:53324,34865:53325,34866:61123,34867:53326,34868:53327,34869:53328,34870:53329,34871:53330,34872:53331,34873:62396,34874:53332,34875:53333,34876:62397,34877:53334,34878:53335,34879:53336,34880:53674,34881:53337,34882:53338,34883:53339,34884:62636,34885:53446,34886:53340,34887:53341,34888:53342,34889:53343,34890:53344,34891:53345,34892:53456,34893:53724,34894:53346,34895:53347,34896:53348,34897:53349,34898:53350,34899:53351,34900:53198,34901:53352,34902:53353,34903:48598,34904:53354,34905:53699,34906:53355,34907:53356,34908:53357,34909:53358,34910:53359,34911:53360,34912:53361,34913:47842,34914:57833,34915:53954,34916:61890,34917:45753,34918:53362,34919:53363,34920:45549,34921:61891,34922:53364,34923:51648,34924:46020,34925:53365,34926:55794,34927:53366,34928:52133,34929:53367,34930:61892,34931:53368,34932:53369,34933:53370,34934:53371,34935:54996,34936:53372,34937:53373,34938:53374,34939:53376,34940:53377,34941:61893,34942:62656,34943:61894,34944:53378,34945:54444,34946:61895,34947:53379,34948:45248,34949:62657,34950:53380,34951:53381,34952:62658,34953:53382,34954:53383,34955:46332,34956:53384,34957:50651,34958:53385,34959:53386,34960:53387,34961:53388,34962:52411,34963:53389,34964:53390,34965:53391,34966:53476,34967:53392,34968:53393,34969:53394,34970:53395,34971:53396,34972:52704,34973:53397,34974:53398,34975:53399,34976:53400,34977:53401,34978:61896,34979:53402,34980:55795,34981:53403,34982:53404,34983:53405,34984:53406,34985:53407,34986:53408,34987:45499,34988:53568,34989:53166,34990:53569,34991:53570,34992:53571,34993:47268,34994:53572,34995:53573,34996:53574,34997:53575,34998:53576,34999:61898,35000:53577,35001:53578,35002:53579,35003:53580,35004:61899,35005:53581,35006:53582,35007:53583,35008:53584,35009:45763,35010:49617,35011:53585,35012:53586,35013:55216,35014:61897,35015:53587,35016:53588,35017:61900,35018:53589,35019:53590,35020:53591,35021:53592,35022:61902,35023:53593,35024:53594,35025:53595,35026:55798,35027:53596,35028:53985,35029:54435,35030:53597,35031:53598,35032:62659,35033:51385,35034:53599,35035:53600,35036:53601,35037:53602,35038:53603,35039:62660,35040:53604,35041:53605,35042:61901,35043:61903,35044:49123,35045:61904,35046:53606,35047:53607,35048:61908,35049:53608,35050:53609,35051:53610,35052:53611,35053:53612,35054:53613,35055:53614,35056:61910,35057:61905,35058:53615,35059:51665,35060:50657,35061:53616,35062:53617,35063:53618,35064:49891,35065:47612,35066:53619,35067:53620,35068:61907,35069:53621,35070:61909,35071:53622,35072:53623,35073:53624,35074:47571,35075:53625,35076:53626,35077:53627,35078:53628,35079:53629,35080:53630,35081:53632,35082:61915,35083:53633,35084:53634,35085:53635,35086:53636,35087:53637,35088:47830,35089:53638,35090:45309,35091:61913,35092:53639,35093:53640,35094:53641,35095:53642,35096:53643,35097:61912,35098:61906,35099:61914,35100:53644,35101:53645,35102:53646,35103:53647,35104:53648,35105:61911,35106:53649,35107:53650,35108:53651,35109:51436,35110:53652,35111:53653,35112:53654,35113:53655,35114:52682,35115:61917,35116:53656,35117:53657,35118:53658,35119:53659,35120:58813,35121:53660,35122:53661,35123:53662,35124:61916,35125:53663,35126:61918,35127:53664,35128:53824,35129:53825,35130:53826,35131:53827,35132:53828,35133:53829,35134:53830,35135:53831,35136:53832,35137:61919,35138:53833,35139:53834,35140:53221,35141:53835,35142:53836,35143:53837,35144:53838,35145:53839,35146:53840,35147:53841,35148:53842,35149:53843,35150:53844,35151:53845,35152:53846,35153:53847,35154:53848,35155:53849,35156:53850,35157:53851,35158:53852,35159:53853,35160:53854,35161:53855,35162:53856,35163:53857,35164:53858,35165:53859,35166:62661,35167:48627,35168:53860,35169:53861,35170:53862,35171:53863,35172:53864,35173:53865,35174:61920,35175:53866,35176:53867,35177:53868,35178:53869,35179:53870,35180:53871,35181:53872,35182:53873,35183:53874,35184:53875,35185:53876,35186:53877,35187:53878,35188:53879,35189:53880,35190:53881,35191:53882,35192:53883,35193:53884,35194:53885,35195:61921,35196:53886,35197:53888,35198:53889,35199:52983,35200:53890,35201:53930,35202:53891,35203:61947,35204:53892,35205:53893,35206:47282,35207:53894,35208:53895,35209:53896,35210:53897,35211:53898,35212:53899,35213:53900,35214:53901,35215:53902,35216:53903,35217:53904,35218:53905,35219:53906,35220:53907,35221:53908,35222:53909,35223:53910,35224:53911,35225:53912,35226:53913,35227:53914,35228:53915,35229:53916,35230:53917,35231:53918,35232:53919,35233:53920,35234:54080,35235:54081,35236:54082,35237:54083,35238:54084,35239:54085,35240:54086,35241:54087,35242:54088,35243:54089,35244:54090,35245:54091,35246:54092,35247:54093,35248:54094,35249:54095,35250:54096,35251:54097,35252:54098,35253:54099,35254:54100,35255:54101,35256:54102,35257:54103,35258:54104,35259:54105,35260:54106,35261:54107,35262:54108,35263:54109,35264:54110,35265:48379,35266:47579,35267:54111,35268:47590,35269:50137,35270:51923,35271:60136,35272:49344,35273:48885,35274:60137,35275:60138,35276:60139,35277:54112,35278:60140,35279:60141,35280:60142,35281:60143,35282:48583,35283:54113,35284:54114,35285:54115,35286:62971,35287:54116,35288:54117,35289:54118,35290:62973,35291:54119,35292:62974,35293:54120,35294:62972,35295:54121,35296:54122,35297:54123,35298:54124,35299:48610,35300:54125,35301:63137,35302:46245,35303:54126,35304:54127,35305:54128,35306:54129,35307:63138,35308:54130,35309:54131,35310:54132,35311:63139,35312:54133,35313:54134,35314:54135,35315:60594,35316:54136,35317:54137,35318:54138,35319:54139,35320:54140,35321:54141,35322:54142,35323:54144,35324:54145,35325:54146,35326:54147,35327:54148,35328:53716,35329:54149,35330:54150,35331:54151,35332:54152,35333:54153,35334:54154,35335:55786,35336:54155,35337:54156,35338:54157,35339:54158,35340:54159,35341:54160,35342:54161,35343:54162,35344:54163,35345:54164,35346:54165,35347:54166,35348:54167,35349:54168,35350:54169,35351:54170,35352:54171,35353:54172,35354:54173,35355:54174,35356:54175,35357:54176,35358:54336,35359:54337,35360:54338,35361:54339,35362:54340,35363:54341,35364:54342,35365:54343,35366:54344,35367:54345,35368:54346,35369:54347,35370:54348,35371:54349,35372:54350,35373:54351,35374:54352,35375:54353,35376:54354,35377:54355,35378:54356,35379:54357,35380:54358,35381:54359,35382:54360,35383:54361,35384:54362,35385:54363,35386:54364,35387:54365,35388:54366,35389:54367,35390:63140,35391:54368,35392:54369,35393:54370,35394:54371,35395:54372,35396:54373,35397:54374,35398:54375,35399:54376,35400:61114,35401:54377,35402:54378,35403:54379,35404:54380,35405:54381,35406:54382,35407:54383,35408:54384,35409:54385,35410:54386,35411:54387,35412:54388,35413:54389,35414:54390,35415:54391,35416:54392,35417:54393,35418:54394,35419:54395,35420:54396,35421:54397,35422:54398,35423:54400,35424:54401,35425:54402,35426:54403,35427:54404,35428:54405,35429:54406,35430:54407,35431:54408,35432:54409,35433:54410,35434:54411,35435:54412,35436:54413,35437:54414,35438:54415,35439:54416,35440:54417,35441:54418,35442:54419,35443:54420,35444:54421,35445:54422,35446:54423,35447:54424,35448:54425,35449:54706,35450:54426,35451:54427,35452:54428,35453:54429,35454:54430,35455:54431,35456:54432,35457:54592,35458:54593,35459:54594,35460:54595,35461:54596,35462:54597,35463:54598,35464:54599,35465:54270,35466:52444,35467:54600,35468:54601,35469:54602,35470:54603,35471:54604,35472:54605,35473:54606,35474:54607,35475:51908,35476:54608,35477:54609,35478:54610,35479:54611,35480:54612,35481:54613,35482:54614,35483:54615,35484:54616,35485:54617,35486:54618,35487:54619,35488:54620,35489:54621,35490:54622,35491:54623,35492:54624,35493:54625,35494:54626,35495:54627,35496:54628,35497:54629,35498:54630,35499:54631,35500:54632,35501:54633,35502:54634,35503:54635,35504:54636,35505:54637,35506:54638,35507:54639,35508:54640,35509:54641,35510:54642,35511:54643,35512:54644,35513:54645,35514:54646,35515:54647,35516:54648,35517:54649,35518:54650,35519:54651,35520:54652,35521:54653,35522:54654,35523:54656,35524:54657,35525:54658,35526:54659,35527:54660,35528:54661,35529:54662,35530:54663,35531:54664,35532:54665,35533:54666,35534:54667,35535:54668,35536:54669,35537:54670,35538:54671,35539:54672,35540:54673,35541:54674,35542:54675,35543:54676,35544:54677,35545:54678,35546:54679,35547:54680,35548:54681,35549:54682,35550:54683,35551:54684,35552:54685,35553:54686,35554:54687,35555:54688,35556:54848,35557:54849,35558:54850,35559:54851,35560:54852,35561:54853,35562:54854,35563:54855,35564:54856,35565:54857,35566:54858,35567:54859,35568:54860,35569:54861,35570:54862,35571:54863,35572:54864,35573:54865,35574:54866,35575:54867,35576:54868,35577:54869,35578:54870,35579:54871,35580:54872,35581:54873,35582:54874,35583:54875,35584:54876,35585:54877,35586:54878,35587:54879,35588:54880,35589:54881,35590:54882,35591:58816,35592:54883,35593:54884,35594:54885,35595:54886,35596:54887,35597:54888,35598:54889,35599:54890,35600:54891,35601:54892,35602:54893,35603:54894,35604:54895,35605:54896,35606:54897,35607:54898,35608:54899,35609:54900,35610:54901,35611:54902,35612:54903,35613:54904,35614:54905,35615:54906,35616:54907,35617:54908,35618:54909,35619:54910,35620:54912,35621:54913,35622:63141,35623:54914,35624:54915,35625:54916,35626:54917,35627:54918,35628:54919,35629:54920,35630:54921,35631:54922,35632:54923,35633:54924,35634:54925,35635:54926,35636:54927,35637:54928,35638:54929,35639:54930,35640:54931,35641:54932,35642:54933,35643:54934,35644:54935,35645:54936,35646:54937,35647:54938,35648:54939,35649:54940,35650:54941,35651:54942,35652:54943,35653:54944,35654:55104,35655:55105,35656:55106,35657:55107,35658:55108,35659:55109,35660:55110,35661:55111,35662:55112,35663:55113,35664:55114,35665:55115,35666:55116,35667:55117,35668:55118,35669:55119,35670:55120,35671:55121,35672:55122,35673:55123,35674:55124,35675:55125,35676:55126,35677:55127,35678:55128,35679:55129,35680:55130,35681:55131,35682:55132,35683:55133,35684:55134,35685:55135,35686:48815,35687:55136,35688:55137,35689:55138,35690:55139,35691:55140,35692:50857,35693:55141,35694:55142,35695:55143,35696:55144,35697:55145,35698:55146,35699:55147,35700:55148,35701:55149,35702:55150,35703:55151,35704:55152,35705:55153,35706:55154,35707:55155,35708:55156,35709:55157,35710:55158,35711:55159,35712:55160,35713:55161,35714:55162,35715:55163,35716:55164,35717:55165,35718:55166,35719:55168,35720:55169,35721:55170,35722:55171,35723:55172,35724:55173,35725:55174,35726:55175,35727:55176,35728:55177,35729:55178,35730:55179,35731:55180,35732:55181,35733:55182,35734:55183,35735:55184,35736:55185,35737:55186,35738:55187,35739:55188,35740:55189,35741:55190,35742:55191,35743:55192,35744:55973,35745:48326,35746:46761,35747:47292,35748:51407,35749:48293,35750:55974,35751:55975,35752:52438,35753:51395,35754:55976,35755:50941,35756:55193,35757:53685,35758:53993,35759:53686,35760:48327,35761:55194,35762:48562,35763:48100,35764:55977,35765:55978,35766:53704,35767:55979,35768:53485,35769:46831,35770:49883,35771:55195,35772:52175,35773:47085,35774:51688,35775:47043,35776:48887,35777:54948,35778:55980,35779:55981,35780:50880,35781:55271,35782:51894,35783:55196,35784:54697,35785:52191,35786:54767,35787:55982,35788:55007,35789:46282,35790:55984,35791:55983,35792:55197,35793:53995,35794:55985,35795:55986,35796:55987,35797:51924,35798:55988,35799:51883,35800:55989,35801:55990,35802:46031,35803:55023,35804:55991,35805:48048,35806:46510,35807:55992,35808:55993,35809:47598,35810:53679,35811:53992,35812:55994,35813:47299,35814:53226,35815:45807,35816:55995,35817:55996,35818:55198,35819:48619,35820:52956,35821:54255,35822:55997,35823:52979,35824:55998,35825:54229,35826:48101,35827:55999,35828:52149,35829:52176,35830:56e3,35831:51179,35832:55022,35833:56001,35834:50613,35835:46785,35836:56002,35837:47052,35838:49102,35839:56003,35840:56004,35841:52141,35842:56005,35843:46583,35844:56006,35845:49602,35846:55227,35847:56007,35848:52408,35849:55199,35850:53994,35851:50353,35852:56008,35853:46589,35854:48081,35855:56009,35856:53427,35857:56010,35858:56011,35859:52925,35860:56012,35861:56013,35862:56014,35863:45815,35864:56017,35865:56015,35866:53736,35867:56016,35868:50133,35869:56018,35870:55200,35871:56019,35872:56020,35873:56021,35874:53435,35875:53925,35876:45305,35877:56022,35878:51115,35879:56023,35880:48631,35881:50081,35882:56024,35883:56025,35884:50173,35885:52407,35886:56026,35887:56027,35888:49342,35889:50903,35890:56028,35891:56029,35892:51124,35893:56030,35894:56031,35895:47560,35896:55360,35897:55361,35898:55362,35899:55363,35900:55364,35901:55365,35902:55366,35903:55367,35904:55368,35905:48109,35906:55369,35907:55370,35908:55371,35909:55372,35910:46777,35911:62712,35912:55373,35913:62713,35914:55374,35915:55375,35916:52707,35917:55376,35918:55377,35919:55378,35920:55379,35921:55380,35922:55381,35923:55382,35924:55383,35925:62905,35926:55384,35927:55385,35928:55386,35929:55387,35930:60384,35931:55388,35932:55389,35933:55390,35934:55391,35935:55392,35936:55393,35937:53235,35938:48063,35939:55394,35940:55395,35941:55396,35942:55397,35943:55398,35944:55399,35945:55400,35946:47808,35947:54437,35948:55401,35949:55402,35950:55403,35951:55404,35952:55405,35953:55406,35954:55407,35955:57817,35956:55408,35957:55409,35958:55410,35959:55411,35960:62964,35961:45482,35962:45810,35963:55412,35964:55413,35965:55414,35966:55415,35967:55416,35968:55417,35969:55418,35970:62965,35971:55419,35972:55420,35973:62967,35974:55421,35975:55422,35976:55424,35977:47825,35978:62966,35979:55425,35980:50098,35981:55426,35982:55427,35983:55428,35984:55429,35985:55430,35986:55431,35987:55432,35988:62969,35989:55433,35990:55434,35991:55435,35992:62968,35993:55436,35994:55437,35995:55438,35996:55439,35997:55440,35998:55441,35999:55442,36000:55443,36001:55444,36002:55445,36003:55446,36004:55447,36005:55448,36006:55449,36007:55450,36008:55451,36009:55452,36010:55453,36011:55454,36012:55455,36013:55456,36014:55616,36015:55617,36016:55618,36017:55619,36018:55620,36019:55621,36020:55622,36021:55623,36022:55624,36023:55625,36024:55626,36025:55627,36026:55628,36027:55629,36028:55630,36029:55631,36030:55632,36031:55633,36032:55634,36033:55635,36034:55636,36035:55637,36036:55638,36037:55639,36038:55640,36039:55641,36040:55642,36041:55643,36042:55644,36043:55645,36044:55646,36045:55647,36046:55648,36047:55649,36048:55650,36049:55651,36050:55652,36051:55653,36052:55654,36053:55655,36054:55656,36055:55657,36056:55658,36057:55659,36058:55660,36059:55661,36060:55662,36061:55663,36062:55664,36063:55665,36064:55666,36065:55667,36066:55668,36067:55669,36068:55670,36069:55671,36070:55672,36071:55673,36072:55674,36073:55675,36074:55676,36075:55677,36076:55678,36077:55680,36078:55681,36079:55682,36080:55683,36081:55684,36082:55685,36083:55686,36084:55687,36085:55688,36086:55689,36087:55690,36088:55691,36089:55692,36090:55693,36091:55694,36092:55695,36093:55696,36094:55697,36095:55698,36096:55699,36097:55700,36098:55701,36099:55702,36100:55703,36101:55704,36102:55705,36103:55706,36104:55707,36105:55708,36106:55709,36107:55710,36108:55711,36109:55712,36110:55872,36111:55873,36112:55874,36113:55875,36114:55876,36115:55877,36116:55878,36117:55879,36118:55880,36119:55881,36120:55882,36121:55883,36122:55884,36123:55885,36124:55886,36125:45492,36126:54762,36127:47290,36128:55887,36129:47537,36130:45766,36131:54512,36132:53197,36133:45276,36134:54731,36135:48117,36136:54986,36137:47031,36138:52400,36139:50870,36140:45537,36141:47546,36142:55036,36143:47585,36144:47009,36145:48378,36146:60122,36147:60123,36148:52473,36149:47603,36150:60124,36151:46331,36152:50099,36153:47057,36154:47832,36155:60125,36156:54516,36157:60126,36158:48342,36159:48095,36160:60127,36161:49630,36162:49848,36163:54495,36164:55242,36165:60128,36166:60129,36167:60132,36168:60130,36169:60131,36170:51678,36171:47283,36172:46788,36173:60133,36174:51946,36175:51661,36176:46285,36177:55888,36178:55889,36179:58073,36180:50658,36181:60134,36182:49333,36183:55890,36184:55224,36185:60135,36186:55212,36187:51452,36188:55507,36189:55501,36190:54494,36191:55891,36192:54521,36193:51652,36194:54190,36195:47315,36196:46048,36197:55892,36198:51682,36199:62710,36200:55893,36201:55894,36202:55895,36203:47829,36204:55896,36205:62711,36206:55897,36207:55898,36208:55263,36209:55899,36210:55900,36211:62705,36212:47280,36213:54740,36214:47311,36215:50928,36216:55901,36217:55902,36218:55903,36219:55904,36220:55905,36221:55906,36222:55907,36223:55908,36224:55909,36225:46019,36226:55910,36227:55911,36228:62706,36229:45996,36230:55912,36231:55913,36232:55914,36233:55915,36234:54461,36235:51191,36236:55916,36237:55917,36238:55918,36239:55919,36240:55920,36241:62708,36242:55921,36243:55922,36244:62707,36245:55923,36246:55924,36247:55925,36248:55926,36249:55927,36250:55928,36251:55929,36252:55930,36253:55931,36254:55932,36255:52427,36256:55933,36257:55934,36258:55936,36259:51364,36260:55937,36261:55938,36262:55939,36263:55940,36264:55941,36265:55942,36266:55943,36267:55944,36268:55945,36269:55946,36270:55947,36271:55948,36272:55949,36273:62709,36274:55950,36275:55267,36276:50623,36277:62912,36278:55951,36279:55952,36280:62907,36281:55953,36282:62915,36283:55954,36284:62914,36285:55955,36286:54970,36287:62913,36288:55956,36289:55957,36290:55958,36291:54462,36292:62916,36293:55959,36294:62924,36295:55960,36296:55961,36297:55962,36298:55963,36299:45263,36300:46584,36301:55964,36302:62921,36303:62922,36304:55965,36305:50652,36306:55966,36307:55967,36308:55968,36309:56128,36310:62917,36311:62918,36312:56129,36313:56130,36314:62919,36315:62923,36316:56131,36317:48864,36318:62920,36319:47354,36320:56132,36321:56133,36322:56134,36323:62928,36324:62931,36325:56135,36326:56136,36327:56137,36328:49127,36329:56138,36330:47602,36331:62908,36332:62925,36333:56139,36334:56140,36335:49847,36336:56141,36337:56142,36338:56143,36339:52472,36340:56144,36341:48377,36342:56145,36343:62926,36344:62927,36345:62929,36346:46821,36347:62930,36348:56146,36349:62933,36350:56147,36351:56148,36352:56149,36353:56150,36354:56151,36355:56152,36356:56153,36357:62909,36358:56154,36359:56155,36360:56156,36361:62932,36362:54203,36363:56157,36364:46060,36365:56158,36366:56159,36367:52388,36368:56160,36369:56161,36370:56162,36371:56163,36372:62934,36373:56164,36374:56165,36375:56166,36376:56167,36377:56168,36378:56169,36379:56170,36380:56171,36381:62935,36382:48865,36383:62936,36384:56172,36385:56173,36386:52447,36387:62939,36388:56174,36389:56175,36390:56176,36391:56177,36392:56178,36393:45768,36394:55257,36395:56179,36396:62937,36397:56180,36398:62938,36399:62940,36400:56181,36401:62946,36402:56182,36403:56183,36404:56184,36405:62944,36406:56185,36407:56186,36408:56187,36409:62943,36410:62941,36411:56188,36412:56189,36413:62945,36414:56190,36415:56192,36416:62942,36417:62948,36418:62949,36419:56193,36420:52451,36421:56194,36422:56195,36423:58815,36424:46520,36425:62947,36426:62952,36427:52387,36428:56196,36429:56197,36430:56198,36431:56199,36432:56200,36433:62950,36434:62951,36435:56201,36436:56202,36437:56203,36438:56204,36439:56205,36440:56206,36441:62910,36442:56207,36443:56208,36444:56209,36445:56210,36446:56211,36447:56212,36448:56213,36449:56214,36450:56215,36451:56216,36452:56217,36453:56218,36454:45508,36455:56219,36456:56220,36457:62911,36458:56221,36459:56222,36460:46533,36461:45796,36462:56223,36463:62956,36464:62953,36465:56224,36466:46807,36467:56384,36468:62957,36469:56385,36470:62954,36471:56386,36472:56387,36473:56388,36474:56389,36475:56390,36476:62955,36477:56391,36478:56392,36479:46298,36480:56393,36481:54506,36482:56394,36483:56395,36484:56396,36485:62958,36486:56397,36487:46073,36488:56398,36489:56399,36490:56400,36491:56401,36492:56402,36493:56403,36494:56404,36495:62959,36496:62961,36497:56405,36498:56406,36499:56407,36500:62960,36501:56408,36502:56409,36503:56410,36504:56411,36505:56412,36506:56413,36507:56414,36508:62962,36509:56415,36510:62963,36511:56416,36512:56417,36513:56418,36514:56419,36515:56420,36516:56421,36517:56422,36518:56423,36519:56424,36520:56425,36521:56426,36522:56427,36523:51693,36524:47530,36525:56428,36526:56429,36527:51195,36528:56430,36529:56431,36530:46819,36531:56432,36532:56433,36533:56434,36534:56435,36535:56436,36536:56437,36537:56438,36538:52425,36539:56439,36540:56440,36541:56441,36542:56442,36543:56443,36544:56444,36545:56445,36546:56446,36547:56448,36548:56449,36549:56450,36550:56451,36551:56452,36552:56453,36553:56454,36554:56455,36555:56456,36556:56457,36557:56458,36558:60070,36559:56459,36560:56460,36561:56461,36562:56462,36563:56463,36564:56464,36565:56465,36566:56466,36567:56467,36568:56468,36569:56469,36570:56470,36571:56471,36572:56472,36573:56473,36574:56474,36575:56475,36576:56476,36577:56477,36578:56478,36579:56479,36580:56480,36581:56640,36582:56641,36583:56642,36584:56643,36585:56644,36586:56645,36587:56646,36588:56647,36589:56648,36590:56649,36591:56650,36592:56651,36593:56652,36594:56653,36595:56654,36596:56655,36597:56656,36598:56657,36599:56658,36600:56659,36601:56660,36602:56661,36603:56662,36604:56663,36605:56664,36606:56665,36607:56666,36608:56667,36609:56668,36610:56669,36611:56670,36612:56671,36613:56672,36614:56673,36615:56674,36616:56675,36617:56676,36618:56677,36619:56678,36620:56679,36621:56680,36622:56681,36623:56682,36624:56683,36625:56684,36626:56685,36627:56686,36628:56687,36629:56688,36630:56689,36631:56690,36632:56691,36633:56692,36634:56693,36635:56694,36636:56695,36637:56696,36638:56697,36639:56698,36640:56699,36641:56700,36642:56701,36643:56702,36644:56704,36645:56705,36646:56706,36647:56707,36648:56708,36649:56709,36650:56710,36651:56711,36652:56712,36653:56713,36654:56714,36655:56715,36656:56716,36657:56717,36658:56718,36659:56719,36660:56720,36661:56721,36662:56722,36663:56723,36664:56724,36665:56725,36666:56726,36667:56727,36668:56728,36669:56729,36670:56730,36671:56731,36672:56732,36673:56733,36674:56734,36675:56735,36676:56736,36677:56896,36678:56897,36679:56898,36680:56899,36681:56900,36682:56901,36683:56902,36684:56903,36685:56904,36686:56905,36687:56906,36688:56907,36689:56908,36690:56909,36691:56910,36692:56911,36693:56912,36694:56913,36695:56914,36696:56915,36697:56916,36698:56917,36699:56918,36700:56919,36701:56920,36702:56921,36703:56922,36704:56923,36705:56924,36706:56925,36707:56926,36708:56927,36709:56928,36710:46005,36711:54526,36712:47596,36713:53497,36714:56929,36715:59885,36716:55210,36717:59886,36718:49878,36719:51437,36720:47844,36721:59887,36722:59888,36723:59889,36724:55009,36725:59890,36726:59891,36727:59893,36728:59892,36729:59894,36730:59895,36731:51169,36732:59896,36733:54488,36734:59897,36735:48590,36736:56930,36737:59898,36738:59899,36739:48591,36740:59900,36741:47272,36742:49598,36743:59901,36744:45490,36745:48084,36746:47605,36747:59902,36748:56931,36749:60065,36750:60066,36751:60067,36752:47096,36753:48301,36754:56932,36755:51940,36756:57550,36757:54447,36758:53181,36759:54711,36760:60068,36761:54750,36762:60069,36763:53441,36764:47548,36765:56933,36766:46279,36767:45529,36768:56934,36769:56935,36770:56936,36771:49329,36772:56937,36773:56938,36774:56939,36775:56940,36776:45542,36777:45543,36778:56941,36779:45544,36780:56942,36781:56943,36782:56944,36783:56945,36784:46013,36785:51432,36786:56946,36787:56947,36788:56948,36789:56949,36790:58817,36791:56950,36792:56951,36793:45535,36794:56952,36795:56953,36796:56954,36797:49609,36798:46319,36799:56955,36800:56956,36801:51112,36802:54232,36803:56957,36804:50937,36805:53688,36806:56958,36807:47613,36808:49909,36809:56960,36810:56961,36811:56962,36812:56963,36813:56964,36814:54189,36815:56965,36816:54475,36817:48636,36818:56966,36819:58818,36820:47029,36821:58819,36822:56967,36823:56968,36824:48057,36825:54754,36826:56969,36827:48632,36828:54454,36829:52901,36830:49580,36831:46041,36832:56970,36833:56971,36834:52470,36835:56972,36836:58822,36837:58820,36838:58824,36839:56973,36840:58826,36841:58823,36842:46543,36843:50888,36844:56974,36845:46588,36846:58821,36847:56975,36848:51958,36849:56976,36850:56977,36851:58825,36852:56978,36853:56979,36854:56980,36855:50132,36856:45509,36857:48291,36858:56981,36859:56982,36860:56983,36861:55223,36862:56984,36863:56985,36864:52683,36865:52173,36866:51914,36867:52435,36868:58828,36869:58827,36870:50406,36871:56986,36872:56987,36873:53665,36874:53687,36875:58829,36876:56988,36877:58832,36878:56989,36879:52664,36880:55024,36881:58831,36882:46557,36883:56990,36884:52670,36885:56991,36886:58833,36887:46778,36888:56992,36889:57152,36890:52648,36891:47588,36892:57153,36893:51909,36894:46033,36895:52185,36896:54508,36897:58834,36898:47082,36899:57154,36900:57155,36901:57156,36902:58830,36903:57157,36904:57158,36905:57159,36906:57160,36907:57161,36908:57162,36909:58837,36910:46334,36911:58838,36912:57163,36913:57164,36914:57165,36915:57166,36916:57167,36917:58835,36918:58836,36919:57168,36920:53981,36921:57169,36922:57170,36923:49887,36924:45510,36925:57171,36926:54242,36927:57172,36928:57173,36929:46813,36930:52204,36931:57174,36932:58839,36933:57175,36934:57176,36935:54262,36936:57177,36937:57178,36938:57179,36939:57180,36940:57181,36941:45545,36942:57182,36943:46836,36944:58842,36945:58840,36946:58841,36947:46528,36948:57183,36949:57184,36950:57185,36951:53957,36952:58844,36953:57186,36954:57187,36955:58846,36956:57188,36957:57189,36958:57190,36959:57191,36960:57192,36961:57193,36962:58845,36963:51122,36964:57194,36965:53923,36966:57195,36967:57196,36968:58843,36969:57197,36970:57198,36971:57199,36972:57200,36973:54498,36974:54746,36975:57201,36976:57202,36977:57203,36978:57204,36979:57205,36980:58848,36981:55281,36982:57206,36983:57207,36984:57208,36985:57209,36986:57210,36987:57211,36988:57212,36989:58849,36990:57213,36991:45532,36992:53755,36993:57214,36994:58850,36995:58852,36996:57216,36997:57217,36998:57218,36999:57219,37000:58851,37001:57220,37002:57221,37003:58853,37004:57222,37005:57223,37006:57224,37007:57225,37008:57226,37009:53976,37010:57227,37011:46539,37012:57228,37013:59359,37014:57229,37015:56053,37016:57230,37017:56056,37018:57231,37019:56054,37020:57232,37021:56055,37022:57233,37023:57234,37024:57235,37025:56058,37026:53455,37027:50375,37028:57236,37029:57237,37030:45294,37031:57238,37032:57239,37033:57240,37034:53424,37035:57241,37036:56057,37037:57242,37038:54218,37039:47786,37040:56226,37041:51185,37042:57243,37043:56060,37044:56059,37045:51675,37046:56061,37047:57244,37048:56225,37049:55262,37050:56062,37051:49626,37052:57245,37053:57246,37054:56229,37055:57247,37056:57248,37057:54260,37058:57408,37059:57409,37060:56231,37061:56228,37062:57410,37063:56232,37064:57411,37065:57412,37066:48572,37067:57413,37068:57414,37069:57415,37070:49353,37071:56227,37072:56230,37073:54947,37074:57416,37075:56233,37076:57417,37077:57418,37078:57419,37079:56237,37080:57420,37081:57421,37082:57422,37083:56238,37084:56236,37085:47810,37086:57423,37087:57424,37088:57425,37089:49060,37090:56235,37091:57426,37092:57427,37093:57428,37094:56234,37095:54471,37096:45759,37097:57429,37098:57430,37099:56239,37100:57431,37101:47609,37102:57432,37103:56240,37104:57433,37105:57434,37106:57435,37107:57436,37108:46011,37109:57437,37110:57438,37111:57439,37112:46502,37113:57440,37114:57441,37115:57442,37116:57443,37117:46780,37118:56241,37119:57444,37120:57445,37121:57446,37122:46837,37123:57447,37124:56242,37125:57448,37126:57449,37127:57450,37128:57451,37129:57452,37130:57453,37131:57454,37132:57455,37133:57456,37134:57457,37135:57458,37136:57459,37137:57460,37138:57461,37139:57462,37140:57463,37141:57464,37142:57465,37143:57466,37144:57467,37145:45513,37146:57468,37147:57469,37148:57470,37149:57472,37150:56244,37151:57473,37152:57474,37153:57475,37154:56243,37155:56245,37156:57476,37157:57477,37158:57478,37159:57479,37160:57480,37161:57481,37162:57482,37163:57483,37164:57484,37165:57485,37166:57486,37167:56247,37168:57487,37169:56246,37170:57488,37171:57489,37172:57490,37173:57491,37174:57492,37175:57493,37176:57494,37177:56248,37178:57495,37179:57496,37180:57497,37181:57498,37182:57499,37183:57500,37184:57501,37185:57502,37186:57503,37187:56249,37188:57504,37189:57664,37190:56250,37191:57665,37192:57666,37193:54223,37194:62714,37195:51189,37196:55235,37197:50660,37198:62716,37199:62717,37200:62715,37201:57667,37202:48838,37203:57668,37204:57669,37205:57670,37206:57671,37207:53487,37208:57672,37209:57673,37210:47059,37211:57674,37212:57675,37213:54477,37214:52394,37215:57676,37216:57677,37217:62882,37218:62881,37219:47784,37220:62718,37221:52182,37222:57678,37223:57679,37224:57680,37225:62884,37226:49362,37227:57681,37228:46058,37229:57682,37230:52650,37231:62885,37232:62883,37233:48564,37234:62888,37235:57683,37236:62889,37237:48589,37238:50104,37239:49121,37240:52193,37241:62890,37242:57684,37243:57685,37244:57686,37245:62886,37246:62887,37247:50416,37248:57687,37249:57688,37250:57689,37251:57690,37252:57691,37253:62892,37254:57692,37255:46268,37256:57693,37257:55277,37258:57694,37259:46295,37260:62891,37261:62894,37262:57695,37263:57696,37264:62893,37265:62895,37266:53457,37267:57697,37268:57698,37269:57699,37270:57700,37271:57701,37272:57702,37273:57703,37274:50129,37275:51369,37276:57704,37277:57705,37278:57706,37279:57707,37280:57708,37281:57709,37282:62896,37283:62897,37284:57710,37285:57711,37286:57712,37287:57713,37288:57714,37289:57715,37290:62898,37291:57716,37292:57717,37293:62899,37294:62900,37295:62901,37296:57718,37297:57719,37298:57720,37299:57721,37300:62903,37301:62902,37302:57722,37303:57723,37304:57724,37305:57725,37306:62904,37307:57726,37308:57728,37309:57729,37310:57730,37311:57731,37312:57732,37313:57733,37314:57734,37315:57735,37316:57736,37317:57737,37318:57738,37319:45769,37320:57739,37321:54228,37322:51917,37323:57740,37324:49391,37325:55e3,37326:53936,37327:49599,37328:57741,37329:48624,37330:57742,37331:57743,37332:57744,37333:57745,37334:57746,37335:57747,37336:57748,37337:57749,37338:57750,37339:57751,37340:47274,37341:57752,37342:57753,37343:57754,37344:57755,37345:57756,37346:57757,37347:57758,37348:57759,37349:57760,37350:57920,37351:57921,37352:57922,37353:57923,37354:57924,37355:57925,37356:57926,37357:57927,37358:57928,37359:57929,37360:57930,37361:57931,37362:57932,37363:57933,37364:57934,37365:57935,37366:57936,37367:57937,37368:57938,37369:57939,37370:57940,37371:57941,37372:57942,37373:57943,37374:57944,37375:57945,37376:57946,37377:57947,37378:57948,37379:57949,37380:57950,37381:57951,37382:57952,37383:57953,37384:57954,37385:57955,37386:57956,37387:57957,37388:57958,37389:57959,37390:57960,37391:57961,37392:57962,37393:57963,37394:57964,37395:57965,37396:57966,37397:57967,37398:57968,37399:57969,37400:57970,37401:57971,37402:57972,37403:57973,37404:57974,37405:57975,37406:57976,37407:57977,37408:57978,37409:57979,37410:57980,37411:57981,37412:57982,37413:57984,37414:57985,37415:57986,37416:57987,37417:57988,37418:57989,37419:57990,37420:57991,37421:57992,37422:57993,37423:57994,37424:57995,37425:57996,37426:57997,37427:57998,37428:57999,37429:58e3,37430:58001,37431:58002,37432:58003,37433:58004,37434:58005,37435:58006,37436:58007,37437:58008,37438:58009,37439:58010,37440:58011,37441:58012,37442:58013,37443:58014,37444:58015,37445:58016,37446:58176,37447:58177,37448:58178,37449:58179,37450:58180,37451:58181,37452:58182,37453:58183,37454:58184,37455:58185,37456:58186,37457:58187,37458:58188,37459:58189,37460:58190,37461:58191,37462:58192,37463:58193,37464:58194,37465:58195,37466:58196,37467:58197,37468:58198,37469:58199,37470:58200,37471:58201,37472:58202,37473:58203,37474:58204,37475:58205,37476:58206,37477:58207,37478:58208,37479:58209,37480:58210,37481:58211,37482:58212,37483:58213,37484:58214,37485:58215,37486:58216,37487:58217,37488:58218,37489:58219,37490:58220,37491:58221,37492:48376,37493:58222,37494:58223,37495:58224,37496:58225,37497:58226,37498:58227,37499:58228,37500:58229,37501:58230,37502:58231,37503:58232,37504:58233,37505:58234,37506:58235,37507:58236,37508:58237,37509:58238,37510:58240,37511:58241,37512:58242,37513:58243,37514:58244,37515:58245,37516:58246,37517:58247,37518:63174,37519:58248,37520:58249,37521:58250,37522:58251,37523:58252,37524:58253,37525:58254,37526:58255,37527:58256,37528:58257,37529:58258,37530:58259,37531:58260,37532:58261,37533:58262,37534:58263,37535:58264,37536:58265,37537:58266,37538:58267,37539:58268,37540:58269,37541:58270,37542:58271,37543:58272,37544:58432,37545:58433,37546:58434,37547:58435,37548:58436,37549:58437,37550:63175,37551:58438,37552:58439,37553:58440,37554:58441,37555:58442,37556:58443,37557:58444,37558:58445,37559:58446,37560:58447,37561:58448,37562:58449,37563:58450,37564:58451,37565:58452,37566:58453,37567:58454,37568:58455,37569:58456,37570:58457,37571:58458,37572:58459,37573:58460,37574:58461,37575:58462,37576:63176,37577:58463,37578:58464,37579:58465,37580:58466,37581:58467,37582:58468,37583:58469,37584:58470,37585:58471,37586:58472,37587:58473,37588:58474,37589:58475,37590:58476,37591:58477,37592:58478,37593:58479,37594:58480,37595:58481,37596:58482,37597:58483,37598:58484,37599:58485,37600:58486,37601:58487,37602:58488,37603:58489,37604:58490,37605:58491,37606:58492,37607:58493,37608:58494,37609:58496,37610:58497,37611:58498,37612:58499,37613:58500,37614:58501,37615:58502,37616:58503,37617:58504,37618:58505,37619:58506,37620:58507,37621:58508,37622:58509,37623:58510,37624:58511,37625:58512,37626:58513,37627:58514,37628:58515,37629:58516,37630:58517,37631:58518,37632:58519,37633:58520,37634:58521,37635:58522,37636:58523,37637:58524,37638:58525,37639:58526,37640:58527,37641:58528,37642:58688,37643:58689,37644:58690,37645:58691,37646:58692,37647:58693,37648:58694,37649:58695,37650:58696,37651:58697,37652:58698,37653:58699,37654:58700,37655:58701,37656:58702,37657:58703,37658:58704,37659:58705,37660:58706,37661:58707,37662:58708,37663:58709,37664:58710,37665:58711,37666:58712,37667:58713,37668:58714,37669:58715,37670:58716,37671:58717,37672:58718,37673:58719,37674:58720,37675:58721,37676:58722,37677:58723,37678:58724,37679:58725,37680:58726,37681:58727,37682:58728,37683:58729,37684:58730,37685:58731,37686:58732,37687:58733,37688:58734,37689:58735,37690:58736,37691:58737,37692:58738,37693:58739,37694:63177,37695:58740,37696:58741,37697:58742,37698:58743,37699:58744,37700:58745,37701:58746,37702:58747,37703:58748,37704:58749,37705:58750,37706:58752,37707:58753,37708:58754,37709:58755,37710:58756,37711:58757,37712:58758,37713:58759,37714:58760,37715:58761,37716:58762,37717:58763,37718:58764,37719:58765,37720:58766,37721:58767,37722:58768,37723:58769,37724:58770,37725:58771,37726:58772,37727:58773,37728:58774,37729:58775,37730:58776,37731:58777,37732:58778,37733:58779,37734:58780,37735:58781,37736:58782,37737:58783,37738:63178,37739:58784,37740:58944,37741:58945,37742:58946,37743:58947,37744:58948,37745:58949,37746:58950,37747:58951,37748:58952,37749:58953,37750:58954,37751:58955,37752:58956,37753:58957,37754:58958,37755:58959,37756:58960,37757:58961,37758:58962,37759:58963,37760:58964,37761:58965,37762:58966,37763:58967,37764:58968,37765:58969,37766:58970,37767:58971,37768:58972,37769:58973,37770:58974,37771:58975,37772:58976,37773:58977,37774:58978,37775:63180,37776:58979,37777:58980,37778:58981,37779:58982,37780:58983,37781:58984,37782:58985,37783:58986,37784:58987,37785:58988,37786:58989,37787:58990,37788:58991,37789:58992,37790:58993,37791:58994,37792:58995,37793:58996,37794:58997,37795:58998,37796:58999,37797:59e3,37798:59001,37799:59002,37800:59003,37801:59004,37802:59005,37803:59006,37804:59008,37805:59009,37806:59010,37807:59011,37808:59012,37809:59013,37810:59014,37811:59015,37812:59016,37813:59017,37814:59018,37815:59019,37816:59020,37817:59021,37818:59022,37819:59023,37820:59024,37821:59025,37822:59026,37823:59027,37824:59028,37825:59029,37826:59030,37827:59031,37828:59032,37829:59033,37830:59034,37831:59035,37832:59036,37833:59037,37834:63179,37835:59038,37836:59039,37837:59040,37838:59200,37839:59201,37840:59202,37841:59203,37842:59204,37843:59205,37844:59206,37845:59207,37846:63465,37847:59208,37848:59209,37849:59210,37850:59211,37851:59212,37852:59213,37853:59214,37854:59215,37855:59216,37856:59217,37857:59218,37858:59219,37859:59220,37860:59221,37861:59222,37862:59223,37863:59224,37864:59225,37865:59226,37866:59227,37867:59228,37868:59229,37869:59230,37870:59231,37871:59232,37872:59233,37873:59234,37874:59235,37875:59236,37876:59237,37877:59238,37878:59239,37879:59240,37880:59241,37881:59242,37882:59243,37883:59244,37884:59245,37885:59246,37886:59247,37887:59248,37888:59249,37889:59250,37890:59251,37891:59252,37892:59253,37893:59254,37894:59255,37895:59256,37896:59257,37897:59258,37898:59259,37899:59260,37900:59261,37901:59262,37902:59264,37903:59265,37904:59266,37905:59267,37906:59268,37907:59269,37908:59270,37909:59271,37910:59272,37911:59273,37912:59274,37913:59275,37914:59276,37915:59277,37916:59278,37917:59279,37918:59280,37919:59281,37920:59282,37921:59283,37922:59284,37923:59285,37924:59286,37925:59287,37926:59288,37927:59289,37928:59290,37929:59291,37930:59292,37931:59293,37932:59294,37933:59295,37934:59296,37935:59456,37936:59457,37937:59458,37938:59459,37939:59460,37940:59461,37941:59462,37942:59463,37943:59464,37944:59465,37945:59466,37946:59467,37947:59468,37948:59469,37949:59470,37950:63181,37951:59471,37952:59472,37953:59473,37954:59474,37955:59475,37956:59476,37957:59477,37958:59478,37959:59479,37960:59480,37961:59481,37962:59482,37963:59483,37964:59484,37965:59485,37966:59486,37967:59487,37968:59488,37969:59489,37970:59490,37971:59491,37972:59492,37973:59493,37974:59494,37975:59495,37976:59496,37977:59497,37978:59498,37979:59499,37980:59500,37981:59501,37982:59502,37983:59503,37984:59504,37985:59505,37986:59506,37987:59507,37988:59508,37989:59509,37990:59510,37991:59511,37992:59512,37993:59513,37994:59514,37995:63182,37996:59515,37997:59516,37998:59517,37999:59518,38000:59520,38001:59521,38002:59522,38003:59523,38004:59524,38005:59525,38006:59526,38007:59527,38008:59528,38009:59529,38010:59530,38011:59531,38012:59532,38013:59533,38014:59534,38015:59535,38016:59536,38017:59537,38018:59538,38019:59539,38020:59540,38021:61124,38022:61125,38023:61126,38024:54763,38025:46756,38026:61128,38027:61127,38028:61129,38029:61130,38030:51109,38031:61131,38032:61132,38033:59541,38034:47024,38035:46582,38036:61133,38037:61135,38038:59542,38039:61134,38040:59543,38041:47302,38042:61136,38043:61137,38044:61138,38045:46811,38046:45998,38047:54995,38048:50374,38049:45493,38050:47318,38051:61139,38052:61140,38053:54463,38054:51157,38055:48891,38056:52953,38057:47539,38058:61142,38059:61141,38060:61144,38061:61143,38062:50597,38063:61145,38064:61146,38065:51118,38066:61147,38067:51119,38068:61148,38069:45735,38070:61149,38071:61150,38072:61151,38073:61152,38074:61153,38075:55274,38076:61154,38077:61155,38078:48344,38079:61156,38080:54219,38081:52474,38082:45740,38083:49637,38084:61157,38085:51110,38086:50093,38087:59544,38088:61158,38089:61159,38090:61160,38091:61161,38092:61162,38093:61163,38094:61164,38095:59545,38096:61165,38097:61166,38098:61167,38099:59546,38100:59547,38101:61168,38102:61169,38103:61170,38104:61172,38105:61171,38106:59548,38107:61173,38108:52653,38109:49857,38110:61174,38111:61175,38112:61176,38113:54689,38114:61177,38115:53171,38116:61178,38117:61179,38118:59549,38119:61180,38120:61181,38121:61345,38122:61182,38123:61346,38124:47349,38125:50170,38126:61347,38127:61348,38128:48578,38129:53951,38130:45817,38131:61349,38132:61350,38133:61351,38134:54008,38135:61352,38136:55037,38137:61353,38138:50892,38139:59550,38140:61354,38141:61355,38142:49588,38143:61356,38144:53242,38145:52216,38146:61358,38147:61357,38148:46074,38149:47608,38150:61359,38151:61360,38152:53474,38153:61361,38154:61362,38155:47078,38156:53439,38157:61363,38158:61364,38159:61365,38160:51441,38161:52448,38162:61366,38163:61367,38164:61368,38165:61369,38166:61370,38167:54752,38168:61371,38169:46317,38170:50090,38171:61372,38172:59551,38173:61373,38174:61374,38175:61375,38176:59552,38177:52989,38178:61376,38179:49888,38180:46264,38181:55222,38182:48629,38183:59712,38184:53191,38185:61379,38186:61377,38187:61378,38188:61380,38189:46759,38190:48380,38191:48866,38192:50124,38193:61381,38194:61382,38195:59713,38196:61383,38197:61391,38198:61384,38199:61385,38200:61386,38201:51138,38202:61425,38203:46797,38204:61387,38205:59714,38206:61388,38207:61389,38208:46790,38209:50110,38210:61390,38211:59715,38212:61392,38213:61393,38214:61394,38215:54770,38216:59716,38217:61395,38218:50423,38219:59717,38220:61396,38221:50424,38222:61397,38223:61398,38224:47332,38225:45303,38226:61399,38227:61400,38228:61401,38229:59718,38230:61402,38231:61403,38232:61404,38233:61405,38234:59719,38235:61406,38236:48821,38237:61409,38238:61407,38239:61408,38240:59720,38241:61410,38242:61411,38243:49613,38244:61412,38245:61413,38246:61414,38247:61415,38248:61416,38249:61417,38250:61418,38251:61419,38252:61420,38253:49368,38254:59721,38255:61421,38256:49581,38257:61422,38258:61423,38259:61424,38260:59722,38261:59723,38262:53218,38263:59724,38264:59725,38265:59726,38266:59727,38267:59728,38268:59729,38269:59730,38270:59731,38271:45988,38272:59732,38273:59733,38274:59734,38275:59735,38276:59736,38277:59737,38278:59738,38279:59739,38280:59740,38281:59741,38282:59742,38283:59743,38284:59744,38285:59745,38286:59746,38287:59747,38288:59748,38289:59749,38290:59750,38291:59751,38292:59752,38293:59753,38294:59754,38295:59755,38296:59756,38297:59757,38298:59758,38299:59759,38300:59760,38301:59761,38302:59762,38303:59763,38304:59764,38305:59765,38306:59766,38307:59767,38308:59768,38309:59769,38310:59770,38311:59771,38312:59772,38313:59773,38314:59774,38315:59776,38316:59777,38317:59778,38318:59779,38319:59780,38320:59781,38321:59782,38322:59783,38323:59784,38324:59785,38325:59786,38326:59787,38327:59788,38328:59789,38329:59790,38330:59791,38331:59792,38332:59793,38333:59794,38334:59795,38335:59796,38336:59797,38337:59798,38338:59799,38339:59800,38340:59801,38341:59802,38342:59803,38343:59804,38344:59805,38345:59806,38346:59807,38347:59808,38348:59968,38349:59969,38350:59970,38351:59971,38352:59972,38353:59973,38354:59974,38355:59975,38356:59976,38357:59977,38358:59978,38359:59979,38360:59980,38361:59981,38362:59982,38363:59983,38364:59984,38365:59985,38366:59986,38367:59987,38368:59988,38369:59989,38370:59990,38371:59991,38372:59992,38373:59993,38374:59994,38375:59995,38376:50117,38377:58309,38378:51649,38379:58310,38380:59996,38381:45525,38382:52938,38383:46259,38384:51442,38385:58311,38386:53200,38387:58312,38388:48356,38389:58313,38390:58314,38391:50118,38392:54690,38393:50390,38394:47595,38395:52933,38396:58315,38397:50166,38398:58316,38399:59997,38400:47015,38401:47347,38402:47826,38403:58317,38404:58318,38405:54468,38406:58319,38407:59998,38408:58320,38409:53707,38410:58321,38411:58322,38412:58323,38413:58324,38414:53718,38415:58325,38416:45819,38417:49339,38418:58326,38419:59999,38420:49323,38421:58327,38422:58328,38423:58329,38424:6e4,38425:58330,38426:58331,38427:60001,38428:47287,38429:56034,38430:60002,38431:46803,38432:60003,38433:56036,38434:56035,38435:60004,38436:60005,38437:60006,38438:60007,38439:60008,38440:60009,38441:60010,38442:56038,38443:60011,38444:60012,38445:60013,38446:51438,38447:60014,38448:60015,38449:56037,38450:47040,38451:53748,38452:54005,38453:54771,38454:48599,38455:60016,38456:60017,38457:60018,38458:60019,38459:55272,38460:56040,38461:56039,38462:60020,38463:45218,38464:52691,38465:60021,38466:56041,38467:60022,38468:47293,38469:48330,38470:49853,38471:49828,38472:46018,38473:56042,38474:60023,38475:49834,38476:50352,38477:48565,38478:60024,38479:60025,38480:53214,38481:60026,38482:60027,38483:60028,38484:56043,38485:51650,38486:60029,38487:60030,38488:60032,38489:60033,38490:60034,38491:45533,38492:60035,38493:60036,38494:60037,38495:56044,38496:60038,38497:46776,38498:54458,38499:60039,38500:46077,38501:60040,38502:60041,38503:56045,38504:54473,38505:53205,38506:50659,38507:60042,38508:56046,38509:60043,38510:60044,38511:60045,38512:60046,38513:60047,38514:56047,38515:60048,38516:56048,38517:49642,38518:52437,38519:53213,38520:60049,38521:60050,38522:60051,38523:60052,38524:60053,38525:60054,38526:60055,38527:60056,38528:60057,38529:60058,38530:60059,38531:60060,38532:60061,38533:54247,38534:49825,38535:60062,38536:56049,38537:60063,38538:60064,38539:52197,38540:60224,38541:56050,38542:60225,38543:52198,38544:54014,38545:60226,38546:60227,38547:60228,38548:47348,38549:60229,38550:60230,38551:56051,38552:45231,38553:53174,38554:60231,38555:60232,38556:54735,38557:60233,38558:60234,38559:60235,38560:60236,38561:60237,38562:60238,38563:60239,38564:60240,38565:60241,38566:60242,38567:52205,38568:60243,38569:60244,38570:60245,38571:60246,38572:60247,38573:60248,38574:60249,38575:60250,38576:56052,38577:60251,38578:60252,38579:58308,38580:60253,38581:60254,38582:49573,38583:60255,38584:60256,38585:63167,38586:60257,38587:60258,38588:63168,38589:63169,38590:50385,38591:60259,38592:51384,38593:53731,38594:60260,38595:60261,38596:53467,38597:53701,38598:48303,38599:47565,38600:60262,38601:61428,38602:60263,38603:60264,38604:46278,38605:54202,38606:63170,38607:46075,38608:60265,38609:60266,38610:63171,38611:60267,38612:60268,38613:46577,38614:60269,38615:60270,38616:60271,38617:60272,38618:60273,38619:60274,38620:60275,38621:60276,38622:60277,38623:60278,38624:63173,38625:60279,38626:60280,38627:60281,38628:60282,38629:60283,38630:60284,38631:60285,38632:54250,38633:63143,38634:53673,38635:60286,38636:60288,38637:60289,38638:60290,38639:63145,38640:60291,38641:60292,38642:60293,38643:63144,38644:60294,38645:60295,38646:49635,38647:49367,38648:60296,38649:45474,38650:60297,38651:60298,38652:60299,38653:60300,38654:52973,38655:60301,38656:53480,38657:63147,38658:60302,38659:60303,38660:53238,38661:60304,38662:63146,38663:54768,38664:63148,38665:50105,38666:60305,38667:60306,38668:60307,38669:48116,38670:63150,38671:63149,38672:60308,38673:60309,38674:60310,38675:50398,38676:60311,38677:60312,38678:49624,38679:60313,38680:60314,38681:60315,38682:60316,38683:60317,38684:52138,38685:60318,38686:53180,38687:60319,38688:60320,38689:60480,38690:60481,38691:60482,38692:60483,38693:60484,38694:60485,38695:60486,38696:60487,38697:60488,38698:63151,38699:60489,38700:60490,38701:63152,38702:60491,38703:60492,38704:63153,38705:60493,38706:49846,38707:60494,38708:60495,38709:60496,38710:60497,38711:60498,38712:45268,38713:50681,38714:60499,38715:60500,38716:60501,38717:60502,38718:63154,38719:60503,38720:60504,38721:60505,38722:60506,38723:60507,38724:60508,38725:60509,38726:60510,38727:60511,38728:60512,38729:60513,38730:60514,38731:60515,38732:60516,38733:60517,38734:60518,38735:60519,38736:60520,38737:60521,38738:51168,38739:63142,38740:60522,38741:60523,38742:48824,38743:60524,38744:60525,38745:48818,38746:60526,38747:46565,38748:60527,38749:60528,38750:47047,38751:60529,38752:49087,38753:50130,38754:50150,38755:60530,38756:60531,38757:55500,38758:60532,38759:60533,38760:60534,38761:47343,38762:60535,38763:60536,38764:60537,38765:60538,38766:60539,38767:60540,38768:60541,38769:60542,38770:60544,38771:48633,38772:53669,38773:60545,38774:45264,38775:60546,38776:60547,38777:60548,38778:60549,38779:60550,38780:63408,38781:60551,38782:60552,38783:60553,38784:60554,38785:60555,38786:60556,38787:60557,38788:60558,38789:63409,38790:60559,38791:60560,38792:60561,38793:60562,38794:60563,38795:53420,38796:60564,38797:45232,38798:60565,38799:60566,38800:60567,38801:63410,38802:63411,38803:60568,38804:63412,38805:60569,38806:60570,38807:60571,38808:51146,38809:60572,38810:60573,38811:60574,38812:60575,38813:60576,38814:60736,38815:60737,38816:48847,38817:60738,38818:60739,38819:63415,38820:60740,38821:60741,38822:60742,38823:60743,38824:60744,38825:60745,38826:60746,38827:63414,38828:60747,38829:45534,38830:60748,38831:63413,38832:60749,38833:60750,38834:63416,38835:60751,38836:63417,38837:60752,38838:60753,38839:60754,38840:60755,38841:60756,38842:60757,38843:60758,38844:60759,38845:60760,38846:60761,38847:60762,38848:60763,38849:60764,38850:60765,38851:60766,38852:60767,38853:60768,38854:60769,38855:60770,38856:60771,38857:60772,38858:60773,38859:60774,38860:60775,38861:60776,38862:60777,38863:60778,38864:60779,38865:60780,38866:60781,38867:60782,38868:60783,38869:60784,38870:60785,38871:60786,38872:60787,38873:60788,38874:60789,38875:60790,38876:60791,38877:60792,38878:60793,38879:60794,38880:60795,38881:60796,38882:60797,38883:60798,38884:60800,38885:60801,38886:52900,38887:51405,38888:60802,38889:47787,38890:59576,38891:59577,38892:59578,38893:48834,38894:60803,38895:60804,38896:60805,38897:60806,38898:60807,38899:54004,38900:60808,38901:54479,38902:51672,38903:60809,38904:60810,38905:60811,38906:60812,38907:60813,38908:60814,38909:60815,38910:60816,38911:60817,38912:60818,38913:60819,38914:60820,38915:60821,38916:60822,38917:60823,38918:60824,38919:60825,38920:60826,38921:60827,38922:60828,38923:60829,38924:60830,38925:60831,38926:60832,38927:60992,38928:60993,38929:60994,38930:60995,38931:60996,38932:60997,38933:60998,38934:60999,38935:61e3,38936:61001,38937:61002,38938:61003,38939:61004,38940:61005,38941:61006,38942:61007,38943:61008,38944:61009,38945:61010,38946:61011,38947:61012,38948:61013,38949:61014,38950:61015,38951:61016,38952:61017,38953:61018,38954:61019,38955:61020,38956:61021,38957:61022,38958:61023,38959:61024,38960:61025,38961:61026,38962:61027,38963:61028,38964:61029,38965:61030,38966:61031,38967:61032,38968:61033,38969:61034,38970:61035,38971:61036,38972:61037,38973:61038,38974:61039,38975:61040,38976:61041,38977:61042,38978:61043,38979:61044,38980:61045,38981:61046,38982:61047,38983:61048,38984:61049,38985:61050,38986:61051,38987:61052,38988:61053,38989:61054,38990:61056,38991:61057,38992:61058,38993:61059,38994:61060,38995:61061,38996:61062,38997:61063,38998:61064,38999:61065,39000:61066,39001:61067,39002:61068,39003:61069,39004:61070,39005:61071,39006:61072,39007:61073,39008:61074,39009:61075,39010:61076,39011:61077,39012:61078,39013:61079,39014:61080,39015:61081,39016:61082,39017:61083,39018:61084,39019:61085,39020:61086,39021:61087,39022:61088,39023:61248,39024:61249,39025:61250,39026:61251,39027:61252,39028:61253,39029:53939,39030:46757,39031:51178,39032:61948,39033:53230,39034:52147,39035:53483,39036:59375,39037:52711,39038:47563,39039:46809,39040:61949,39041:45284,39042:52172,39043:61950,39044:54436,39045:49837,39046:49644,39047:50884,39048:48817,39049:62113,39050:48341,39051:61254,39052:62114,39053:62115,39054:61255,39055:62116,39056:53955,39057:50869,39058:61256,39059:52679,39060:62117,39061:61257,39062:54193,39063:49093,39064:52450,39065:61258,39066:62118,39067:62119,39068:53717,39069:46830,39070:62120,39071:62121,39072:46559,39073:62122,39074:62123,39075:61259,39076:45820,39077:62124,39078:62125,39079:51367,39080:61260,39081:61261,39082:61262,39083:61263,39084:61264,39085:61265,39086:61266,39087:61267,39088:61268,39089:61269,39090:61270,39091:61271,39092:61272,39093:61273,39094:61274,39095:61275,39096:61276,39097:61277,39098:61278,39099:61279,39100:61280,39101:61281,39102:61282,39103:61283,39104:61284,39105:61285,39106:61286,39107:61287,39108:61288,39109:61289,39110:61290,39111:61291,39112:61292,39113:61293,39114:61294,39115:61295,39116:61296,39117:61297,39118:47079,39119:61298,39120:61299,39121:60585,39122:60586,39123:60587,39124:61300,39125:60588,39126:61301,39127:61302,39128:50862,39129:60589,39130:60590,39131:61303,39132:61304,39133:61305,39134:47049,39135:51891,39136:61306,39137:61307,39138:61308,39139:61309,39140:61310,39141:61312,39142:61313,39143:58040,39144:63439,39145:61314,39146:61315,39147:61316,39148:61317,39149:61318,39150:61319,39151:61320,39152:61321,39153:61322,39154:61323,39155:61324,39156:61325,39157:61326,39158:61327,39159:61328,39160:61329,39161:61330,39162:61331,39163:61332,39164:61333,39165:61334,39166:61335,39167:61336,39168:61337,39169:61338,39170:61339,39171:61340,39172:61341,39173:61342,39174:61343,39175:61344,39176:61504,39177:61505,39178:61506,39179:61507,39180:61508,39181:63440,39182:61509,39183:61510,39184:45773,39185:61511,39186:61512,39187:61513,39188:61514,39189:61515,39190:61516,39191:61517,39192:61518,39193:61519,39194:61520,39195:61521,39196:61522,39197:61523,39198:61524,39199:61525,39200:61526,39201:61527,39202:61528,39203:61529,39204:61530,39205:61531,39206:61532,39207:61533,39208:61534,39209:61535,39210:61536,39211:61537,39212:61538,39213:61539,39214:63441,39215:61540,39216:61541,39217:61542,39218:61543,39219:61544,39220:61545,39221:61546,39222:61547,39223:61548,39224:61549,39225:61550,39226:61551,39227:61552,39228:61553,39229:61554,39230:61555,39231:61556,39232:61557,39233:61558,39234:61559,39235:61560,39236:61561,39237:61562,39238:61563,39239:61564,39240:61565,39241:61566,39242:61568,39243:61569,39244:61570,39245:61571,39246:61572,39247:61573,39248:61574,39249:61575,39250:61576,39251:61577,39252:63443,39253:63442,39254:61578,39255:61579,39256:61580,39257:61581,39258:61582,39259:61583,39260:61584,39261:61585,39262:61586,39263:61587,39264:61588,39265:61589,39266:61590,39267:58043,39268:61591,39269:48290,39270:61592,39271:58044,39272:58045,39273:58046,39274:58047,39275:58048,39276:58049,39277:47033,39278:54011,39279:48548,39280:51918,39281:45477,39282:52167,39283:61593,39284:58050,39285:46844,39286:51396,39287:58051,39288:61594,39289:61595,39290:48584,39291:61596,39292:45565,39293:58052,39294:61597,39295:46838,39296:58053,39297:50393,39298:61598,39299:61599,39300:58054,39301:53210,39302:47581,39303:58055,39304:49313,39305:61600,39306:58056,39307:45814,39308:61760,39309:58057,39310:61761,39311:49651,39312:58058,39313:58059,39314:49912,39315:58060,39316:58061,39317:58062,39318:51927,39319:55480,39320:55781,39321:53219,39322:61762,39323:61763,39324:61764,39325:61765,39326:61766,39327:61767,39328:61768,39329:61769,39330:61770,39331:61771,39332:61772,39333:61605,39334:61773,39335:61774,39336:56496,39337:61775,39338:61776,39339:61777,39340:61778,39341:61779,39342:61780,39343:61781,39344:61782,39345:61783,39346:61784,39347:61785,39348:61786,39349:61787,39350:61788,39351:61789,39352:61790,39353:61791,39354:61792,39355:61793,39356:61794,39357:61795,39358:61796,39359:61797,39360:61798,39361:61799,39362:61800,39363:61801,39364:61802,39365:61803,39366:61804,39367:61805,39368:61806,39369:61807,39370:61808,39371:61809,39372:61810,39373:61811,39374:61812,39375:61813,39376:61814,39377:61815,39378:61816,39379:61817,39380:61818,39381:61819,39382:61820,39383:61821,39384:61822,39385:61824,39386:61825,39387:61826,39388:61827,39389:61828,39390:61829,39391:61830,39392:61831,39393:61832,39394:61833,39395:61834,39396:61835,39397:61836,39398:61837,39399:61838,39400:61839,39401:61840,39402:61841,39403:61842,39404:61843,39405:61844,39406:61845,39407:61846,39408:61847,39409:61848,39410:61849,39411:61850,39412:61851,39413:61852,39414:61853,39415:61854,39416:61855,39417:61856,39418:62016,39419:62017,39420:62018,39421:62019,39422:62020,39423:62021,39424:62022,39425:62023,39426:62024,39427:62025,39428:62026,39429:62027,39430:62028,39431:62029,39432:62030,39433:62031,39434:62032,39435:62033,39436:62034,39437:62035,39438:62036,39439:62037,39440:62038,39441:62039,39442:62040,39443:62041,39444:62042,39445:62043,39446:62044,39447:62045,39448:62046,39449:62047,39450:62048,39451:62049,39452:62050,39453:62051,39454:62052,39455:62053,39456:62054,39457:62055,39458:62056,39459:62057,39460:62058,39461:62059,39462:62060,39463:62061,39464:62062,39465:62063,39466:62064,39467:62065,39468:62066,39469:62067,39470:62068,39471:62069,39472:62070,39473:62071,39474:62072,39475:62073,39476:62074,39477:62075,39478:62076,39479:62077,39480:62078,39481:62080,39482:62081,39483:62082,39484:62083,39485:62084,39486:62085,39487:62086,39488:62087,39489:62088,39490:62089,39491:62090,39492:62091,39493:62092,39494:62093,39495:62094,39496:62095,39497:62096,39498:62097,39499:62098,39500:62099,39501:62100,39502:62101,39503:62102,39504:62103,39505:62104,39506:62105,39507:62106,39508:62107,39509:62108,39510:62109,39511:62110,39512:62111,39513:62112,39514:62272,39515:62273,39516:62274,39517:62275,39518:62276,39519:62277,39520:62278,39521:62279,39522:62280,39523:62281,39524:62282,39525:62283,39526:62284,39527:62285,39528:62286,39529:62287,39530:62288,39531:62289,39532:49901,39533:54438,39534:52692,39535:53681,39536:46043,39537:51197,39538:62290,39539:45749,39540:49855,39541:59104,39542:51899,39543:59105,39544:59106,39545:48852,39546:59107,39547:55204,39548:52693,39549:59109,39550:48349,39551:59108,39552:59110,39553:59111,39554:49902,39555:62291,39556:48574,39557:59112,39558:49894,39559:47783,39560:59113,39561:62292,39562:59114,39563:46034,39564:53737,39565:62293,39566:62294,39567:49061,39568:59115,39569:50927,39570:59116,39571:59117,39572:62295,39573:62296,39574:59118,39575:50861,39576:59119,39577:62297,39578:51623,39579:59120,39580:59121,39581:59122,39582:58809,39583:59123,39584:59124,39585:49890,39586:59125,39587:59126,39588:55016,39589:59127,39590:62298,39591:59128,39592:47559,39593:62299,39594:62300,39595:62301,39596:62302,39597:62303,39598:62304,39599:62305,39600:63419,39601:63418,39602:62306,39603:62307,39604:62308,39605:62309,39606:63422,39607:63420,39608:47777,39609:62310,39610:63423,39611:62311,39612:63424,39613:62312,39614:62313,39615:62314,39616:63426,39617:63425,39618:63428,39619:62315,39620:62316,39621:63427,39622:62317,39623:62318,39624:62319,39625:62320,39626:62321,39627:63429,39628:63430,39629:62322,39630:62323,39631:62324,39632:62325,39633:63431,39634:62326,39635:52200,39636:62327,39637:62328,39638:62329,39639:62330,39640:47327,39641:62331,39642:62332,39643:62333,39644:62334,39645:62336,39646:62337,39647:63444,39648:62338,39649:63445,39650:62339,39651:62340,39652:62341,39653:62342,39654:63446,39655:62343,39656:62344,39657:62345,39658:62346,39659:63448,39660:62347,39661:63450,39662:62348,39663:63447,39664:62349,39665:62350,39666:62351,39667:62352,39668:62353,39669:62354,39670:62355,39671:62356,39672:62357,39673:63451,39674:62358,39675:63449,39676:62359,39677:62360,39678:62361,39679:62362,39680:62363,39681:62364,39682:62365,39683:55255,39684:62366,39685:62367,39686:62368,39687:62528,39688:63452,39689:62529,39690:62530,39691:62531,39692:62532,39693:62533,39694:62534,39695:63453,39696:62535,39697:62536,39698:62537,39699:63454,39700:62538,39701:62539,39702:62540,39703:62541,39704:62542,39705:62543,39706:62544,39707:62545,39708:62546,39709:62547,39710:62548,39711:63455,39712:62549,39713:62550,39714:62551,39715:63456,39716:62552,39717:62553,39718:62554,39719:62555,39720:62556,39721:62557,39722:62558,39723:62559,39724:62560,39725:62561,39726:62562,39727:56267,39728:62563,39729:62564,39730:55466,39731:62565,39732:62566,39733:62567,39734:62568,39735:62569,39736:62570,39737:62571,39738:62572,39739:58871,39740:47597,39741:62573,39742:62574,39743:62575,39744:62576,39745:49149,39746:48106,39747:63433,39748:50887,39749:63432,39750:62577,39751:63434,39752:63436,39753:63435,39754:62578,39755:62579,39756:62580,39757:63437,39758:62581,39759:52922,39760:62582,39761:63438,39762:62583,39763:62584,39764:50343,39765:62585,39766:62586,39767:62587,39768:62588,39769:62589,39770:62590,39771:62592,39772:62593,39773:62594,39774:62595,39775:62596,39776:62597,39777:62598,39778:62599,39779:62600,39780:62601,39781:62602,39782:62603,39783:62604,39784:62605,39785:62606,39786:62607,39787:62608,39788:62609,39789:62610,39790:62611,39791:62612,39792:62613,39793:62614,39794:62615,39795:62616,39796:62617,39797:62618,39798:62619,39799:62620,39800:62621,39801:62622,39802:62623,39803:62624,39804:62784,39805:62785,39806:62786,39807:62787,39808:62788,39809:62789,39810:62790,39811:62791,39812:62792,39813:62793,39814:62794,39815:62795,39816:62796,39817:62797,39818:62798,39819:62799,39820:62800,39821:62801,39822:62802,39823:62803,39824:62804,39825:62805,39826:62806,39827:62807,39828:62808,39829:62809,39830:62810,39831:62811,39832:62812,39833:62813,39834:62814,39835:62815,39836:62816,39837:62817,39838:62818,39839:62819,39840:62820,39841:62821,39842:62822,39843:62823,39844:62824,39845:62825,39846:62826,39847:62827,39848:62828,39849:62829,39850:62830,39851:62831,39852:62832,39853:62833,39854:62834,39855:62835,39856:62836,39857:62837,39858:62838,39859:62839,39860:62840,39861:62841,39862:62842,39863:62843,39864:62844,39865:62845,39866:62846,39867:62848,39868:62849,39869:62850,39870:62851,39871:62852,39872:62853,39873:62854,39874:62855,39875:62856,39876:62857,39877:62858,39878:62859,39879:62860,39880:62861,39881:62862,39882:62863,39883:62864,39884:62865,39885:62866,39886:62867,39887:62868,39888:62869,39889:62870,39890:62871,39891:62872,39892:62873,39893:62874,39894:62875,39895:62876,39896:62877,39897:62878,39898:62879,39899:62880,39900:63040,39901:63041,39902:63042,39903:63043,39904:63044,39905:63045,39906:63046,39907:63047,39908:63048,39909:63049,39910:63050,39911:63051,39912:63052,39913:63053,39914:63054,39915:63055,39916:63056,39917:63057,39918:63058,39919:63059,39920:63060,39921:63061,39922:63062,39923:63063,39924:63064,39925:63065,39926:63066,39927:63067,39928:63068,39929:63069,39930:63070,39931:63071,39932:63072,39933:63073,39934:63074,39935:63075,39936:63076,39937:63077,39938:63078,39939:63079,39940:63080,39941:63081,39942:63082,39943:63083,39944:63084,39945:63085,39946:63086,39947:63087,39948:63088,39949:63089,39950:63090,39951:63091,39952:63092,39953:63093,39954:63094,39955:63095,39956:63096,39957:63097,39958:63098,39959:63099,39960:63100,39961:63101,39962:63102,39963:63104,39964:63105,39965:63106,39966:63107,39967:63108,39968:63109,39969:63110,39970:63111,39971:63112,39972:63113,39973:63114,39974:63115,39975:63116,39976:63117,39977:63118,39978:63119,39979:63120,39980:63121,39981:63122,39982:63123,39983:63124,39984:63125,39985:63126,39986:63127,39987:63128,39988:63129,39989:63130,39990:63131,39991:63132,39992:63133,39993:63134,39994:63135,39995:63136,39996:63296,39997:63297,39998:63298,39999:63299,40000:63300,40001:63301,40002:63302,40003:63303,40004:63304,40005:63305,40006:63306,40007:63307,40008:63308,40009:63309,40010:63310,40011:63311,40012:63312,40013:63313,40014:63314,40015:63315,40016:63316,40017:63317,40018:63318,40019:63319,40020:63320,40021:63321,40022:63322,40023:63323,40024:63324,40025:63325,40026:63326,40027:63327,40028:63328,40029:63329,40030:63330,40031:63331,40032:63332,40033:63333,40034:63334,40035:63335,40036:63336,40037:63337,40038:63338,40039:63339,40040:63340,40041:63341,40042:63342,40043:63343,40044:63344,40045:63345,40046:63346,40047:63347,40048:63348,40049:63349,40050:63350,40051:63351,40052:63352,40053:63353,40054:63354,40055:63355,40056:63356,40057:63357,40058:63358,40059:63360,40060:54243,40061:63361,40062:63362,40063:63183,40064:63363,40065:49843,40066:63184,40067:63364,40068:63365,40069:63185,40070:63186,40071:63187,40072:63188,40073:63366,40074:63367,40075:63190,40076:63368,40077:45483,40078:63191,40079:63369,40080:63192,40081:63193,40082:63194,40083:63370,40084:63195,40085:63196,40086:63371,40087:63372,40088:63373,40089:63374,40090:63197,40091:63198,40092:53194,40093:63375,40094:63199,40095:63200,40096:63201,40097:63202,40098:63203,40099:63204,40100:49392,40101:63205,40102:63206,40103:63207,40104:63208,40105:63209,40106:63376,40107:63210,40108:63377,40109:63211,40110:63212,40111:63378,40112:63213,40113:63214,40114:63215,40115:63216,40116:63217,40117:63218,40118:63219,40119:63220,40120:48808,40121:63379,40122:63221,40123:63222,40124:63223,40125:63224,40126:63380,40127:63381,40128:63382,40129:63383,40130:63384,40131:51450,40132:63225,40133:63226,40134:63227,40135:63228,40136:63385,40137:63386,40138:63229,40139:63230,40140:63393,40141:63394,40142:63395,40143:63396,40144:63397,40145:63387,40146:63388,40147:63398,40148:63399,40149:63400,40150:45550,40151:63401,40152:63402,40153:63403,40154:63389,40155:63390,40156:63404,40157:63405,40158:49627,40159:63406,40160:63391,40161:63392,40162:63407,40163:63552,40164:63553,40165:63554,40166:63555,40167:63556,40168:63557,40169:63558,40170:63559,40171:63560,40172:63561,40173:63562,40174:63563,40175:63564,40176:63565,40177:63566,40178:63567,40179:63568,40180:63569,40181:63570,40182:63571,40183:63572,40184:63573,40185:63574,40186:63575,40187:63576,40188:63577,40189:63578,40190:63579,40191:63580,40192:63581,40193:63582,40194:63583,40195:63584,40196:63585,40197:63586,40198:63587,40199:63588,40200:63589,40201:63590,40202:63591,40203:63592,40204:63593,40205:63594,40206:63595,40207:63596,40208:63597,40209:63598,40210:63599,40211:63600,40212:63601,40213:63602,40214:63603,40215:63604,40216:63605,40217:63606,40218:63607,40219:63608,40220:63609,40221:63610,40222:63611,40223:63612,40224:63613,40225:63614,40226:63616,40227:63617,40228:63618,40229:63619,40230:63620,40231:63621,40232:63622,40233:63623,40234:63624,40235:63625,40236:63626,40237:63627,40238:63628,40239:63629,40240:63630,40241:63631,40242:63632,40243:63633,40244:63634,40245:63635,40246:63636,40247:63637,40248:63638,40249:63639,40250:63640,40251:63641,40252:63642,40253:63643,40254:63644,40255:63645,40256:63646,40257:63647,40258:63648,40259:63808,40260:63809,40261:63810,40262:63811,40263:63812,40264:63813,40265:63814,40266:63815,40267:63816,40268:63817,40269:63818,40270:63819,40271:63820,40272:63821,40273:63822,40274:63823,40275:63824,40276:63825,40277:63826,40278:63827,40279:63828,40280:63829,40281:63830,40282:63831,40283:63832,40284:63833,40285:63834,40286:63835,40287:63836,40288:63837,40289:63838,40290:63839,40291:63840,40292:63841,40293:63842,40294:63843,40295:63844,40296:63845,40297:63846,40298:63847,40299:63848,40300:63849,40301:63850,40302:63851,40303:63852,40304:63853,40305:63854,40306:63855,40307:63856,40308:63857,40309:63858,40310:63859,40311:63860,40312:63861,40313:63862,40314:63863,40315:63864,40316:63865,40317:63866,40318:63867,40319:63868,40320:63869,40321:63870,40322:63872,40323:63873,40324:63874,40325:63875,40326:63876,40327:63877,40328:63878,40329:63879,40330:63880,40331:63881,40332:63882,40333:63883,40334:63884,40335:63885,40336:63886,40337:63887,40338:63888,40339:63889,40340:63890,40341:63891,40342:63892,40343:63893,40344:63894,40345:63895,40346:63896,40347:63897,40348:63898,40349:63899,40350:63900,40351:63901,40352:63902,40353:63903,40354:63904,40355:64064,40356:64065,40357:64066,40358:64067,40359:64068,40360:64069,40361:64070,40362:64071,40363:64072,40364:64073,40365:64074,40366:64075,40367:64076,40368:64077,40369:64078,40370:64079,40371:64080,40372:64081,40373:64082,40374:64083,40375:64084,40376:64085,40377:64086,40378:64087,40379:64088,40380:64089,40381:64090,40382:64091,40383:64092,40384:64093,40385:64094,40386:64095,40387:64096,40388:64097,40389:64098,40390:64099,40391:64100,40392:64101,40393:64102,40394:64103,40395:64104,40396:64105,40397:64106,40398:64107,40399:64108,40400:64109,40401:64110,40402:64111,40403:64112,40404:64113,40405:64114,40406:64115,40407:64116,40408:64117,40409:64118,40410:64119,40411:64120,40412:64121,40413:64122,40414:64123,40415:64124,40416:64125,40417:64126,40418:64128,40419:64129,40420:64130,40421:64131,40422:64132,40423:64133,40424:64134,40425:64135,40426:64136,40427:64137,40428:64138,40429:64139,40430:64140,40431:64141,40432:64142,40433:64143,40434:64144,40435:64145,40436:64146,40437:64147,40438:64148,40439:64149,40440:64150,40441:64151,40442:64152,40443:64153,40444:64154,40445:64155,40446:64156,40447:64157,40448:64158,40449:64159,40450:64160,40451:64320,40452:64321,40453:64322,40454:64323,40455:64324,40456:64325,40457:64326,40458:64327,40459:64328,40460:64329,40461:64330,40462:64331,40463:64332,40464:64333,40465:64334,40466:64335,40467:64336,40468:64337,40469:64338,40470:64339,40471:64340,40472:64341,40473:64342,40474:64343,40475:64344,40476:64345,40477:64346,40478:64347,40479:50417,40480:61615,40481:48294,40482:61616,40483:50169,40484:64348,40485:50616,40486:53691,40487:64349,40488:61617,40489:61618,40490:61619,40491:61620,40492:61621,40493:53692,40494:64350,40495:53740,40496:64351,40497:61623,40498:61622,40499:54439,40500:64352,40501:52690,40502:61624,40503:61626,40504:61625,40505:61627,40506:61628,40507:64353,40508:64354,40509:47339,40510:61629,40511:47848,40512:64355,40513:61630,40514:61631,40515:48873,40516:61632,40517:46828,40518:61633,40519:61634,40520:61635,40521:61636,40522:51381,40523:61637,40524:61638,40525:64356,40526:61639,40527:50676,40528:64357,40529:61640,40530:64358,40531:64359,40532:64360,40533:61641,40534:64361,40535:61642,40536:63421,40537:64362,40538:61643,40539:61644,40540:61645,40541:64363,40542:61646,40543:64364,40544:64365,40545:64366,40546:64367,40547:61647,40548:47831,40549:64368,40550:61648,40551:61649,40552:61650,40553:61651,40554:61652,40555:61653,40556:61654,40557:61656,40558:64369,40559:64370,40560:54181,40561:61655,40562:64371,40563:61657,40564:64372,40565:64373,40566:64374,40567:64375,40568:64376,40569:64377,40570:64378,40571:64379,40572:64380,40573:64381,40574:62906,40575:49849,40576:64382,40577:64384,40578:63460,40579:64385,40580:64386,40581:64387,40582:64388,40583:63461,40584:63462,40585:64389,40586:64390,40587:63463,40588:64391,40589:64392,40590:64393,40591:64394,40592:64395,40593:64396,40594:63464,40595:49844,40596:64397,40597:64398,40598:64399,40599:64400,40600:64401,40601:64402,40602:64403,40603:64404,40604:64405,40605:63466,40606:64406,40607:63467,40608:64407,40609:64408,40610:64409,40611:64410,40612:64411,40613:64412,40614:49907,40615:64413,40616:64414,40617:64415,40618:64416,40619:64576,40620:64577,40621:64578,40622:64579,40623:64580,40624:64581,40625:64582,40626:64583,40627:64584,40628:62704,40629:64585,40630:64586,40631:64587,40632:62703,40633:64588,40634:64589,40635:49897,40636:64590,40637:63457,40638:63458,40639:64591,40640:64592,40641:64593,40642:64594,40643:64595,40644:48070,40645:64596,40646:64597,40647:64598,40648:64599,40649:55780,40650:64600,40651:64601,40652:64602,40653:51954,40654:49384,40655:61604,40656:64603,40657:47834,40658:64604,40659:64605,40660:51117,40661:64606,40662:64607,40663:64608,40664:50348,40665:64609,40666:64610,40667:63468,40668:63469,40669:63470,40670:64611,40671:63472,40672:63471,40673:64612,40674:63473,40675:64613,40676:64614,40677:63476,40678:64615,40679:63475,40680:64616,40681:63474,40682:63477,40683:64617,40684:64618,40685:64619,40686:64620,40687:63478,40688:64621,40689:64622,40690:64623,40691:64624,40692:64625,40693:64626,40694:64627,40695:64628,40696:64629,40697:60905,40698:64630,40699:60906,40700:60907,40701:64631,40702:63164,40703:64632,40704:64633,40705:64634,40706:64635,40707:64636,40708:64637,40709:64638,40710:64640,40711:64641,40712:64642,40713:64643,40714:64644,40715:63165,40716:64645,40717:63166,40718:46758,40719:64646,40720:55486,40721:64647,40722:64648,40723:47556,40724:64649,40725:64650,40726:64651,40727:55483,40728:64652,40729:56497,40730:64653,40731:64654,40732:64655,40733:64656,40734:64657,40735:64658,40736:51955,40737:64659,40738:63479,40739:64660,40740:64661,40741:64662,40742:64663,40743:64664,40744:64665,40745:64666,40746:64667,40747:64668,40748:63480,40749:64669,40750:64670,40751:63481,40752:64671,40753:64672,40754:64832,40755:64833,40756:64834,40757:64835,40758:64836,40759:63483,40760:64837,40761:63482,40762:64838,40763:45511,40764:64839,40765:63484,40766:63485,40767:64840,40768:64841,40769:64842,40770:64843,40771:64844,40772:63486,40773:64845,40774:64846,40775:64847,40776:64848,40777:64849,40778:64850,40779:64851,40780:64852,40781:64853,40782:64854,40783:64855,40784:50923,40785:60596,40786:64856,40787:64857,40788:64858,40789:64859,40790:64860,40791:64861,40792:64862,40793:64863,40794:64864,40795:64865,40796:64866,40797:64867,40798:64868,40799:64869,40800:64870,40801:64871,40802:64872,40803:64873,40804:64874,40805:64875,40806:64876,40807:64877,40808:64878,40809:64879,40810:64880,40811:64881,40812:64882,40813:64883,40814:64884,40815:64885,40816:64886,40817:64887,40818:64888,40819:64889,40820:64890,40821:64891,40822:64892,40823:64893,40824:64894,40825:64896,40826:64897,40827:64898,40828:64899,40829:64900,40830:64901,40831:46045,40832:63155,40833:64902,40834:64903,40835:63156,40836:49636,40837:63157,40838:63158,40839:63159,40840:63160,40841:63161,40842:63162,40843:51363,40844:63163,40845:64904,40846:64905,40847:64906,40848:64907,40849:64908,40850:64909,40851:64910,40852:64911,40853:64912,40854:64913,40855:64914,40856:64915,40857:49658,40858:47528,40859:60904,40860:64916,40861:64917,40862:64918,40863:47594,40864:55775,40865:64919,40866:64920,40867:64921,40868:64922,40869:64923,57344:43681,57345:43682,57346:43683,57347:43684,57348:43685,57349:43686,57350:43687,57351:43688,57352:43689,57353:43690,57354:43691,57355:43692,57356:43693,57357:43694,57358:43695,57359:43696,57360:43697,57361:43698,57362:43699,57363:43700,57364:43701,57365:43702,57366:43703,57367:43704,57368:43705,57369:43706,57370:43707,57371:43708,57372:43709,57373:43710,57374:43711,57375:43712,57376:43713,57377:43714,57378:43715,57379:43716,57380:43717,57381:43718,57382:43719,57383:43720,57384:43721,57385:43722,57386:43723,57387:43724,57388:43725,57389:43726,57390:43727,57391:43728,57392:43729,57393:43730,57394:43731,57395:43732,57396:43733,57397:43734,57398:43735,57399:43736,57400:43737,57401:43738,57402:43739,57403:43740,57404:43741,57405:43742,57406:43743,57407:43744,57408:43745,57409:43746,57410:43747,57411:43748,57412:43749,57413:43750,57414:43751,57415:43752,57416:43753,57417:43754,57418:43755,57419:43756,57420:43757,57421:43758,57422:43759,57423:43760,57424:43761,57425:43762,57426:43763,57427:43764,57428:43765,57429:43766,57430:43767,57431:43768,57432:43769,57433:43770,57434:43771,57435:43772,57436:43773,57437:43774,57438:43937,57439:43938,57440:43939,57441:43940,57442:43941,57443:43942,57444:43943,57445:43944,57446:43945,57447:43946,57448:43947,57449:43948,57450:43949,57451:43950,57452:43951,57453:43952,57454:43953,57455:43954,57456:43955,57457:43956,57458:43957,57459:43958,57460:43959,57461:43960,57462:43961,57463:43962,57464:43963,57465:43964,57466:43965,57467:43966,57468:43967,57469:43968,57470:43969,57471:43970,57472:43971,57473:43972,57474:43973,57475:43974,57476:43975,57477:43976,57478:43977,57479:43978,57480:43979,57481:43980,57482:43981,57483:43982,57484:43983,57485:43984,57486:43985,57487:43986,57488:43987,57489:43988,57490:43989,57491:43990,57492:43991,57493:43992,57494:43993,57495:43994,57496:43995,57497:43996,57498:43997,57499:43998,57500:43999,57501:44e3,57502:44001,57503:44002,57504:44003,57505:44004,57506:44005,57507:44006,57508:44007,57509:44008,57510:44009,57511:44010,57512:44011,57513:44012,57514:44013,57515:44014,57516:44015,57517:44016,57518:44017,57519:44018,57520:44019,57521:44020,57522:44021,57523:44022,57524:44023,57525:44024,57526:44025,57527:44026,57528:44027,57529:44028,57530:44029,57531:44030,57532:44193,57533:44194,57534:44195,57535:44196,57536:44197,57537:44198,57538:44199,57539:44200,57540:44201,57541:44202,57542:44203,57543:44204,57544:44205,57545:44206,57546:44207,57547:44208,57548:44209,57549:44210,57550:44211,57551:44212,57552:44213,57553:44214,57554:44215,57555:44216,57556:44217,57557:44218,57558:44219,57559:44220,57560:44221,57561:44222,57562:44223,57563:44224,57564:44225,57565:44226,57566:44227,57567:44228,57568:44229,57569:44230,57570:44231,57571:44232,57572:44233,57573:44234,57574:44235,57575:44236,57576:44237,57577:44238,57578:44239,57579:44240,57580:44241,57581:44242,57582:44243,57583:44244,57584:44245,57585:44246,57586:44247,57587:44248,57588:44249,57589:44250,57590:44251,57591:44252,57592:44253,57593:44254,57594:44255,57595:44256,57596:44257,57597:44258,57598:44259,57599:44260,57600:44261,57601:44262,57602:44263,57603:44264,57604:44265,57605:44266,57606:44267,57607:44268,57608:44269,57609:44270,57610:44271,57611:44272,57612:44273,57613:44274,57614:44275,57615:44276,57616:44277,57617:44278,57618:44279,57619:44280,57620:44281,57621:44282,57622:44283,57623:44284,57624:44285,57625:44286,57626:44449,57627:44450,57628:44451,57629:44452,57630:44453,57631:44454,57632:44455,57633:44456,57634:44457,57635:44458,57636:44459,57637:44460,57638:44461,57639:44462,57640:44463,57641:44464,57642:44465,57643:44466,57644:44467,57645:44468,57646:44469,57647:44470,57648:44471,57649:44472,57650:44473,57651:44474,57652:44475,57653:44476,57654:44477,57655:44478,57656:44479,57657:44480,57658:44481,57659:44482,57660:44483,57661:44484,57662:44485,57663:44486,57664:44487,57665:44488,57666:44489,57667:44490,57668:44491,57669:44492,57670:44493,57671:44494,57672:44495,57673:44496,57674:44497,57675:44498,57676:44499,57677:44500,57678:44501,57679:44502,57680:44503,57681:44504,57682:44505,57683:44506,57684:44507,57685:44508,57686:44509,57687:44510,57688:44511,57689:44512,57690:44513,57691:44514,57692:44515,57693:44516,57694:44517,57695:44518,57696:44519,57697:44520,57698:44521,57699:44522,57700:44523,57701:44524,57702:44525,57703:44526,57704:44527,57705:44528,57706:44529,57707:44530,57708:44531,57709:44532,57710:44533,57711:44534,57712:44535,57713:44536,57714:44537,57715:44538,57716:44539,57717:44540,57718:44541,57719:44542,57720:44705,57721:44706,57722:44707,57723:44708,57724:44709,57725:44710,57726:44711,57727:44712,57728:44713,57729:44714,57730:44715,57731:44716,57732:44717,57733:44718,57734:44719,57735:44720,57736:44721,57737:44722,57738:44723,57739:44724,57740:44725,57741:44726,57742:44727,57743:44728,57744:44729,57745:44730,57746:44731,57747:44732,57748:44733,57749:44734,57750:44735,57751:44736,57752:44737,57753:44738,57754:44739,57755:44740,57756:44741,57757:44742,57758:44743,57759:44744,57760:44745,57761:44746,57762:44747,57763:44748,57764:44749,57765:44750,57766:44751,57767:44752,57768:44753,57769:44754,57770:44755,57771:44756,57772:44757,57773:44758,57774:44759,57775:44760,57776:44761,57777:44762,57778:44763,57779:44764,57780:44765,57781:44766,57782:44767,57783:44768,57784:44769,57785:44770,57786:44771,57787:44772,57788:44773,57789:44774,57790:44775,57791:44776,57792:44777,57793:44778,57794:44779,57795:44780,57796:44781,57797:44782,57798:44783,57799:44784,57800:44785,57801:44786,57802:44787,57803:44788,57804:44789,57805:44790,57806:44791,57807:44792,57808:44793,57809:44794,57810:44795,57811:44796,57812:44797,57813:44798,57814:44961,57815:44962,57816:44963,57817:44964,57818:44965,57819:44966,57820:44967,57821:44968,57822:44969,57823:44970,57824:44971,57825:44972,57826:44973,57827:44974,57828:44975,57829:44976,57830:44977,57831:44978,57832:44979,57833:44980,57834:44981,57835:44982,57836:44983,57837:44984,57838:44985,57839:44986,57840:44987,57841:44988,57842:44989,57843:44990,57844:44991,57845:44992,57846:44993,57847:44994,57848:44995,57849:44996,57850:44997,57851:44998,57852:44999,57853:45e3,57854:45001,57855:45002,57856:45003,57857:45004,57858:45005,57859:45006,57860:45007,57861:45008,57862:45009,57863:45010,57864:45011,57865:45012,57866:45013,57867:45014,57868:45015,57869:45016,57870:45017,57871:45018,57872:45019,57873:45020,57874:45021,57875:45022,57876:45023,57877:45024,57878:45025,57879:45026,57880:45027,57881:45028,57882:45029,57883:45030,57884:45031,57885:45032,57886:45033,57887:45034,57888:45035,57889:45036,57890:45037,57891:45038,57892:45039,57893:45040,57894:45041,57895:45042,57896:45043,57897:45044,57898:45045,57899:45046,57900:45047,57901:45048,57902:45049,57903:45050,57904:45051,57905:45052,57906:45053,57907:45054,57908:63649,57909:63650,57910:63651,57911:63652,57912:63653,57913:63654,57914:63655,57915:63656,57916:63657,57917:63658,57918:63659,57919:63660,57920:63661,57921:63662,57922:63663,57923:63664,57924:63665,57925:63666,57926:63667,57927:63668,57928:63669,57929:63670,57930:63671,57931:63672,57932:63673,57933:63674,57934:63675,57935:63676,57936:63677,57937:63678,57938:63679,57939:63680,57940:63681,57941:63682,57942:63683,57943:63684,57944:63685,57945:63686,57946:63687,57947:63688,57948:63689,57949:63690,57950:63691,57951:63692,57952:63693,57953:63694,57954:63695,57955:63696,57956:63697,57957:63698,57958:63699,57959:63700,57960:63701,57961:63702,57962:63703,57963:63704,57964:63705,57965:63706,57966:63707,57967:63708,57968:63709,57969:63710,57970:63711,57971:63712,57972:63713,57973:63714,57974:63715,57975:63716,57976:63717,57977:63718,57978:63719,57979:63720,57980:63721,57981:63722,57982:63723,57983:63724,57984:63725,57985:63726,57986:63727,57987:63728,57988:63729,57989:63730,57990:63731,57991:63732,57992:63733,57993:63734,57994:63735,57995:63736,57996:63737,57997:63738,57998:63739,57999:63740,58000:63741,58001:63742,58002:63905,58003:63906,58004:63907,58005:63908,58006:63909,58007:63910,58008:63911,58009:63912,58010:63913,58011:63914,58012:63915,58013:63916,58014:63917,58015:63918,58016:63919,58017:63920,58018:63921,58019:63922,58020:63923,58021:63924,58022:63925,58023:63926,58024:63927,58025:63928,58026:63929,58027:63930,58028:63931,58029:63932,58030:63933,58031:63934,58032:63935,58033:63936,58034:63937,58035:63938,58036:63939,58037:63940,58038:63941,58039:63942,58040:63943,58041:63944,58042:63945,58043:63946,58044:63947,58045:63948,58046:63949,58047:63950,58048:63951,58049:63952,58050:63953,58051:63954,58052:63955,58053:63956,58054:63957,58055:63958,58056:63959,58057:63960,58058:63961,58059:63962,58060:63963,58061:63964,58062:63965,58063:63966,58064:63967,58065:63968,58066:63969,58067:63970,58068:63971,58069:63972,58070:63973,58071:63974,58072:63975,58073:63976,58074:63977,58075:63978,58076:63979,58077:63980,58078:63981,58079:63982,58080:63983,58081:63984,58082:63985,58083:63986,58084:63987,58085:63988,58086:63989,58087:63990,58088:63991,58089:63992,58090:63993,58091:63994,58092:63995,58093:63996,58094:63997,58095:63998,58096:64161,58097:64162,58098:64163,58099:64164,58100:64165,58101:64166,58102:64167,58103:64168,58104:64169,58105:64170,58106:64171,58107:64172,58108:64173,58109:64174,58110:64175,58111:64176,58112:64177,58113:64178,58114:64179,58115:64180,58116:64181,58117:64182,58118:64183,58119:64184,58120:64185,58121:64186,58122:64187,58123:64188,58124:64189,58125:64190,58126:64191,58127:64192,58128:64193,58129:64194,58130:64195,58131:64196,58132:64197,58133:64198,58134:64199,58135:64200,58136:64201,58137:64202,58138:64203,58139:64204,58140:64205,58141:64206,58142:64207,58143:64208,58144:64209,58145:64210,58146:64211,58147:64212,58148:64213,58149:64214,58150:64215,58151:64216,58152:64217,58153:64218,58154:64219,58155:64220,58156:64221,58157:64222,58158:64223,58159:64224,58160:64225,58161:64226,58162:64227,58163:64228,58164:64229,58165:64230,58166:64231,58167:64232,58168:64233,58169:64234,58170:64235,58171:64236,58172:64237,58173:64238,58174:64239,58175:64240,58176:64241,58177:64242,58178:64243,58179:64244,58180:64245,58181:64246,58182:64247,58183:64248,58184:64249,58185:64250,58186:64251,58187:64252,58188:64253,58189:64254,58190:64417,58191:64418,58192:64419,58193:64420,58194:64421,58195:64422,58196:64423,58197:64424,58198:64425,58199:64426,58200:64427,58201:64428,58202:64429,58203:64430,58204:64431,58205:64432,58206:64433,58207:64434,58208:64435,58209:64436,58210:64437,58211:64438,58212:64439,58213:64440,58214:64441,58215:64442,58216:64443,58217:64444,58218:64445,58219:64446,58220:64447,58221:64448,58222:64449,58223:64450,58224:64451,58225:64452,58226:64453,58227:64454,58228:64455,58229:64456,58230:64457,58231:64458,58232:64459,58233:64460,58234:64461,58235:64462,58236:64463,58237:64464,58238:64465,58239:64466,58240:64467,58241:64468,58242:64469,58243:64470,58244:64471,58245:64472,58246:64473,58247:64474,58248:64475,58249:64476,58250:64477,58251:64478,58252:64479,58253:64480,58254:64481,58255:64482,58256:64483,58257:64484,58258:64485,58259:64486,58260:64487,58261:64488,58262:64489,58263:64490,58264:64491,58265:64492,58266:64493,58267:64494,58268:64495,58269:64496,58270:64497,58271:64498,58272:64499,58273:64500,58274:64501,58275:64502,58276:64503,58277:64504,58278:64505,58279:64506,58280:64507,58281:64508,58282:64509,58283:64510,58284:64673,58285:64674,58286:64675,58287:64676,58288:64677,58289:64678,58290:64679,58291:64680,58292:64681,58293:64682,58294:64683,58295:64684,58296:64685,58297:64686,58298:64687,58299:64688,58300:64689,58301:64690,58302:64691,58303:64692,58304:64693,58305:64694,58306:64695,58307:64696,58308:64697,58309:64698,58310:64699,58311:64700,58312:64701,58313:64702,58314:64703,58315:64704,58316:64705,58317:64706,58318:64707,58319:64708,58320:64709,58321:64710,58322:64711,58323:64712,58324:64713,58325:64714,58326:64715,58327:64716,58328:64717,58329:64718,58330:64719,58331:64720,58332:64721,58333:64722,58334:64723,58335:64724,58336:64725,58337:64726,58338:64727,58339:64728,58340:64729,58341:64730,58342:64731,58343:64732,58344:64733,58345:64734,58346:64735,58347:64736,58348:64737,58349:64738,58350:64739,58351:64740,58352:64741,58353:64742,58354:64743,58355:64744,58356:64745,58357:64746,58358:64747,58359:64748,58360:64749,58361:64750,58362:64751,58363:64752,58364:64753,58365:64754,58366:64755,58367:64756,58368:64757,58369:64758,58370:64759,58371:64760,58372:64761,58373:64762,58374:64763,58375:64764,58376:64765,58377:64766,58378:64929,58379:64930,58380:64931,58381:64932,58382:64933,58383:64934,58384:64935,58385:64936,58386:64937,58387:64938,58388:64939,58389:64940,58390:64941,58391:64942,58392:64943,58393:64944,58394:64945,58395:64946,58396:64947,58397:64948,58398:64949,58399:64950,58400:64951,58401:64952,58402:64953,58403:64954,58404:64955,58405:64956,58406:64957,58407:64958,58408:64959,58409:64960,58410:64961,58411:64962,58412:64963,58413:64964,58414:64965,58415:64966,58416:64967,58417:64968,58418:64969,58419:64970,58420:64971,58421:64972,58422:64973,58423:64974,58424:64975,58425:64976,58426:64977,58427:64978,58428:64979,58429:64980,58430:64981,58431:64982,58432:64983,58433:64984,58434:64985,58435:64986,58436:64987,58437:64988,58438:64989,58439:64990,58440:64991,58441:64992,58442:64993,58443:64994,58444:64995,58445:64996,58446:64997,58447:64998,58448:64999,58449:65e3,58450:65001,58451:65002,58452:65003,58453:65004,58454:65005,58455:65006,58456:65007,58457:65008,58458:65009,58459:65010,58460:65011,58461:65012,58462:65013,58463:65014,58464:65015,58465:65016,58466:65017,58467:65018,58468:65019,58469:65020,58470:65021,58471:65022,58472:65185,58473:65186,58474:65187,58475:65188,58476:65189,58477:65190,58478:65191,58479:65192,58480:65193,58481:65194,58482:65195,58483:65196,58484:65197,58485:65198,58486:65199,58487:65200,58488:65201,58489:65202,58490:65203,58491:65204,58492:65205,58493:65206,58494:65207,58495:65208,58496:65209,58497:65210,58498:65211,58499:65212,58500:65213,58501:65214,58502:65215,58503:65216,58504:65217,58505:65218,58506:65219,58507:65220,58508:65221,58509:65222,58510:65223,58511:65224,58512:65225,58513:65226,58514:65227,58515:65228,58516:65229,58517:65230,58518:65231,58519:65232,58520:65233,58521:65234,58522:65235,58523:65236,58524:65237,58525:65238,58526:65239,58527:65240,58528:65241,58529:65242,58530:65243,58531:65244,58532:65245,58533:65246,58534:65247,58535:65248,58536:65249,58537:65250,58538:65251,58539:65252,58540:65253,58541:65254,58542:65255,58543:65256,58544:65257,58545:65258,58546:65259,58547:65260,58548:65261,58549:65262,58550:65263,58551:65264,58552:65265,58553:65266,58554:65267,58555:65268,58556:65269,58557:65270,58558:65271,58559:65272,58560:65273,58561:65274,58562:65275,58563:65276,58564:65277,58565:65278,58566:41280,58567:41281,58568:41282,58569:41283,58570:41284,58571:41285,58572:41286,58573:41287,58574:41288,58575:41289,58576:41290,58577:41291,58578:41292,58579:41293,58580:41294,58581:41295,58582:41296,58583:41297,58584:41298,58585:41299,58586:41300,58587:41301,58588:41302,58589:41303,58590:41304,58591:41305,58592:41306,58593:41307,58594:41308,58595:41309,58596:41310,58597:41311,58598:41312,58599:41313,58600:41314,58601:41315,58602:41316,58603:41317,58604:41318,58605:41319,58606:41320,58607:41321,58608:41322,58609:41323,58610:41324,58611:41325,58612:41326,58613:41327,58614:41328,58615:41329,58616:41330,58617:41331,58618:41332,58619:41333,58620:41334,58621:41335,58622:41336,58623:41337,58624:41338,58625:41339,58626:41340,58627:41341,58628:41342,58629:41344,58630:41345,58631:41346,58632:41347,58633:41348,58634:41349,58635:41350,58636:41351,58637:41352,58638:41353,58639:41354,58640:41355,58641:41356,58642:41357,58643:41358,58644:41359,58645:41360,58646:41361,58647:41362,58648:41363,58649:41364,58650:41365,58651:41366,58652:41367,58653:41368,58654:41369,58655:41370,58656:41371,58657:41372,58658:41373,58659:41374,58660:41375,58661:41376,58662:41536,58663:41537,58664:41538,58665:41539,58666:41540,58667:41541,58668:41542,58669:41543,58670:41544,58671:41545,58672:41546,58673:41547,58674:41548,58675:41549,58676:41550,58677:41551,58678:41552,58679:41553,58680:41554,58681:41555,58682:41556,58683:41557,58684:41558,58685:41559,58686:41560,58687:41561,58688:41562,58689:41563,58690:41564,58691:41565,58692:41566,58693:41567,58694:41568,58695:41569,58696:41570,58697:41571,58698:41572,58699:41573,58700:41574,58701:41575,58702:41576,58703:41577,58704:41578,58705:41579,58706:41580,58707:41581,58708:41582,58709:41583,58710:41584,58711:41585,58712:41586,58713:41587,58714:41588,58715:41589,58716:41590,58717:41591,58718:41592,58719:41593,58720:41594,58721:41595,58722:41596,58723:41597,58724:41598,58725:41600,58726:41601,58727:41602,58728:41603,58729:41604,58730:41605,58731:41606,58732:41607,58733:41608,58734:41609,58735:41610,58736:41611,58737:41612,58738:41613,58739:41614,58740:41615,58741:41616,58742:41617,58743:41618,58744:41619,58745:41620,58746:41621,58747:41622,58748:41623,58749:41624,58750:41625,58751:41626,58752:41627,58753:41628,58754:41629,58755:41630,58756:41631,58757:41632,58758:41792,58759:41793,58760:41794,58761:41795,58762:41796,58763:41797,58764:41798,58765:41799,58766:41800,58767:41801,58768:41802,58769:41803,58770:41804,58771:41805,58772:41806,58773:41807,58774:41808,58775:41809,58776:41810,58777:41811,58778:41812,58779:41813,58780:41814,58781:41815,58782:41816,58783:41817,58784:41818,58785:41819,58786:41820,58787:41821,58788:41822,58789:41823,58790:41824,58791:41825,58792:41826,58793:41827,58794:41828,58795:41829,58796:41830,58797:41831,58798:41832,58799:41833,58800:41834,58801:41835,58802:41836,58803:41837,58804:41838,58805:41839,58806:41840,58807:41841,58808:41842,58809:41843,58810:41844,58811:41845,58812:41846,58813:41847,58814:41848,58815:41849,58816:41850,58817:41851,58818:41852,58819:41853,58820:41854,58821:41856,58822:41857,58823:41858,58824:41859,58825:41860,58826:41861,58827:41862,58828:41863,58829:41864,58830:41865,58831:41866,58832:41867,58833:41868,58834:41869,58835:41870,58836:41871,58837:41872,58838:41873,58839:41874,58840:41875,58841:41876,58842:41877,58843:41878,58844:41879,58845:41880,58846:41881,58847:41882,58848:41883,58849:41884,58850:41885,58851:41886,58852:41887,58853:41888,58854:42048,58855:42049,58856:42050,58857:42051,58858:42052,58859:42053,58860:42054,58861:42055,58862:42056,58863:42057,58864:42058,58865:42059,58866:42060,58867:42061,58868:42062,58869:42063,58870:42064,58871:42065,58872:42066,58873:42067,58874:42068,58875:42069,58876:42070,58877:42071,58878:42072,58879:42073,58880:42074,58881:42075,58882:42076,58883:42077,58884:42078,58885:42079,58886:42080,58887:42081,58888:42082,58889:42083,58890:42084,58891:42085,58892:42086,58893:42087,58894:42088,58895:42089,58896:42090,58897:42091,58898:42092,58899:42093,58900:42094,58901:42095,58902:42096,58903:42097,58904:42098,58905:42099,58906:42100,58907:42101,58908:42102,58909:42103,58910:42104,58911:42105,58912:42106,58913:42107,58914:42108,58915:42109,58916:42110,58917:42112,58918:42113,58919:42114,58920:42115,58921:42116,58922:42117,58923:42118,58924:42119,58925:42120,58926:42121,58927:42122,58928:42123,58929:42124,58930:42125,58931:42126,58932:42127,58933:42128,58934:42129,58935:42130,58936:42131,58937:42132,58938:42133,58939:42134,58940:42135,58941:42136,58942:42137,58943:42138,58944:42139,58945:42140,58946:42141,58947:42142,58948:42143,58949:42144,58950:42304,58951:42305,58952:42306,58953:42307,58954:42308,58955:42309,58956:42310,58957:42311,58958:42312,58959:42313,58960:42314,58961:42315,58962:42316,58963:42317,58964:42318,58965:42319,58966:42320,58967:42321,58968:42322,58969:42323,58970:42324,58971:42325,58972:42326,58973:42327,58974:42328,58975:42329,58976:42330,58977:42331,58978:42332,58979:42333,58980:42334,58981:42335,58982:42336,58983:42337,58984:42338,58985:42339,58986:42340,58987:42341,58988:42342,58989:42343,58990:42344,58991:42345,58992:42346,58993:42347,58994:42348,58995:42349,58996:42350,58997:42351,58998:42352,58999:42353,59000:42354,59001:42355,59002:42356,59003:42357,59004:42358,59005:42359,59006:42360,59007:42361,59008:42362,59009:42363,59010:42364,59011:42365,59012:42366,59013:42368,59014:42369,59015:42370,59016:42371,59017:42372,59018:42373,59019:42374,59020:42375,59021:42376,59022:42377,59023:42378,59024:42379,59025:42380,59026:42381,59027:42382,59028:42383,59029:42384,59030:42385,59031:42386,59032:42387,59033:42388,59034:42389,59035:42390,59036:42391,59037:42392,59038:42393,59039:42394,59040:42395,59041:42396,59042:42397,59043:42398,59044:42399,59045:42400,59046:42560,59047:42561,59048:42562,59049:42563,59050:42564,59051:42565,59052:42566,59053:42567,59054:42568,59055:42569,59056:42570,59057:42571,59058:42572,59059:42573,59060:42574,59061:42575,59062:42576,59063:42577,59064:42578,59065:42579,59066:42580,59067:42581,59068:42582,59069:42583,59070:42584,59071:42585,59072:42586,59073:42587,59074:42588,59075:42589,59076:42590,59077:42591,59078:42592,59079:42593,59080:42594,59081:42595,59082:42596,59083:42597,59084:42598,59085:42599,59086:42600,59087:42601,59088:42602,59089:42603,59090:42604,59091:42605,59092:42606,59093:42607,59094:42608,59095:42609,59096:42610,59097:42611,59098:42612,59099:42613,59100:42614,59101:42615,59102:42616,59103:42617,59104:42618,59105:42619,59106:42620,59107:42621,59108:42622,59109:42624,59110:42625,59111:42626,59112:42627,59113:42628,59114:42629,59115:42630,59116:42631,59117:42632,59118:42633,59119:42634,59120:42635,59121:42636,59122:42637,59123:42638,59124:42639,59125:42640,59126:42641,59127:42642,59128:42643,59129:42644,59130:42645,59131:42646,59132:42647,59133:42648,59134:42649,59135:42650,59136:42651,59137:42652,59138:42653,59139:42654,59140:42655,59141:42656,59142:42816,59143:42817,59144:42818,59145:42819,59146:42820,59147:42821,59148:42822,59149:42823,59150:42824,59151:42825,59152:42826,59153:42827,59154:42828,59155:42829,59156:42830,59157:42831,59158:42832,59159:42833,59160:42834,59161:42835,59162:42836,59163:42837,59164:42838,59165:42839,59166:42840,59167:42841,59168:42842,59169:42843,59170:42844,59171:42845,59172:42846,59173:42847,59174:42848,59175:42849,59176:42850,59177:42851,59178:42852,59179:42853,59180:42854,59181:42855,59182:42856,59183:42857,59184:42858,59185:42859,59186:42860,59187:42861,59188:42862,59189:42863,59190:42864,59191:42865,59192:42866,59193:42867,59194:42868,59195:42869,59196:42870,59197:42871,59198:42872,59199:42873,59200:42874,59201:42875,59202:42876,59203:42877,59204:42878,59205:42880,59206:42881,59207:42882,59208:42883,59209:42884,59210:42885,59211:42886,59212:42887,59213:42888,59214:42889,59215:42890,59216:42891,59217:42892,59218:42893,59219:42894,59220:42895,59221:42896,59222:42897,59223:42898,59224:42899,59225:42900,59226:42901,59227:42902,59228:42903,59229:42904,59230:42905,59231:42906,59232:42907,59233:42908,59234:42909,59235:42910,59236:42911,59237:42912,59238:41643,59239:41644,59240:41645,59241:41646,59242:41647,59243:41648,59245:41700,59246:41711,59247:41712,59248:41725,59249:41726,59250:42228,59251:42229,59252:42230,59253:42231,59254:42232,59255:42233,59256:42234,59257:42235,59258:42236,59259:42237,59260:42238,59261:42487,59262:42488,59263:42489,59264:42490,59265:42491,59266:42492,59267:42493,59268:42494,59269:42681,59270:42682,59271:42683,59272:42684,59273:42685,59274:42686,59275:42687,59276:42688,59277:42713,59278:42714,59279:42715,59280:42716,59281:42717,59282:42718,59283:42719,59284:42732,59285:42733,59286:42739,59287:42742,59288:42743,59289:42744,59290:42745,59291:42746,59292:42747,59293:42748,59294:42749,59295:42750,59296:42946,59297:42947,59298:42948,59299:42949,59300:42950,59301:42951,59302:42952,59303:42953,59304:42954,59305:42955,59306:42956,59307:42957,59308:42958,59309:42959,59310:42960,59311:42994,59312:42995,59313:42996,59314:42997,59315:42998,59316:42999,59317:43e3,59318:43001,59319:43002,59320:43003,59321:43004,59322:43005,59323:43006,59324:43158,59325:43159,59326:43160,59327:43161,59328:43162,59329:43163,59330:43164,59331:43165,59332:43166,59333:43167,59334:43168,59337:43201,59338:43202,59339:43203,59340:43204,59341:43242,59342:43243,59343:43244,59344:43245,59345:43246,59346:43247,59347:43248,59348:43249,59349:43250,59350:43251,59351:43252,59352:43253,59353:43254,59354:43255,59355:43256,59356:43257,59357:43258,59358:43259,59359:43260,59360:43261,59361:43262,59362:43352,59363:43355,59364:43357,59365:43358,59366:43359,59380:43415,59381:43416,59382:43417,59383:43418,59384:43419,59385:43420,59386:43421,59387:43422,59388:43423,59389:43424,59390:43425,59391:43426,59392:43427,59393:43504,59394:43505,59395:43506,59396:43507,59397:43508,59398:43509,59399:43510,59400:43511,59401:43512,59402:43513,59403:43514,59404:43515,59405:43516,59406:43517,59407:43518,59408:55290,59409:55291,59410:55292,59411:55293,59412:55294,59414:65105,59415:65106,59416:65107,59422:65113,59430:65121,59435:65126,59436:65127,59441:65132,59442:65133,59451:65142,59459:65150,59476:65168,59477:65169,59492:65184,63788:64924,63865:64925,63893:64926,63975:64927,63985:64928,64012:65088,64013:65089,64014:65090,64015:65091,64017:65092,64019:65093,64020:65094,64024:65095,64031:65096,64032:65097,64033:65098,64035:65099,64036:65100,64039:65101,64040:65102,64041:65103,65072:43349,65073:42738,65075:42740,65076:42741,65077:42720,65078:42721,65079:42736,65080:42737,65081:42722,65082:42723,65083:42734,65084:42735,65085:42726,65086:42727,65087:42724,65088:42725,65089:42728,65090:42729,65091:42730,65092:42731,65097:43368,65098:43369,65099:43370,65100:43371,65101:43372,65102:43373,65103:43374,65104:43375,65105:43376,65106:43377,65108:43378,65109:43379,65110:43380,65111:43381,65113:43382,65114:43383,65115:43384,65116:43385,65117:43386,65118:43387,65119:43388,65120:43389,65121:43390,65122:43392,65123:43393,65124:43394,65125:43395,65126:43396,65128:43397,65129:43398,65130:43399,65131:43400,65281:41889,65282:41890,65283:41891,65284:41447,65285:41893,65286:41894,65287:41895,65288:41896,65289:41897,65290:41898,65291:41899,65292:41900,65293:41901,65294:41902,65295:41903,65296:41904,65297:41905,65298:41906,65299:41907,65300:41908,65301:41909,65302:41910,65303:41911,65304:41912,65305:41913,65306:41914,65307:41915,65308:41916,65309:41917,65310:41918,65311:41919,65312:41920,65313:41921,65314:41922,65315:41923,65316:41924,65317:41925,65318:41926,65319:41927,65320:41928,65321:41929,65322:41930,65323:41931,65324:41932,65325:41933,65326:41934,65327:41935,65328:41936,65329:41937,65330:41938,65331:41939,65332:41940,65333:41941,65334:41942,65335:41943,65336:41944,65337:41945,65338:41946,65339:41947,65340:41948,65341:41949,65342:41950,65343:41951,65344:41952,65345:41953,65346:41954,65347:41955,65348:41956,65349:41957,65350:41958,65351:41959,65352:41960,65353:41961,65354:41962,65355:41963,65356:41964,65357:41965,65358:41966,65359:41967,65360:41968,65361:41969,65362:41970,65363:41971,65364:41972,65365:41973,65366:41974,65367:41975,65368:41976,65369:41977,65370:41978,65371:41979,65372:41980,65373:41981,65374:41387,65504:41449,65505:41450,65506:43350,65507:41982,65508:43351,65509:41892}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return e.prototype.start=function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},e.prototype.stop=function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},e.prototype.getElapsedTime=function(){return this.getDelta(),this.elapsedTime},e.prototype.getDelta=function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e},e}();t.Clock=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),a=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.isInstancedBufferAttribute=!0,i.meshPerAttribute=r||1,i}return i(t,e),t.prototype.copy=function(e){return o.BufferAttribute3D.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},t}(o.BufferAttribute3D);t.InstancedBufferAttribute3D=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(47),a=function(e){function t(){var t=e.call(this)||this;return t.isInstancedBufferGeometry=!0,t.type="InstancedBufferGeometry3D",t.maxInstancedCount=void 0,t}return i(t,e),t.prototype.copy=function(e){return o.BufferGeometry3D.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},t.prototype.clone=function(){return(new t).copy(this)},t}(o.BufferGeometry3D);t.InstancedBufferGeometry3D=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(59),a=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.isInstancedInterleavedBuffer=!0,i.meshPerAttribute=r||1,i}return i(t,e),t.prototype.copy=function(e){return o.InterleavedBuffer3D.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},t}(o.InterleavedBuffer3D);t.InstancedInterleavedBuffer3D=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.onUploadCallback=function(){},this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}return Object.defineProperty(e.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++},enumerable:!0,configurable:!0}),e.prototype.setArray=function(e){return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},e.prototype.setDynamic=function(e){return this.dynamic=e,this},e.prototype.copy=function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},e.prototype.copyAt=function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},e.prototype.set=function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.onUpload=function(e){return this.onUploadCallback=e,this},e.prototype.dispose=function(){this.array=null},e}();t.InterleavedBuffer3D=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){this.isInterleavedBufferAttribute=!0,this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}return Object.defineProperty(e.prototype,"shared",{get:function(){return this.data.shared},set:function(e){this.data.shared=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.data.count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"array",{get:function(){return this.data.array},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"needsUpdate",{get:function(){return this.data.needsUpdate},set:function(e){this.data.needsUpdate=e},enumerable:!0,configurable:!0}),e.prototype.setX=function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},e.prototype.setY=function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},e.prototype.setZ=function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},e.prototype.setW=function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},e.prototype.getX=function(e){return this.data.array[e*this.data.stride+this.offset]},e.prototype.getY=function(e){return this.data.array[e*this.data.stride+this.offset+1]},e.prototype.getZ=function(e){return this.data.array[e*this.data.stride+this.offset+2]},e.prototype.getW=function(e){return this.data.array[e*this.data.stride+this.offset+3]},e.prototype.setXY=function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},e.prototype.setXYZ=function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},e.prototype.setXYZW=function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this},e.prototype.clone=function(){return this},e.prototype.dispose=function(){this.data.dispose(),this.data=null},e}();t.InterleavedBufferAttribute3D=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62),i=n(43),o=function(){function e(e,t,n,i){this.linePrecision=1,this.ray=new r.Ray3D(e,t),this.near=n||0,this.far=i||1/0,this.params={Mesh3D:{},Line3D:{},LOD3D:{},Points3D:{threshold:1},Sprite3D:{}}}return e.ascSort=function(e,t){return e.distance-t.distance},e.intersectObject=function(t,n,r,i){if(!1!==t.visible&&(t.raycast(n,r),!0===i))for(var o=t.children,a=0,s=o.length;a<s;a++)e.intersectObject(o[a],n,r,!0)},e.prototype.set=function(e,t){this.ray.set(e,t)},e.prototype.setFromCamera=function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t instanceof i.OrthographicCamera3D?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("spdengine-3D.Raycaster3D: Unsupported Camera3D type.")},e.prototype.intersectObject=function(t,n,r){var i=r||[];return e.intersectObject(t,this,i,n),i.sort(e.ascSort),i},e.prototype.intersectObjects=function(t,n,r){var i=r||[];if(!1===Array.isArray(t))return console.warn("spdengine-3D.Raycaster3D.intersectObjects: objects is not an Array."),i;for(var o=0,a=t.length;o<a;o++)e.intersectObject(t[o],this,i,n);return i.sort(e.ascSort),i},e.prototype.intersectBox=function(e){return this.ray.intersectsBox(e)},e}();t.Raycaster3D=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=function(){function e(e,t){var n,i,o,a,s;this.intersectsBox=(n=new r.Vector33D,function(e){return null!==this.intersectBox(e,n)}),this.intersectTriangle=(i=new r.Vector33D,o=new r.Vector33D,a=new r.Vector33D,s=new r.Vector33D,function(e,t,n,r,c){o.subVectors(t,e),a.subVectors(n,e),s.crossVectors(o,a);var l,u=this.direction.dot(s);if(u>0){if(r)return null;l=1}else{if(!(u<0))return null;l=-1,u=-u}i.subVectors(this.origin,e);var p=l*this.direction.dot(a.crossVectors(i,a));if(p<0)return null;var d=l*this.direction.dot(o.cross(i));if(d<0)return null;if(p+d>u)return null;var h=-l*i.dot(s);return h<0?null:this.at(h/u,c)}),this.origin=void 0!==e?e:new r.Vector33D,this.direction=void 0!==t?t:new r.Vector33D}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t){return this.origin.copy(e),this.direction.copy(t),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},e.prototype.at=function(e,t){return void 0===t&&(console.warn("spdengine-3D.Ray3D: .at() target is now required"),t=new r.Vector33D),t.copy(this.direction).multiplyScalar(e).add(this.origin)},e.prototype.lookAt=function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},e.prototype.recast=function(e){var t=r.Vector33D.get();return this.origin.copy(this.at(e,t)),r.Vector33D.back(t),this},e.prototype.closestPointToPoint=function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},e.prototype.distanceToPoint=function(e){return Math.sqrt(this.distanceSqToPoint(e))},e.prototype.distanceSqToPoint=function(e){var t=r.Vector33D.get(),n=t.subVectors(e,this.origin).dot(this.direction);if(n<0)return this.origin.distanceToSquared(e);t.copy(this.direction).multiplyScalar(n).add(this.origin);var i=t.distanceToSquared(e);return r.Vector33D.back(t),i},e.prototype.distanceSqToSegment=function(e,t,n,i){var o=r.Vector33D.get(),a=r.Vector33D.get(),s=r.Vector33D.get();o.copy(e).add(t).multiplyScalar(.5),a.copy(t).sub(e).normalize(),s.copy(this.origin).sub(o);var c,l,u,p,d=.5*e.distanceTo(t),h=-this.direction.dot(a),f=s.dot(this.direction),m=-s.dot(a),g=s.lengthSq(),y=Math.abs(1-h*h);if(y>0)if(l=h*f-m,p=d*y,(c=h*m-f)>=0)if(l>=-p)if(l<=p){var v=1/y;u=(c*=v)*(c+h*(l*=v)+2*f)+l*(h*c+l+2*m)+g}else l=d,u=-(c=Math.max(0,-(h*l+f)))*c+l*(l+2*m)+g;else l=-d,u=-(c=Math.max(0,-(h*l+f)))*c+l*(l+2*m)+g;else l<=-p?u=-(c=Math.max(0,-(-h*d+f)))*c+(l=c>0?-d:Math.min(Math.max(-d,-m),d))*(l+2*m)+g:l<=p?(c=0,u=(l=Math.min(Math.max(-d,-m),d))*(l+2*m)+g):u=-(c=Math.max(0,-(h*d+f)))*c+(l=c>0?d:Math.min(Math.max(-d,-m),d))*(l+2*m)+g;else l=h>0?-d:d,u=-(c=Math.max(0,-(h*l+f)))*c+l*(l+2*m)+g;return n&&n.copy(this.direction).multiplyScalar(c).add(this.origin),i&&i.copy(a).multiplyScalar(l).add(o),r.Vector33D.back(s),r.Vector33D.back(a),r.Vector33D.back(o),u},e.prototype.intersectSphere=function(e,t){var n=r.Vector33D.get().subVectors(e.center,this.origin),i=n.dot(this.direction),o=n.dot(n)-i*i,a=e.radius*e.radius;if(r.Vector33D.back(n),o>a)return null;var s=Math.sqrt(a-o),c=i-s,l=i+s;return c<0&&l<0?null:c<0?this.at(l,t):this.at(c,t)},e.prototype.intersectsSphere=function(e){return this.distanceToPoint(e.center)<=e.radius},e.prototype.distanceToPlane=function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},e.prototype.intersectPlane=function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},e.prototype.intersectsPlane=function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},e.prototype.intersectBox=function(e,t){var n,r,i,o,a,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,p=this.origin;return c>=0?(n=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(n=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),l>=0?(i=(e.min.y-p.y)*l,o=(e.max.y-p.y)*l):(i=(e.max.y-p.y)*l,o=(e.min.y-p.y)*l),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),u>=0?(a=(e.min.z-p.z)*u,s=(e.max.z-p.z)*u):(a=(e.max.z-p.z)*u,s=(e.min.z-p.z)*u),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},e.prototype._intersectBox=function(e){var t=-1/0,n=1/0,r=-1/0,i=1/0,o=-1/0,a=1/0,s=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,u=this.origin;if(Math.abs(s)>1e10&&e.max.x!==e.min.x){if(u.x<e.max.x||u.x>e.min.x)return!1}else s>=0?(t=(e.min.x-u.x)*s,n=(e.max.x-u.x)*s):(t=(e.max.x-u.x)*s,n=(e.min.x-u.x)*s);if(Math.abs(c)>1e10&&e.max.y!==e.min.y){if(u.y<e.max.y||u.y>e.min.y)return!1}else c>=0?(r=(e.min.y-u.y)*c,i=(e.max.y-u.y)*c):(r=(e.max.y-u.y)*c,i=(e.min.y-u.y)*c);if(Math.abs(l)>1e10&&e.max.z!==e.min.z){if(u.z<e.max.z||u.z>e.min.z)return!1}else l>=0?(o=(e.min.z-u.z)*l,a=(e.max.z-u.z)*l):(o=(e.max.z-u.z)*l,a=(e.min.z-u.z)*l);return Math.max(o,Math.max(t,r))<=Math.min(a,Math.min(n,i))},e.prototype.applyMatrix4=function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},e.prototype.equals=function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},e.arrays=[],e}();t.Ray3D=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function e(t){this.clone=function(){return new e(void 0===this.value.clone?this.value:this.value.clone())},this.value=t}}();t.Uniform3D=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),a=n(47),s=n(45),c=n(31),l=function(e){function t(t,n,r,i,o,a){var l=e.call(this)||this;l.type="BoxBufferGeometry3D",l.parameters={width:t,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};var u=l;t=t||1,n=n||1,r=r||1,i=Math.floor(i)||1,o=Math.floor(o)||1,a=Math.floor(a)||1;var p=[],d=[],h=[],f=[],m=0,g=0;function y(e,t,n,r,i,o,a,s,l,y,v){var x,M,b=o/l,w=a/y,A=o/2,_=a/2,E=s/2,D=l+1,S=y+1,P=0,T=0,C=new c.Vector33D;for(M=0;M<S;M++){var R=M*w-_;for(x=0;x<D;x++){var I=x*b-A;C[e]=I*r,C[t]=R*i,C[n]=E,d.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=s>0?1:-1,h.push(C.x,C.y,C.z),f.push(x/l),f.push(1-M/y),P+=1}}for(M=0;M<y;M++)for(x=0;x<l;x++){var O=m+x+D*M,L=m+x+D*(M+1),k=m+(x+1)+D*(M+1),B=m+(x+1)+D*M;p.push(O,L,B),p.push(L,k,B),T+=6}u.addGroup(g,T,v),g+=T,m+=P}return y("z","y","x",-1,-1,r,n,t,a,o,0),y("z","y","x",1,-1,r,n,-t,a,o,1),y("x","z","y",1,1,t,r,n,i,a,2),y("x","z","y",1,-1,t,r,-n,i,a,3),y("x","y","z",1,-1,t,n,r,i,o,4),y("x","y","z",-1,-1,t,n,-r,i,o,5),l.setIndex(p),l.addAttribute("position",new s.Float32BufferAttribute(d,3)),l.addAttribute("normal",new s.Float32BufferAttribute(h,3)),l.addAttribute("uv",new s.Float32BufferAttribute(f,2)),l.update=function(e,t,n,r,i,o){if(p.length=0,d.length=0,h.length=0,f.length=0,e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,y("z","y","x",-1,-1,n,t,e,o=Math.floor(o)||1,i,0),y("z","y","x",1,-1,n,t,-e,o,i,1),y("x","z","y",1,1,e,n,t,r,o,2),y("x","z","y",1,-1,e,n,-t,r,o,3),y("x","y","z",1,-1,e,t,n,r,i,4),y("x","y","z",-1,-1,e,t,-n,r,i,5),l.attributes.has("position")){for(var a=l.attributes.get("position"),s=0,c=a.array.length;s<c;++s)a.array[s]=d[s];a.needsUpdate=!0}},l}return i(t,e),t}(a.BufferGeometry3D);t.BoxBufferGeometry3D=l;var u=function(e){function t(t,n,r,i,o,a){var s=e.call(this)||this;return s.type="BoxGeometry",s.parameters={width:t,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a},s.fromBufferGeometry(new l(t,n,r,i,o,a)),s.mergeVertices(),s}return i(t,e),t}(o.Geometry3D);t.BoxGeometry=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(66),a=n(67),s=function(e){function t(t,n,r,i){var s=e.call(this)||this;s.type="CircleBufferGeometry3D",s.parameters={radius:t,segments:n,thetaStart:r,thetaLength:i},t=t||1,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var c,l,u=[],p=[],d=[],h=[],f=new a.Vector33D,m=new a.Vector23D;for(p.push(0,0,0),d.push(0,0,1),h.push(.5,.5),l=0,c=3;l<=n;l++,c+=3){var g=r+l/n*i;f.x=t*Math.cos(g),f.y=t*Math.sin(g),p.push(f.x,f.y,f.z),d.push(0,0,1),m.x=(p[c]/t+1)/2,m.y=(p[c+1]/t+1)/2,h.push(m.x,m.y)}for(c=1;c<=n;c++)u.push(c,c+1,0);return s.setIndex(u),s.addAttribute("position",new o.Float32BufferAttribute(p,3)),s.addAttribute("normal",new o.Float32BufferAttribute(d,3)),s.addAttribute("uv",new o.Float32BufferAttribute(h,2)),s}return i(t,e),t}(o.BufferGeometry3D);t.CircleBufferGeometry3D=s;var c=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.type="CircleGeometry3D",o.parameters={radius:t,segments:n,thetaStart:r,thetaLength:i},o.fromBufferGeometry(new s(t,n,r,i)),o.mergeVertices(),o}return i(t,e),t}(o.Geometry3D);t.CircleGeometry3D=c},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(45)),r(n(47)),r(n(55)),r(n(52)),r(n(28)),r(n(51)),r(n(50)),r(n(57)),r(n(56)),r(n(58)),r(n(59)),r(n(60)),r(n(34)),r(n(27)),r(n(61)),r(n(63)),r(n(37))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(30)),r(n(68)),r(n(48)),r(n(46)),r(n(69)),r(n(29)),r(n(70)),r(n(72)),r(n(35)),r(n(33)),r(n(71)),r(n(32)),r(n(62)),r(n(49)),r(n(73)),r(n(74)),r(n(42)),r(n(31)),r(n(40))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=function(){function e(e,t){this.setFromCenterAndSize=function(e,t){var n=r.Vector23D.get(),i=n.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),r.Vector23D.back(n),this},this.distanceToPoint=function(e){var t=r.Vector23D.get(),n=t.copy(e).clamp(this.min,this.max);return r.Vector23D.back(t),n.sub(e).length()},this.min=void 0!==e?e:new r.Vector23D(1/0,1/0),this.max=void 0!==t?t:new r.Vector23D(-1/0,-1/0)}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t){return this.min.copy(e),this.max.copy(t),this},e.prototype.setFromPoints=function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){return this.min.copy(e.min),this.max.copy(e.max),this},e.prototype.makeEmpty=function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},e.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y},e.prototype.getCenter=function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},e.prototype.getSize=function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},e.prototype.expandByPoint=function(e){return this.min.min(e),this.max.max(e),this},e.prototype.expandByVector=function(e){return this.min.sub(e),this.max.add(e),this},e.prototype.expandByScalar=function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},e.prototype.containsPoint=function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},e.prototype.containsBox=function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},e.prototype.getParameter=function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},e.prototype.intersectsBox=function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},e.prototype.clampPoint=function(e,t){return t.copy(e).clamp(this.min,this.max)},e.prototype.intersect=function(e){return this.min.max(e.min),this.max.min(e.max),this},e.prototype.union=function(e){return this.min.min(e.min),this.max.max(e.max),this},e.prototype.translate=function(e){return this.min.add(e),this.max.add(e),this},e.prototype.equals=function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},e.arrays=[],e}();t.Box23D=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},e.prototype.setFromVector3=function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},e.prototype.setFromCartesianCoords=function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this},e.arrays=[],e}();t.Cylindrical3D=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71),i=n(31),o=n(49),a=function(){function e(e,t,n,o,a,s){this.containsBox=function(){var e=new i.Vector33D,t=new i.Vector33D,n=new i.Vector33D,r=new i.Vector33D,o=new i.Vector33D,a=new i.Vector33D,s=new i.Vector33D,c=new i.Vector33D,l=[e,t,n,r,o,a,s,c],u=new i.Vector33D,p=0,d=0,h=0,f=0,m=0,g=0;return function(i){!function(i){i.getCenter(u),p=i.max.x,d=i.max.y,h=i.max.z,f=i.min.x,m=i.min.y,g=i.min.z,e.set(p,d,h),t.set(p,d,g),n.set(p,m,h),r.set(p,m,g),o.set(f,d,h),a.set(f,d,g),s.set(f,m,h),c.set(f,m,g)}(i);for(var y=0;y<8;++y)if(!this.containsPoint(l[y]))return!1;return!0}}(),this.planes=[void 0!==e?e:new r.Plane3D,void 0!==t?t:new r.Plane3D,void 0!==n?n:new r.Plane3D,void 0!==o?o:new r.Plane3D,void 0!==a?a:new r.Plane3D,void 0!==s?s:new r.Plane3D]}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},e.prototype.setFromMatrix=function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],p=n[8],d=n[9],h=n[10],f=n[11],m=n[12],g=n[13],y=n[14],v=n[15];return t[0].setComponents(a-r,u-s,f-p,v-m).normalize(),t[1].setComponents(a+r,u+s,f+p,v+m).normalize(),t[2].setComponents(a+i,u+c,f+d,v+g).normalize(),t[3].setComponents(a-i,u-c,f-d,v-g).normalize(),t[4].setComponents(a-o,u-l,f-h,v-y).normalize(),t[5].setComponents(a+o,u+l,f+h,v+y).normalize(),this},e.prototype.intersectsObject=function(e){var t=o.Sphere3D.get(),n=e.geometry;null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld);var r=this.intersectsSphere(t);return o.Sphere3D.back(t),r},e.prototype.intersectsSprite=function(e){var t=o.Sphere3D.get();t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld);var n=this.intersectsSphere(t);return o.Sphere3D.back(t),n},e.prototype.intersectsSphere=function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},e.prototype.intersectsBox=function(e){for(var t=this.planes,n=i.Vector33D.get(),r=0;r<6;r++){var o=t[r];if(n.x=o.normal.x>0?e.max.x:e.min.x,n.y=o.normal.y>0?e.max.y:e.min.y,n.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(n)<0)return i.Vector33D.back(n),!1}return i.Vector33D.back(n),!0},e.prototype.containsPoint=function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0},e.arrays=[],e}();t.Frustum3D=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=n(35),o=function(){function e(e,t){this.normal=void 0!==e?e:new r.Vector33D(1,0,0),this.constant=void 0!==t?t:0}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t){return this.normal.copy(e),this.constant=t,this},e.prototype.setComponents=function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},e.prototype.setFromNormalAndCoplanarPoint=function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},e.prototype.setFromCoplanarPoints=function(e,t,n){var i=r.Vector33D.get(),o=r.Vector33D.get(),a=i.subVectors(n,t).cross(o.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),r.Vector33D.back(i),r.Vector33D.back(o),this},e.prototype.clone=function(){return(new this.constructor).copy(this)},e.prototype.copy=function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},e.prototype.normalize=function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},e.prototype.negate=function(){return this.constant*=-1,this.normal.negate(),this},e.prototype.distanceToPoint=function(e){return this.normal.dot(e)+this.constant},e.prototype.distanceToSphere=function(e){return this.distanceToPoint(e.center)-e.radius},e.prototype.projectPoint=function(e,t){return void 0===t&&(console.warn("spdengine-3D.Plane3D: .projectPoint() target is now required"),t=new r.Vector33D),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},e.prototype.intersectLine=function(e,t){var n=r.Vector33D.get(),i=e.delta(n);r.Vector33D.back(n);var o=this.normal.dot(i);if(0===o)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/o;return a<0||a>1?void 0:t.copy(i).multiplyScalar(a).add(e.start)},e.prototype.intersectsLine=function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},e.prototype.intersectsBox=function(e){return e.intersectsPlane(this)},e.prototype.intersectsSphere=function(e){return e.intersectsPlane(this)},e.prototype.coplanarPoint=function(e){return void 0===e&&(console.warn("spdengine-3D.Plane3D: .coplanarPoint() target is now required"),e=new r.Vector33D),e.copy(this.normal).multiplyScalar(-this.constant)},e.prototype.applyMatrix4=function(e,t){var n=i.Matrix33D.get(),o=r.Vector33D.get(),a=t||n.getNormalMatrix(e),s=this.coplanarPoint(o).applyMatrix4(e),c=this.normal.applyMatrix3(a).normalize();return this.constant=-s.dot(c),i.Matrix33D.back(n),r.Vector33D.back(o),this},e.prototype.translate=function(e){return this.constant-=e.dot(this.normal),this},e.prototype.equals=function(e){return e.normal.equals(this.normal)&&e.constant===this.constant},e.arrays=[],e}();t.Plane3D=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=n(30),o=function(){function e(e,t){this.start=void 0!==e?e:new r.Vector33D,this.end=void 0!==t?t:new r.Vector33D}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t){return this.start.copy(e),this.end.copy(t),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){return this.start.copy(e.start),this.end.copy(e.end),this},e.prototype.getCenter=function(e){return void 0===e&&(console.warn("spdengine-3D.Line33D: .getCenter() target is now required"),e=new r.Vector33D),e.addVectors(this.start,this.end).multiplyScalar(.5)},e.prototype.delta=function(e){return void 0===e&&(console.warn("spdengine-3D.Line33D: .delta() target is now required"),e=new r.Vector33D),e.subVectors(this.end,this.start)},e.prototype.distanceSq=function(){return this.start.distanceToSquared(this.end)},e.prototype.distance=function(){return this.start.distanceTo(this.end)},e.prototype.at=function(e,t){return void 0===t&&(console.warn("spdengine-3D.Line33D: .at() target is now required"),t=new r.Vector33D),this.delta(t).multiplyScalar(e).add(this.start)},e.prototype.closestPointToPointParameter=function(e,t){var n=r.Vector33D.get(),o=r.Vector33D.get();n.subVectors(e,this.start),o.subVectors(this.end,this.start);var a=o.dot(o),s=o.dot(n)/a;return t&&(s=i._Math.clamp(s,0,1)),r.Vector33D.back(o),r.Vector33D.back(n),s},e.prototype.closestPointToPoint=function(e,t,n){var i=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("spdengine-3D.Line33D: .closestPointToPoint() target is now required"),n=new r.Vector33D),this.delta(n).multiplyScalar(i).add(this.start)},e.prototype.applyMatrix4=function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},e.prototype.equals=function(e){return e.start.equals(this.start)&&e.end.equals(this.end)},e.prototype.containsPoint=function(e,t){var n=this.start,i=this.end,o=r.Vector33D.get().subVectors(e,n).normalize(),a=r.Vector33D.get().subVectors(i,n).normalize();o.cross(a);var s=!1;return Math.abs(o.x)<t&&Math.abs(o.y)<t&&Math.abs(o.z)<t&&(o.copy(n).min(i).subScalar(t),a.copy(n).max(i).addScalar(t),o.x<=e.x&&o.y<=e.y&&o.z<=e.z&&a.x>=e.x&&a.y>=e.y&&a.z>=e.z&&(s=!0)),r.Vector33D.back(o),r.Vector33D.back(a),s},e.prototype.getProjectPoint=function(e,t){var n=this.delta(r.Vector33D.get());t.subVectors(e,this.start),t.projectOnVector(n),t.add(this.start),r.Vector33D.back(n)},e.arrays=[],e}();t.Line33D=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),i=function(){function e(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.prototype.set=function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},e.prototype.makeSafe=function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},e.prototype.setFromVector3=function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},e.prototype.setFromCartesianCoords=function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(r._Math.clamp(t/this.radius,-1,1))),this},e.prototype.equals=function(e){return this.phi===e.phi&&this.theta===e.theta&&this.radius===e.radius},e.arrays=[],e}();t.Spherical3D=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=n(71),o=function(){function e(e,t,n){this.a=void 0!==e?e:new r.Vector33D,this.b=void 0!==t?t:new r.Vector33D,this.c=void 0!==n?n:new r.Vector33D}return e.get=function(){var t=e.arrays.pop();return t||(t=new e),t},e.back=function(t){return e.arrays.push(t),t},e.getNormal=function(e,t,n,i){var o=r.Vector33D.get();i.subVectors(n,t),o.subVectors(e,t),i.cross(o),r.Vector33D.back(o);var a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)},e.getBarycoord=function(e,t,n,i,o){var a=r.Vector33D.get(),s=r.Vector33D.get(),c=r.Vector33D.get();a.subVectors(i,t),s.subVectors(n,t),c.subVectors(e,t);var l=a.dot(a),u=a.dot(s),p=a.dot(c),d=s.dot(s),h=s.dot(c),f=l*d-u*u;if(r.Vector33D.back(c),r.Vector33D.back(s),r.Vector33D.back(a),void 0===o&&(console.warn("spdengine-3D.Triangle3D: .getBarycoord() target is now required"),o=new r.Vector33D),0===f)return o.set(-2,-1,-1);var m=1/f,g=(d*p-u*h)*m,y=(l*h-u*p)*m;return o.set(1-g-y,y,g)},e.prototype.getNormal=function(t){return e.getNormal(this.a,this.b,this.c,t)},e.prototype.getBarycoord=function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)},e.prototype.containsPoint=function(t){return e.containsPoint(t,this.a,this.b,this.c)},e.containsPoint=function(t,n,i,o){var a=r.Vector33D.get();e.getBarycoord(t,n,i,o,a);var s=a.x>=0&&a.y>=0&&a.x+a.y<=1;return r.Vector33D.back(a),s},e.prototype.set=function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},e.prototype.setFromPointsAndIndices=function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},e.prototype.getArea=function(){var e=r.Vector33D.get(),t=r.Vector33D.get();e.subVectors(this.c,this.b),t.subVectors(this.a,this.b);var n=.5*e.cross(t).length();return r.Vector33D.back(e),r.Vector33D.back(t),n},e.prototype.getMidpoint=function(e){return void 0===e&&(console.warn("spdengine-3D.Triangle3D: .getMidpoint() target is now required"),e=new r.Vector33D),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},e.prototype.getPlane=function(e){return void 0===e&&(console.warn("spdengine-3D.Triangle3D: .getPlane() target is now required"),e=new i.Plane3D),e.setFromCoplanarPoints(this.a,this.b,this.c)},e.prototype.intersectsBox=function(e){return e.intersectsTriangle(this)},e.prototype.closestPointToPoint=function(e,t){var n,i,o=r.Vector33D.get(),a=r.Vector33D.get(),s=r.Vector33D.get(),c=r.Vector33D.get(),l=r.Vector33D.get(),u=r.Vector33D.get(),p=this.a,d=this.b,h=this.c;o.subVectors(d,p),a.subVectors(h,p),c.subVectors(e,p);var f=o.dot(c),m=a.dot(c);if(f<=0&&m<=0)return r.Vector33D.back(u),r.Vector33D.back(l),r.Vector33D.back(c),r.Vector33D.back(s),r.Vector33D.back(a),r.Vector33D.back(o),t.copy(p);l.subVectors(e,d);var g=o.dot(l),y=a.dot(l);if(g>=0&&y<=g)return r.Vector33D.back(u),r.Vector33D.back(l),r.Vector33D.back(c),r.Vector33D.back(s),r.Vector33D.back(a),r.Vector33D.back(o),t.copy(d);var v=f*y-g*m;if(v<=0&&f>=0&&g<=0)return n=f/(f-g),r.Vector33D.back(u),r.Vector33D.back(l),r.Vector33D.back(c),r.Vector33D.back(s),r.Vector33D.back(a),r.Vector33D.back(o),t.copy(p).addScaledVector(o,n);u.subVectors(e,h);var x=o.dot(u),M=a.dot(u);if(M>=0&&x<=M)return r.Vector33D.back(u),r.Vector33D.back(l),r.Vector33D.back(c),r.Vector33D.back(s),r.Vector33D.back(a),r.Vector33D.back(o),t.copy(h);var b=x*m-f*M;if(b<=0&&m>=0&&M<=0)return i=m/(m-M),r.Vector33D.back(u),r.Vector33D.back(l),r.Vector33D.back(c),r.Vector33D.back(s),r.Vector33D.back(a),r.Vector33D.back(o),t.copy(p).addScaledVector(a,i);var w=g*M-x*y;if(w<=0&&y-g>=0&&x-M>=0)return s.subVectors(h,d),i=(y-g)/(y-g+(x-M)),r.Vector33D.back(u),r.Vector33D.back(l),r.Vector33D.back(c),r.Vector33D.back(s),r.Vector33D.back(a),r.Vector33D.back(o),t.copy(d).addScaledVector(s,i);var A=1/(w+b+v);return n=b*A,i=v*A,r.Vector33D.back(u),r.Vector33D.back(l),r.Vector33D.back(c),r.Vector33D.back(s),r.Vector33D.back(a),r.Vector33D.back(o),t.copy(p).addScaledVector(o,n).addScaledVector(a,i)},e.prototype.equals=function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)},e.arrays=[],e}();t.Triangle3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(66),a=n(67),s=function(e){function t(t,n,r,i,s,c,l,u){var p=e.call(this)||this;p.type="CylinderBufferGeometry3D",p.parameters={radiusTop:t,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:c,thetaStart:l,thetaLength:u};var d=p;t=void 0!==t?t:1,n=void 0!==n?n:1,r=r||1,i=Math.floor(i)||8,s=Math.floor(s)||1,c=void 0!==c&&c,l=void 0!==l?l:0,u=void 0!==u?u:2*Math.PI;var h=[],f=[],m=[],g=[],y=0,v=[],x=r/2,M=0;function b(e){var r,o,s,c=new a.Vector23D,p=new a.Vector33D,v=0,b=!0===e?t:n,w=!0===e?1:-1;for(o=y,r=1;r<=i;r++)f.push(0,x*w,0),m.push(0,w,0),g.push(.5,.5),y++;for(s=y,r=0;r<=i;r++){var A=r/i*u+l,_=Math.cos(A),E=Math.sin(A);p.x=b*E,p.y=x*w,p.z=b*_,f.push(p.x,p.y,p.z),m.push(0,w,0),c.x=.5*_+.5,c.y=.5*E*w+.5,g.push(c.x,c.y),y++}for(r=0;r<i;r++){var D=o+r,S=s+r;!0===e?h.push(S,S+1,D):h.push(S+1,S,D),v+=3}d.addGroup(M,v,!0===e?1:2),M+=v}return function(){var e,o,c=new a.Vector33D,p=new a.Vector33D,b=0,w=(n-t)/r;for(o=0;o<=s;o++){var A=[],_=o/s,E=_*(n-t)+t;for(e=0;e<=i;e++){var D=e/i,S=D*u+l,P=Math.sin(S),T=Math.cos(S);p.x=E*P,p.y=-_*r+x,p.z=E*T,f.push(p.x,p.y,p.z),c.set(P,w,T).normalize(),m.push(c.x,c.y,c.z),g.push(D,1-_),A.push(y++)}v.push(A)}for(e=0;e<i;e++)for(o=0;o<s;o++){var C=v[o][e],R=v[o+1][e],I=v[o+1][e+1],O=v[o][e+1];h.push(C,R,O),h.push(R,I,O),b+=6}d.addGroup(M,b,0),M+=b}(),!1===c&&(t>0&&b(!0),n>0&&b(!1)),p.setIndex(h),p.addAttribute("position",new o.Float32BufferAttribute(f,3)),p.addAttribute("normal",new o.Float32BufferAttribute(m,3)),p.addAttribute("uv",new o.Float32BufferAttribute(g,2)),p}return i(t,e),t}(o.BufferGeometry3D);t.CylinderBufferGeometry3D=s;var c=function(e){function t(t,n,r,i,o,a,c,l){var u=e.call(this)||this;return u.type="CylinderGeometry3D",u.parameters={radiusTop:t,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:c,thetaLength:l},u.fromBufferGeometry(new s(t,n,r,i,o,a,c,l)),u.mergeVertices(),u}return i(t,e),t}(o.Geometry3D);t.CylinderGeometry3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(75),a=function(e){function t(t,n,r,i,o,a,s){var c=e.call(this,0,t,n,r,i,o,a,s)||this;return c.type="ConeGeometry",c.parameters={radius:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},c}return i(t,e),t}(o.CylinderGeometry3D);t.ConeGeometry=a;var s=function(e){function t(t,n,r,i,o,a,s){var c=e.call(this,0,t,n,r,i,o,a,s)||this;return c.type="ConeBufferGeometry",c.parameters={radius:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},c}return i(t,e),t}(o.CylinderBufferGeometry3D);t.ConeBufferGeometry=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),a=n(47),s=n(45),c=function(e){function t(t,n,r,i){var o=e.call(this)||this;o.type="PlaneBufferGeometry3D",o.parameters={width:t,height:n,widthSegments:r,heightSegments:i};var a,c,l=(t=t||1)/2,u=(n=n||1)/2,p=Math.floor(r)||1,d=Math.floor(i)||1,h=p+1,f=d+1,m=t/p,g=n/d,y=[],v=[],x=[],M=[];for(c=0;c<f;c++){var b=c*g-u;for(a=0;a<h;a++){var w=a*m-l;v.push(w,-b,0),x.push(0,0,1),M.push(a/p),M.push(1-c/d)}}for(c=0;c<d;c++)for(a=0;a<p;a++){var A=a+h*c,_=a+h*(c+1),E=a+1+h*(c+1),D=a+1+h*c;y.push(A,_,D),y.push(_,E,D)}return o.setIndex(y),o.addAttribute("position",new s.Float32BufferAttribute(v,3)),o.addAttribute("normal",new s.Float32BufferAttribute(x,3)),o.addAttribute("uv",new s.Float32BufferAttribute(M,2)),o}return i(t,e),t}(a.BufferGeometry3D);t.PlaneBufferGeometry3D=c;var l=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.type="PlaneGeometry3D",o.parameters={width:t,height:n,widthSegments:r,heightSegments:i},o.fromBufferGeometry(new c(t,n,r,i)),o.mergeVertices(),o}return i(t,e),t}(o.Geometry3D);t.PlaneGeometry3D=l;var u=new c(1,1,1,1);t.textPlane=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(66),a=n(45),s=n(67),c=function(e){function t(t,n,r,i,o,c,l){var u=e.call(this)||this;u.type="SphereBufferGeometry3D",u.parameters={radius:t,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:c,thetaLength:l},t=t||1,n=Math.max(3,Math.floor(n)||8),r=Math.max(2,Math.floor(r)||6),i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI;var p,d,h=(c=void 0!==c?c:0)+(l=void 0!==l?l:Math.PI),f=0,m=[],g=new s.Vector33D,y=new s.Vector33D,v=[],x=[],M=[],b=[];for(d=0;d<=r;d++){var w=[],A=d/r;for(p=0;p<=n;p++){var _=p/n;g.x=-t*Math.cos(i+_*o)*Math.sin(c+A*l),g.y=t*Math.cos(c+A*l),g.z=t*Math.sin(i+_*o)*Math.sin(c+A*l),x.push(g.x,g.y,g.z),y.set(g.x,g.y,g.z).normalize(),M.push(y.x,y.y,y.z),b.push(_,1-A),w.push(f++)}m.push(w)}for(d=0;d<r;d++)for(p=0;p<n;p++){var E=m[d][p+1],D=m[d][p],S=m[d+1][p],P=m[d+1][p+1];(0!==d||c>0)&&v.push(E,D,P),(d!==r-1||h<Math.PI)&&v.push(D,S,P)}return u.setIndex(v),u.addAttribute("position",new a.Float32BufferAttribute(x,3)),u.addAttribute("normal",new a.Float32BufferAttribute(M,3)),u.addAttribute("uv",new a.Float32BufferAttribute(b,2)),u}return i(t,e),t}(o.BufferGeometry3D);t.SphereBufferGeometry3D=c;var l=function(e){function t(t,n,r,i,o,a,s){var l=e.call(this)||this;return l.type="SphereGeometry3D",l.parameters={radius:t,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},l.fromBufferGeometry(new c(t,n,r,i,o,a,s)),l.mergeVertices(),l}return i(t,e),t}(o.Geometry3D);t.SphereGeometry3D=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(66),a=function(e){function t(t,n,r,i){var a=e.call(this)||this;a.type="CircleLineBufferGeometry3D",a.parameters={radius:t,segments:n,thetaStart:r,thetaLength:i},t=t||1,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;for(var s=[],c=0;c<=n;++c){var l=r+c/n*i;s.push(t*Math.cos(l),t*Math.sin(l),0)}return a.addAttribute("position",new o.Float32BufferAttribute(s,3)),a}return i(t,e),t}(o.BufferGeometry3D);t.CircleLineBufferGeometry3D=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,a,s=n(66),c=n(67),l=n(81),u=n(102),p=n(75),d=function(e){function t(t,n,r,i,d,h){var f,m,g=e.call(this)||this;return g.setDirection=(m=new c.Vector33D,function(e){e.y>.99999?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(m.set(e.z,0,-e.x).normalize(),f=Math.acos(e.y),this.quaternion.setFromAxisAngle(m,f))}),g.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},g.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},void 0===i&&(i=16776960),void 0===r&&(r=1),void 0===d&&(d=.2*r),void 0===h&&(h=.2*d),void 0===o&&((o=new s.BufferGeometry3D).addAttribute("position",new s.Float32BufferAttribute([0,0,0,0,1,0],3)),(a=new p.CylinderBufferGeometry3D(0,.5,1,5,1)).translate(0,-.5,0)),g.position.copy(n),g.line=new u.Line3D(o,new l.LineBasicMaterial3D({color:i})),g.line.matrixAutoUpdate=!1,g.add(g.line),g.line.material.fog=!1,g.cone=new u.Mesh3D(a,new l.MeshBasicMaterial3D({color:i})),g.cone.matrixAutoUpdate=!1,g.cone.material.fog=!1,g.add(g.cone),g.setDirection(t),g.setLength(r,d,h),g}return i(t,e),t}(s.Object3D);t.ArrowHelper3D=d},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(82)),r(n(84)),r(n(85)),r(n(86)),r(n(87)),r(n(88)),r(n(89)),r(n(90)),r(n(91)),r(n(92)),r(n(93)),r(n(94)),r(n(95)),r(n(96)),r(n(97)),r(n(99)),r(n(100)),r(n(83)),r(n(101))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(46),s=function(e){function t(t){var n=e.call(this)||this;return n.isLineBasicMaterial=!0,n.type="LineBasicMaterial3D",n.color=new a.Color3D(16777215),n.linewidth=1,n.linecap="round",n.linejoin="round",n.lights=!1,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},t}(o.Material3D);t.LineBasicMaterial3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=n(37),s=n(30),c=function(e){function t(){var n=e.call(this)||this;return n.fog=!0,n.lights=!0,n.blending=a.Constant.NormalBlending,n.side=a.Constant.FrontSide,n.flatShading=!1,n.vertexColors=a.Constant.NoColors,n.opacity=1,n.transparent=!1,n.blendSrc=a.Constant.SrcAlphaFactor,n.blendDst=a.Constant.OneMinusSrcAlphaFactor,n.blendEquation=a.Constant.AddEquation,n.blendSrcAlpha=null,n.blendDstAlpha=null,n.blendEquationAlpha=null,n.depthFunc=a.Constant.LessEqualDepth,n.depthTest=!0,n.depthWrite=!0,n.clippingPlanes=null,n.clipIntersection=!1,n.clipShadows=!1,n.shadowSide=null,n.colorWrite=!0,n.precision=null,n.polygonOffset=!1,n.polygonOffsetFactor=0,n.polygonOffsetUnits=0,n.dithering=!1,n.alphaTest=0,n.premultipliedAlpha=!1,n.overdraw=0,n.visible=!0,n.userData={},n.needsUpdate=!0,n.isMaterial=!0,n.uuid=s._Math.generateUUID(),n.id=t.materialId++,n.name="",n.type="Material3D",n.fog=!0,n.lights=!0,n.blending=a.Constant.NormalBlending,n.side=a.Constant.FrontSide,n.flatShading=!1,n.vertexColors=a.Constant.NoColors,n.opacity=1,n.transparent=!1,n.blendSrc=a.Constant.SrcAlphaFactor,n.blendDst=a.Constant.OneMinusSrcAlphaFactor,n.blendEquation=a.Constant.AddEquation,n.blendSrcAlpha=null,n.blendDstAlpha=null,n.blendEquationAlpha=null,n.depthFunc=a.Constant.LessEqualDepth,n.depthTest=!0,n.depthWrite=!0,n.clippingPlanes=null,n.clipIntersection=!1,n.clipShadows=!1,n.shadowSide=null,n.colorWrite=!0,n.precision=null,n.polygonOffset=!1,n.polygonOffsetFactor=0,n.polygonOffsetUnits=0,n.dithering=!1,n.alphaTest=0,n.premultipliedAlpha=!1,n.overdraw=0,n.visible=!0,n.userData={},n.needsUpdate=!0,n}return i(t,e),t.prototype.onBeforeCompile=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.setValues=function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]="overdraw"===t?Number(n):n:console.warn("spdengine-3D."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("spdengine-3D."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===a.Constant.FlatShading;else console.warn("spdengine-3D.Material3D: '"+t+"' parameter is undefined.")}},t.prototype.clone=function(){return(new this.constructor).copy(this)},t.prototype.copy=function(e){this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},t.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})},t.materialId=0,t}(o.EventDispatcher3D);t.Material3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(82),a=function(e){function t(t){var n=e.call(this)||this;return n.isLineDashedMaterial=!0,n.type="LineDashedMaterial3D",n.scale=1,n.dashSize=3,n.gapSize=1,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.LineBasicMaterial3D.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this},t}(o.LineBasicMaterial3D);t.LineDashedMaterial3D=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(){}}();t.MaterialProperties3D=r;var i=function(){return function(){}}();t.Shader=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(46),s=n(37),c=function(e){function t(t){var n=e.call(this)||this;return n.isMeshBasicMaterial=!0,n.type="MeshBasicMaterial3D",n.color=new a.Color3D(16777215),n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.specularMap=null,n.alphaMap=null,n.envMap=null,n.combine=s.Constant.MultiplyOperation,n.reflectivity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.skinning=!1,n.morphTargets=!1,n.lights=!1,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},t}(o.Material3D);t.MeshBasicMaterial3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(37),s=function(e){function t(t){var n=e.call(this)||this;return n.isMeshDepthMaterial=!0,n.type="MeshDepthMaterial3D",n.depthPacking=a.Constant.BasicDepthPacking,n.skinning=!1,n.morphTargets=!1,n.map=null,n.alphaMap=null,n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.wireframe=!1,n.wireframeLinewidth=1,n.fog=!1,n.lights=!1,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},t}(o.Material3D);t.MeshDepthMaterial3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(31),s=function(e){function t(t){var n=e.call(this)||this;return n.isMeshDistanceMaterial=!0,n.type="MeshDistanceMaterial3D",n.referencePosition=new a.Vector33D,n.nearDistance=1,n.farDistance=1e3,n.skinning=!1,n.morphTargets=!1,n.map=null,n.alphaMap=null,n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.fog=!1,n.lights=!1,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},t}(o.Material3D);t.MeshDistanceMaterial3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(46),s=n(37),c=function(e){function t(t){var n=e.call(this)||this;return n.isMeshLambertMaterial=!0,n.type="MeshLambertMaterial3D",n.color=new a.Color3D(16777215),n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.emissive=new a.Color3D(0),n.emissiveIntensity=1,n.emissiveMap=null,n.specularMap=null,n.alphaMap=null,n.envMap=null,n.combine=s.Constant.MultiplyOperation,n.reflectivity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.skinning=!1,n.morphTargets=!1,n.morphNormals=!1,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},t}(o.Material3D);t.MeshLambertMaterial3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(42),s=n(37),c=function(e){function t(t){var n=e.call(this)||this;return n.isMeshNormalMaterial=!0,n.type="MeshNormalMaterial3D",n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=s.Constant.TangentSpaceNormalMap,n.normalScale=new a.Vector23D(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.wireframe=!1,n.wireframeLinewidth=1,n.fog=!1,n.lights=!1,n.skinning=!1,n.morphTargets=!1,n.morphNormals=!1,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},t}(o.Material3D);t.MeshNormalMaterial3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(46),s=n(42),c=n(37),l=function(e){function t(t){var n=e.call(this)||this;return n.normalMapType=c.Constant.TangentSpaceNormalMap,n.combine=c.Constant.MultiplyOperation,n.isMeshPhongMaterial=!0,n.type="MeshPhongMaterial3D",n.color=new a.Color3D(16777215),n.specular=new a.Color3D(1118481),n.shininess=30,n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.emissive=new a.Color3D(0),n.emissiveIntensity=1,n.emissiveMap=null,n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=c.Constant.TangentSpaceNormalMap,n.normalScale=new s.Vector23D(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=null,n.alphaMap=null,n.envMap=null,n.combine=c.Constant.MultiplyOperation,n.reflectivity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.skinning=!1,n.morphTargets=!1,n.morphNormals=!1,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},t}(o.Material3D);t.MeshPhongMaterial3D=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(93),a=function(e){function t(t){var n=e.call(this)||this;return n.isMeshPhysicalMaterial=!0,n.defines={PHYSICAL:""},n.type="MeshPhysicalMaterial3D",n.reflectivity=.5,n.clearCoat=0,n.clearCoatRoughness=0,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.MeshStandardMaterial3D.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},t}(o.MeshStandardMaterial3D);t.MeshPhysicalMaterial3D=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(42),s=n(46),c=n(37),l=function(e){function t(t){var n=e.call(this)||this;return n.isMeshStandardMaterial=!0,n.defines={STANDARD:""},n.type="MeshStandardMaterial3D",n.color=new s.Color3D(16777215),n.roughness=.5,n.metalness=.5,n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.emissive=new s.Color3D(0),n.emissiveIntensity=1,n.emissiveMap=null,n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=c.Constant.TangentSpaceNormalMap,n.normalScale=new a.Vector23D(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.roughnessMap=null,n.metalnessMap=null,n.alphaMap=null,n.envMap=null,n.envMapIntensity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.skinning=!1,n.morphTargets=!1,n.morphNormals=!1,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},t}(o.Material3D);t.MeshStandardMaterial3D=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(91),a=function(e){function t(t){var n=e.call(this)||this;return n.isMeshToonMaterial=!0,n.defines={TOON:""},n.type="MeshToonMaterial3D",n.gradientMap=null,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.MeshPhongMaterial3D.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},t}(o.MeshPhongMaterial3D);t.MeshToonMaterial3D=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(46),s=function(e){function t(t){var n=e.call(this)||this;return n.isPointsMaterial=!0,n.type="PointsMaterial3D",n.color=new a.Color3D(16777215),n.map=null,n.size=1,n.sizeAttenuation=!0,n.morphTargets=!1,n.lights=!1,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},t}(o.Material3D);t.PointsMaterial3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n.isRawShaderMaterial=!0,n.type="RawShaderMaterial3D",n}return i(t,e),t}(n(97).ShaderMaterial3D);t.RawShaderMaterial3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(98),s=function(e){function t(t){var n=e.call(this)||this;return n.defines={},n.uniforms={},n.isShaderMaterials=!0,n.type="ShaderMaterial3D",n.defines={},n.uniforms={},n.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",n.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",n.linewidth=1,n.wireframe=!1,n.wireframeLinewidth=1,n.fog=!1,n.lights=!1,n.clipping=!1,n.skinning=!1,n.morphTargets=!1,n.morphNormals=!1,n.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},n.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},n.index0AttributeName=void 0,n.uniformsNeedUpdate=!1,void 0!==t&&n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=a.UniformsUtils.clone(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},t}(o.Material3D);t.ShaderMaterial3D=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UniformsUtils={merge:function(e){for(var t={},n=0;n<e.length;n++){var r=this.clone(e[n]);for(var i in r)t[i]=r[i]}return t},clone:function(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(46),s=function(e){function t(t){var n=e.call(this)||this;return n.isShadowMaterial=!0,n.type="ShadowMaterial3D",n.color=new a.Color3D(0),n.transparent=!0,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.color.copy(e.color),this},t}(o.Material3D);t.ShadowMaterial3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=n(67),s=function(e){function t(t){var n=e.call(this)||this;return n.isSpriteMaterial=!0,n.type="SpriteMaterial3D",n.color=new a.Color3D(16777215),n.map=null,n.rotation=0,n.sizeAttenuation=!0,n.lights=!1,n.transparent=!0,n.setValues(t),n}return i(t,e),t.prototype.copy=function(e){return o.Material3D.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},t}(o.Material3D);t.SpriteMaterial3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(91),a=function(e){function t(t,n){var r=e.call(this)||this;return r.handler=t,r.setValues(n),r}return i(t,e),t.prototype.copy=function(e){return o.MeshPhongMaterial3D.prototype.copy.call(this,e),this.handler=e.handler,this.fontHeight=e.fontHeight,this.fontName=e.fontName,this.height=e.height,this.horizontalAlignment=e.horizontalAlignment,this.isBold=e.isBold,this.isItalic=e.isItalic,this.isTransparent=e.isTransparent,this.isUnderlined=e.isUnderlined,this.textSize=e.textSize,this.verticalAlignment=e.verticalAlignment,this.isTextMaterial=e.isTextMaterial,this},t}(o.MeshPhongMaterial3D);t.GUMBaseMaterial3D=a},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(103)),r(n(104)),r(n(105)),r(n(106)),r(n(107)),r(n(108)),r(n(109)),r(n(110)),r(n(111)),r(n(112)),r(n(113)),r(n(114)),r(n(115)),r(n(125))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){var t=e.call(this)||this;return t.isBone=!0,t.type="Bone3D",t}return i(t,e),t}(n(27).Object3D);t.Bone3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),a=function(e){function t(){var t=e.call(this)||this;return t.isGroup=!0,o.Object3D.call(t),t.type="Group3D",t}return i(t,e),t}(o.Object3D);t.Group3D=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),a=n(47),s=n(82),c=n(31),l=n(45),u=n(33),p=n(62),d=n(49),h=function(e){function t(t,n){var r=e.call(this)||this;return r.isLine=!0,r.type="Line3D",r.geometry=void 0!==t?t:new a.BufferGeometry3D,r.material=void 0!==n?n:new s.LineBasicMaterial3D({color:16777215*Math.random()}),r}return i(t,e),t.prototype.computeLineDistances=function(){var e=this.geometry,t=c.Vector33D.get(),n=c.Vector33D.get();if(e.isBufferGeometry)if(null===e.index){for(var r=e.attributes.get("position"),i=[0],o=1,a=r.count;o<a;o++)t.fromBufferAttribute(r,o-1),n.fromBufferAttribute(r,o),i[o]=i[o-1],i[o]+=t.distanceTo(n);e.addAttribute("lineDistance",new l.Float32BufferAttribute(i,1))}else console.warn("spdengine-D3.Line3D.computeLineDistances(): Computation only possible with non-indexed BufferGeometry3D.");else if(e.isGeometry){var s=e.vertices;(i=e.lineDistances)[0]=0;for(o=1,a=s.length;o<a;o++)i[o]=i[o-1],i[o]+=s[o-1].distanceTo(s[o])}return c.Vector33D.back(t),c.Vector33D.back(n),this},t.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},t.prototype.raycast=function(e,t){var n=e.linePrecision,r=n*n,i=this.geometry,o=this.matrixWorld;null===i.boundingSphere&&i.computeBoundingSphere();var a=d.Sphere3D.get().copy(i.boundingSphere);if(a.applyMatrix4(o),!1!==e.ray.intersectsSphere(a)){var s=u.Matrix43D.get().getInverse(o),l=p.Ray3D.get().copy(e.ray).applyMatrix4(s),h=new c.Vector33D,f=new c.Vector33D,m=new c.Vector33D,g=new c.Vector33D,y=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){var v=i.index,x=i.attributes.get("position").array;if(null!==v)for(var M=v.array,b=0,w=M.length-1;b<w;b+=y){var A=M[b],_=M[b+1];if(h.fromArray(x,3*A),f.fromArray(x,3*_),!(l.distanceSqToSegment(h,f,g,m)>r))g.applyMatrix4(this.matrixWorld),(S=e.ray.origin.distanceTo(g))<e.near||S>e.far||t.push({distance:S,point:m.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}else for(b=0,w=x.length/3-1;b<w;b+=y){if(h.fromArray(x,3*b),f.fromArray(x,3*b+3),!(l.distanceSqToSegment(h,f,g,m)>r))g.applyMatrix4(this.matrixWorld),(S=e.ray.origin.distanceTo(g))<e.near||S>e.far||t.push({distance:S,point:m.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else if(i.isGeometry){var E=i.vertices,D=E.length;for(b=0;b<D-1;b+=y){var S;if(!(l.distanceSqToSegment(E[b],E[b+1],g,m)>r))g.applyMatrix4(this.matrixWorld),(S=e.ray.origin.distanceTo(g))<e.near||S>e.far||t.push({distance:S,point:m.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}d.Sphere3D.back(a),u.Matrix43D.back(s),p.Ray3D.back(l)}},t}(o.Object3D);t.Line3D=h},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.isLineLoop=!0,r.type="LineLoop3D",r}return i(t,e),t}(n(105).Line3D);t.LineLoop3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(105),a=n(31),s=n(45),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.isLineSegments=!0,r.type="LineSegments3D",r}return i(t,e),t.prototype.computeLineDistances=function(){var e=this.geometry,t=a.Vector33D.get(),n=a.Vector33D.get();if(e.isBufferGeometry)if(null===e.index){for(var r=e.attributes.get("position"),i=[],o=0,c=r.count;o<c;o+=2)t.fromBufferAttribute(r,o),n.fromBufferAttribute(r,o+1),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+t.distanceTo(n);e.addAttribute("lineDistance",new s.Float32BufferAttribute(i,1))}else console.warn("spdengine-D3.LineSegments3D.computeLineDistances(): Computation only possible with non-indexed BufferGeometry3D.");else if(e.isGeometry){var l=e.vertices;for(i=e.lineDistances,o=0,c=l.length;o<c;o+=2)t.copy(l[o]),n.copy(l[o+1]),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+t.distanceTo(n)}return a.Vector33D.back(t),a.Vector33D.back(n),this},t}(o.Line3D);t.LineSegments3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),a=n(31),s=function(e){function t(){var t=e.call(this)||this;return t.type="LOD3D",Object.defineProperties(t,{levels:{enumerable:!0,value:[]}}),t}return i(t,e),t.prototype.copy=function(e){o.Object3D.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},t.prototype.addLevel=function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},t.prototype.getObjectForDistance=function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},t.prototype.raycast=function(e,t){var n=a.Vector33D.get().setFromMatrixPosition(this.matrixWorld),r=e.ray.origin.distanceTo(n);this.getObjectForDistance(r).raycast(e,t),a.Vector33D.back(n)},t.prototype.update=function(e){var t=this.levels;if(t.length>1){var n=a.Vector33D.get(),r=a.Vector33D.get();n.setFromMatrixPosition(e.matrixWorld),r.setFromMatrixPosition(this.matrixWorld);var i=n.distanceTo(r);t[0].object.visible=!0;for(var o=1,s=t.length;o<s&&i>=t[o].distance;o++)t[o-1].object.visible=!1,t[o].object.visible=!0;for(;o<s;o++)t[o].object.visible=!1;a.Vector33D.back(n),a.Vector33D.back(r)}},t}(o.Object3D);t.LOD3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),a=n(47),s=n(86),c=n(37),l=n(33),u=n(62),p=n(49),d=n(31),h=n(42),f=n(74),m=n(51),g=function(e){function t(t,n){var r=e.call(this)||this;return r.isMesh=!0,r.type="Mesh3D",r.geometry=void 0!==t?t:new a.BufferGeometry3D,r.material=void 0!==n?n:new s.MeshBasicMaterial3D({color:16777215*Math.random()}),r.drawMode=c.Constant.TrianglesDrawMode,r.updateMorphTargets(),r}return i(t,e),t.prototype.setDrawMode=function(e){this.drawMode=e},t.prototype.copy=function(e){return o.Object3D.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},t.prototype.updateMorphTargets=function(){var e,t,n,r=this.geometry;if(r instanceof a.BufferGeometry3D){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var s=i.get(o[0]);if(void 0!==s)for(this.morphTargetInfluences=[],this.morphTargetDictionary=new Map,e=0,t=s.length;e<t;e++)n=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary.set(n,e)}}else{var c=r.morphTargets;if(void 0!==c&&c.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary=new Map,e=0,t=c.length;e<t;e++)n=c[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary.set(n,e)}},t.prototype.raycast=function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){null===n.boundingSphere&&n.computeBoundingSphere();var o=p.Sphere3D.get().copy(n.boundingSphere);if(o.applyMatrix4(i),!1!==e.ray.intersectsSphere(o)){var a,s=l.Matrix43D.get().getInverse(i),c=u.Ray3D.get().copy(e.ray).applyMatrix4(s);if(null===n.boundingBox||!1!==c.intersectsBox(n.boundingBox))if(p.Sphere3D.back(o),l.Matrix43D.back(s),u.Ray3D.back(c),n.isBufferGeometry){var f=void 0,m=void 0,g=void 0,y=n.index,v=n.attributes.get("position"),x=n.attributes.get("uv"),M=n.groups,b=n.drawRange,w=void 0,A=void 0,_=void 0,E=void 0,D=void 0,S=void 0;if(null!==y)if(Array.isArray(r))for(w=0,_=M.length;w<_;w++)for(S=r[(D=M[w]).materialIndex],A=Math.max(D.start,b.start),E=Math.min(D.start+D.count,b.start+b.count);A<E;A+=3)f=y.getX(A),m=y.getX(A+1),g=y.getX(A+2),(a=this.checkBufferGeometryIntersection(this,S,e,c,v,x,f,m,g))&&(a.faceIndex=Math.floor(A/3),t.push(a));else for(w=Math.max(0,b.start),_=Math.min(y.count,b.start+b.count);w<_;w+=3)f=y.getX(w),m=y.getX(w+1),g=y.getX(w+2),(a=this.checkBufferGeometryIntersection(this,r,e,c,v,x,f,m,g))&&(a.faceIndex=Math.floor(w/3),t.push(a));else if(void 0!==v)if(Array.isArray(r))for(w=0,_=M.length;w<_;w++)for(S=r[(D=M[w]).materialIndex],A=Math.max(D.start,b.start),E=Math.min(D.start+D.count,b.start+b.count);A<E;A+=3)f=A,m=A+1,g=A+2,(a=this.checkBufferGeometryIntersection(this,S,e,c,v,x,f,m,g))&&(a.faceIndex=Math.floor(A/3),t.push(a));else for(w=Math.max(0,b.start),_=Math.min(v.count,b.start+b.count);w<_;w+=3)f=w,m=w+1,g=w+2,(a=this.checkBufferGeometryIntersection(this,r,e,c,v,x,f,m,g))&&(a.faceIndex=Math.floor(w/3),t.push(a))}else if(n.isGeometry){var P=d.Vector33D.get(),T=d.Vector33D.get(),C=d.Vector33D.get(),R=d.Vector33D.get(),I=d.Vector33D.get(),O=d.Vector33D.get(),L=d.Vector33D.get(),k=h.Vector23D.get(),B=h.Vector23D.get(),U=h.Vector23D.get(),N=void 0,F=void 0,j=void 0,z=Array.isArray(r),V=n.vertices,H=n.faces,G=void 0,W=n.faceVertexUvs[0];W.length>0&&(G=W);for(var X=0,Y=H.length;X<Y;X++){var Q=H[X],q=z?r[Q.materialIndex]:r;if(void 0!==q){if(N=V[Q.a],F=V[Q.b],j=V[Q.c],!0===q.morphTargets){var K=n.morphTargets,Z=this.morphTargetInfluences;P.set(0,0,0),T.set(0,0,0),C.set(0,0,0);for(var J=0,$=K.length;J<$;J++){var ee=Z[J];if(0!==ee){var te=K[J].vertices;P.addScaledVector(R.subVectors(te[Q.a],N),ee),T.addScaledVector(I.subVectors(te[Q.b],F),ee),C.addScaledVector(O.subVectors(te[Q.c],j),ee)}}P.add(N),T.add(F),C.add(j),N=P,F=T,j=C}if(a=this.checkIntersection(this,q,e,c,N,F,j,L)){if(G&&G[X]){var ne=G[X];k.copy(ne[0]),B.copy(ne[1]),U.copy(ne[2]),a.uv=this.uvIntersection(L,N,F,j,k,B,U)}a.face=Q,a.faceIndex=X,t.push(a)}}}d.Vector33D.back(R),d.Vector33D.back(I),d.Vector33D.back(O),d.Vector33D.back(P),d.Vector33D.back(L),d.Vector33D.back(T),d.Vector33D.back(C),h.Vector23D.back(k),h.Vector23D.back(B),h.Vector23D.back(U)}}}},t.prototype.uvIntersection=function(e,t,n,r,i,o,a){var s=d.Vector33D.get();return f.Triangle3D.getBarycoord(e,t,n,r,s),i.multiplyScalar(s.x),o.multiplyScalar(s.y),a.multiplyScalar(s.z),d.Vector33D.back(s),i.add(o).add(a),i.clone()},t.prototype.checkIntersection=function(e,t,n,r,i,o,a,s){var l=d.Vector33D.get();if(null===(t.side===c.Constant.BackSide?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==c.Constant.DoubleSide,s)))return null;l.copy(s),l.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(l);if(u<n.near||u>n.far)return null;var p={distance:u,point:l.clone(),object:e};return d.Vector33D.back(l),p},t.prototype.checkBufferGeometryIntersection=function(e,t,n,r,i,o,a,s,c){var l=d.Vector33D.get(),u=d.Vector33D.get(),p=d.Vector33D.get(),g=d.Vector33D.get(),y=h.Vector23D.get(),v=h.Vector23D.get(),x=h.Vector23D.get();l.fromBufferAttribute(i,a),u.fromBufferAttribute(i,s),p.fromBufferAttribute(i,c);var M=this.checkIntersection(e,t,n,r,l,u,p,g);if(M){o&&(y.fromBufferAttribute(o,a),v.fromBufferAttribute(o,s),x.fromBufferAttribute(o,c),M.uv=this.uvIntersection(g,l,u,p,y,v,x));var b=new m.Face3D(a,s,c);f.Triangle3D.getNormal(l,u,p,b.normal),M.face=b}return d.Vector33D.back(l),d.Vector33D.back(u),d.Vector33D.back(p),h.Vector23D.back(y),h.Vector23D.back(v),d.Vector33D.back(g),h.Vector23D.back(x),M},t.prototype.calcArea=function(){var e,t=this.geometry,n=this.matrixWorld;return t&&t.isBufferGeometry&&t.attributes&&t.attributes.has("position")&&n?(e=t.attributes.get("position"),this.calc(function(t,r,i){var o=d.Vector33D.get().fromBufferAttribute(e,t).applyMatrix4(n),a=d.Vector33D.get().fromBufferAttribute(e,r).applyMatrix4(n),s=d.Vector33D.get().fromBufferAttribute(e,i).applyMatrix4(n),c=f.Triangle3D.get().set(o,a,s),l=c.getArea();return f.Triangle3D.back(c),d.Vector33D.back(s),d.Vector33D.back(a),d.Vector33D.back(o),l})):0},t.prototype.calcVolume=function(){var e,t=this.geometry,n=this.matrixWorld;return t&&t.isBufferGeometry&&t.attributes&&t.attributes.has("position")&&n?(e=t.attributes.get("position"),this.calc(function(t,r,i){var o=d.Vector33D.get().fromBufferAttribute(e,t).applyMatrix4(n),a=d.Vector33D.get().fromBufferAttribute(e,r).applyMatrix4(n),s=d.Vector33D.get().fromBufferAttribute(e,i).applyMatrix4(n),c=o.cross(a).dot(s)/6;return d.Vector33D.back(s),d.Vector33D.back(a),d.Vector33D.back(o),c})):0},t.prototype.calc=function(e){var t=this.geometry,n=this.material,r=0;if(t.isBufferGeometry){var i=t.index,o=t.attributes.get("position"),a=t.groups,s=t.drawRange;if(null!==i)if(Array.isArray(n))for(var c=0,l=a.length;c<l;c++)for(var u=a[c],p=Math.max(u.start,s.start),d=Math.min(u.start+u.count,s.start+s.count);p<d;p+=3)r+=e(i.getX(p),i.getX(p+1),i.getX(p+2));else for(c=Math.max(0,s.start),l=Math.min(i.count,s.start+s.count);c<l;c+=3)r+=e(i.getX(c),i.getX(c+1),i.getX(c+2));else if(void 0!==o)if(Array.isArray(n))for(c=0,l=a.length;c<l;c++)for(u=a[c],p=Math.max(u.start,s.start),d=Math.min(u.start+u.count,s.start+s.count);p<d;p+=3)r+=e(p,p+1,p+2);else for(c=Math.max(0,s.start),l=Math.min(o.count,s.start+s.count);c<l;c+=3)r+=e(c,c+1,c+2)}return r},t.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},t.prototype.dispose=function(){this.geometry.dispatchEvent({type:"dispose"}),this.material.dispatchEvent({type:"dispose"}),this.children.map(function(e){e&&e.dispose?e.dispose():e.dispatchEvent({type:"dispose"})}),this.children.length=0,this.geometry=null,this.material=null},t}(o.Object3D);t.Mesh3D=g},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),a=n(47),s=n(95),c=n(33),l=n(62),u=n(49),p=n(31),d=function(e){function t(t,n){var r=e.call(this)||this;return r.isPoints=!0,r.type="Points3D",r.geometry=void 0!==t?t:new a.BufferGeometry3D,r.material=void 0!==n?n:new s.PointsMaterial3D({color:16777215*Math.random()}),r}return i(t,e),t.prototype.raycast=function(e,t){var n=this,r=this.geometry,i=this.matrixWorld,o=e.params.Points3D.threshold;null===r.boundingSphere&&r.computeBoundingSphere();var a=u.Sphere3D.get().copy(r.boundingSphere);if(a.applyMatrix4(i),a.radius+=o,!1!==e.ray.intersectsSphere(a)){var s=c.Matrix43D.get().getInverse(i),d=l.Ray3D.get().copy(e.ray).applyMatrix4(s),h=o/((this.scale.x+this.scale.y+this.scale.z)/3),f=h*h,m=new p.Vector33D,g=new p.Vector33D;if(r.isBufferGeometry){var y=r.index,v=r.attributes.get("position").array;if(null!==y)for(var x=y.array,M=0,b=x.length;M<b;M++){var w=x[M];m.fromArray(v,3*w),E(m,w)}else{M=0;for(var A=v.length/3;M<A;M++)m.fromArray(v,3*M),E(m,M)}}else{var _=r.vertices;for(M=0,A=_.length;M<A;M++)E(_[M],M)}u.Sphere3D.back(a),c.Matrix43D.back(s),l.Ray3D.back(d)}function E(r,o){var a=d.distanceSqToPoint(r);if(a<f){d.closestPointToPoint(r,g),g.applyMatrix4(i);var s=e.ray.origin.distanceTo(g);if(s<e.near||s>e.far)return;t.push({distance:s,distanceToRay:Math.sqrt(a),point:g.clone(),index:o,face:null,object:n})}}},t.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},t}(o.Object3D);t.Points3D=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(103),i=n(33),o=function(){function e(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("spdengine-3D.Skeleton3D boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new i.Matrix43D)}}return e.prototype.calculateInverses=function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new i.Matrix43D;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},e.prototype.pose=function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent instanceof r.Bone3D?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},e.prototype.update=function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,o=i.Matrix43D.get().identity(),a=i.Matrix43D.get(),s=0,c=e.length;s<c;s++){var l=e[s]?e[s].matrixWorld:o;a.multiplyMatrices(l,t[s]),a.toArray(n,16*s)}void 0!==r&&(r.needsUpdate=!0),i.Matrix43D.back(o),i.Matrix43D.back(a)},e.prototype.clone=function(){return new e(this.bones,this.boneInverses)},e.prototype.getBoneByName=function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}},e}();t.Skeleton3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(47),a=n(109),s=n(33),c=n(111),l=n(103),u=n(50),p=n(40),d=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.isSkinnedMesh=!0,r.type="SkinnedMesh3D",r.bindMode="attached",r.bindMatrix=new s.Matrix43D,r.bindMatrixInverse=new s.Matrix43D;var i=r.initBones(),o=new c.Skeleton3D(i);return r.bind(o,r.matrixWorld),r.normalizeSkinWeights(),r}return i(t,e),t.prototype.initBones=function(){var e,t,n,r,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,r=this.geometry.bones.length;n<r;n++)t=this.geometry.bones[n],e=new l.Bone3D,i.push(e),e.name=t.name,e.position.fromArray(t.pos),e.quaternion.fromArray(t.rotq),void 0!==t.scl&&e.scale.fromArray(t.scl);for(n=0,r=this.geometry.bones.length;n<r;n++)-1!==(t=this.geometry.bones[n]).parent&&null!==t.parent&&void 0!==i[t.parent]?i[t.parent].add(i[n]):this.add(i[n])}return this.updateMatrixWorld(!0),i},t.prototype.bind=function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},t.prototype.pose=function(){this.skeleton.pose()},t.prototype.normalizeSkinWeights=function(){var e,t;if(this.geometry&&this.geometry instanceof u.Geometry3D)for(t=0;t<this.geometry.skinWeights.length;t++){var n=this.geometry.skinWeights[t];(e=1/n.manhattanLength())!==1/0?n.multiplyScalar(e):n.set(1,0,0,0)}else if(this.geometry&&this.geometry instanceof o.BufferGeometry3D){var r=new p.Vector43D,i=this.geometry.attributes.get("skinWeight");for(t=0;t<i.count;t++)r.x=i.getX(t),r.y=i.getY(t),r.z=i.getZ(t),r.w=i.getW(t),(e=1/r.manhattanLength())!==1/0?r.multiplyScalar(e):r.set(1,0,0,0),i.setXYZW(t,r.x,r.y,r.z,r.w)}},t.prototype.updateMatrixWorld=function(t){e.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("spdengine-D3.SkinnedMesh3D: Unrecognized bindMode: "+this.bindMode)},t.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},t}(a.Mesh3D);t.SkinnedMesh3D=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),a=n(31),s=n(42),c=n(33),l=n(100),u=n(47),p=n(59),d=n(60),h=function(e){function t(n){var r=e.call(this)||this;if(r.isSprite=!0,r.type="Sprite3D",void 0===t.geometry){t.geometry=new u.BufferGeometry3D;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new p.InterleavedBuffer3D(i,5);t.geometry.setIndex([0,1,2,0,2,3]),t.geometry.addAttribute("position",new d.InterleavedBufferAttribute3D(o,3,0,!1)),t.geometry.addAttribute("uv",new d.InterleavedBufferAttribute3D(o,2,3,!1))}return r.geometry=t.geometry,r.material=void 0!==n?n:new l.SpriteMaterial3D,r.center=new s.Vector23D(.5,.5),r}return i(t,e),t.prototype.raycast=function(e,t){var n=a.Vector33D.get(),r=a.Vector33D.get(),i=a.Vector33D.get(),o=a.Vector33D.get(),s=a.Vector33D.get(),l=a.Vector33D.get();r.setFromMatrixScale(this.matrixWorld);var u=c.Matrix43D.get().getInverse(this.modelViewMatrix).premultiply(this.matrixWorld);i.setFromMatrixPosition(this.modelViewMatrix);var p,d,h=this.material.rotation;0!==h&&(d=Math.cos(h),p=Math.sin(h));var f=this.center;this.transformVertex(o.set(-.5,-.5,0),i,f,r,p,d,u),this.transformVertex(s.set(.5,-.5,0),i,f,r,p,d,u),this.transformVertex(l.set(.5,.5,0),i,f,r,p,d,u);var m=e.ray.intersectTriangle(o,s,l,!1,n);if(null!==m||(this.transformVertex(s.set(-.5,.5,0),i,f,r,p,d,u),null!==(m=e.ray.intersectTriangle(o,l,s,!1,n)))){var g=e.ray.origin.distanceTo(n);g<e.near||g>e.far||(t.push({distance:g,point:n.clone(),face:null,object:this}),a.Vector33D.back(n),a.Vector33D.back(r),a.Vector33D.back(i),a.Vector33D.back(o),a.Vector33D.back(s),a.Vector33D.back(l),c.Matrix43D.back(u))}},t.prototype.transformVertex=function(e,t,n,r,i,o,a){var c=s.Vector23D.get(),l=s.Vector23D.get();l.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(c.x=o*l.x-i*l.y,c.y=i*l.x+o*l.y):c.copy(l),e.copy(t),e.x+=c.x,e.y+=c.y,e.applyMatrix4(a),s.Vector23D.back(c),s.Vector23D.back(l)},t.prototype.clone=function(){return new this.constructor(this.material).copy(this)},t.prototype.copy=function(e){return o.Object3D.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this},t}(o.Object3D);t.Sprite3D=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),i=n(115),o=function(){function e(e,t,n,r,i,o,a){this.currentEntitieyIndex=0,this.handler=void 0!==e?e:null,this.geometies=void 0!==t?t:[],this.materials=void 0!==n?n:[],this.matrixs=void 0!==r?r:[],this.codes=void 0!==i?i:[],this.compids=void 0!==o?o:[],this.fragids=void 0!==a?a:[]}return e.prototype.forEach=function(t){for(var n=e.entity;this.currentEntitieyIndex<this.geometies.length;++this.currentEntitieyIndex){var r=this.geometies[this.currentEntitieyIndex];r&&(n.geometry.setFromIGUMBufferGeometry(r),n.material=this.materials[this.currentEntitieyIndex],n.code=this.codes[this.currentEntitieyIndex],n.compid=this.compids[this.currentEntitieyIndex],n.fragid=this.fragids[this.currentEntitieyIndex],this.getEntityMatrix(n.matrixWorld,this.currentEntitieyIndex),this.getEntityMatrix(n.matrix,this.currentEntitieyIndex),t(n,this.currentEntitieyIndex))}},e.prototype.clearEntities=function(){this.materials.length=0,this.geometies.length=0,this.matrixs.length=0,this.codes.length=0,this.compids.length=0,this.fragids.length=0},e.prototype.pushEntites=function(e){null!==e.code&&(this.materials.push(e.material),this.geometies.push(e.ibg),this.matrixs.push.apply(this.matrixs,e.matrixWorld.elements),this.compids.push(e.compid),this.codes.push(e.code),this.fragids.push(e.fragid))},e.prototype.getEntityMatrix=function(e,t){for(var n=16*t,r=0;r<16;r++)e.elements[r]=this.matrixs[r+n]},e.prototype.isDone=function(){return this.currentEntitieyIndex===this.geometies.length},e.prototype.reset=function(){this.currentEntitieyIndex=0,this.clearEntities()},e.prototype.getArea=function(){var e=0;return this.forEach(function(t){e+=t.calcArea()}),e},e.prototype.getVolume=function(){var e=0;return this.forEach(function(t){e+=t.calcVolume()}),e},e.prototype.getIntersectPoint=function(e,t,n,r){if(void 0===r&&(r=!1),t<.001&&(t=.001),this.forEach(function(i){i.getIntersectPoint(e,t,n,r)}),this.currentEntitieyIndex=0,n.sort(function(e,t){return e.pointType-t.pointType}),n.length>0){for(var i=n[0],o=void 0;(o=n.pop())&&o.pointType!==i.pointType;);n.push(o),n.sort(function(e,t){return e.distance-t.distance})}return n},e.entity=new i.Entity3D(null,new r.BufferGeometry3D),e}();t.Component3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(109),a=n(66),s=n(116),c=n(67),l=n(124),u=function(e){function t(t,n,r){var i=e.call(this)||this;return i.isEntity=!0,i.code=t,i.geometry=n,i.material=r,i}return i(t,e),t.prototype.raycastEntity=function(e,n){var r=this,i=t.intersets;switch(i.length=0,n||(n=[]),this.code){case s.CodeType3D.IndexLine:this.raycastIndexLine(e,i);break;case s.CodeType3D.PolyLine:this.raycastPolyLine(e,i);break;default:this.raycastMesh(e,i)}return i.forEach(function(e){e.compid=r.compid,n.push(e)}),n},t.prototype.getIGUMEntity3D=function(){return{ibg:this.geometry.getIGUMBufferGeometry(),material:this.material,code:this.code,matrixWorld:this.matrixWorld.clone(),compid:this.compid,fragid:this.fragid,codeName:this.codeName}},t.prototype.setFromIGUMEntity3D=function(e){this.geometry.setFromIGUMBufferGeometry(e.ibg),this.material=e.material,this.code=e.code,this.matrixWorld=e.matrixWorld,this.matrix.copy(e.matrixWorld),this.compid=e.compid,this.fragid=e.fragid,this.codeName=e.codeName},t.prototype.raycastIndexLine=function(e,t){this._raycastIndexLine(e,t,this.geometry.index,this.geometry.drawRange.start,this.geometry.drawRange.count)},t.prototype._raycastIndexLine=function(e,n,r,i,o){var a=e.linePrecision,s=a*a,l=this.geometry,u=this.matrixWorld;null===l.boundingSphere&&l.computeBoundingSphere();var p=c.Sphere3D.get().copy(l.boundingSphere);if(p.applyMatrix4(u),!1!==e.ray.intersectsSphere(p)){for(var d=c.Matrix43D.get().getInverse(u),h=c.Ray3D.get().copy(e.ray).applyMatrix4(d),f=c.Vector33D.get(),m=c.Vector33D.get(),g=c.Vector33D.get(),y=c.Vector33D.get(),v=l.attributes.get("position").array,x=r.array,M=i,b=i+o;M<b;M+=2){var w=x[M],A=x[M+1];if(f.fromArray(v,3*w),m.fromArray(v,3*A),!(h.distanceSqToSegment(f,m,y,g)>s)){y.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(y);if(!(_<e.near||_>e.far)){var E={distance:_,point:g.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this};E.pointType=this._judgePointType(f,m,E.point,t.precision),n.push(E)}}}c.Vector33D.back(f),c.Vector33D.back(m),c.Vector33D.back(g),c.Vector33D.back(y)}},t.prototype.raycastPolyLine=function(e,n){var r=e.linePrecision,i=r*r,o=this.geometry,a=this.matrixWorld;null===o.boundingSphere&&o.computeBoundingSphere();var s=c.Sphere3D.get().copy(o.boundingSphere);if(s.applyMatrix4(a),!1!==e.ray.intersectsSphere(s)){for(var l=c.Matrix43D.get().getInverse(a),u=c.Ray3D.get().copy(e.ray).applyMatrix4(l),p=c.Vector33D.get(),d=c.Vector33D.get(),h=c.Vector33D.get(),f=c.Vector33D.get(),m=o.attributes.get("position").array,g=0,y=m.length/3-1;g<y;g+=1){if(p.fromArray(m,3*g),d.fromArray(m,3*g+3),!(u.distanceSqToSegment(p,d,f,h)>i)){f.applyMatrix4(this.matrixWorld);var v=e.ray.origin.distanceTo(f);if(!(v<e.near||v>e.far)){var x={distance:v,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this};x.pointType=this._judgePointType(p,d,x.point,t.precision),n.push(x)}}}c.Vector33D.back(p),c.Vector33D.back(d),c.Vector33D.back(h),c.Vector33D.back(f)}},t.prototype._judgePointType=function(e,t,n,r){var i;if(e.precisionEquals(n,r))n.copy(e),i=l.PICKPOINT.TERMINALPOINT;else if(t.precisionEquals(n,r))n.copy(t),i=l.PICKPOINT.TERMINALPOINT;else{var o=c.Vector33D.get().copy(e);if(o.lerp(t,.5),o.precisionEquals(n,r))n.copy(o),i=l.PICKPOINT.MIDDLEPOINT;else{var a=c.Line33D.get().set(e,t),s=c.Vector33D.get();a.getProjectPoint(n,s),n.copy(s),i=l.PICKPOINT.EDGEPOINT,c.Line33D.back(a),c.Vector33D.back(s)}c.Vector33D.back(o)}return i},t.prototype.raycastMesh=function(e,t){this.raycast(e,t),t.forEach(function(e){return e.pointType=l.PICKPOINT.REGIONPOINT})},t.prototype.getIntersectPoint=function(e,t,n,r){switch(this.code){case s.CodeType3D.IndexLine:this.getIndexLineIntersectPoint(e,t,this.geometry.drawRange,n,r);break;case s.CodeType3D.PolyLine:this.getPolyLineIntersectPoint(e,t,n);break;default:if(this.code!==s.CodeType3D.Text&&!this.getIndexLineIntersectPoint(e,t,this.geometry.lineDrawRange,n,r)){var i=this.getMeshIntersectPoint(e,r);i&&n.push(i)}}return n},t.prototype.getMeshIntersectPoint=function(e,t){var n=this.geometry,r=this.matrixWorld,i=c.Matrix43D.get().getInverse(r),o=c.Vector33D.get().copy(e).applyMatrix4(i),s=c.Vector33D.get(),u=c.Vector33D.get(),p=c.Vector33D.get(),d=c.Triangle3D.get();if(!n.boundingSphere||n.boundingSphere.containsPoint(o)){var h,f=n.index,m=n.attributes.get("position"),g=Math.max(0,n.drawRange.start),y=Math.min(f.count,n.drawRange.start+n.drawRange.count);t&&(o.z=0);for(var v=g;v<y;v+=3){var x=f.getX(v),M=f.getX(v+1),b=f.getX(v+2);if(s.fromBufferAttribute(m,x),u.fromBufferAttribute(m,M),p.fromBufferAttribute(m,b),t&&(s.z=0,u.z=0,p.z=0),d.set(s,u,p),d.containsPoint(o)){(h={}).face=new a.Face3D(x,M,b),h.face.normal=d.getNormal(new c.Vector33D),h.point=e,h.object=this,h.pointType=l.PICKPOINT.REGIONPOINT,h.compid=this.compid,h.distance=0;break}}return c.Matrix43D.back(i),c.Vector33D.back(s),c.Vector33D.back(u),c.Vector33D.back(p),c.Triangle3D.back(d),h}},t.prototype.getIndexLineIntersectPoint=function(e,t,n,r,i){var o=this.geometry,a=this.matrixWorld,s=c.Matrix43D.get().getInverse(a),l=c.Vector33D.get().copy(e).applyMatrix4(s),u=c.Vector33D.get(),p=c.Vector33D.get(),d=!1,h=o.index,f=o.attributes.get("position"),m=Math.max(0,n.start),g=Math.min(h.count,n.start+n.count),y=c.Line33D.get();i&&(l.z=0);for(var v=m;v<g;v+=2){var x=h.getX(v),M=h.getX(v+1);if(u.fromBufferAttribute(f,x),p.fromBufferAttribute(f,M),y.set(u,p),i&&(u.z=0,p.z=0),y.containsPoint(l,t)){var b={};b.compid=this.compid,b.point=l.clone(),b.pointType=this._judgePointType(u,p,l,t),b.distance=b.point.distanceTo(l),b.point.copy(l).applyMatrix4(a),r.push(b),d=!0}}return c.Matrix43D.back(s),c.Vector33D.back(u),c.Vector33D.back(p),c.Line33D.back(y),d},t.prototype.getPolyLineIntersectPoint=function(e,t,n){},t.intersets=[],t.precision=.01,t}(o.Mesh3D);t.Entity3D=u},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(117)),r(n(118)),r(n(119)),r(n(120)),r(n(121)),r(n(122)),r(n(123))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.OrthographicCamera=0]="OrthographicCamera",e[e.PerspectiveCamera=1]="PerspectiveCamera"}(r||(r={})),t.CameraCodeType=r},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LOAD=1]="LOAD",e[e.UPLOAD=2]="UPLOAD",e[e.SEARCH=3]="SEARCH"}(r||(r={})),t.ActionType=r,function(e){e[e.Text=0]="Text",e[e.Json=1]="Json",e[e.ArrayBuffer=2]="ArrayBuffer",e[e.Blob=3]="Blob"}(i||(i={})),t.ResponseContentType=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){if(this.__size=0,this.__array=[],e)for(var t in e)void 0!==e[t]&&(this.__array[t]=e[t],this.__size++)}return e.prototype.clear=function(){this.__array.length=0,this.__size=0},e.prototype.set=function(e,t){this.has(e)||this.__size++,this.__array[e]=t},e.prototype.get=function(e){return this.__array[e]},e.prototype.has=function(e){return void 0!==this.__array[e]},e.prototype.foreach=function(e){for(var t in this.__array)void 0!==this.__array[t]&&e(this.__array[t],t)},e.prototype.delete=function(e){this.has(e)&&this.__size--,this.__array[e]=void 0},Object.defineProperty(e.prototype,"size",{get:function(){return this.__size},enumerable:!0,configurable:!0}),e}();t.ArrayMap=r;var i=function(){return function(e){this.data=e}}();t.QueueNode=i;var o=function(){function e(){this.size=0}return e.prototype.push=function(e){void 0!==this.bPointer?(this.bPointer.back=new i(e),this.bPointer=this.bPointer.back):(this.bPointer=new i(e),this.fPointer=this.bPointer),this.size++},e.prototype.shift=function(){if(0!==this.size){var e=this.fPointer;return this.fPointer=this.fPointer.back,void 0===this.fPointer&&(this.bPointer=void 0),this.size--,e.data}},e.prototype.forward=function(e){if(void 0!==this.fPointer){var t=new i(e);t.back=this.fPointer,this.fPointer=t}else this.fPointer=new i(e),void 0===this.bPointer&&(this.bPointer=this.fPointer);this.size++},e.prototype.clear=function(){for(;this.fPointer;)this.fPointer.data=null,this.fPointer=this.fPointer.back;this.fPointer=void 0,this.bPointer=void 0,this.size=0},e}();t.Queue=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.THREEJS=65535]="THREEJS"}(r||(r={})),t.ComponentType=r},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Point3D=0]="Point3D",e[e.Curve3D=1]="Curve3D",e[e.Surface=2]="Surface",e[e.Solid3D=3]="Solid3D",e[e.Light3D=4]="Light3D",e[e.Camera=5]="Camera",e[e.PolyLine=6]="PolyLine",e[e.Text=7]="Text",e[e.IndexLine=8]="IndexLine"}(r||(r={})),t.CodeType3D=r,function(e){e.CIRCLE="CIRCLE",e.ELLIPSE="ELLIPSE",e.LINE="LINE",e.TRIANGLE="TRIANGLE",e.NURBS="NURBS",e.CIRCLESUR="CIRCLESUR",e.CYLINDERSUR="CYLINDERSUR",e.TUBESUR="TUBESUR",e.ELLIPSESUR="ELLIPSESUR"}(i||(i={})),t.CodeType3DName=i},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.View=0]="View",e[e.SnapShoot=1]="SnapShoot",e[e.Geometry3D=2]="Geometry3D",e[e.Fragment=3]="Fragment",e[e.PolyLine=5]="PolyLine",e[e.GeometryDescription=6]="GeometryDescription",e[e.Material3D=7]="Material3D",e[e.UUID=8]="UUID",e[e.FileSet=9]="FileSet",e[e.Environment=10]="Environment",e[e.Text=4]="Text"}(r||(r={})),t.ObjectDefinition=r,function(e){e[e.NONE=0]="NONE",e[e.PROJECT_DEF=1]="PROJECT_DEF",e[e.GEOMETRY_DEF=2]="GEOMETRY_DEF",e[e.TEXTURE_DEF=4]="TEXTURE_DEF",e[e.FRAGMENT_DEF=8]="FRAGMENT_DEF",e[e.CAMERA_DEF=16]="CAMERA_DEF",e[e.GEOMETRY_PACK=32]="GEOMETRY_PACK",e[e.ATTRIBUTE_DEF=64]="ATTRIBUTE_DEF",e[e.PROJECT=2147483648]="PROJECT"}(i||(i={})),t.PackageType=i},function(e,t,n){"use strict";var r,i,o,a,s,c;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.STATIC_DRAW=1]="STATIC_DRAW",e[e.STREAM_DRAW=2]="STREAM_DRAW",e[e.STREAM_INDX=4]="STREAM_INDX"}(r||(r={})),t.RenderMode=r,function(e){e[e.NORMAL=1]="NORMAL",e[e.STRAIGHTLINE=2]="STRAIGHTLINE",e[e.POLYLINE=4]="POLYLINE"}(i||(i={})),t.MakerLineState=i,function(e){e[e.UNDONE=0]="UNDONE",e[e.HIDDEN=1]="HIDDEN",e[e.VISIBLE=2]="VISIBLE",e[e.HIGHLIGHT=4]="HIGHLIGHT",e[e.BREAK=8]="BREAK",e[e.FREE=16]="FREE",e[e.LOCK=32]="LOCK",e[e.TRANSPARENCY=64]="TRANSPARENCY"}(o||(o={})),t.RenderState=o,function(e){e[e.NORMAL=1]="NORMAL",e[e.ISOLATION=2]="ISOLATION",e[e.PEEL=4]="PEEL"}(a||(a={})),t.ModelRenderState=a,function(e){e[e.NORMAL=0]="NORMAL",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR",e[e.HIDDEN=3]="HIDDEN"}(s||(s={})),t.DEVICESTATE=s,function(e){e[e.MOVEFORWARD=0]="MOVEFORWARD",e[e.MOVEBACK=1]="MOVEBACK",e[e.MOVELEFT=2]="MOVELEFT",e[e.MOVERIGHT=3]="MOVERIGHT",e[e.UP=4]="UP",e[e.DOWN=5]="DOWN",e[e.NONE=6]="NONE"}(c||(c={})),t.MOVESTATE=c},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.MIDDLEPOINT=1]="MIDDLEPOINT",e[e.TERMINALPOINT=0]="TERMINALPOINT",e[e.EDGEPOINT=2]="EDGEPOINT",e[e.REGIONPOINT=3]="REGIONPOINT"}(r||(r={})),t.PICKPOINT=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(115),a=n(116),s=function(e){function t(t,n){return e.call(this,a.CodeType3D.Point3D,t,n)||this}return i(t,e),t}(o.Entity3D);t.Point3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(102),a=n(48),s=n(66),c=n(81),l=function(e){function t(t,n){var r=e.call(this)||this;r.isBoxHelper=!0,r.object=t,void 0===n&&(n=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),l=new s.BufferGeometry3D;return l.setIndex(new s.BufferAttribute3D(i,1)),l.addAttribute("position",new s.BufferAttribute3D(a,3)),o.LineSegments3D.call(r,l,new c.LineBasicMaterial3D({color:n})),r.matrixAutoUpdate=!1,r.update(),r}return i(t,e),t.get=function(){var e=t.arrays.pop();return e||(e=new t),e},t.back=function(e){return t.arrays.push(e),e},t.prototype.update=function(){var e=a.Box33D.get();if(void 0!==this.object&&(this.object instanceof s.Object3D?e.setFromObject(this.object):e.copy(this.object)),!e.isEmpty()){var t=e.min,n=e.max,r=this.geometry.attributes.get("position"),i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere(),a.Box33D.back(e)}},t.prototype.setFromObject=function(e){return this.object=e,this.update(),this},t.arrays=[],t}(o.LineSegments3D);t.BoxHelper3D=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(66),a=n(81),s=n(102),c=n(67),l=function(e){function t(t,n,r){var i,l,u,p=e.call(this)||this;p.update=(i=new c.Vector33D,l=new c.Vector33D,u=new c.Vector33D,function(){i.setFromMatrixPosition(this.light.matrixWorld),l.setFromMatrixPosition(this.light.target.matrixWorld),u.subVectors(l,i),this.lightPlane.lookAt(u),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(u),this.targetLine.scale.z=u.length()}),p.light=t,p.light.updateMatrixWorld(),p.matrix=t.matrixWorld,p.matrixAutoUpdate=!1,p.color=r,void 0===n&&(n=1);var d=new o.BufferGeometry3D;d.addAttribute("position",new o.Float32BufferAttribute([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));var h=new a.LineBasicMaterial3D({fog:!1});return p.lightPlane=new s.Line3D(d,h),p.add(p.lightPlane),(d=new o.BufferGeometry3D).addAttribute("position",new o.Float32BufferAttribute([0,0,0,0,0,1],3)),p.targetLine=new s.Line3D(d,h),p.add(p.targetLine),p.update(),p}return i(t,e),t.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},t}(o.Object3D);t.DirectionalLightHelper3D=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.isAmbientLight=!0,r.type="AmbientLight3D",r.castShadow=void 0,r}return i(t,e),t}(n(129).Light3D);t.AmbientLight3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),a=n(46),s=function(e){function t(t,n){var r=e.call(this)||this;return r.isLight=!0,r.type="Light3D",r.color=new a.Color3D(t),r.intensity=void 0!==n?n:1,r.receiveShadow=void 0,r}return i(t,e),t.prototype.copy=function(e){return o.Object3D.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},t}(o.Object3D);t.Light3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(129),a=n(27),s=n(131),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.isDirectionalLight=!0,r.type="DirectionalLight3D",r.position.copy(a.Object3D.DefaultUp),r.updateMatrix(),r.target=new a.Object3D,r.shadow=new s.DirectionalLightShadow3D,r}return i(t,e),t.prototype.copy=function(e){return o.Light3D.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this},t}(o.Light3D);t.DirectionalLight3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(132),a=n(43),s=function(e){function t(){return e.call(this,new a.OrthographicCamera3D(-5,5,5,-5,.5,500))||this}return i(t,e),t}(o.LightShadow3D);t.DirectionalLightShadow3D=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(33),o=function(){function e(e){this.Camera3D=e,this.bias=0,this.radius=1,this.mapSize=new r.Vector23D(512,512),this.map=null,this.matrix=new i.Matrix43D}return e.prototype.copy=function(e){return this.Camera3D=e.Camera3D.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},e.prototype.clone=function(){return(new this.constructor).copy(this)},e}();t.LightShadow3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(129),a=n(46),s=n(27),c=function(e){function t(t,n,r){var i=e.call(this,t,r)||this;return i.isHemisphereLight=!0,i.type="HemisphereLight3D",i.castShadow=void 0,i.position.copy(s.Object3D.DefaultUp),i.updateMatrix(),i.groundColor=new a.Color3D(n),i}return i(t,e),t.prototype.copy=function(e){return o.Light3D.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this},t}(o.Light3D);t.HemisphereLight3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(129),a=n(132),s=n(25),c=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.isPointLight=!0,o.type="PointLight3D",o.distance=void 0!==r?r:0,o.decay=void 0!==i?i:1,o.shadow=new a.LightShadow3D(new s.PerspectiveCamera3D(90,1,.5,500)),o}return i(t,e),Object.defineProperty(t.prototype,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)},enumerable:!0,configurable:!0}),t.prototype.copy=function(e){return o.Light3D.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this},t}(o.Light3D);t.PointLight3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(129),a=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.isRectAreaLight=!0,o.type="RectAreaLight3D",o.width=void 0!==r?r:10,o.height=void 0!==i?i:10,o}return i(t,e),t.prototype.copy=function(e){return o.Light3D.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},t}(o.Light3D);t.RectAreaLight3D=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(129),a=n(27),s=n(137),c=function(e){function t(t,n,r,i,o,c){var l=e.call(this,t,n)||this;return l.isSpotLight=!0,l.type="SpotLight3D",l.position.copy(a.Object3D.DefaultUp),l.updateMatrix(),l.target=new a.Object3D,Object.defineProperty(l,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),l.distance=void 0!==r?r:0,l.angle=void 0!==i?i:Math.PI/3,l.penumbra=void 0!==o?o:0,l.decay=void 0!==c?c:1,l.shadow=new s.SpotLightShadow3D,l}return i(t,e),t.prototype.copy=function(e){return o.Light3D.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow.copy(e.shadow),this},t}(o.Light3D);t.SpotLight3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(132),a=n(25),s=n(30),c=function(e){function t(){var t=e.call(this,new a.PerspectiveCamera3D(50,1,.5,500))||this;return t.isSpotLightShadow=!0,t}return i(t,e),t.prototype.update=function(e){var t=this.camera,n=2*s._Math.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())},t}(o.LightShadow3D);t.SpotLightShadow3D=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Cache={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(140),i=n(141),o=n(148),a=function(){function e(e){this.crossOrigin="anonymous",this.manager=void 0!==e?e:r.LoadingManager3D.DefaultLoadingManager}return e.prototype.load=function(e,t,n,r){var a=new i.CubeTexture,s=new o.ImageLoader3D(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);var c=0;function l(n){s.load(e[n],function(e){a.images[n]=e,6===++c&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(var u=0;u<e.length;++u)l(u);return a},e.prototype.setCrossOrigin=function(e){return this.crossOrigin=e,this},e.prototype.setPath=function(e){return this.path=e,this},e}();t.CubeTextureLoader3D=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}return e.DefaultLoadingManager=new e,e}();t.LoadingManager3D=r},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(142)),r(n(143)),r(n(144)),r(n(145)),r(n(146)),r(n(41)),r(n(147))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),a=function(e){function t(t,n,r,i,o,a,s,c,l){var u=e.call(this,t,n,r,i,o,a,s,c,l)||this;return u.isCanvasTexture=!0,u.needsUpdate=!0,u}return i(t,e),t}(o.Texture);t.CanvasTexture=a,a.prototype=Object.create(o.Texture.prototype),a.prototype.constructor=a,a.prototype.isCanvasTexture=!0},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r,i,o,a,s,c,l,u,p,d){var h=e.call(this,null,a,s,c,l,u,i,o,p,d)||this;return h.isCompressedTexture=!0,h.image={width:n,height:r},h.mipmaps=t,h.flipY=!1,h.generateMipmaps=!1,h}return i(t,e),t}(n(41).Texture);t.CompressedTexture=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),a=n(37),s=function(e){function t(t,n,r,i,o,s,c,l,u,p){var d=e.call(this,t=void 0!==t?t:[],n,r,i,o,s,c,l,u,p)||this;return d.isCubeTexture=!0,n=void 0!==n?n:a.Constant.CubeReflectionMapping,d.flipY=!1,d}return i(t,e),Object.defineProperty(t.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e},enumerable:!0,configurable:!0}),t}(o.Texture);t.CubeTexture=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),a=n(37),s=function(e){function t(t,n,r,i,o,s,c,l,u,p,d,h){var f=e.call(this,null,s,c,l,u,p,i,o,d,h)||this;return f.isDataTexture=!0,f.image={data:t,width:n,height:r},f.magFilter=void 0!==u?u:a.Constant.NearestFilter,f.minFilter=void 0!==p?p:a.Constant.NearestFilter,f.generateMipmaps=!1,f.flipY=!1,f.unpackAlignment=1,f}return i(t,e),t}(o.Texture);t.DataTexture=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),a=n(37),s=function(e){function t(t,n,r,i,s,c,l,u,p,d){var h=e.call(this)||this;if(h.isDepthTexture=!0,(d=void 0!==d?d:a.Constant.DepthFormat)!==a.Constant.DepthFormat&&d!==a.Constant.DepthStencilFormat)throw new Error("DepthTexture format must be either spdengine-3D.DepthFormat or spdengine-3D.DepthStencilFormat");return void 0===r&&d===a.Constant.DepthFormat&&(r=a.Constant.UnsignedShortType),void 0===r&&d===a.Constant.DepthStencilFormat&&(r=a.Constant.UnsignedInt248Type),o.Texture.call(h,null,i,s,c,l,u,d,r,p),h.image={width:t,height:n},h.magFilter=void 0!==l?l:a.Constant.NearestFilter,h.minFilter=void 0!==u?u:a.Constant.NearestFilter,h.flipY=!1,h.generateMipmaps=!1,h}return i(t,e),t}(o.Texture);t.DepthTexture=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r,i,o,a,s,c,l){var u=e.call(this,t,n,r,i,o,a,s,c,l)||this;return u.isVideoTexture=!0,u.generateMipmaps=!1,u}return i(t,e),t.prototype.update=function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)},t}(n(41).Texture);t.VideoTexture=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(140),i=n(138),o=function(){function e(e){this.crossOrigin="anonymous",this.manager=void 0!==e?e:r.LoadingManager3D.DefaultLoadingManager}return e.prototype.load=function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var o=this,a=i.Cache.get(e);if(void 0!==a)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;var s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function c(){s.removeEventListener("load",c,!1),s.removeEventListener("error",l,!1),i.Cache.add(e,this),t&&t(this),o.manager.itemEnd(e)}function l(t){s.removeEventListener("load",c,!1),s.removeEventListener("error",l,!1),r&&r(t),o.manager.itemEnd(e),o.manager.itemError(e)}return s.addEventListener("load",c,!1),s.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s},e.prototype.setCrossOrigin=function(e){return this.crossOrigin=e,this},e.prototype.setPath=function(e){return this.path=e,this},e}();t.ImageLoader3D=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(150),i=n(17),o=n(30),a=n(67),s=n(116),c=n(53),l=n(151),u=function(){function e(t,n,u,p,d,h){var f=this;this.api=t,this.modelUrl=n,this.oldModelId=u,this.STATIC_URL=p,this.viewId=d,this.newModelId=h,this.MAX_WORKER_COUNT=i.BrowserInfo.isMobile?5:10,this.matrix=new a.Matrix43D;var m,g=c.isDebug()?"spdengine-worker.js":"spdengine-worker.min.js",y=[],v=new s.ArrayMap,x=0,M=0,b=t["3D"];function w(){var t="?";e.appId&&(t+="&a="+e.appId),e.ticks&&(t+="&t="+e.ticks),e.accessToken&&(t+="&at="+e.accessToken);var r,i=((r=n.split("/")).pop(),r.pop());return i&&(t+="&h="+i),t}this.getResourceUrl=function(e){return f.STATIC_URL+e},this.getWorkerId=function(e){return o._Math.leftShift(f.oldModelId,44)+e},this.getScript=function(e){e=e.toLowerCase();var t=document.getElementsByTagName("script");if(t&&t.length>0)for(var n=0;n<t.length;++n)if(t[n].src&&-1!==t[n].src.toLowerCase().indexOf(e))return t[n];return null},this.createMasterWorker=function(){m||((m=e.GUMWorkerCreator.CreateGUMWorker()).workerId=f.getWorkerId(0),m.addEventListenerWithIntercept(f.createEnvironment),m.postMessage({action:s.ActionType.LOAD,url:f.modelUrl,package:"project.jdx",packageType:s.PackageType.PROJECT,options:{responseType:s.ResponseContentType.ArrayBuffer},key:w()}))},this.createEnvironment=function(e){if(e.data.error)return console.error(e.data.error),void b.dispatchEvent({type:"fileloader_envloaderror",params:{error:e.data.error,newModelId:f.newModelId,viewId:d}});m.terminate(),m=null,e.data.boundingBox=(new a.Box33D).union(e.data.boundingBox),b.dispatchEvent({type:"fileloader_envloadend",params:{data:e.data,viewId:d,matrix:f.matrix,newModelId:f.newModelId,loader:f}})},this.initLoader=function(){null===e.GUMWorkerCreator&&(e.vmUrl||(e.vmUrl=f.getResourceUrl(g)),e.GUMWorkerCreator=new r.GUMWorkerCreator(e.vmUrl)),e.GUMWorkerCreator.InitWorkerScript(f.createMasterWorker)},this.loadGeometries=function(e){y.length=0,x=e.length,M=0,e.map(function(e){y.push({action:s.ActionType.LOAD,workerId:-1,url:n+e,package:e,packageType:s.PackageType.GEOMETRY_PACK,key:w(),options:{responseType:s.ResponseContentType.ArrayBuffer}})}),f.createSubWorker()},this.createSubWorker=function(){var t=Math.min(f.MAX_WORKER_COUNT,y.length);if(t>0)for(var r=0;r<t;++r){var o=e.GUMWorkerCreator.CreateGUMWorker();o.workerId=f.getWorkerId(r),o.addEventListenerWithIntercept(f.createGeometry),v.set(o.workerId,o),f.takeTask(o.workerId)}else b.dispatchEvent({type:"fileloader_geomallloadend",params:{url:n,viewId:d,newModelId:f.newModelId}}),i.BrowserInfo.isMobile&&l.spiderBimApp&&l.spiderBimApp.modelLoadFinished&&l.spiderBimApp.modelLoadFinished()},this.takeTask=function(e){var t=v.get(e);if(0===y.length)return t.terminate(),v.delete(e),t=null,void(0===v.size&&(b.dispatchEvent({type:"fileloader_geomallloadend",params:{url:n,viewId:d,newModelId:f.newModelId}}),i.BrowserInfo.isMobile&&l.spiderBimApp&&l.spiderBimApp.modelLoadFinished&&l.spiderBimApp.modelLoadFinished()));var r=y.shift();r.workerId=t.workerId,t.postMessage(r)},this.createGeometry=function(e){var t=e.data;void 0!==t.error&&(console.error(t.error),b.dispatchEvent({type:"fileloader_geomloaderror",params:{error:t.error,newModelId:f.newModelId,viewId:d,current:++M,totial:x}})),t.objectDef===s.ObjectDefinition.Geometry3D&&t.packageType===s.PackageType.GEOMETRY_PACK&&b.dispatchEvent({type:"fileloader_geomloadend",params:{data:t,current:++M,totial:x,viewId:d,newModelId:f.newModelId},data:t,current:M,totial:x}),f.takeTask(t.workerId)},this.dispose=function(){e.GUMWorkerCreator.removeInitWorkerScriptCB(f.createMasterWorker),m&&(m.clearAllEventListenerWithIntercept(),m.terminate()),y.length=0,v.foreach(function(e){e.terminate()}),v.clear()}}return e.GUMWorkerCreator=null,e}();t.FileLoader3D=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(){}}();t.GUMWorker=r;var i=function(){function e(e){this._url=e,this.WORKER_DATA_URL=null,this.WORKER_FETCHING_SCRIPT=!1,this.WORKER_FETCHING_CALLBACKS=new Map}return e.prototype.ClearWorkerDataUrl=function(){this.WORKER_DATA_URL=null},e.prototype.InitWorkerScript=function(e,t){var n=this;if(null===this.WORKER_DATA_URL){if(this.WORKER_FETCHING_CALLBACKS.set(e,{successCB:e,errorCB:t}),!this.WORKER_FETCHING_SCRIPT){var r=new XMLHttpRequest;r.open("GET",this._url,!0),r.onload=function(){var e;try{e=new Blob([r.responseText],{type:"application/javascript"})}catch(n){var t=new BlobBuilder;t.append(r.responseText),e=t.getBlob()}n.WORKER_DATA_URL=URL.createObjectURL(e);var i=n.WORKER_FETCHING_CALLBACKS;i.forEach(function(e,t){t&&t()}),i.clear()},this.WORKER_FETCHING_SCRIPT=!0,r.send()}}else e&&e()},e.prototype.removeInitWorkerScriptCB=function(e){this.WORKER_FETCHING_CALLBACKS.delete(e)},e.prototype.CreateGUMWorker=function(){var e;return this.WORKER_DATA_URL?e=new Worker(this.WORKER_DATA_URL):console.error("WorkerCreator has not been Init. Please Wait or Call InitWorkerScript."),e.interceptListeners=new Map,e.CheckEvent=function(e){return!0},e.addEventListenerWithIntercept=function(e){var t=this,n=function(n){t.CheckEvent(n)&&e(n)};this.interceptListeners.set(e,n),this.addEventListener("message",n,!1)},e.removeEventListenerWithIntercept=function(e){var t=this.interceptListeners.get(e);t&&this.removeEventListener("message",t,!1)},e.clearAllEventListenerWithIntercept=function(){var e=this;this.interceptListeners.forEach(function(t,n){e.removeEventListenerWithIntercept(n)}),this.interceptListeners.clear()},e},e}();t.GUMWorkerCreator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.SpiderBimApp;t.spiderBimApp=r,void 0===r&&(t.spiderBimApp=r={})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(140),i=n(41),o=n(148),a=n(37),s=function(){function e(e){this.crossOrigin="anonymous",this.manager=void 0!==e?e:r.LoadingManager3D.DefaultLoadingManager}return e.prototype.load=function(e,t,n,r){var s=new i.Texture,c=new o.ImageLoader3D(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(e,function(n){s.image=n;var r=e.search(/\.jpe?g$/i)>0||0===e.search(/^data\:image\/jpeg/);s.format=r?a.Constant.RGBFormat:a.Constant.RGBAFormat,s.needsUpdate=!0,void 0!==t&&t(s)},n,r),s},e.prototype.setCrossOrigin=function(e){return this.crossOrigin=e,this},e.prototype.setPath=function(e){return this.path=e,this},e}();t.TextureLoader3D=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=function(){function e(e,t,n,i){this.radius=void 0===e?0:e,this.center=new r.Vector23D,this.center.x=void 0===t?0:t,this.center.y=void 0===n?0:n,this.z=void 0===i?0:i}return e.prototype.containPoint=function(e){return this.center.distanceTo(e)<=this.radius},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){return this.center.copy(e.center),this.z=e.z,this.radius=e.radius,this},e}();t.Circle3D=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(155),a=function(e){function t(t,n,r,i){var o=e.call(this,void 0,i)||this;return o.length=t,o.width=n,o.height=r,o.initGeometry(),void 0===t&&(o.length=1),void 0===n&&(o.width=1),void 0===r&&(o.height=1),o.scale.set(o.length,o.width,o.height),o}return i(t,e),t.get=function(){var e=t.array.pop();return e||(e=new t),e},t.back=function(e){return t.array.push(e),e},t.prototype.initGeometry=function(){t.boxBufferGeometry||(t.boxBufferGeometry=new o.BoxBufferGeometry3D(1,1,1)),this.geometry=t.boxBufferGeometry},t.prototype.setLenght=function(e){this.length=e,this.scale.set(this.length,this.width,this.height)},t.prototype.setWidght=function(e){this.width=e,this.scale.set(this.length,this.width,this.height)},t.prototype.setHeight=function(e){this.height=e,this.scale.set(this.length,this.width,this.height)},t.array=[],t}(n(109).Mesh3D);t.CubeSolid3D=a},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(64)),r(n(77)),r(n(78)),r(n(65)),r(n(75)),r(n(76))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(116),a=n(67),s=function(e){function t(t,n,r,i){var s=e.call(this)||this;return s.codeName=o.CodeType3DName.CIRCLE,s.center=new a.Vector33D,t&&s.center.copy(t),(n<=0||void 0===n)&&e.prototype.setRadius.call(s,n,n),void 0===r?s.startTrim=0:s.setStartRadian(r),void 0===i?s.endTrim=2*Math.PI:s.setEndRadian(i),s.updateParamUniform(),s}return i(t,e),t.prototype.setRadius=function(t){e.prototype.setRadius.call(this,t,t)},t}(n(157).EllicpseCurve3D);t.CircleCurve3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(158),a=n(67),s=n(116),c=function(e){function t(t,n,r,i,o){var c=e.call(this,i,o)||this;c.xRadius=n,c.yRadius=r,c.codeName=s.CodeType3DName.ELLIPSE,c.center=new a.Vector33D,t&&c.center.copy(t);var l=2*Math.PI;return(void 0===n||n<=0)&&(c.xRadius=1),(void 0===r||r<=0)&&(c.yRadius=1),c.startTrim=void 0===i?0:i%l,c.endTrim=void 0===o?2*Math.PI:o%l,c.updateParamUniform(),c}return i(t,e),t.prototype.setCenter=function(e,t,n){this.center.set(e,t,n),this.updateParamUniform()},t.prototype.setRadius=function(e,t){e>0&&t>0&&(this.xRadius=e,this.yRadius=t,this.updateParamUniform())},t.prototype.setStartRadian=function(e){this.setStartTrim(e%(2*Math.PI)),this.updateParamUniform()},t.prototype.setEndRadian=function(e){this.setEndTrim(e%(2*Math.PI)),this.updateParamUniform()},t.prototype.updateParamUniform=function(){this.paramUniform.length=0,this.paramUniform.push(this.center.x,this.center.y,this.center.z,this.xRadius,this.yRadius,this.startTrim,this.endTrim)},t}(o.Curve3D);t.EllicpseCurve3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(115),a=n(116),s=n(66),c=function(e){function t(t,n){var r=e.call(this,a.CodeType3D.Curve3D)||this;return r.startTrim=t,r.endTrim=n,r.paramUniform=[],r.initBuffgeGeometry(1024),r}return i(t,e),t.prototype.setStartTrim=function(e){this.startTrim=e},t.prototype.setEndTrim=function(e){this.endTrim=e},t.prototype.initBuffgeGeometry=function(e){if(!t.geometry){for(var n=t.geometry=new s.BufferGeometry3D,r=new Float32Array(e+1),i=[],o=0;o<e+1;++o)r[o]=o/e,o!=e&&i.push(o,o+1);n.addAttribute("u",new s.BufferAttribute3D(r,1)),n.setIndex(i)}this.geometry=t.geometry},t.prototype.updateParamUniform=function(){},t}(o.Entity3D);t.Curve3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(158),a=n(116),s=function(e){function t(t,n,r,i){var o=e.call(this,i[0],i[i.length-1])||this;if(o.degree=t,o.polesCount=n,o.poles=r,o.knots=i,o.codeName=a.CodeType3DName.NURBS,r.length!==4*n||i.length!==t+n+1)throw new Error("spdengine-3D.NurbsCurve3D nubrs");return o.updateParamUniform(),o}return i(t,e),t.prototype.updateParamUniform=function(){this.paramUniform.length=0,this.paramUniform.push.apply(this.paramUniform,this.knots),this.paramUniform.push.apply(this.paramUniform,this.poles)},t}(o.Curve3D);t.NurbsCurve3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(161),a=n(116),s=n(66),c=n(53),l=function(e){function t(t,n,r,i){var o=e.call(this)||this;o.xRadius=t,o.yRadius=n,o.codeName=a.CodeType3DName.ELLIPSESUR;var s=2*Math.PI;return(void 0===t||t<=0)&&(o.xRadius=1),(void 0===n||n<=0)&&(o.yRadius=1),o.startTrim=void 0===r?0:r%s,o.endTrim=void 0===i?s:i%s,o.initBuffgeGeometry(c.getSegment()),o}return i(t,e),t.prototype.setRadius=function(e,t){e>0&&t>0&&(this.xRadius=e,this.yRadius=t,this.updateParamUniform())},t.prototype.setStartRadian=function(e){this.setStartTrim(e%(2*Math.PI)),this.updateParamUniform()},t.prototype.setEndRadian=function(e){this.setEndTrim(e%(2*Math.PI)),this.updateParamUniform()},t.prototype.updateParamUniform=function(){this.paramUniform.length=0,this.paramUniform.push(0,0,0,this.xRadius,this.yRadius,this.startTrim,this.endTrim)},t.prototype.initBuffgeGeometry=function(e){if(!t.geometry){var n=t.geometry=new s.BufferGeometry3D,r=new Float32Array(e+2),i=[];r[e+1]=-1;for(var o=0;o<e+1;++o)r[o]=o/e,o!=e&&i.push(e+1,o,o+1);n.addAttribute("u",new s.BufferAttribute3D(r,1)),n.setIndex(i)}this.geometry=t.geometry},t}(o.Surface3D);t.EllipseSurface3D=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(115),a=n(116),s=function(e){function t(t,n){var r=e.call(this,a.CodeType3D.Surface)||this;return r.startTrim=t,r.endTrim=n,r.paramUniform=[],r}return i(t,e),t.prototype.setStartTrim=function(e){this.startTrim=e},t.prototype.setEndTrim=function(e){this.endTrim=e},t}(o.Entity3D);t.Surface3D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(116),a=function(e){function t(t,n,r){var i=e.call(this)||this;return i.codeName=o.CodeType3DName.CIRCLESUR,(t<=0||void 0===t)&&e.prototype.setRadius.call(i,t,t),void 0===n?i.startTrim=0:i.setStartRadian(n),void 0===r?i.endTrim=2*Math.PI:i.setEndRadian(r),i.updateParamUniform(),i}return i(t,e),t.prototype.setRadius=function(t){e.prototype.setRadius.call(this,t,t)},t}(n(160).EllipseSurface3D);t.CircleSurface3D=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(161),a=n(116),s=n(156),c=n(66),l=n(53),u=function(e){function t(t,n){var r=e.call(this)||this;return r.vCurve=t,r.codeName=a.CodeType3DName.TUBESUR,r.uCurve=new s.CircleCurve3D,void 0!==n&&n>0&&r.uCurve.setRadius(n),r.uCurve.updateParamUniform(),r.vCurve.updateParamUniform(),r.initGeometry(l.getSegment()),r.uCodeName=r.uCurve.codeName,r.vCodeName=r.vCurve.codeName,r.uParamUniform=r.uCurve.paramUniform.slice(),r.vParamUniform=r.vCurve.paramUniform.slice(),r}return i(t,e),t.prototype.initGeometry=function(e){if(!t.geometry){for(var n=t.geometry=new c.BufferGeometry3D,r=[],i=[],o=0;o<=e;++o)for(var a=0;a<=e;++a)r.push(o/e,a/e);for(a=1;a<=e;a++)for(o=1;o<=e;o++){var s=(e+1)*(a-1)+(o-1),l=(e+1)*a+(o-1),u=(e+1)*a+o,p=(e+1)*(a-1)+o;i.push(s,l,p,l,u,p)}n.addAttribute("u",new c.BufferAttribute3D(new Float32Array(r),2)),n.setIndex(i)}this.geometry=t.geometry},t}(o.Surface3D);t.TubeSurface3D=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(161),a=n(66),s=n(53),c=n(116),l=function(e){function t(t,n,r,i){var o=e.call(this)||this;o.cylinderRadius=t,o.cylinderHeight=n,o.codeName=c.CodeType3DName.CYLINDERSUR,(void 0===t||t<=0)&&(o.cylinderRadius=1),(void 0===n||n<=0)&&(o.cylinderHeight=1);var a=2*Math.PI;return o.startTrim=void 0===r?0:r%a,o.endTrim=void 0===i?a:i%a,o.initGeometry(s.getSegment()),o.updateParamUniform(),o}return i(t,e),t.prototype.initGeometry=function(e){if(!t.geometry){for(var n=t.geometry=new a.BufferGeometry3D,r=[],i=[],o=[],s=0,c=0;c<=1;++c){for(var l=[],u=0;u<=e;++u)r.push(u/e,c),l.push(s++);o.push(l)}for(c=0;c<e;++c){var p=o[0][c],d=o[1][c],h=o[1][c+1],f=o[0][c+1];i.push(p,d,f,d,h,f)}n.setIndex(i),n.addAttribute("u",new a.BufferAttribute3D(new Float32Array(r),2))}this.geometry=t.geometry},t.prototype.updateParamUniform=function(){this.paramUniform.length=0,this.paramUniform.push(0,0,0,this.cylinderRadius,this.startTrim,this.endTrim,this.cylinderHeight)},t.prototype.setRadius=function(e){e>0&&(this.cylinderRadius=e,this.updateParamUniform())},t.prototype.setStartRadian=function(e){this.setStartTrim(e%(2*Math.PI)),this.updateParamUniform()},t.prototype.setEndRadian=function(e){this.setEndTrim(e%(2*Math.PI)),this.updateParamUniform()},t}(o.Surface3D);t.CylinderSurface3D=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i=n(40),o=n(70),a=n(166),s=n(33),c=n(31),l=n(167),u=n(168),p=n(169),d=n(170),h=n(171),f=n(172),m=n(173),g=n(174),y=n(175),v=n(176),x=n(177),M=n(304),b=n(305),w=n(307),A=n(310),_=n(311),E=n(312),D=n(313),S=n(314),P=n(303),T=n(30),C=n(145),R=n(309),I=n(315),O=n(316),L=n(317),k=n(308),B=n(98),U=n(116),N=function(){return function(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,N=void 0!==e.alpha&&e.alpha,F=void 0===e.depth||e.depth,j=void 0===e.stencil||e.stencil,z=void 0===e.antialias||e.antialias,V=void 0===e.premultipliedAlpha||e.premultipliedAlpha,H=void 0===e.preserveDrawingBuffer||e.preserveDrawingBuffer,G=void 0!==e.powerPreference?e.powerPreference:"default",W=null,X=null,Y=null,Q=null;this.domElement=t,this.context=null,this.autoClear=!1,this.autoClearColor=!1,this.autoClearDepth=!1,this.autoClearStencil=!1,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=r.Constant.LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var q,K,Z,J,$,ee,te,ne,re,ie,oe,ae,se,ce,le,ue,pe,de,he,fe,me=this,ge=!1,ye=null,ve=null,xe=null,Me=-1,be={geometry:null,program:null,wireframe:!1},we=null,Ae=null,_e=new i.Vector43D,Ee=new i.Vector43D,De=null,Se=0,Pe=t.width,Te=t.height,Ce=1,Re=new i.Vector43D(0,0,Pe,Te),Ie=new i.Vector43D(0,0,Pe,Te),Oe=!1,Le=new o.Frustum3D,ke=new a.WebGLClipping,Be=!1,Ue=!1,Ne=new s.Matrix43D,Fe=new c.Vector33D,je=new i.Vector43D;function ze(){return null===ve?Ce:1}try{var Ve={alpha:N,depth:F,stencil:j,antialias:z,premultipliedAlpha:V,preserveDrawingBuffer:H,powerPreference:G};if(null===(K=n||t.getContext("webgl",Ve)||t.getContext("experimental-webgl",Ve)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===K.getShaderPrecisionFormat&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error("spdengine-3D.WebGLRenderer: "+e.message)}var He=new I.WebGLAnimation;function Ge(){Z=new l.WebGLExtensions(K),(J=new u.WebGLCapabilities(K,Z,e)).isWebGL2||(Z.get("WEBGL_depth_texture"),Z.get("OES_texture_float"),Z.get("OES_texture_half_float"),Z.get("OES_texture_half_float_linear"),Z.get("OES_standard_derivatives"),Z.get("OES_element_index_uint"),Z.get("ANGLE_instanced_arrays")),Z.get("OES_texture_float_linear"),fe=new D.WebGLUtils(K,Z,J),($=new p.WebGLState(K,Z,fe,J)).scissor(Ee.copy(Ie).multiplyScalar(Ce)),$.viewport(_e.copy(Re).multiplyScalar(Ce)),ee=new d.WebGLInfo(K),te=new h.WebGLProperties,le=new f.WebGLMaterialInfos,ne=new m.WebGLTextures(K,Z,$,te,J,fe,ee),re=new g.WebGLAttributes(K),ie=new y.WebGLGeometries(K,re,ee),oe=new v.WebGLObjects(ie,ee),pe=new A.WebGLMorphtargets(K),ae=new x.WebGLPrograms(me,Z,J),se=new M.WebGLRenderLists,ce=new b.WebGLRenderStates,ue=new w.WebGLBackground(me,$,oe,V),de=new _.WebGLBufferRenderer(K,Z,ee,J),he=new E.WebGLIndexedBufferRenderer(K,Z,ee,J),ee.programs=ae.programs,me.context=K,me.capabilities=J,me.extensions=Z,me.properties=te,me.materialInfos=le,me.renderLists=se,me.state=$,me.info=ee}Ge();var We="xr"in navigator?new O.WebXRManager(me):new L.WebVRManager(me);this.vr=We;var Xe=new S.WebGLShadowMap(me,oe,J.maxTextureSize);function Ye(e){var t=e.target;t.removeEventListener("dispose",Ye),function(e){Qe(e),le.remove(e)}(t)}function Qe(e){var t=le.get(e).program;e.program=void 0,void 0!==t&&ae.releaseProgram(t)}this.shadowMap=Xe,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){var e=Z.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=Z.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Ce},this.setPixelRatio=function(e){void 0!==e&&(Ce=e,this.setSize(Pe,Te,!1))},this.getSize=function(){return{width:Pe,height:Te}},this.setSize=function(e,n,r){We.isPresenting()?console.warn("spdengine-3D.WebGLRenderer: Can't change size while VR device is presenting."):(Pe=e,Te=n,t.width=e*Ce,t.height=n*Ce,!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(){return{width:Pe*Ce,height:Te*Ce}},this.setDrawingBufferSize=function(e,n,r){Pe=e,Te=n,Ce=r,t.width=e*r,t.height=n*r,this.setViewport(0,0,e,n)},this.getCurrentViewport=function(){return _e},this.setViewport=function(e,t,n,r){Re.set(e,Te-t-r,n,r),$.viewport(_e.copy(Re).multiplyScalar(Ce))},this.setScissor=function(e,t,n,r){Ie.set(e,Te-t-r,n,r),$.scissor(Ee.copy(Ie).multiplyScalar(Ce))},this.setScissorTest=function(e){$.setScissorTest(Oe=e)},this.getClearColor=function(){return ue.getClearColor()},this.setClearColor=function(e,t){ue.setClearColor(e,t)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(e){ue.setClearAlpha(e)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=K.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=K.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=K.STENCIL_BUFFER_BIT),K.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.dispose=function(){Y&&(Y.init(),Y=null),Q=null,se.dispose(),ce.dispose(),te.dispose(),le.dispose(),oe.dispose(),We.dispose(),He.stop(),ie.dispose(),n=null},this.renderBufferImmediate=function(e,t){$.initAttributes();var n=te.get(e);e.hasPositions&&!n.position&&(n.position=K.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=K.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=K.createBuffer()),e.hasColors&&!n.color&&(n.color=K.createBuffer());var r=t.getAttributes();e.hasPositions&&(K.bindBuffer(K.ARRAY_BUFFER,n.position),K.bufferData(K.ARRAY_BUFFER,e.positionArray,K.DYNAMIC_DRAW),$.enableAttribute(r.position),K.vertexAttribPointer(r.position,3,K.FLOAT,!1,0,0)),e.hasNormals&&(K.bindBuffer(K.ARRAY_BUFFER,n.normal),K.bufferData(K.ARRAY_BUFFER,e.normalArray,K.DYNAMIC_DRAW),$.enableAttribute(r.normal),K.vertexAttribPointer(r.normal,3,K.FLOAT,!1,0,0)),e.hasUvs&&(K.bindBuffer(K.ARRAY_BUFFER,n.uv),K.bufferData(K.ARRAY_BUFFER,e.uvArray,K.DYNAMIC_DRAW),$.enableAttribute(r.uv),K.vertexAttribPointer(r.uv,2,K.FLOAT,!1,0,0)),e.hasColors&&(K.bindBuffer(K.ARRAY_BUFFER,n.color),K.bufferData(K.ARRAY_BUFFER,e.colorArray,K.DYNAMIC_DRAW),$.enableAttribute(r.color),K.vertexAttribPointer(r.color,3,K.FLOAT,!1,0,0)),$.disableUnusedAttributes(),K.drawArrays(K.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,o,a){var s=o.isMesh&&o.normalMatrix.determinant()<0;$.setMaterial(i,s);var c=$e(e,t,i,o),l=!1;be.geometry===n.id&&be.program===c.id&&be.wireframe===(!0===i.wireframe)||(be.geometry=n.id,be.program=c.id,be.wireframe=!0===i.wireframe,l=!0),o.morphTargetInfluences&&(pe.update(o,n,i,c),l=!0);var u,p=n.index,d=n.attributes.get("position"),h=1;!0===i.wireframe&&(p=i.isGumLine?(h=1,n.index):(h=2,ie.getWireframeAttribute(n)));var f=de;null!==p&&(u=re.get(p),(f=he).setIndex(u)),l&&(function(e,t,n){if(n&&n.isInstancedBufferGeometry&&!J.isWebGL2&&null===Z.get("ANGLE_instanced_arrays"))console.error("spdengine-3D.WebGLRenderer.setupVertexAttributes: using spdengine-3D.InstancedBufferGeometry3D but hardware does not support extension ANGLE_instanced_arrays.");else{$.initAttributes();var r=n.attributes,i=t.getAttributes(),o=e.defaultAttributeValues;for(var a in i){var s=i[a];if(s>=0){var c=r.get(a);if(void 0!==c){var l=c.normalized,u=c.itemSize,p=re.get(c);if(void 0===p)continue;var d=p.buffer,h=p.type,f=p.bytesPerElement;if(c.isInterleavedBufferAttribute){var m=c.data,g=m.stride,y=c.offset;m&&m.isInstancedInterleavedBuffer?($.enableAttributeAndDivisor(s,m.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=m.meshPerAttribute*m.count)):$.enableAttribute(s),K.bindBuffer(K.ARRAY_BUFFER,d),K.vertexAttribPointer(s,u,h,l,g*f,y*f)}else c.isInstancedBufferAttribute?($.enableAttributeAndDivisor(s,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):$.enableAttribute(s),K.bindBuffer(K.ARRAY_BUFFER,d),K.vertexAttribPointer(s,u,h,l,0,0)}else if(void 0!==o){var v=o[a];if(void 0!==v)switch(v.length){case 2:K.vertexAttrib2fv(s,v);break;case 3:K.vertexAttrib3fv(s,v);break;case 4:K.vertexAttrib4fv(s,v);break;default:K.vertexAttrib1fv(s,v)}}}}$.disableUnusedAttributes()}}(i,c,n),null!==p&&K.bindBuffer(K.ELEMENT_ARRAY_BUFFER,u.buffer),this.info.render.updateBufferCount++);var m=1/0;null!==p?m=p.count:void 0!==d&&(m=d.count);var g=i.isGumLine?n.lineDrawRange.start*h:n.drawRange.start*h,y=i.isGumLine?n.lineDrawRange.count*h:n.drawRange.count*h,v=null!==a?a.start*h:0,x=null!==a?a.count*h:1/0,M=Math.max(g,v),b=Math.min(m,g+y,v+x)-1,w=Math.max(0,b-M+1);if(0!==w){if(i.isGumLine)f.setMode(K.LINES);else{if(o.isMesh)if(!0===i.wireframe)$.setLineWidth(i.wireframeLinewidth*ze()),f.setMode(K.LINES);else switch(o.drawMode){case r.Constant.TrianglesDrawMode:f.setMode(K.TRIANGLES);break;case r.Constant.TriangleStripDrawMode:f.setMode(K.TRIANGLE_STRIP);break;case r.Constant.TriangleFanDrawMode:f.setMode(K.TRIANGLE_FAN)}else if(o.isLine){var A=i.linewidth;void 0===A&&(A=1),$.setLineWidth(A*ze()),o.isLineSegments?f.setMode(K.LINES):o.isLineLoop?f.setMode(K.LINE_LOOP):f.setMode(K.LINE_STRIP)}else o.isPoints?f.setMode(K.POINTS):o.isSprite&&f.setMode(K.TRIANGLES);o.isEntity&&(o.code===U.CodeType3D.Solid3D||o.code===U.CodeType3D.Surface?f.setMode(K.TRIANGLES):o.code===U.CodeType3D.Curve3D?f.setMode(K.LINES):o.code===U.CodeType3D.Point3D?f.setMode(K.POINTS):o.code===U.CodeType3D.PolyLine?f.setMode(K.LINE_STRIP):o.code===U.CodeType3D.IndexLine?f.setMode(K.LINES):f.setMode(K.TRIANGLES))}n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&f.renderInstances(n,M,w):f.render(M,w)}},this.compile=function(e,t){(X=ce.get(e,t)).init(),e.traverse(function(e){e.isLight&&(X.pushLight(e),e.castShadow&&X.pushShadow(e))}),X.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)Je(t.material[n],e.fog,t);else Je(t.material,e.fog,t)})};var qe=null;function Ke(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,c=a.geometry,l=void 0===r?a.material:r,u=a.group;if(n.isArrayCamera){Ae=n;for(var p=n.cameras,d=0,h=p.length;d<h;d++){var f=p[d];if(s.layers.test(f.layers)){if("viewport"in f)$.viewport(_e.copy(f.viewport));else{var m=f.bounds,g=m.x*Pe,y=m.y*Te,v=m.z*Pe,x=m.w*Te;$.viewport(_e.set(g,y,v,x).multiplyScalar(Ce))}Ze(s,t,f,c,l,u)}}}else Ae=null,Ze(s,t,n,c,l,u)}}function Ze(e,t,n,r,i,o){if(e.onBeforeRender(me,t,n,r,i,o),X=ce.get(t,Ae||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){$.setMaterial(i);var a=$e(n,t.fog,i,e);be.geometry=null,be.program=null,be.wireframe=!1,function(e,t){e.render(function(e){me.renderBufferImmediate(e,t)})}(e,a)}else me.renderBufferDirect(n,t.fog,r,i,e,o);e.onAfterRender(me,t,n,r,i,o),X=ce.get(t,Ae||n)}function Je(e,t,n){var r=le.get(e),i=X.state.lights,o=X.state.shadowsArray,a=r.lightsHash,s=i.state.hash,c=ae.getParameters(e,i.state,o,t,ke.numPlanes,ke.numIntersection,n),l=ae.getProgramCode(e,c),u=r.program,p=!0;if(void 0===u)e.addEventListener("dispose",Ye);else if(u.code!==l)Qe(e);else if(a.stateID!==s.stateID||a.directionalLength!==s.directionalLength||a.pointLength!==s.pointLength||a.spotLength!==s.spotLength||a.rectAreaLength!==s.rectAreaLength||a.hemiLength!==s.hemiLength||a.shadowsLength!==s.shadowsLength)a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,p=!1;else{if(void 0!==c.shaderID)return;p=!1}if(p){if(c.shaderID){var d=k.ShaderLib[c.shaderID];r.shader={name:e.type,uniforms:B.UniformsUtils.clone(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,me),l=ae.getProgramCode(e,c),u=ae.acquireProgram(e,r.shader,c,l),r.program=u,e.program=u}var h=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var f=0;f<me.maxMorphTargets;f++)h["morphTarget"+f]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals)for(e.numSupportedMorphNormals=0,f=0;f<me.maxMorphNormals;f++)h["morphNormal"+f]>=0&&e.numSupportedMorphNormals++;var m=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=ke.numPlanes,r.numIntersection=ke.numIntersection,m.clippingPlanes=ke.uniform),r.fog=t,void 0===a&&(r.lightsHash=a={}),a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,e.lights&&(m.ambientLightColor.value=i.state.ambient,m.directionalLights.value=i.state.directional,m.spotLights.value=i.state.spot,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=r.program.getUniforms(),y=P.WebGLUniforms.seqWithValue(g.seq,m);r.uniformsList=y}function $e(e,t,n,i){Se=0;var o=le.get(n),a=X.state.lights,c=o.lightsHash,l=a.state.hash;if(Be&&(Ue||e!==we)){var u=e===we&&n.id===Me;ke.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,o,u)}!1===n.needsUpdate&&(void 0===o.program?n.needsUpdate=!0:n.fog&&o.fog!==t?n.needsUpdate=!0:(!n.lights||c.stateID===l.stateID&&c.directionalLength===l.directionalLength&&c.pointLength===l.pointLength&&c.spotLength===l.spotLength&&c.rectAreaLength===l.rectAreaLength&&c.hemiLength===l.hemiLength&&c.shadowsLength===l.shadowsLength)&&(void 0===o.numClippingPlanes||o.numClippingPlanes===ke.numPlanes&&o.numIntersection===ke.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(Je(n,t,i),n.needsUpdate=!1);var p,d,h=!1,f=!1,m=!1,g=o.program,y=g.getUniforms(),v=o.shader.uniforms;if($.useProgram(g.program)&&(h=!0,f=!0,m=!0),n.id!==Me&&(Me=n.id,f=!0),h||e!==we){if(y.setValue(K,"projectionMatrix",e.projectionMatrix),J.logarithmicDepthBuffer&&y.setValue(K,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),we!==(Ae||e)&&(we=Ae||e,f=!0,m=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var x=y.map.cameraPosition;void 0!==x&&x.setValue(K,Fe.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&y.setValue(K,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){y.setOptional(K,i,"bindMatrix"),y.setOptional(K,i,"bindMatrixInverse");var M=i.skeleton;if(M){var b=M.bones;if(J.floatVertexTextures){if(void 0===M.boneTexture){var w=Math.sqrt(4*b.length);w=T._Math.ceilPowerOfTwo(w),w=Math.max(w,4);var A=new Float32Array(w*w*4);A.set(M.boneMatrices);var _=new C.DataTexture(A,w,w,r.Constant.RGBAFormat,r.Constant.FloatType);_.needsUpdate=!0,M.boneMatrices=A,M.boneTexture=_,M.boneTextureSize=w}y.setValue(K,"boneTexture",M.boneTexture),y.setValue(K,"boneTextureSize",M.boneTextureSize)}else y.setOptional(K,M,"boneMatrices")}}f&&(y.setValue(K,"toneMappingExposure",me.toneMappingExposure),y.setValue(K,"toneMappingWhitePoint",me.toneMappingWhitePoint),n.lights&&(d=m,(p=v).ambientLightColor.needsUpdate=d,p.directionalLights.needsUpdate=d,p.pointLights.needsUpdate=d,p.spotLights.needsUpdate=d,p.rectAreaLights.needsUpdate=d,p.hemisphereLights.needsUpdate=d),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(v,t),n.isMeshBasicMaterial?et(v,n):n.isMeshLambertMaterial?(et(v,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(v,n)):n.isMeshPhongMaterial?(et(v,n),n.isMeshToonMaterial?function(e,t){tt(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(v,n):tt(v,n)):n.isMeshStandardMaterial?(et(v,n),n.isMeshPhysicalMaterial?function(e,t){nt(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(v,n):nt(v,n)):n.isMeshDepthMaterial?(et(v,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(v,n)):n.isMeshDistanceMaterial?(et(v,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(v,n)):n.isMeshNormalMaterial?(et(v,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===r.Constant.BackSide&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===r.Constant.BackSide&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(v,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(v,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(v,n)):n.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*Ce,e.scale.value=.5*Te,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(v,n):n.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(v,n):n.isShadowMaterial&&(v.color.value=n.color,v.opacity.value=n.opacity),void 0!==v.ltc_1&&(v.ltc_1.value=R.UniformsLib.LTC_1),void 0!==v.ltc_2&&(v.ltc_2.value=R.UniformsLib.LTC_2),P.WebGLUniforms.upload(K,o.uniformsList,v,me)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(P.WebGLUniforms.upload(K,o.uniformsList,v,me),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&y.setValue(K,"center",i.center),y.setValue(K,"modelViewMatrix",i.modelViewMatrix),y.setValue(K,"normalMatrix",i.normalMatrix),y.setValue(K,"modelMatrix",i.matrixWorld),y.setValue(K,"paramUniform",i.paramUniform),y.setValue(K,"vParamUniform",i.vParamUniform),y.setValue(K,"uParamUniform",i.uParamUniform);var E=s.Matrix43D.get().identity();return y.setValue(K,"projectMatrix",e.projectMatrix?E.multiplyMatrices(e.matrixWorldInverse,E.getInverse(e.projectMatrix)).multiply(i.matrixWorld):i.modelViewMatrix),s.Matrix43D.back(E),g}function et(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=te.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function tt(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===r.Constant.BackSide&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===r.Constant.BackSide&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function nt(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===r.Constant.BackSide&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===r.Constant.BackSide&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}He.setAnimationLoop(function(e){We.isPresenting()||qe&&qe(e)}),"undefined"!=typeof window&&He.setContext(window),this.setAnimationLoop=function(e){qe=e,We.setAnimationLoop(e),He.start()},this.setupLights=function(e){Y||(Y=new b.WebGLRenderState),e.map(function(e){Y.pushLight(e),e.castShadow&&Y.pushShadow(e)})},this.setGumFog=function(e){Q=e},this.getFrustum=function(){return Le},this.render=function(e,t,n,r){if(t&&t.isCamera){if(!ge){be.geometry=null,be.program=null,be.wireframe=!1,Me=-1,we=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),We.enabled&&(t=We.getCamera(t)),(X=ce.get(e,t)).init(),e.onBeforeRender(me,e,t,n),Ne.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Le.setFromMatrix(Ne),Ue=this.localClippingEnabled,Be=Ue?ke.init(this.clippingPlanes,Ue,t):ke.init([],Ue,t),(W=se.get(e,t)).init(),function e(t,n,r){if(!1!==t.visible){var i=t.layers.test(n.layers);if(i)if(t.isLight)X.pushLight(t),t.castShadow&&X.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||Le.intersectsSprite(t)){r&&Fe.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Ne);var o=oe.update(t),a=t.material;W.push(t,o,a,Fe.z,null)}}else if(t.isImmediateRenderObject)r&&Fe.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Ne),W.push(t,null,t.material,Fe.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||Le.intersectsObject(t))){r&&Fe.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Ne);var o=oe.update(t),a=t.material;if(Array.isArray(a))for(var s=o.groups,c=0,l=s.length;c<l;c++){var u=s[c],p=a[u.materialIndex];p&&p.visible&&W.push(t,o,p,Fe.z,u)}else a.visible&&W.push(t,o,a,Fe.z,null)}for(var d=t.children,c=0,l=d.length;c<l;c++)e(d[c],n,r)}}(e,t,me.sortObjects),!0===me.sortObjects&&W.sort(),Be&&ke.beginShadows();var i=X.state.shadowsArray;Xe.render(i,e,t),X.setupLights(t),Be&&ke.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),t.viewport&&(q=t.viewport,$.viewport(je.set(_e.z+q.x,_e.w+q.y,q.z,q.z))),ue.render(W,e,t,r);var o=W.opaque,a=W.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&Ke(o,e,t,s),a.length&&Ke(a,e,t,s)}else o.length&&Ke(o,e,t),a.length&&Ke(a,e,t);n&&ne.updateRenderTargetMipmap(n),$.buffers.depth.setTest(!0),$.buffers.depth.setMask(!0),$.buffers.color.setMask(!0),$.setPolygonOffset(!1),e.onAfterRender(me,e,t),We.enabled&&We.submitFrame(),W=null,X=Y}}else console.error("spdengine-3D.WebGLRenderer.render: Camera3D is not an instance of spdengine-3D.Camera3D.")},this.gumRender=function(e,t,n){ge||(we=null,X=Y,Ne.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Le.setFromMatrix(Ne),Ue=this.localClippingEnabled,Be=Ue?ke.init(this.clippingPlanes,Ue,t):ke.init([],Ue,t),X.setupLights(t),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),t.viewport&&(q=t.viewport,$.viewport(je.set(_e.z+q.x,_e.w+q.y,q.z,q.z))),e.renderObjects(Le),n&&ne.updateRenderTargetMipmap(n),$.buffers.depth.setTest(!0),$.buffers.depth.setMask(!0),$.buffers.color.setMask(!0),$.setPolygonOffset(!1))},this.gumRenderObject=function(e,t,n,r,i){e.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld),e.code!==U.CodeType3D.Text&&e.normalMatrix.getNormalMatrix(e.modelViewMatrix),oe.update(e),me.renderBufferDirect(t,Q,n,r,e,i)},this.allocTextureUnit=function(){var e=Se;return e>=J.maxTextures&&console.warn("spdengine-3D.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+J.maxTextures),Se+=1,e},this.setTexture2D=function(e,t){ne.setTexture2D(e,t)},this.setTexture=function(e,t){ne.setTexture2D(e,t)},this.setTextureCube=function(e,t){e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?ne.setTextureCube(e,t):ne.setTextureCubeDynamic(e,t)},this.setFramebuffer=function(e){ye=e},this.getRenderTarget=function(){return ve},this.setRenderTarget=function(e){ve=e,e&&void 0===te.get(e).__webglFramebuffer&&ne.setupRenderTarget(e);var t=ye,n=!1;if(e){var r=te.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=r,_e.copy(e.viewport),Ee.copy(e.scissor),De=e.scissorTest}else _e.copy(Re).multiplyScalar(Ce),Ee.copy(Ie).multiplyScalar(Ce),De=Oe;if(xe!==t&&(K.bindFramebuffer(K.FRAMEBUFFER,t),xe=t),$.viewport(_e),$.scissor(Ee),$.setScissorTest(De),n){var i=te.get(e.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,i,o,a){if(e&&e.isWebGLRenderTarget){var s=te.get(e).__webglFramebuffer;if(s){var c=!1;s!==xe&&(K.bindFramebuffer(K.FRAMEBUFFER,s),c=!0);try{var l=e.texture,u=l.format,p=l.type;if(u!==r.Constant.RGBAFormat&&fe.convert(u)!==K.getParameter(K.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("spdengine-3D.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(p===r.Constant.UnsignedByteType||fe.convert(p)===K.getParameter(K.IMPLEMENTATION_COLOR_READ_TYPE)||p===r.Constant.FloatType&&(J.isWebGL2||Z.get("OES_texture_float")||Z.get("WEBGL_color_buffer_float"))||p===r.Constant.HalfFloatType&&(J.isWebGL2?Z.get("EXT_color_buffer_float"):Z.get("EXT_color_buffer_half_float"))))return void console.error("spdengine-3D.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");K.checkFramebufferStatus(K.FRAMEBUFFER)===K.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-o&&K.readPixels(t,n,i,o,fe.convert(u),fe.convert(p),a):console.error("spdengine-3D.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&K.bindFramebuffer(K.FRAMEBUFFER,xe)}}}else console.error("spdengine-3D.WebGLRenderer.readRenderTargetPixels: renderTarget is not spdengine-3D.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,o=fe.convert(t.format);this.setTexture2D(t,0),K.copyTexImage2D(K.TEXTURE_2D,n||0,o,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,o=t.image.height,a=fe.convert(n.format),s=fe.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,r||0,e.x,e.y,i,o,a,s,t.image.data):K.texSubImage2D(K.TEXTURE_2D,r||0,e.x,e.y,a,s,t.image)},this.onContextLost=function(e){e.preventDefault(),console.warn("spdengine-3D.WebGLRenderer: Context Lost."),ge=!0},this.onContextRestore=function(){console.warn("spdengine-3D.WebGLRenderer: Context Restored."),ge=!1,Ge()}}}();t.GUMWebGLRenderer=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71),i=n(35),o=function(){return function(){var e=this,t=null,n=0,o=!1,a=!1,s=new r.Plane3D,c=new i.Matrix33D,l={value:null,needsUpdate:!1};function u(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function p(t,n,r,i){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=l.value,!0!==i||null===a){var u=r+4*o,p=n.matrixWorldInverse;c.getNormalMatrix(p),(null===a||a.length<u)&&(a=new Float32Array(u));for(var d=0,h=r;d!==o;++d,h+=4)s.copy(t[d]).applyMatrix4(p,c),s.normal.toArray(a,h),a[h+3]=s.constant}l.value=a,l.needsUpdate=!0}return e.numPlanes=o,a}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,r,i){var a=0!==e.length||r||0!==n||o;return o=r,t=p(e,i,0),n=e.length,a},this.beginShadows=function(){a=!0,p(null)},this.endShadows=function(){a=!1,u()},this.setState=function(e,r,i,s,c,d){if(!o||null===e||0===e.length||a&&!i)a?p(null):u();else{var h=a?0:n,f=4*h,m=c.clippingState||null;l.value=m,m=p(e,s,f,d);for(var g=0;g!==f;++g)m[g]=t[g];c.clippingState=m,this.numIntersection=r?this.numPlanes:0,this.numPlanes+=h}}}}();t.WebGLClipping=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){var t=new Map;this.get=function(n){if(t.has(n))return t.get(n);var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("spdengine-3D.WebGLRenderer: "+n+" extension not supported."),t.set(n,r),r}}}();t.WebGLExtensions=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,n,r){var i;function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a=void 0!==t.WebGL2RenderingContext&&e instanceof t.WebGL2RenderingContext,s=void 0!==r.precision?r.precision:"highp",c=o(s);c!==s&&(console.warn("spdengine-3D.WebGLRenderer:",s,"not supported, using",c,"instead."),s=c);var l=!0===r.logarithmicDepthBuffer,u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),p=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),f=e.getParameter(e.MAX_VERTEX_ATTRIBS),m=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),g=e.getParameter(e.MAX_VARYING_VECTORS),y=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),v=p>0,x=a||!!n.get("OES_texture_float"),M=v&&x;this.isWebGL2=a,this.getMaxAnisotropy=function(){if(void 0!==i)return i;var t=n.get("EXT_texture_filter_anisotropic");return i=null!==t?e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},this.getMaxPrecision=o,this.precision=s,this.logarithmicDepthBuffer=l,this.maxTextures=u,this.maxVertexTextures=p,this.maxTextureSize=d,this.maxCubemapSize=h,this.maxAttributes=f,this.maxVertexUniforms=m,this.maxVaryings=g,this.maxFragmentUniforms=y,this.vertexTextures=v,this.floatFragmentTextures=x,this.floatVertexTextures=M}}();t.WebGLCapabilities=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),i=n(37),o=function(){return function(e,t){var n=!1,i=new r.Vector43D,o=null,a=new r.Vector43D(0,0,0,0);this.setMask=function(t){o===t||n||(e.colorMask(t,t,t,t),o=t)},this.setLocked=function(e){n=e},this.setClear=function(t,n,r,o,s){!0===s&&(t*=o,n*=o,r*=o),i.set(t,n,r,o),!1===a.equals(i)&&(e.clearColor(t,n,r,o),a.copy(i))},this.reset=function(){n=!1,o=null,a.set(-1,0,0,0)}}}();t.ColorBuffer=o;var a=function(){return function(e,t){var n=!1,r=null,o=null,a=null;this.reset=function(){n=!1,r=null,o=null,a=null},this.setMask=function(t){r===t||n||(e.depthMask(t),r=t)},this.setFunc=function(t){if(o!==t){if(t)switch(t){case i.Constant.NeverDepth:e.depthFunc(e.NEVER);break;case i.Constant.AlwaysDepth:e.depthFunc(e.ALWAYS);break;case i.Constant.LessDepth:e.depthFunc(e.LESS);break;case i.Constant.LessEqualDepth:e.depthFunc(e.LEQUAL);break;case i.Constant.EqualDepth:e.depthFunc(e.EQUAL);break;case i.Constant.GreaterEqualDepth:e.depthFunc(e.GEQUAL);break;case i.Constant.GreaterDepth:e.depthFunc(e.GREATER);break;case i.Constant.NotEqualDepth:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);o=t}},this.setLocked=function(e){n=e},this.setClear=function(t){a!==t&&(e.clearDepth(t),a=t)},this.setTest=function(n){n?t.enable(e.DEPTH_TEST):t.disable(e.DEPTH_TEST)}}}();t.DepthBuffer=a;var s=function(){return function(e,t){var n=!1,r=null,i=null,o=null,a=null,s=null,c=null,l=null,u=null;this.setTest=function(n){n?t.enable(e.STENCIL_TEST):t.disable(e.STENCIL_TEST)},this.setMask=function(t){r===t||n||(e.stencilMask(t),r=t)},this.setFunc=function(t,n,r){i===t&&o===n&&a===r||(e.stencilFunc(t,n,r),i=t,o=n,a=r)},this.setOp=function(t,n,r){s===t&&c===n&&l===r||(e.stencilOp(t,n,r),s=t,c=n,l=r)},this.setLocked=function(e){n=e},this.setClear=function(t){u!==t&&(e.clearStencil(t),u=t)},this.reset=function(){n=!1,r=null,i=null,o=null,a=null,s=null,c=null,l=null,u=null}}}();t.StencilBuffer=s;var c=function(){return function(e,t,n,c){var l=new o(e,this),u=new a(e,this),p=new s(e,this),d=e.getParameter(e.MAX_VERTEX_ATTRIBS),h=new Uint8Array(d),f=new Uint8Array(d),m=new Uint8Array(d),g={},y=null,v=null,x=null,M=null,b=null,w=null,A=null,_=null,E=null,D=null,S=!1,P=null,T=null,C=null,R=null,I=null,O=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),L=!1,k=0,B=e.getParameter(e.VERSION);-1!==B.indexOf("WebGL")?(k=parseFloat(/^WebGL\ ([0-9])/.exec(B)[1]),L=k>=1):-1!==B.indexOf("OpenGL ES")&&(k=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(B)[1]),L=k>=2);var U=null,N={},F=new r.Vector43D,j=new r.Vector43D;function z(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var a=0;a<r;a++)e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,i);return o}var V={};function H(n,r){h[n]=1,0===f[n]&&(e.enableVertexAttribArray(n),f[n]=1),m[n]!==r&&((c.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[c.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),m[n]=r)}function G(t){!0!==g[t]&&(e.enable(t),g[t]=!0)}function W(t){!1!==g[t]&&(e.disable(t),g[t]=!1)}function X(t,r,o,a,s,c,l,u){if(t!==i.Constant.NoBlending){if(x||(G(e.BLEND),x=!0),t===i.Constant.CustomBlending)s=s||r,c=c||o,l=l||a,r===b&&s===_||(e.blendEquationSeparate(n.convert(r),n.convert(s)),b=r,_=s),o===w&&a===A&&c===E&&l===D||(e.blendFuncSeparate(n.convert(o),n.convert(a),n.convert(c),n.convert(l)),w=o,A=a,E=c,D=l),M=t,S=null;else if(t!==M||u!==S){if(b===i.Constant.AddEquation&&_===i.Constant.AddEquation||(e.blendEquation(e.FUNC_ADD),b=i.Constant.AddEquation,_=i.Constant.AddEquation),u)switch(t){case i.Constant.NormalBlending:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case i.Constant.AdditiveBlending:e.blendFunc(e.ONE,e.ONE);break;case i.Constant.SubtractiveBlending:e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA);break;case i.Constant.MultiplyBlending:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("spdengine-3D.WebGLState: Invalid blending: ",t)}else switch(t){case i.Constant.NormalBlending:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case i.Constant.AdditiveBlending:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case i.Constant.SubtractiveBlending:e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR);break;case i.Constant.MultiplyBlending:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("spdengine-3D.WebGLState: Invalid blending: ",t)}w=null,A=null,E=null,D=null,M=t,S=u}}else 0!=x&&(W(e.BLEND),x=!1)}function Y(t){P!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),P=t)}function Q(t){t!==i.Constant.CullFaceNone?(G(e.CULL_FACE),t!==T&&(t===i.Constant.CullFaceBack?e.cullFace(e.BACK):t===i.Constant.CullFaceFront?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):W(e.CULL_FACE),T=t}function q(t,n,r){t?(G(e.POLYGON_OFFSET_FILL),R===n&&I===r||(e.polygonOffset(n,r),R=n,I=r)):W(e.POLYGON_OFFSET_FILL)}function K(t){void 0===t&&(t=e.TEXTURE0+O-1),U!==t&&(e.activeTexture(t),U=t)}V[e.TEXTURE_2D]=z(e.TEXTURE_2D,e.TEXTURE_2D,1),V[e.TEXTURE_CUBE_MAP]=z(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),l.setClear(0,0,0,1),u.setClear(1),p.setClear(0),G(e.DEPTH_TEST),u.setFunc(i.Constant.LessEqualDepth),Y(!1),Q(i.Constant.CullFaceBack),G(e.CULL_FACE),X(i.Constant.NoBlending),this.buffers={color:l,depth:u,stencil:p},this.initAttributes=function(){for(var e=0,t=h.length;e<t;e++)h[e]=0},this.enableAttribute=function(e){H(e,0)},this.enableAttributeAndDivisor=H,this.disableUnusedAttributes=function(){for(var t=0,n=f.length;t!==n;++t)f[t]!==h[t]&&(e.disableVertexAttribArray(t),f[t]=0)},this.enable=G,this.disable=W,this.getCompressedTextureFormats=function(){if(null===y&&(y=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)y.push(n[r]);return y},this.useProgram=function(t){return v!==t&&(e.useProgram(t),v=t,!0)},this.setBlending=X,this.setMaterial=function(t,n){t.side===i.Constant.DoubleSide?W(e.CULL_FACE):G(e.CULL_FACE);var r=t.side===i.Constant.BackSide;n&&(r=!r),Y(r),t.blending===i.Constant.NormalBlending&&!1===t.transparent?X(i.Constant.NoBlending):X(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),u.setFunc(t.depthFunc),u.setTest(t.depthTest),u.setMask(t.depthWrite),l.setMask(t.colorWrite),q(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},this.setFlipSided=Y,this.setCullFace=Q,this.setLineWidth=function(t){t!==C&&(L&&e.lineWidth(t),C=t)},this.setPolygonOffset=q,this.setScissorTest=function(t){t?G(e.SCISSOR_TEST):W(e.SCISSOR_TEST)},this.activeTexture=K,this.bindTexture=function(t,n){null===U&&K();var r=N[U];void 0===r&&(r={type:void 0,texture:void 0},N[U]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||V[t]),r.type=t,r.texture=n)},this.compressedTexImage2D=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("spdengine-3D.WebGLState:",e)}},this.texImage2D=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.texImage2D.apply(e,arguments)}catch(e){console.error("spdengine-3D.WebGLState:",e)}},this.scissor=function(t){!1===F.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),F.copy(t))},this.viewport=function(t){!1===j.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),j.copy(t))},this.reset=function(){for(var t=0;t<f.length;t++)1===f[t]&&(e.disableVertexAttribArray(t),f[t]=0);g={},y=null,U=null,N={},v=null,M=null,P=null,T=null,l.reset(),u.reset(),p.reset()}}}();t.WebGLState=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0,updateBufferCount:0};this.memory={geometries:0,textures:0},this.render=t,this.programs=null,this.autoReset=!1,this.reset=function(){t.frame=0,t.calls=0,t.triangles=0,t.points=0,t.lines=0,t.updateBufferCount=0},this.update=function(n,r,i){switch(i=i||1,t.frame++,t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.TRIANGLE_STRIP:case e.TRIANGLE_FAN:t.triangles+=i*(n-2);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("spdengine-3D.WebGLInfo: Unknown draw mode:",r)}}}}();t.WebGLInfo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(){var e=new WeakMap;this.get=function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},this.remove=function(t){e.delete(t)},this.update=function(t,n,r){e.get(t)[n]=r},this.dispose=function(){e=new WeakMap}}}();t.WebGLProperties=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(116),i=function(){return function(){var e=new r.ArrayMap;this.get=function(t){var n=e.get(t.id);return void 0===n&&(n={},e.set(t.id,n)),n},this.remove=function(t){e.delete(t.id)},this.update=function(t,n,r){e.get(t.id)[n]=r},this.dispose=function(){e.clear()}}}();t.WebGLMaterialInfos=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),i=n(37),o=function(){return function(e,t,n,o,a,s,c){var l,u={};function p(e,t){if(e.width>t||e.height>t){if("data"in e)return void console.warn("spdengine-3D.WebGLRenderer: image in DataTexture is too big ("+e.width+"x"+e.height+").");var n=t/Math.max(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=Math.floor(e.width*n),r.height=Math.floor(e.height*n),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("spdengine-3D.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height),r}return e}function d(e){return r._Math.isPowerOfTwo(e.width)&&r._Math.isPowerOfTwo(e.height)}function h(e,t){return e.generateMipmaps&&t&&e.minFilter!==i.Constant.NearestFilter&&e.minFilter!==i.Constant.LinearFilter}function f(t,n,r,i){e.generateMipmap(t),o.get(n).__maxMipLevel=Math.log(Math.max(r,i))*Math.LOG2E}function m(t,n){if(!a.isWebGL2)return t;if(t===e.RGB){if(n===e.FLOAT)return e.RGB32F;if(n===e.HALF_FLOAT)return e.RGB16F;if(n===e.UNSIGNED_BYTE)return e.RGB8}if(t===e.RGBA){if(n===e.FLOAT)return e.RGBA32F;if(n===e.HALF_FLOAT)return e.RGBA16F;if(n===e.UNSIGNED_BYTE)return e.RGBA8}return t}function g(t){return t===i.Constant.NearestFilter||t===i.Constant.NearestMipMapNearestFilter||t===i.Constant.NearestMipMapLinearFilter?e.NEAREST:e.LINEAR}function y(t){var n=t.target;n.removeEventListener("dispose",y),function(t){var n=o.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}o.remove(t)}(n),n.isVideoTexture&&delete u[n.id],c.memory.textures--}function v(t){var n=t.target;n.removeEventListener("dispose",v),function(t){var n=o.get(t),r=o.get(t.texture);if(t){if(void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var i=0;i<6;i++)e.deleteFramebuffer(n.__webglFramebuffer[i]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[i]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);o.remove(t.texture),o.remove(t)}}(n),c.memory.textures--}function x(t,g){var v=o.get(t);if(t.isVideoTexture&&function(e){var t=e.id,n=c.render.frame;u[t]!==n&&(u[t]=n,e.update())}(t),t.version>0&&v.__version!==t.version){var x=t.image;if(void 0===x)console.warn("spdengine-3D.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==x.complete)return void function(t,o,u){void 0===t.__webglInit&&(t.__webglInit=!0,o.addEventListener("dispose",y),t.__webglTexture=e.createTexture(),c.memory.textures++),n.activeTexture(e.TEXTURE0+u),n.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment);var g=p(o.image,a.maxTextureSize);(function(e){return!a.isWebGL2&&(e.wrapS!==i.Constant.ClampToEdgeWrapping||e.wrapT!==i.Constant.ClampToEdgeWrapping||e.minFilter!==i.Constant.NearestFilter&&e.minFilter!==i.Constant.LinearFilter)})(o)&&!1===d(g)&&(g=function(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap?(void 0===l&&(l=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),l.width=r._Math.floorPowerOfTwo(e.width),l.height=r._Math.floorPowerOfTwo(e.height),l.getContext("2d").drawImage(e,0,0,l.width,l.height),console.warn("spdengine-3D.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+l.width+"x"+l.height),l):e}(g));var v=d(g),x=s.convert(o.format),b=s.convert(o.type),w=m(x,b);M(e.TEXTURE_2D,o,v);var A,_=o.mipmaps;if(o.isDepthTexture){if(w=e.DEPTH_COMPONENT,o.type===i.Constant.FloatType){if(!a.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");w=e.DEPTH_COMPONENT32F}else a.isWebGL2&&(w=e.DEPTH_COMPONENT16);o.format===i.Constant.DepthFormat&&w===e.DEPTH_COMPONENT&&o.type!==i.Constant.UnsignedShortType&&o.type!==i.Constant.UnsignedIntType&&(console.warn("spdengine-3D.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),o.type=i.Constant.UnsignedShortType,b=s.convert(o.type)),o.format===i.Constant.DepthStencilFormat&&(w=e.DEPTH_STENCIL,o.type!==i.Constant.UnsignedInt248Type&&(console.warn("spdengine-3D.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),o.type=i.Constant.UnsignedInt248Type,b=s.convert(o.type))),n.texImage2D(e.TEXTURE_2D,0,w,g.width,g.height,0,x,b,null)}else if(o.isDataTexture)if(_.length>0&&v){for(var E=0,D=_.length;E<D;E++)A=_[E],n.texImage2D(e.TEXTURE_2D,E,w,A.width,A.height,0,x,b,A.data);o.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(e.TEXTURE_2D,0,w,g.width,g.height,0,x,b,g.data),t.__maxMipLevel=0;else if(o.isCompressedTexture){for(var E=0,D=_.length;E<D;E++)A=_[E],o.format!==i.Constant.RGBAFormat&&o.format!==i.Constant.RGBFormat?n.getCompressedTextureFormats().indexOf(x)>-1?n.compressedTexImage2D(e.TEXTURE_2D,E,w,A.width,A.height,0,A.data):console.warn("spdengine-3D.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,E,w,A.width,A.height,0,x,b,A.data);t.__maxMipLevel=_.length-1}else if(_.length>0&&v){for(var E=0,D=_.length;E<D;E++)A=_[E],n.texImage2D(e.TEXTURE_2D,E,w,x,b,A);o.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(e.TEXTURE_2D,0,w,x,b,g),t.__maxMipLevel=0;h(o,v)&&f(e.TEXTURE_2D,o,g.width,g.height),t.__version=o.version,o.onUpdate&&o.onUpdate(o)}(v,t,g);console.warn("spdengine-3D.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(e.TEXTURE0+g),n.bindTexture(e.TEXTURE_2D,v.__webglTexture)}function M(n,r,c){var l;if(c?(e.texParameteri(n,e.TEXTURE_WRAP_S,s.convert(r.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,s.convert(r.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,s.convert(r.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,s.convert(r.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),r.wrapS===i.Constant.ClampToEdgeWrapping&&r.wrapT===i.Constant.ClampToEdgeWrapping||console.warn("spdengine-3D.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to spdengine-3D.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,g(r.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,g(r.minFilter)),r.minFilter!==i.Constant.NearestFilter&&r.minFilter!==i.Constant.LinearFilter&&console.warn("spdengine-3D.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to spdengine-3D.NearestFilter or spdengine-3D.LinearFilter.")),l=t.get("EXT_texture_filter_anisotropic")){if(r.type===i.Constant.FloatType&&null===t.get("OES_texture_float_linear"))return;if(r.type===i.Constant.HalfFloatType&&null===(a.isWebGL2||t.get("OES_texture_half_float_linear")))return;(r.anisotropy>1||o.get(r).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(r.anisotropy,a.getMaxAnisotropy())),o.get(r).__currentAnisotropy=r.anisotropy)}}function b(t,r,i,a){var c=s.convert(r.texture.format),l=s.convert(r.texture.type),u=m(c,l);n.texImage2D(a,0,u,r.width,r.height,0,c,l,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,i,a,o.get(r.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function w(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function A(t){var n=o.get(t),r=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of spdengine-3D.DepthTexture");o.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),x(n.depthTexture,0);var r=o.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===i.Constant.DepthFormat)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,r,0);else{if(n.depthTexture.format!==i.Constant.DepthStencilFormat)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,r,0)}}(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),w(n.__webglDepthbuffer[a],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),w(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}this.setTexture2D=x,this.setTextureCube=function(t,r){var l=o.get(t);if(6===t.image.length)if(t.version>0&&l.__version!==t.version){l.__image__webglTextureCube||(t.addEventListener("dispose",y),l.__image__webglTextureCube=e.createTexture(),c.memory.textures++),n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var u=t&&t.isCompressedTexture,g=t.image[0]&&t.image[0].isDataTexture,v=[],x=0;x<6;x++)v[x]=u||g?g?t.image[x].image:t.image[x]:p(t.image[x],a.maxCubemapSize);var b=v[0],w=d(b),A=s.convert(t.format),_=s.convert(t.type),E=m(A,_);for(M(e.TEXTURE_CUBE_MAP,t,w),x=0;x<6;x++)if(u)for(var D,S=v[x].mipmaps,P=0,T=S.length;P<T;P++)D=S[P],t.format!==i.Constant.RGBAFormat&&t.format!==i.Constant.RGBFormat?n.getCompressedTextureFormats().indexOf(A)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+x,P,E,D.width,D.height,0,D.data):console.warn("spdengine-3D.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+x,P,E,D.width,D.height,0,A,_,D.data);else g?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+x,0,E,v[x].width,v[x].height,0,A,_,v[x].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+x,0,E,A,_,v[x]);l.__maxMipLevel=u?S.length-1:0,h(t,w)&&f(e.TEXTURE_CUBE_MAP,t,b.width,b.height),l.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,r){n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_CUBE_MAP,o.get(t).__webglTexture)},this.setupRenderTarget=function(t){var r=o.get(t),i=o.get(t.texture);t.addEventListener("dispose",v),i.__webglTexture=e.createTexture(),c.memory.textures++;var a=!0===t.isWebGLRenderTargetCube,s=d(t);if(a){r.__webglFramebuffer=[];for(var l=0;l<6;l++)r.__webglFramebuffer[l]=e.createFramebuffer()}else r.__webglFramebuffer=e.createFramebuffer();if(a){for(n.bindTexture(e.TEXTURE_CUBE_MAP,i.__webglTexture),M(e.TEXTURE_CUBE_MAP,t.texture,s),l=0;l<6;l++)b(r.__webglFramebuffer[l],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+l);h(t.texture,s)&&f(e.TEXTURE_CUBE_MAP,t.texture,t.width,t.height),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,i.__webglTexture),M(e.TEXTURE_2D,t.texture,s),b(r.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),h(t.texture,s)&&f(e.TEXTURE_2D,t.texture,t.width,t.height),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&A(t)},this.updateRenderTargetMipmap=function(t){var r=t.texture;if(h(r,d(t))){var i=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,a=o.get(r).__webglTexture;n.bindTexture(i,a),f(i,r,t.width,t.height),n.bindTexture(i,null)}}}}();t.WebGLTextures=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){var t=new WeakMap,n=new Map,r=[],i=new Map,o=[],a=1e3;function s(t,s){var c=t.array,l=t.shared?s===e.ELEMENT_ARRAY_BUFFER?function(){var t=r.pop();return void 0===t?(t=e.createBuffer(),n.set(t,1)):n.get(t)>=a?(r.push(t),t=e.createBuffer(),n.set(t,1)):n.set(t,n.get(t)+1),r.push(t),t}():function(){var t=o.pop();return void 0===t?(t=e.createBuffer(),i.set(t,1)):i.get(t)>=a?(o.push(t),t=e.createBuffer(),i.set(t,1)):i.set(t,i.get(t)+1),o.push(t),t}():e.createBuffer(),u=t.dynamic||t.shared?e.DYNAMIC_DRAW:e.STATIC_DRAW;e.bindBuffer(s,l),e.bufferData(s,c,u),t.onUploadCallback();var p=e.FLOAT;return c instanceof Float32Array?p=e.FLOAT:c instanceof Float64Array?console.warn("spdengine-3D.WebGLAttributes: Unsupported data buffer format: Float64Array."):c instanceof Uint16Array?p=e.UNSIGNED_SHORT:c instanceof Int16Array?p=e.SHORT:c instanceof Uint32Array?p=e.UNSIGNED_INT:c instanceof Int32Array?p=e.INT:c instanceof Int8Array?p=e.BYTE:c instanceof Uint8Array&&(p=e.UNSIGNED_BYTE),{buffer:l,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:t.version}}this.get=function(e){return e.isInterleavedBufferAttribute?t.get(e.data):t.get(e)},this.remove=function(r){if(r.isInterleavedBufferAttribute)return t.get(r.data);var o=t.get(r);!o||n.has(o.array)||i.has(o.array)||(e.deleteBuffer(o.buffer),t.delete(r))},this.update=function(r,o){var a;a=r.isInterleavedBufferAttribute?r.data:r;var c=t.get(a);void 0===c?t.set(a,s(a,o)):n.has(c.buffer)||i.has(c.buffer)?(e.bindBuffer(o,c.buffer),e.bufferData(o,a.array,e.STREAM_DRAW)):c.version<a.version&&(function(t,n,r){var i=n.array,o=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,e.STATIC_DRAW):-1===o.count?e.bufferSubData(r,0,i):0===o.count?console.error("spdengine-3D.WebGLObjects.updateBuffer: dynamic spdengine-3D.BufferAttribute3D marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(c.buffer,a,o),c.version=a.version)},this.dispose=function(){n.clear(),i.clear(),r.map(function(t){return e.deleteBuffer(t)}),o.map(function(t){return e.deleteBuffer(t)})}}}();t.WebGLAttributes=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47),i=n(53),o=n(45),a=n(116),s=function(){return function(e,t,n){var s=new a.ArrayMap,c=new a.ArrayMap;function l(e){var r=e.target,i=s.get(r.id);for(var o in null!==i.index&&t.remove(i.index),null!==i.lineIndex&&t.remove(i.lineIndex),i.attributes)t.remove(i.attributes.get(o));r.removeEventListener("dispose",l),s.delete(r.id);var a=c.get(i.id);a&&(t.remove(a),c.delete(i.id)),n.memory.geometries--}this.get=function(e,t){var i=s.get(t.id);return i||(t.addEventListener("dispose",l),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new r.BufferGeometry3D).setFromObject(e)),i=t._bufferGeometry),s.set(t.id,i),n.memory.geometries++,i)},this.update=function(n){var r=n.index,i=n.attributes;n.lineIndex&&t.update(n.lineIndex,e.ELEMENT_ARRAY_BUFFER),null!==r&&t.update(r,e.ELEMENT_ARRAY_BUFFER),i.forEach(function(n){t.update(n,e.ARRAY_BUFFER)}),n.morphAttributes.forEach(function(n){for(var r=0,i=n.length;r<i;r++)t.update(n[r],e.ARRAY_BUFFER)})},this.getWireframeAttribute=function(n){var r=c.get(n.id);if(r)return r;var a,s=[],l=n.index,u=n.attributes;if(null!==l)for(var p=0,d=(a=l.array).length;p<d;p+=3){var h=a[p+0],f=a[p+1],m=a[p+2];s.push(h,f,f,m,m,h)}else for(p=0,d=(a=u.get("position").array).length/3-1;p<d;p+=3)h=p+0,f=p+1,m=p+2,s.push(h,f,f,m,m,h);return r=new(i.arrayMax(s)>65535?o.Uint32BufferAttribute:o.Uint16BufferAttribute)(s,1),t.update(r,e.ELEMENT_ARRAY_BUFFER),c.set(n.id,r),r},this.dispose=function(){t.dispose()}}}();t.WebGLGeometries=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(116),i=function(){return function(e,t){var n=new r.ArrayMap;this.update=function(r){var i=t.render.frame,o=r.geometry,a=e.get(r,o);return(n.get(a.id)!==i||a.shared)&&(o.isGeometry&&a.updateFromObject(r),e.update(a),n.set(a.id,i)),a},this.dispose=function(){n.clear()}}}();t.WebGLObjects=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i=n(178),o=function(){return function(e,t,n){var o=[],a={MeshDepthMaterial3D:"depth",MeshDistanceMaterial3D:"distanceRGBA",MeshNormalMaterial3D:"normal",MeshBasicMaterial3D:"basic",MeshLambertMaterial3D:"lambert",MeshPhongMaterial3D:"phong",MeshToonMaterial3D:"phong",MeshStandardMaterial3D:"physical",MeshPhysicalMaterial3D:"physical",LineBasicMaterial3D:"basic",LineDashedMaterial3D:"dashed",PointsMaterial3D:"points",ShadowMaterial3D:"shadow",SpriteMaterial3D:"sprite"},s=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function c(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("spdengine-3D.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=r.Constant.LinearEncoding,n===r.Constant.LinearEncoding&&t&&(n=r.Constant.GammaEncoding),n}this.getParameters=function(t,i,o,s,l,u,p){var d=a[t.type],h=p.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),o=Math.min(i,t.length);return o<t.length?(console.warn("spdengine-3D.WebGLRenderer: Skeleton3D has "+t.length+" bones. This GPU supports "+o+"."),0):o}(p):0,f=n.precision;null!==t.precision&&(f=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("spdengine-3D.WebGLProgram.getParameters:",t.precision,"not supported, using",f,"instead.");var m=e.getRenderTarget();return{shaderID:d,precision:f,supportsVertexTextures:n.vertexTextures,outputEncoding:c(m?m.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:c(t.map,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:c(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===r.Constant.CubeUVReflectionMapping||t.envMap.mapping===r.Constant.CubeUVRefractionMapping),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:c(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===r.Constant.ObjectSpaceNormalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!s,useFog:t.fog,fogExp:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&h>0,maxBones:h,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numClippingPlanes:l,numClipIntersection:u,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.receiveShadow&&o.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===r.Constant.DoubleSide,flipSided:t.side===r.Constant.BackSide,depthPacking:void 0!==t.depthPacking&&t.depthPacking,codeName:p.codeName,paramUniform:!!p.paramUniform,degree:p.degree,polesCount:p.polesCount,vCodeName:p.vCodeName,uCodeName:p.uCodeName,vParamUniform:!!p.vParamUniform,uParamUniform:!!p.uParamUniform}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var o=0;o<s.length;o++)r.push(n[s[o]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.join()},this.acquireProgram=function(r,a,s,c){for(var l,u=0,p=o.length;u<p;u++){var d=o[u];if(d.code===c){++(l=d).usedTimes;break}}return void 0===l&&(l=new i.GUMWebGLProgram(e,t,c,r,a,s,n),o.push(l)),l},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},this.programs=o}}();t.WebGLPrograms=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i=n(179),o=n(302),a=n(303),s=n(116),c=function(){function e(t,n,c,l,u,p,d){var h=t.context,f=l.defines,m=u.vertexShader,g=u.fragmentShader,y="SHADOWMAP_TYPE_BASIC";p.shadowMapType===r.Constant.PCFShadowMap?y="SHADOWMAP_TYPE_PCF":p.shadowMapType===r.Constant.PCFSoftShadowMap&&(y="SHADOWMAP_TYPE_PCF_SOFT");var v="ENVMAP_TYPE_CUBE",x="ENVMAP_MODE_REFLECTION",M="ENVMAP_BLENDING_MULTIPLY";if(p.envMap){switch(l.envMap.mapping){case r.Constant.CubeReflectionMapping:case r.Constant.CubeRefractionMapping:v="ENVMAP_TYPE_CUBE";break;case r.Constant.CubeUVReflectionMapping:case r.Constant.CubeUVRefractionMapping:v="ENVMAP_TYPE_CUBE_UV";break;case r.Constant.EquirectangularReflectionMapping:case r.Constant.EquirectangularRefractionMapping:v="ENVMAP_TYPE_EQUIREC";break;case r.Constant.SphericalReflectionMapping:v="ENVMAP_TYPE_SPHERE"}switch(l.envMap.mapping){case r.Constant.CubeRefractionMapping:case r.Constant.EquirectangularRefractionMapping:x="ENVMAP_MODE_REFRACTION"}switch(l.combine){case r.Constant.MultiplyOperation:M="ENVMAP_BLENDING_MULTIPLY";break;case r.Constant.MixOperation:M="ENVMAP_BLENDING_MIX";break;case r.Constant.AddOperation:M="ENVMAP_BLENDING_ADD"}}var b,w,A=t.gammaFactor>0?t.gammaFactor:1,_=d.isWebGL2?"":e.generateExtensions(l.extensions,p,n),E=e.generateDefines(f),D=h.createProgram();if(l.isRawShaderMaterial?((b=[E].filter(e.filterEmptyLine).join("\n")).length>0&&(b+="\n"),(w=[_,E].filter(e.filterEmptyLine).join("\n")).length>0&&(w+="\n")):(b=["precision "+p.precision+" float;","precision "+p.precision+" int;","#define SHADER_NAME "+u.name,E,p.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+A,"#define MAX_BONES "+p.maxBones,p.useFog&&p.fog?"#define USE_FOG":"",p.useFog&&p.fogExp?"#define FOG_EXP2":"",p.map?"#define USE_MAP":"",p.envMap?"#define USE_ENVMAP":"",p.envMap?"#define "+x:"",p.lightMap?"#define USE_LIGHTMAP":"",p.aoMap?"#define USE_AOMAP":"",p.emissiveMap?"#define USE_EMISSIVEMAP":"",p.bumpMap?"#define USE_BUMPMAP":"",p.normalMap?"#define USE_NORMALMAP":"",p.normalMap&&p.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",p.displacementMap&&p.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",p.specularMap?"#define USE_SPECULARMAP":"",p.roughnessMap?"#define USE_ROUGHNESSMAP":"",p.metalnessMap?"#define USE_METALNESSMAP":"",p.alphaMap?"#define USE_ALPHAMAP":"",p.vertexColors?"#define USE_COLOR":"",p.flatShading?"#define FLAT_SHADED":"",p.skinning?"#define USE_SKINNING":"",p.useVertexTexture?"#define BONE_TEXTURE":"",p.morphTargets?"#define USE_MORPHTARGETS":"",p.morphNormals&&!1===p.flatShading?"#define USE_MORPHNORMALS":"",p.doubleSided?"#define DOUBLE_SIDED":"",p.flipSided?"#define FLIP_SIDED":"",p.shadowMapEnabled?"#define USE_SHADOWMAP":"",p.shadowMapEnabled?"#define "+y:"",p.sizeAttenuation?"#define USE_SIZEATTENUATION":"",p.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",p.logarithmicDepthBuffer&&(d.isWebGL2||n.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",p.codeName?"#define "+p.codeName:"",p.vCodeName?"#define V"+p.vCodeName:"",p.uCodeName?"#define U"+p.uCodeName:"",function(e){if(!e)return"";if(e===s.CodeType3DName.CIRCLE||e===s.CodeType3DName.CIRCLESUR||e===s.CodeType3DName.ELLIPSESUR||e===s.CodeType3DName.ELLIPSE||e===s.CodeType3DName.NURBS)return"attribute float u;";if(e===s.CodeType3DName.TUBESUR)return"attribute vec2 u;"}(p.codeName),p.degree?"const int degree = "+p.degree+";":" ",p.polesCount?"const int polesCount = "+p.polesCount+";":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform mat4 projectMatrix;",p.paramUniform?"uniform float paramUniform[400];":"",p.vParamUniform?"uniform float vParamUniform[400];":"",p.uParamUniform?"uniform float uParamUniform[400];":"","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(e.filterEmptyLine).join("\n"),w=[_,"precision "+p.precision+" float;","precision "+p.precision+" int;","#define SHADER_NAME "+u.name,E,p.alphaTest?"#define ALPHATEST "+p.alphaTest+(p.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+A,p.useFog&&p.fog?"#define USE_FOG":"",p.useFog&&p.fogExp?"#define FOG_EXP2":"",p.map?"#define USE_MAP":"",p.envMap?"#define USE_ENVMAP":"",p.envMap?"#define "+v:"",p.envMap?"#define "+x:"",p.envMap?"#define "+M:"",p.lightMap?"#define USE_LIGHTMAP":"",p.aoMap?"#define USE_AOMAP":"",p.emissiveMap?"#define USE_EMISSIVEMAP":"",p.bumpMap?"#define USE_BUMPMAP":"",p.normalMap?"#define USE_NORMALMAP":"",p.normalMap&&p.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",p.specularMap?"#define USE_SPECULARMAP":"",p.roughnessMap?"#define USE_ROUGHNESSMAP":"",p.metalnessMap?"#define USE_METALNESSMAP":"",p.alphaMap?"#define USE_ALPHAMAP":"",p.vertexColors?"#define USE_COLOR":"",p.gradientMap?"#define USE_GRADIENTMAP":"",p.flatShading?"#define FLAT_SHADED":"",p.doubleSided?"#define DOUBLE_SIDED":"",p.flipSided?"#define FLIP_SIDED":"",p.shadowMapEnabled?"#define USE_SHADOWMAP":"",p.shadowMapEnabled?"#define "+y:"",p.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",p.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",p.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",p.logarithmicDepthBuffer&&(d.isWebGL2||n.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",p.envMap&&(d.isWebGL2||n.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",p.toneMapping!==r.Constant.NoToneMapping?"#define TONE_MAPPING":"",p.toneMapping!==r.Constant.NoToneMapping?i.ShaderChunk.tonemapping_pars_fragment:"",p.toneMapping!==r.Constant.NoToneMapping?e.getToneMappingFunction("toneMapping",p.toneMapping):"",p.dithering?"#define DITHERING":"",p.outputEncoding||p.mapEncoding||p.envMapEncoding||p.emissiveMapEncoding?i.ShaderChunk.encodings_pars_fragment:"",p.mapEncoding?e.getTexelDecodingFunction("mapTexelToLinear",p.mapEncoding):"",p.envMapEncoding?e.getTexelDecodingFunction("envMapTexelToLinear",p.envMapEncoding):"",p.emissiveMapEncoding?e.getTexelDecodingFunction("emissiveMapTexelToLinear",p.emissiveMapEncoding):"",p.outputEncoding?e.getTexelEncodingFunction("linearToOutputTexel",p.outputEncoding):"",p.depthPacking?"#define DEPTH_PACKING "+l.depthPacking:"","\n"].filter(e.filterEmptyLine).join("\n")),m=e.parseIncludes(m),m=e.replaceLightNums(m,p),m=e.replaceClippingPlaneNums(m,p),g=e.parseIncludes(g),g=e.replaceLightNums(g,p),g=e.replaceClippingPlaneNums(g,p),m=e.unrollLoops(m),g=e.unrollLoops(g),d.isWebGL2&&!l.isRawShaderMaterial){var S=!1,P=/^\s*#version\s+300\s+es\s*\n/;l.isShaderMaterial&&null!==m.match(P)&&null!==g.match(P)&&(S=!0,m=m.replace(P,""),g=g.replace(P,"")),b=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+b,w=["#version 300 es\n","#define varying in",S?"":"out highp vec4 pc_fragColor;",S?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+w}var T=b+m,C=w+g,R=o.GUMWebGLShader(h,h.VERTEX_SHADER,T),I=o.GUMWebGLShader(h,h.FRAGMENT_SHADER,C);h.attachShader(D,R),h.attachShader(D,I),void 0!==l.index0AttributeName?h.bindAttribLocation(D,0,l.index0AttributeName):!0===p.morphTargets&&h.bindAttribLocation(D,0,"position"),h.linkProgram(D);var O,L,k=h.getProgramInfoLog(D).trim(),B=h.getShaderInfoLog(R).trim(),U=h.getShaderInfoLog(I).trim(),N=!0,F=!0;!1===h.getProgramParameter(D,h.LINK_STATUS)?(N=!1,console.error("spdengine-3D.GUMWebGLProgram: shader error: ",h.getError(),"gl.VALIDATE_STATUS",h.getProgramParameter(D,h.VALIDATE_STATUS),"gl.getProgramInfoLog",k,B,U)):""!==k?console.warn("spdengine-3D.GUMWebGLProgram: gl.getProgramInfoLog()",k):""!==B&&""!==U||(F=!1),F&&(this.diagnostics={runnable:N,material:l,programLog:k,vertexShader:{log:B,prefix:b},fragmentShader:{log:U,prefix:w}}),h.deleteShader(R),h.deleteShader(I),this.getUniforms=function(){return void 0===O&&(O=new a.WebGLUniforms(h,D,t)),O},this.getAttributes=function(){return void 0===L&&(L=e.fetchAttributeLocations(h,D)),L},this.destroy=function(){h.deleteProgram(D),this.program=void 0},this.name=u.name,this.id=e.programIdCount++,this.code=c,this.usedTimes=1,this.program=D,this.vertexShader=R,this.fragmentShader=I}return e.getEncodingComponents=function(e){switch(e){case r.Constant.LinearEncoding:return["Linear","( value )"];case r.Constant.sRGBEncoding:return["sRGB","( value )"];case r.Constant.RGBEEncoding:return["RGBE","( value )"];case r.Constant.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case r.Constant.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case r.Constant.RGBDEncoding:return["RGBD","( value, 256.0 )"];case r.Constant.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}},e.getTexelDecodingFunction=function(t,n){var r=e.getEncodingComponents(n);return"vec4 "+t+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"},e.getTexelEncodingFunction=function(t,n){var r=e.getEncodingComponents(n);return"vec4 "+t+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"},e.getToneMappingFunction=function(e,t){var n;switch(t){case r.Constant.LinearToneMapping:n="Linear";break;case r.Constant.ReinhardToneMapping:n="Reinhard";break;case r.Constant.Uncharted2ToneMapping:n="Uncharted2";break;case r.Constant.CineonToneMapping:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"},e.generateExtensions=function(t,n,r){return[(t=t||{}).derivatives||n.envMapCubeUV||n.bumpMap||n.normalMap&&!n.objectSpaceNormalMap||n.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||n.logarithmicDepthBuffer)&&r.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&r.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||n.envMap)&&r.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(e.filterEmptyLine).join("\n")},e.generateDefines=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")},e.fetchAttributeLocations=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n},e.filterEmptyLine=function(e){return""!==e},e.replaceLightNums=function(e,t){return e.replace(/NUM_DIR_LIGHTS/g,String(t.numDirLights)).replace(/NUM_SPOT_LIGHTS/g,String(t.numSpotLights)).replace(/NUM_RECT_AREA_LIGHTS/g,String(t.numRectAreaLights)).replace(/NUM_POINT_LIGHTS/g,String(t.numPointLights)).replace(/NUM_HEMI_LIGHTS/g,String(t.numHemiLights))},e.replaceClippingPlaneNums=function(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,String(t.numClippingPlanes)).replace(/UNION_CLIPPING_PLANES/g,String(t.numClippingPlanes-t.numClipIntersection))},e.parseIncludes=function(t){return t.replace(/^[ \t]*#include +<([\w\d.\/]+)>/gm,function(t,n){var r=i.ShaderChunk[n];if(void 0===r)throw new Error("Can not resolve #include <"+n+">");return e.parseIncludes(r)})},e.unrollLoops=function(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i})},e.programIdCount=0,e}();t.GUMWebGLProgram=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(180),i=n(181),o=n(182),a=n(183),s=n(184),c=n(185),l=n(186),u=n(187),p=n(188),d=n(189),h=n(190),f=n(191),m=n(192),g=n(193),y=n(194),v=n(195),x=n(196),M=n(197),b=n(198),w=n(199),A=n(200),_=n(201),E=n(202),D=n(203),S=n(204),P=n(205),T=n(206),C=n(207),R=n(208),I=n(209),O=n(210),L=n(211),k=n(212),B=n(213),U=n(214),N=n(215),F=n(216),j=n(217),z=n(218),V=n(219),H=n(220),G=n(221),W=n(222),X=n(223),Y=n(224),Q=n(225),q=n(226),K=n(227),Z=n(228),J=n(229),$=n(230),ee=n(231),te=n(232),ne=n(233),re=n(234),ie=n(235),oe=n(236),ae=n(237),se=n(238),ce=n(239),le=n(240),ue=n(241),pe=n(242),de=n(243),he=n(244),fe=n(245),me=n(246),ge=n(247),ye=n(248),ve=n(249),xe=n(250),Me=n(251),be=n(252),we=n(253),Ae=n(254),_e=n(255),Ee=n(256),De=n(257),Se=n(258),Pe=n(259),Te=n(260),Ce=n(261),Re=n(262),Ie=n(263),Oe=n(264),Le=n(265),ke=n(266),Be=n(267),Ue=n(268),Ne=n(269),Fe=n(270),je=n(271),ze=n(272),Ve=n(273),He=n(274),Ge=n(275),We=n(276),Xe=n(277),Ye=n(278),Qe=n(279),qe=n(280),Ke=n(281),Ze=n(282),Je=n(283),$e=n(284),et=n(285),tt=n(286),nt=n(287),rt=n(288),it=n(289),ot=n(290),at=n(291),st=n(292),ct=n(293),lt=n(294),ut=n(295),pt=n(296),dt=n(297),ht=n(298),ft=n(299),mt=n(300),gt=n(301);t.ShaderChunk={alphamap_fragment:r.default,alphamap_pars_fragment:i.default,alphatest_fragment:o.default,aomap_fragment:a.default,aomap_pars_fragment:s.default,begin_vertex:c.default,beginnormal_vertex:l.default,bsdfs:u.default,bumpmap_pars_fragment:p.default,clipping_planes_fragment:d.default,clipping_planes_pars_fragment:h.default,clipping_planes_pars_vertex:f.default,clipping_planes_vertex:m.default,color_fragment:g.default,color_pars_fragment:y.default,color_pars_vertex:v.default,color_vertex:x.default,common:M.default,cube_uv_reflection_fragment:b.default,defaultnormal_vertex:w.default,displacementmap_pars_vertex:A.default,displacementmap_vertex:_.default,emissivemap_fragment:E.default,emissivemap_pars_fragment:D.default,encodings_fragment:S.default,encodings_pars_fragment:P.default,envmap_fragment:T.default,envmap_pars_fragment:C.default,envmap_pars_vertex:R.default,envmap_physical_pars_fragment:V.default,envmap_vertex:I.default,fog_vertex:O.default,fog_pars_vertex:L.default,fog_fragment:k.default,fog_pars_fragment:B.default,gradientmap_pars_fragment:U.default,lightmap_fragment:N.default,lightmap_pars_fragment:F.default,lights_lambert_vertex:j.default,lights_pars_begin:z.default,lights_phong_fragment:H.default,lights_phong_pars_fragment:G.default,lights_physical_fragment:W.default,lights_physical_pars_fragment:X.default,lights_fragment_begin:Y.default,lights_fragment_maps:Q.default,lights_fragment_end:q.default,logdepthbuf_fragment:K.default,logdepthbuf_pars_fragment:Z.default,logdepthbuf_pars_vertex:J.default,logdepthbuf_vertex:$.default,map_fragment:ee.default,map_pars_fragment:te.default,map_particle_fragment:ne.default,map_particle_pars_fragment:re.default,metalnessmap_fragment:ie.default,metalnessmap_pars_fragment:oe.default,morphnormal_vertex:ae.default,morphtarget_pars_vertex:se.default,morphtarget_vertex:ce.default,normal_fragment_begin:le.default,normal_fragment_maps:ue.default,normalmap_pars_fragment:pe.default,packing:de.default,premultiplied_alpha_fragment:he.default,project_vertex:fe.default,dithering_fragment:me.default,dithering_pars_fragment:ge.default,roughnessmap_fragment:ye.default,roughnessmap_pars_fragment:ve.default,shadowmap_pars_fragment:xe.default,shadowmap_pars_vertex:Me.default,shadowmap_vertex:be.default,shadowmask_pars_fragment:we.default,skinbase_vertex:Ae.default,skinning_pars_vertex:_e.default,skinning_vertex:Ee.default,skinnormal_vertex:De.default,specularmap_fragment:Se.default,specularmap_pars_fragment:Pe.default,tonemapping_fragment:Te.default,tonemapping_pars_fragment:Ce.default,uv_pars_fragment:Re.default,uv_pars_vertex:Ie.default,uv_vertex:Oe.default,uv2_pars_fragment:Le.default,uv2_pars_vertex:ke.default,uv2_vertex:Be.default,worldpos_vertex:Ue.default,cube_frag:Ne.default,cube_vert:Fe.default,depth_frag:je.default,depth_vert:ze.default,distanceRGBA_frag:Ve.default,distanceRGBA_vert:He.default,equirect_frag:Ge.default,equirect_vert:We.default,linedashed_frag:Xe.default,linedashed_vert:Ye.default,meshbasic_frag:Qe.default,meshbasic_vert:qe.default,meshlambert_frag:Ke.default,meshlambert_vert:Ze.default,meshphong_frag:Je.default,meshphong_vert:$e.default,meshphysical_frag:et.default,meshphysical_vert:tt.default,normal_frag:nt.default,normal_vert:rt.default,points_frag:it.default,points_vert:ot.default,shadow_frag:at.default,shadow_vert:st.default,sprite_frag:ct.default,sprite_vert:lt.default,param_renderer:ut.default,circle:pt.default,ellipse:dt.default,nurbs:ht.default,ellipseSur:ft.default,circleSur:mt.default,tubeSur:gt.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_ALPHAMAP\n","    diffuseColor.a *= texture2D(alphaMap, vUv).a;\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_ALPHAMAP\n","\tuniform sampler2D alphaMap;\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef ALPHATEST\n","\tif ( diffuseColor.a < ALPHATEST ) discard;\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_AOMAP\n","\n","\t// reads channel R, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n","\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n","\n","\treflectedLight.indirectDiffuse *= ambientOcclusion;\n","\n","\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n","\n","\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n","\n","\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n","\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_AOMAP\n","\n","\tuniform sampler2D aoMap;\n","\tuniform float aoMapIntensity;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["vec3 transformed = vec3( position );\n","#include <param_renderer>\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n        vec3 objectNormal = vec3( normal );\n        #ifdef CIRCLESUR\n            objectNormal = vec3(0., 0., 1.);\n        #endif\n        #ifdef ELLIPSESUR\n            objectNormal = vec3(0., 0., 1.);\n        #endif\n    "},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n","\n","\tif( decayExponent > 0.0 ) {\n","\n","#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n","\n","\t\t// based upon Frostbite 3 Moving to Physically-based Rendering\n","\t\t// page 32, equation 26: E[window1]\n","\t\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n","\t\t// this is intended to be used on spot and point lights who are represented as luminous intensity\n","\t\t// but who must be converted to luminous irradiance for surface lighting calculation\n","\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n","\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n","\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n","\n","#else\n","\n","\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n","\n","#endif\n","\n","\t}\n","\n","\treturn 1.0;\n","\n","}\n","\n","vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n","\n","\treturn RECIPROCAL_PI * diffuseColor;\n","\n","} // validated\n","\n","vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n","\n","\t// Original approximation by Christophe Schlick '94\n","\t// float fresnel = pow( 1.0 - dotLH, 5.0 );\n","\n","\t// Optimized variant (presented by Epic at SIGGRAPH '13)\n","\t// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf\n","\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n","\n","\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n","\n","} // validated\n","\n","// Microfacet Models for Refraction through Rough Surfaces - equation (34)\n","// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n",'// alpha is "roughness squared" in Disneys reparameterization\n',"float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n","\n","\t// geometry term (normalized) = G(l)G(v) / 4(nl)(nv)\n","\t// also see #12151\n","\n","\tfloat a2 = pow2( alpha );\n","\n","\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n","\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n","\n","\treturn 1.0 / ( gl * gv );\n","\n","} // validated\n","\n","// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n","// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n","float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n","\n","\tfloat a2 = pow2( alpha );\n","\n","\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\n","\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n","\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n","\n","\treturn 0.5 / max( gv + gl, EPSILON );\n","\n","}\n","\n","// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n","// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n","// alpha is 'roughness squared' in Disneys reparameterization\n","float D_GGX( const in float alpha, const in float dotNH ) {\n","\n","\tfloat a2 = pow2( alpha );\n","\n","\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\n","\n","\treturn RECIPROCAL_PI * a2 / pow2( denom );\n","\n","}\n","\n","// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\n","vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n","\n","\tfloat alpha = pow2( roughness ); // UE4's roughness\n","\n","\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n","\n","\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n","\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n","\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n","\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n","\n","\tvec3 F = F_Schlick( specularColor, dotLH );\n","\n","\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n","\n","\tfloat D = D_GGX( alpha, dotNH );\n","\n","\treturn F * ( G * D );\n","\n","} // validated\n","\n","// Rect Area Light3D\n","\n","// Real-Time Polygonal-Light3D Shading with Linearly Transformed Cosines\n","// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt\n","// code: https://github.com/selfshadow/ltc_code/\n","\n","vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n","\n","\tconst float LUT_SIZE  = 64.0;\n","\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n","\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n","\n","\tfloat dotNV = saturate( dot( N, V ) );\n","\n","\t// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )\n","\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n","\n","\tuv = uv * LUT_SCALE + LUT_BIAS;\n","\n","\treturn uv;\n","\n","}\n","\n","float LTC_ClippedSphereFormFactor( const in vec3 f ) {\n","\n","\t// Real-Time Area Lighting: a Journey from Research to Production (p.102)\n","\t// An approximation of the form factor of a horizon-clipped rectangle.\n","\n","\tfloat l = length( f );\n","\n","\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n","\n","}\n","\n","vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n","\n","\tfloat x = dot( v1, v2 );\n","\n","\tfloat y = abs( x );\n","\n","\t// rational polynomial approximation to theta / sin( theta ) / 2PI\n","\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n","\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n","\tfloat v = a / b;\n","\n","\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n","\n","\treturn cross( v1, v2 ) * theta_sintheta;\n","\n","}\n","\n","vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n","\n","\t// bail if point is on back side of plane of light\n","\t// assumes ccw winding order of light vertices\n","\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n","\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n","\tvec3 lightNormal = cross( v1, v2 );\n","\n","\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n","\n","\t// construct orthonormal basis around N\n","\tvec3 T1, T2;\n","\tT1 = normalize( V - N * dot( V, N ) );\n","\tT2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system\n","\n","\t// compute transform\n","\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n","\n","\t// transform rect\n","\tvec3 coords[ 4 ];\n","\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n","\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n","\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n","\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n","\n","\t// project rect onto sphere\n","\tcoords[ 0 ] = normalize( coords[ 0 ] );\n","\tcoords[ 1 ] = normalize( coords[ 1 ] );\n","\tcoords[ 2 ] = normalize( coords[ 2 ] );\n","\tcoords[ 3 ] = normalize( coords[ 3 ] );\n","\n","\t// calculate vector form factor\n","\tvec3 vectorFormFactor = vec3( 0.0 );\n","\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n","\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n","\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n","\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n","\n","\t// adjust for horizon clipping\n","\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n","\n","/*\n","\t// alternate method of adjusting for horizon clipping (see referece)\n","\t// refactoring required\n","\tfloat len = length( vectorFormFactor );\n","\tfloat z = vectorFormFactor.z / len;\n","\n","\tconst float LUT_SIZE  = 64.0;\n","\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n","\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n","\n","\t// tabulated horizon-clipped sphere, apparently...\n","\tvec2 uv = vec2( z * 0.5 + 0.5, len );\n","\tuv = uv * LUT_SCALE + LUT_BIAS;\n","\n","\tfloat scale = texture2D( ltc_2, uv ).w;\n","\n","\tfloat result = len * scale;\n","*/\n","\n","\treturn vec3( result );\n","\n","}\n","\n","// End Rect Area Light3D\n","\n","// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\n","vec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n","\n","\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n","\n","\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n","\n","\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n","\n","\tvec4 r = roughness * c0 + c1;\n","\n","\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n","\n","\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n","\n","\treturn specularColor * AB.x + AB.y;\n","\n","} // validated\n","\n","\n","float G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\n","\n","\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\n","\treturn 0.25;\n","\n","}\n","\n","float D_BlinnPhong( const in float shininess, const in float dotNH ) {\n","\n","\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n","\n","}\n","\n","vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n","\n","\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n","\n","\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n","\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n","\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n","\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n","\n","\tvec3 F = F_Schlick( specularColor, dotLH );\n","\n","\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\n","\n","\tfloat D = D_BlinnPhong( shininess, dotNH );\n","\n","\treturn F * ( G * D );\n","\n","} // validated\n","\n","// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\n","float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n","\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n","}\n","\n","float BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n","\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_BUMPMAP\n","\n","\tuniform sampler2D bumpMap;\n","\tuniform float bumpScale;\n","\n","\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\n","\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\n","\n","\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n","\n","\tvec2 dHdxy_fwd() {\n","\n","\t\tvec2 dSTdx = dFdx( vUv );\n","\t\tvec2 dSTdy = dFdy( vUv );\n","\n","\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n","\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n","\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n","\n","\t\treturn vec2( dBx, dBy );\n","\n","\t}\n","\n","\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n","\n","\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n","\n","\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n","\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n","\t\tvec3 vN = surf_norm;\t\t// normalized\n","\n","\t\tvec3 R1 = cross( vSigmaY, vN );\n","\t\tvec3 R2 = cross( vN, vSigmaX );\n","\n","\t\tfloat fDet = dot( vSigmaX, R1 );\n","\n","\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n","\n","\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n","\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n","\n","\t}\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if NUM_CLIPPING_PLANES > 0\n","\n","\tvec4 plane;\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; i ++ ) {\n","\n","\t\tplane = clippingPlanes[ i ];\n","\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w * 1.0 ) discard;\n","\n","\t}\n","\n","\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n","\n","\t\tbool clipped = true;\n","\n","\t\t#pragma unroll_loop\n","\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n","\n","\t\t\tplane = clippingPlanes[ i ];\n","\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n","\n","\t\t}\n","\n","\t\tif ( clipped ) discard;\n","\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if NUM_CLIPPING_PLANES > 0\n","\n","\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n","\t\tvarying vec3 vViewPosition;\n","\t#endif\n","\n","\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n","\tvarying vec3 vViewPosition;\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n","\tvViewPosition = - mvPosition.xyz;\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n    #ifdef USE_COLOR\n        diffuseColor.rgb *= vColor;\n    #endif\n    "},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_COLOR\n","\n","\tvarying vec3 vColor;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_COLOR\n","\n","\tvarying vec3 vColor;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_COLOR\n","\n","\tvColor.xyz = color.xyz;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#define PI 3.14159265359\n","#define PI2 6.28318530718\n","#define PI_HALF 1.5707963267949\n","#define RECIPROCAL_PI 0.31830988618\n","#define RECIPROCAL_PI2 0.15915494\n","#define LOG2 1.442695\n","#define EPSILON 1e-6\n","\n","#define saturate(a) clamp( a, 0.0, 1.0 )\n","#define whiteCompliment(a) ( 1.0 - saturate( a ) )\n","\n","float pow2( const in float x ) { return x*x; }\n","float pow3( const in float x ) { return x*x*x; }\n","float pow4( const in float x ) { float x2 = x*x; return x2*x2; }\n","float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\n","// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\n","// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\n","highp float rand( const in vec2 uv ) {\n","\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n","\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n","\treturn fract(sin(sn) * c);\n","}\n","\n","struct IncidentLight {\n","\tvec3 color;\n","\tvec3 direction;\n","\tbool visible;\n","};\n","\n","struct ReflectedLight {\n","\tvec3 directDiffuse;\n","\tvec3 directSpecular;\n","\tvec3 indirectDiffuse;\n","\tvec3 indirectSpecular;\n","};\n","\n","struct GeometricContext {\n","\tvec3 position;\n","\tvec3 normal;\n","\tvec3 viewDir;\n","};\n","\n","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n","\n","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n","\n","}\n","\n","// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\n","vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n","\n","\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n","\n","}\n","\n","vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n","\n","\tfloat distance = dot( planeNormal, point - pointOnPlane );\n","\n","\treturn - distance * planeNormal + point;\n","\n","}\n","\n","float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n","\n","\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n","\n","}\n","\n","vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n","\n","\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n","\n","}\n","\n","mat3 transposeMat3( const in mat3 m ) {\n","\n","\tmat3 tmp;\n","\n","\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n","\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n","\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n","\n","\treturn tmp;\n","\n","}\n","\n","// https://en.wikipedia.org/wiki/Relative_luminance\n","float linearToRelativeLuminance( const in vec3 color ) {\n","\n","\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n","\n","\treturn dot( weights, color.rgb );\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef ENVMAP_TYPE_CUBE_UV\n","\n","#define cubeUV_textureSize (1024.0)\n","\n","int getFaceFromDirection(vec3 direction) {\n","\tvec3 absDirection = abs(direction);\n","\tint face = -1;\n","\tif( absDirection.x > absDirection.z ) {\n","\t\tif(absDirection.x > absDirection.y )\n","\t\t\tface = direction.x > 0.0 ? 0 : 3;\n","\t\telse\n","\t\t\tface = direction.y > 0.0 ? 1 : 4;\n","\t}\n","\telse {\n","\t\tif(absDirection.z > absDirection.y )\n","\t\t\tface = direction.z > 0.0 ? 2 : 5;\n","\t\telse\n","\t\t\tface = direction.y > 0.0 ? 1 : 4;\n","\t}\n","\treturn face;\n","}\n","#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n","#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\n","\n","vec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n","\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n","\tfloat dxRoughness = dFdx(roughness);\n","\tfloat dyRoughness = dFdy(roughness);\n","\tvec3 dx = dFdx( vec * scale * dxRoughness );\n","\tvec3 dy = dFdy( vec * scale * dyRoughness );\n","\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n","\t// Clamp the value to the max mip level counts. hard coded to 6 mips\n","\td = clamp(d, 1.0, cubeUV_rangeClamp);\n","\tfloat mipLevel = 0.5 * log2(d);\n","\treturn vec2(floor(mipLevel), fract(mipLevel));\n","}\n","\n","#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n","#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\n","\n","vec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n","\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n","\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n","\n","\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n","\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n","\t// float powScale = exp2(roughnessLevel + mipLevel);\n","\tfloat powScale = exp2_packed.x * exp2_packed.y;\n","\t// float scale =  1.0 / exp2(roughnessLevel + 2.0 + mipLevel);\n","\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n","\t// float mipOffset = 0.75*(1.0 - 1.0/exp2(mipLevel))/exp2(roughnessLevel);\n","\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n","\n","\tbool bRes = mipLevel == 0.0;\n","\tscale =  bRes && (scale < a) ? a : scale;\n","\n","\tvec3 r;\n","\tvec2 offset;\n","\tint face = getFaceFromDirection(direction);\n","\n","\tfloat rcpPowScale = 1.0 / powScale;\n","\n","\tif( face == 0) {\n","\t\tr = vec3(direction.x, -direction.z, direction.y);\n","\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n","\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n","\t}\n","\telse if( face == 1) {\n","\t\tr = vec3(direction.y, direction.x, direction.z);\n","\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n","\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n","\t}\n","\telse if( face == 2) {\n","\t\tr = vec3(direction.z, direction.x, direction.y);\n","\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n","\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n","\t}\n","\telse if( face == 3) {\n","\t\tr = vec3(direction.x, direction.z, direction.y);\n","\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n","\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n","\t}\n","\telse if( face == 4) {\n","\t\tr = vec3(direction.y, direction.x, -direction.z);\n","\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n","\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n","\t}\n","\telse {\n","\t\tr = vec3(direction.z, -direction.x, direction.y);\n","\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n","\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n","\t}\n","\tr = normalize(r);\n","\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n","\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n","\tvec2 base = offset + vec2( texelOffset );\n","\treturn base + s * ( scale - 2.0 * texelOffset );\n","}\n","\n","#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\n","\n","vec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n","\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n","\tfloat r1 = floor(roughnessVal);\n","\tfloat r2 = r1 + 1.0;\n","\tfloat t = fract(roughnessVal);\n","\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n","\tfloat s = mipInfo.y;\n","\tfloat level0 = mipInfo.x;\n","\tfloat level1 = level0 + 1.0;\n","\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n","\n","\t// round to nearest mipmap if we are not interpolating.\n","\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n","\n","\t// Tri linear interpolation.\n","\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n","\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n","\n","\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n","\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n","\n","\tvec4 result = mix(color10, color20, t);\n","\n","\treturn vec4(result.rgb, 1.0);\n","}\n","\n","#endif\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["vec3 transformedNormal = normalMatrix * objectNormal;\n","\n","#ifdef FLIP_SIDED\n","\n","\ttransformedNormal = - transformedNormal;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_DISPLACEMENTMAP\n","\n","\tuniform sampler2D displacementMap;\n","\tuniform float displacementScale;\n","\tuniform float displacementBias;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_DISPLACEMENTMAP\n","\n","\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_EMISSIVEMAP\n","\n","\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n","\n","\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n","\n","\ttotalEmissfiveRadiance *= emissiveColor.rgb;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_EMISSIVEMAP\n","\n","\tuniform sampler2D emissiveMap;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["gl_FragColor = linearToOutputTexel( gl_FragColor );\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\n","\n","vec4 LinearToLinear( in vec4 value ) {\n","\treturn value;\n","}\n","\n","vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n","\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n","}\n","vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n","\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n","}\n","\n","vec4 sRGBToLinear( in vec4 value ) {\n","\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n","}\n","vec4 LinearTosRGB( in vec4 value ) {\n","\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n","}\n","\n","vec4 RGBEToLinear( in vec4 value ) {\n","\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n","}\n","vec4 LinearToRGBE( in vec4 value ) {\n","\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n","\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n","\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n","//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\n","}\n","\n","// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\n","vec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n","\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n","}\n","vec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n","\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n","\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n","\tM            = ceil( M * 255.0 ) / 255.0;\n","\treturn vec4( value.rgb / ( M * maxRange ), M );\n","}\n","\n","// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\n","vec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n","\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n","}\n","vec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n","\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n","\tfloat D      = max( maxRange / maxRGB, 1.0 );\n","\tD            = min( floor( D ) / 255.0, 1.0 );\n","\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n","}\n","\n","// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\n","\n","// M matrix, for encoding\n","const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\n","vec4 LinearToLogLuv( in vec4 value )  {\n","\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n","\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n","\tvec4 vResult;\n","\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n","\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n","\tvResult.w = fract(Le);\n","\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n","\treturn vResult;\n","}\n","\n","// Inverse M matrix, for decoding\n","const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\n","vec4 LogLuvToLinear( in vec4 value ) {\n","\tfloat Le = value.z * 255.0 + value.w;\n","\tvec3 Xp_Y_XYZp;\n","\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n","\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n","\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n","\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n","\treturn vec4( max(vRGB, 0.0), 1.0 );\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_ENVMAP\n","\n","\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n","\n","\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n","\n","\t\t// Transforming Normal Vectors with the Inverse Transformation\n","\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n","\n","\t\t#ifdef ENVMAP_MODE_REFLECTION\n","\n","\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n","\n","\t\t#else\n","\n","\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n","\n","\t\t#endif\n","\n","\t#else\n","\n","\t\tvec3 reflectVec = vReflect;\n","\n","\t#endif\n","\n","\t#ifdef ENVMAP_TYPE_CUBE\n","\n","\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n","\n","\t#elif defined( ENVMAP_TYPE_EQUIREC )\n","\n","\t\tvec2 sampleUV;\n","\n","\t\treflectVec = normalize( reflectVec );\n","\n","\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n","\n","\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n","\n","\t\tvec4 envColor = texture2D( envMap, sampleUV );\n","\n","\t#elif defined( ENVMAP_TYPE_SPHERE )\n","\n","\t\treflectVec = normalize( reflectVec );\n","\n","\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n","\n","\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n","\n","\t#else\n","\n","\t\tvec4 envColor = vec4( 0.0 );\n","\n","\t#endif\n","\n","\tenvColor = envMapTexelToLinear( envColor );\n","\n","\t#ifdef ENVMAP_BLENDING_MULTIPLY\n","\n","\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n","\n","\t#elif defined( ENVMAP_BLENDING_MIX )\n","\n","\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n","\n","\t#elif defined( ENVMAP_BLENDING_ADD )\n","\n","\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n","\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n","\tuniform float reflectivity;\n","\tuniform float envMapIntensity;\n","#endif\n","\n","#ifdef USE_ENVMAP\n","\n","\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n","\t\tvarying vec3 vWorldPosition;\n","\t#endif\n","\n","\t#ifdef ENVMAP_TYPE_CUBE\n","\t\tuniform samplerCube envMap;\n","\t#else\n","\t\tuniform sampler2D envMap;\n","\t#endif\n","\tuniform float flipEnvMap;\n","\tuniform int maxMipLevel;\n","\n","\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n","\t\tuniform float refractionRatio;\n","\t#else\n","\t\tvarying vec3 vReflect;\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_ENVMAP\n","\n","\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n","\t\tvarying vec3 vWorldPosition;\n","\n","\t#else\n","\n","\t\tvarying vec3 vReflect;\n","\t\tuniform float refractionRatio;\n","\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_ENVMAP\n","\n","\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n","\n","\t\tvWorldPosition = worldPosition.xyz;\n","\n","\t#else\n","\n","\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n","\n","\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n","\n","\t\t#ifdef ENVMAP_MODE_REFLECTION\n","\n","\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n","\n","\t\t#else\n","\n","\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n","\n","\t\t#endif\n","\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_FOG\n","\n","\tvFogPosition = fogPosition.xyz;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_FOG\n","\n","\tvarying vec3 vFogPosition;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_FOG\n","\n","\tfloat fogDepth = length( vFogPosition );\n","\n","\t#ifdef FOG_EXP2\n","\n","\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n","\n","\t#else\n","\n","\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n","\n","\t#endif\n","\n","\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_FOG\n","\n","\tuniform vec3 fogColor;\n","\tvarying vec3 vFogPosition;\n","\n","\t#ifdef FOG_EXP2\n","\n","\t\tuniform float fogDensity;\n","\n","\t#else\n","\n","\t\tuniform float fogNear;\n","\t\tuniform float fogFar;\n","\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef TOON\n","\n","\tuniform sampler2D gradientMap;\n","\n","\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n","\n","\t\t// dotNL will be from -1.0 to 1.0\n","\t\tfloat dotNL = dot( normal, lightDirection );\n","\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n","\n","\t\t#ifdef USE_GRADIENTMAP\n","\n","\t\t\treturn texture2D( gradientMap, coord ).rgb;\n","\n","\t\t#else\n","\n","\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n","\n","\t\t#endif\n","\n","\n","\t}\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_LIGHTMAP\n","\n","\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity; // factor of PI should not be present; included here to prevent breakage\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_LIGHTMAP\n","\n","\tuniform sampler2D lightMap;\n","\tuniform float lightMapIntensity;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["vec3 diffuse = vec3( 1.0 );\n","\n","GeometricContext geometry;\n","geometry.position = mvPosition.xyz;\n","geometry.normal = normalize( transformedNormal );\n","geometry.viewDir = normalize( -mvPosition.xyz );\n","\n","GeometricContext backGeometry;\n","backGeometry.position = geometry.position;\n","backGeometry.normal = -geometry.normal;\n","backGeometry.viewDir = geometry.viewDir;\n","\n","vLightFront = vec3( 0.0 );\n","\n","#ifdef DOUBLE_SIDED\n","\tvLightBack = vec3( 0.0 );\n","#endif\n","\n","IncidentLight directLight;\n","float dotNL;\n","vec3 directLightColor_Diffuse;\n","\n","#if NUM_POINT_LIGHTS > 0\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n","\n","\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n","\n","\t\tdotNL = dot( geometry.normal, directLight.direction );\n","\t\tdirectLightColor_Diffuse = PI * directLight.color;\n","\n","\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n","\n","\t\t#ifdef DOUBLE_SIDED\n","\n","\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n","\n","\t\t#endif\n","\n","\t}\n","\n","#endif\n","\n","#if NUM_SPOT_LIGHTS > 0\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n","\n","\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n","\n","\t\tdotNL = dot( geometry.normal, directLight.direction );\n","\t\tdirectLightColor_Diffuse = PI * directLight.color;\n","\n","\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n","\n","\t\t#ifdef DOUBLE_SIDED\n","\n","\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n","\n","\t\t#endif\n","\t}\n","\n","#endif\n","\n","/*\n","#if NUM_RECT_AREA_LIGHTS > 0\n","\n","\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n","\n","\t\t// TODO (abelnation): implement\n","\n","\t}\n","\n","#endif\n","*/\n","\n","#if NUM_DIR_LIGHTS > 0\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n","\n","\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n","\n","\t\tdotNL = dot( geometry.normal, directLight.direction );\n","\t\tdirectLightColor_Diffuse = PI * directLight.color;\n","\n","\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n","\n","\t\t#ifdef DOUBLE_SIDED\n","\n","\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n","\n","\t\t#endif\n","\n","\t}\n","\n","#endif\n","\n","#if NUM_HEMI_LIGHTS > 0\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n","\n","\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n","\n","\t\t#ifdef DOUBLE_SIDED\n","\n","\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n","\n","\t\t#endif\n","\n","\t}\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["uniform vec3 ambientLightColor;\n","\n","vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n","\n","\tvec3 irradiance = ambientLightColor;\n","\n","\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n","\n","\t\tirradiance *= PI;\n","\n","\t#endif\n","\n","\treturn irradiance;\n","\n","}\n","\n","#if NUM_DIR_LIGHTS > 0\n","\n","\tstruct DirectionalLight3D {\n","\t\tvec3 direction;\n","\t\tvec3 color;\n","\n","\t\tint shadow;\n","\t\tfloat shadowBias;\n","\t\tfloat shadowRadius;\n","\t\tvec2 shadowMapSize;\n","\t};\n","\n","\tuniform DirectionalLight3D directionalLights[ NUM_DIR_LIGHTS ];\n","\n","\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight3D directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n","\n","\t\tdirectLight.color = directionalLight.color;\n","\t\tdirectLight.direction = directionalLight.direction;\n","\t\tdirectLight.visible = true;\n","\n","\t}\n","\n","#endif\n","\n","\n","#if NUM_POINT_LIGHTS > 0\n","\n","\tstruct PointLight3D {\n","\t\tvec3 position;\n","\t\tvec3 color;\n","\t\tfloat distance;\n","\t\tfloat decay;\n","\n","\t\tint shadow;\n","\t\tfloat shadowBias;\n","\t\tfloat shadowRadius;\n","\t\tvec2 shadowMapSize;\n","\t\tfloat shadowCameraNear;\n","\t\tfloat shadowCameraFar;\n","\t};\n","\n","\tuniform PointLight3D pointLights[ NUM_POINT_LIGHTS ];\n","\n","\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n","\tvoid getPointDirectLightIrradiance( const in PointLight3D pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n","\n","\t\tvec3 lVector = pointLight.position - geometry.position;\n","\t\tdirectLight.direction = normalize( lVector );\n","\n","\t\tfloat lightDistance = length( lVector );\n","\n","\t\tdirectLight.color = pointLight.color;\n","\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n","\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n","\n","\t}\n","\n","#endif\n","\n","\n","#if NUM_SPOT_LIGHTS > 0\n","\n","\tstruct SpotLight3D {\n","\t\tvec3 position;\n","\t\tvec3 direction;\n","\t\tvec3 color;\n","\t\tfloat distance;\n","\t\tfloat decay;\n","\t\tfloat coneCos;\n","\t\tfloat penumbraCos;\n","\n","\t\tint shadow;\n","\t\tfloat shadowBias;\n","\t\tfloat shadowRadius;\n","\t\tvec2 shadowMapSize;\n","\t};\n","\n","\tuniform SpotLight3D spotLights[ NUM_SPOT_LIGHTS ];\n","\n","\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n","\tvoid getSpotDirectLightIrradiance( const in SpotLight3D spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n","\n","\t\tvec3 lVector = spotLight.position - geometry.position;\n","\t\tdirectLight.direction = normalize( lVector );\n","\n","\t\tfloat lightDistance = length( lVector );\n","\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n","\n","\t\tif ( angleCos > spotLight.coneCos ) {\n","\n","\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n","\n","\t\t\tdirectLight.color = spotLight.color;\n","\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n","\t\t\tdirectLight.visible = true;\n","\n","\t\t} else {\n","\n","\t\t\tdirectLight.color = vec3( 0.0 );\n","\t\t\tdirectLight.visible = false;\n","\n","\t\t}\n","\t}\n","\n","#endif\n","\n","\n","#if NUM_RECT_AREA_LIGHTS > 0\n","\n","\tstruct RectAreaLight3D {\n","\t\tvec3 color;\n","\t\tvec3 position;\n","\t\tvec3 halfWidth;\n","\t\tvec3 halfHeight;\n","\t};\n","\n","\t// Pre-computed values of LinearTransformedCosine approximation of BRDF\n","\t// BRDF approximation Texture is 64x64\n","\tuniform sampler2D ltc_1; // RGBA Float\n","\tuniform sampler2D ltc_2; // RGBA Float\n","\n","\tuniform RectAreaLight3D rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n","\n","#endif\n","\n","\n","#if NUM_HEMI_LIGHTS > 0\n","\n","\tstruct HemisphereLight3D {\n","\t\tvec3 direction;\n","\t\tvec3 skyColor;\n","\t\tvec3 groundColor;\n","\t};\n","\n","\tuniform HemisphereLight3D hemisphereLights[ NUM_HEMI_LIGHTS ];\n","\n","\tvec3 getHemisphereLightIrradiance( const in HemisphereLight3D hemiLight, const in GeometricContext geometry ) {\n","\n","\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n","\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n","\n","\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n","\n","\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n","\n","\t\t\tirradiance *= PI;\n","\n","\t\t#endif\n","\n","\t\treturn irradiance;\n","\n","\t}\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n","\n","\tvec3 getLightProbeIndirectIrradiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel ) {\n","\n","\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n","\n","\t\t#ifdef ENVMAP_TYPE_CUBE\n","\n","\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n","\n","\t\t\t// TODO: replace with properly filtered cubemaps and access the irradiance LOD3D level, be it the last LOD3D level\n","\t\t\t// of a specular cubemap, or just the default level of a specially created irradiance cubemap.\n","\n","\t\t\t#ifdef TEXTURE_LOD_EXT\n","\n","\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n","\n","\t\t\t#else\n","\n","\t\t\t\t// force the bias high to get the last LOD3D level as it is the most blurred.\n","\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n","\n","\t\t\t#endif\n","\n","\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n","\n","\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n","\n","\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n","\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n","\n","\t\t#else\n","\n","\t\t\tvec4 envMapColor = vec4( 0.0 );\n","\n","\t\t#endif\n","\n","\t\treturn PI * envMapColor.rgb * envMapIntensity;\n","\n","\t}\n","\n","\t// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\n","\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n","\n","\t\t//float envMapWidth = pow( 2.0, maxMIPLevelScalar );\n","\t\t//float desiredMIPLevel = log2( envMapWidth * sqrt( 3.0 ) ) - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n","\n","\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n","\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n","\n","\t\t// clamp to allowable LOD3D ranges.\n","\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n","\n","\t}\n","\n","\tvec3 getLightProbeIndirectRadiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n","\n","\t\t#ifdef ENVMAP_MODE_REFLECTION\n","\n","\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n","\n","\t\t#else\n","\n","\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n","\n","\t\t#endif\n","\n","\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n","\n","\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n","\n","\t\t#ifdef ENVMAP_TYPE_CUBE\n","\n","\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n","\n","\t\t\t#ifdef TEXTURE_LOD_EXT\n","\n","\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n","\n","\t\t\t#else\n","\n","\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n","\n","\t\t\t#endif\n","\n","\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n","\n","\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n","\n","\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n","\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n","\n","\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n","\n","\t\t\tvec2 sampleUV;\n","\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n","\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n","\n","\t\t\t#ifdef TEXTURE_LOD_EXT\n","\n","\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n","\n","\t\t\t#else\n","\n","\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n","\n","\t\t\t#endif\n","\n","\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n","\n","\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n","\n","\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n","\n","\t\t\t#ifdef TEXTURE_LOD_EXT\n","\n","\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n","\n","\t\t\t#else\n","\n","\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n","\n","\t\t\t#endif\n","\n","\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n","\n","\t\t#endif\n","\n","\t\treturn envMapColor.rgb * envMapIntensity;\n","\n","\t}\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["BlinnPhongMaterial material;\n","material.diffuseColor = diffuseColor.rgb;\n","material.specularColor = specular;\n","material.specularShininess = shininess;\n","material.specularStrength = specularStrength;\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["varying vec3 vViewPosition;\n","\n","#ifndef FLAT_SHADED\n","\n","\tvarying vec3 vNormal;\n","\n","#endif\n","\n","\n","struct BlinnPhongMaterial {\n","\n","\tvec3\tdiffuseColor;\n","\tvec3\tspecularColor;\n","\tfloat\tspecularShininess;\n","\tfloat\tspecularStrength;\n","\n","};\n","\n","void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n","\n","\t#ifdef TOON\n","\n","\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n","\n","\t#else\n","\n","\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n","\t\tvec3 irradiance = dotNL * directLight.color;\n","\n","\t#endif\n","\n","\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n","\n","\t\tirradiance *= PI; // punctual light\n","\n","\t#endif\n","\n","\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n","\n","\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n","\n","}\n","\n","void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n","\n","\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n","\n","}\n","\n","#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n","#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n","\n","#define Material_LightProbeLOD( material )\t(0)\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["PhysicalMaterial material;\n","material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\n","material.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n","#ifdef STANDARD\n","\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n","#else\n","\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n","\tmaterial.clearCoat = saturate( clearCoat ); // Burley clearcoat model\n","\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["struct PhysicalMaterial {\n","\n","\tvec3\tdiffuseColor;\n","\tfloat\tspecularRoughness;\n","\tvec3\tspecularColor;\n","\n","\t#ifndef STANDARD\n","\t\tfloat clearCoat;\n","\t\tfloat clearCoatRoughness;\n","\t#endif\n","\n","};\n","\n","#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n","#define DEFAULT_SPECULAR_COEFFICIENT 0.04\n","\n","// Clear coat directional hemishperical reflectance (this approximation should be improved)\n","float clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n","\n","\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n","\n","}\n","\n","#if NUM_RECT_AREA_LIGHTS > 0\n","\n","\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight3D rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n","\n","\t\tvec3 normal = geometry.normal;\n","\t\tvec3 viewDir = geometry.viewDir;\n","\t\tvec3 position = geometry.position;\n","\t\tvec3 lightPos = rectAreaLight.position;\n","\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n","\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n","\t\tvec3 lightColor = rectAreaLight.color;\n","\t\tfloat roughness = material.specularRoughness;\n","\n","\t\tvec3 rectCoords[ 4 ];\n","\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight; // counterclockwise\n","\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n","\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n","\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n","\n","\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n","\n","\t\tvec4 t1 = texture2D( ltc_1, uv );\n","\t\tvec4 t2 = texture2D( ltc_2, uv );\n","\n","\t\tmat3 mInv = mat3(\n","\t\t\tvec3( t1.x, 0, t1.y ),\n","\t\t\tvec3(    0, 1,    0 ),\n","\t\t\tvec3( t1.z, 0, t1.w )\n","\t\t);\n","\n","\t\t// LTC Fresnel Approximation by Stephen Hill\n","\t\t// http://blog.selfshadow.com/publications/s2016-advances/s2016_ltc_fresnel.pdf\n","\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n","\n","\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n","\n","\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n","\n","\t}\n","\n","#endif\n","\n","void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n","\n","\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n","\n","\tvec3 irradiance = dotNL * directLight.color;\n","\n","\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n","\n","\t\tirradiance *= PI; // punctual light\n","\n","\t#endif\n","\n","\t#ifndef STANDARD\n","\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n","\t#else\n","\t\tfloat clearCoatDHR = 0.0;\n","\t#endif\n","\n","\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n","\n","\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n","\n","\t#ifndef STANDARD\n","\n","\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n","\n","\t#endif\n","\n","}\n","\n","void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n","\n","\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n","\n","}\n","\n","void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n","\n","\t#ifndef STANDARD\n","\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n","\t\tfloat dotNL = dotNV;\n","\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n","\t#else\n","\t\tfloat clearCoatDHR = 0.0;\n","\t#endif\n","\n","\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n","\n","\t#ifndef STANDARD\n","\n","\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n","\n","\t#endif\n","\n","}\n","\n","#define RE_Direct\t\t\t\tRE_Direct_Physical\n","#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n","#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n","#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n","\n","#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n","#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\n","\n","// ref: https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n","float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n","\n","\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["/**\n"," * This is a template that can be used to light a material, it uses pluggable\n"," * RenderEquations (RE)for specific lighting scenarios.\n"," *\n"," * Instructions for use:\n"," * - Ensure that both RE_Direct, RE_IndirectDiffuse and RE_IndirectSpecular are defined\n"," * - If you have defined an RE_IndirectSpecular, you need to also provide a Material_LightProbeLOD. <---- ???\n"," * - Create a material parameter that is to be passed as the third parameter to your lighting functions.\n"," *\n"," * TODO:\n"," * - Add area light support.\n"," * - Add sphere light support.\n"," * - Add diffuse light probe (irradiance cubemap) support.\n"," */\n","\n","GeometricContext geometry;\n","\n","geometry.position = - vViewPosition;\n","geometry.normal = normal;\n","geometry.viewDir = normalize( vViewPosition );\n","\n","IncidentLight directLight;\n","\n","#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n","\n","\tPointLight3D pointLight;\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n","\n","\t\tpointLight = pointLights[ i ];\n","\n","\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n","\n","\t\t#ifdef USE_SHADOWMAP\n","\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n","\t\t#endif\n","\n","\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n","\n","\t}\n","\n","#endif\n","\n","#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n","\n","\tSpotLight3D spotLight;\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n","\n","\t\tspotLight = spotLights[ i ];\n","\n","\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n","\n","\t\t#ifdef USE_SHADOWMAP\n","\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n","\t\t#endif\n","\n","\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n","\n","\t}\n","\n","#endif\n","\n","#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n","\n","\tDirectionalLight3D directionalLight;\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n","\n","\t\tdirectionalLight = directionalLights[ i ];\n","\n","\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n","\n","\t\t#ifdef USE_SHADOWMAP\n","\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n","\t\t#endif\n","\n","\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n","\n","\t}\n","\n","#endif\n","\n","#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n","\n","\tRectAreaLight3D rectAreaLight;\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n","\n","\t\trectAreaLight = rectAreaLights[ i ];\n","\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n","\n","\t}\n","\n","#endif\n","\n","#if defined( RE_IndirectDiffuse )\n","\n","\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n","\n","\t#if ( NUM_HEMI_LIGHTS > 0 )\n","\n","\t\t#pragma unroll_loop\n","\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n","\n","\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n","\n","\t\t}\n","\n","\t#endif\n","\n","#endif\n","\n","#if defined( RE_IndirectSpecular )\n","\n","\tvec3 radiance = vec3( 0.0 );\n","\tvec3 clearCoatRadiance = vec3( 0.0 );\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( RE_IndirectDiffuse )\n","\n","\t#ifdef USE_LIGHTMAP\n","\n","\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n","\n","\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n","\n","\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\n","\n","\t\t#endif\n","\n","\t\tirradiance += lightMapIrradiance;\n","\n","\t#endif\n","\n","\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n","\n","\t\tirradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );\n","\n","\t#endif\n","\n","#endif\n","\n","#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n","\n","\tradiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n","\n","\t#ifndef STANDARD\n","\t\tclearCoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( RE_IndirectDiffuse )\n","\n","\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n","\n","#endif\n","\n","#if defined( RE_IndirectSpecular )\n","\n","\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n","\n","\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n","\n","\tuniform float logDepthBufFC;\n","\tvarying float vFragDepth;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_LOGDEPTHBUF\n","\n","\t#ifdef USE_LOGDEPTHBUF_EXT\n","\n","\t\tvarying float vFragDepth;\n","\n","\t#else\n","\n","\t\tuniform float logDepthBufFC;\n","\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_LOGDEPTHBUF\n","\n","\t#ifdef USE_LOGDEPTHBUF_EXT\n","\n","\t\tvFragDepth = 1.0 + gl_Position.w;\n","\n","\t#else\n","\n","\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n","\n","\t\tgl_Position.z *= gl_Position.w;\n","\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_MAP\n","\n","\tvec4 texelColor = texture2D( map, vUv );\n","\n","\ttexelColor = mapTexelToLinear( texelColor );\n","\tdiffuseColor *= texelColor;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_MAP\n","\n","\tuniform sampler2D map;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_MAP\n","\n","\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n","\tvec4 mapTexel = texture2D( map, uv );\n","\tdiffuseColor *= mapTexelToLinear( mapTexel );\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_MAP\n","\n","\tuniform mat3 uvTransform;\n","\tuniform sampler2D map;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["float metalnessFactor = metalness;\n","\n","#ifdef USE_METALNESSMAP\n","\n","\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n","\n","\t// reads channel B, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n","\tmetalnessFactor *= texelMetalness.b;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_METALNESSMAP\n","\n","\tuniform sampler2D metalnessMap;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_MORPHNORMALS\n","\n","\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n","\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n","\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n","\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_MORPHTARGETS\n","\n","\t#ifndef USE_MORPHNORMALS\n","\n","\tuniform float morphTargetInfluences[ 8 ];\n","\n","\t#else\n","\n","\tuniform float morphTargetInfluences[ 4 ];\n","\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_MORPHTARGETS\n","\n","\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n","\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n","\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n","\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n","\n","\t#ifndef USE_MORPHNORMALS\n","\n","\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n","\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n","\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n","\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n","\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef FLAT_SHADED\n","\n","\t// Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...\n","\n","\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n","\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n","\tvec3 normal = normalize( cross( fdx, fdy ) );\n","\n","#else\n","\n","\tvec3 normal = normalize( vNormal );\n","\n","\t#ifdef DOUBLE_SIDED\n","\n","\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n","\n","\t#endif\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_NORMALMAP\n","\n","\t#ifdef OBJECTSPACE_NORMALMAP\n","\n","\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0; // overrides both flatShading and attribute normals\n","\n","\t\t#ifdef FLIP_SIDED\n","\n","\t\t\tnormal = - normal;\n","\n","\t\t#endif\n","\n","\t\t#ifdef DOUBLE_SIDED\n","\n","\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n","\n","\t\t#endif\n","\n","\t\tnormal = normalize( normalMatrix * normal );\n","\n","\t#else // tangent-space normal map\n","\n","\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n","\n","\t#endif\n","\n","#elif defined( USE_BUMPMAP )\n","\n","\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_NORMALMAP\n","\n","\tuniform sampler2D normalMap;\n","\tuniform vec2 normalScale;\n","\n","\t#ifdef OBJECTSPACE_NORMALMAP\n","\n","\t\tuniform mat3 normalMatrix;\n","\n","\t#else\n","\n","\t\t// Per-Pixel Tangent Space Normal Mapping\n","\t\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n","\n","\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n","\n","\t\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n","\n","\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n","\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n","\t\t\tvec2 st0 = dFdx( vUv.st );\n","\t\t\tvec2 st1 = dFdy( vUv.st );\n","\n","\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\n","\n","\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n","\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n","\t\t\tvec3 N = normalize( surf_norm );\n","\t\t\tmat3 tsn = mat3( S, T, N );\n","\n","\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n","\n","\t\t\tmapN.xy *= normalScale;\n","\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n","\n","\t\t\treturn normalize( tsn * mapN );\n","\n","\t\t}\n","\n","\t#endif\n","\n","#endif\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["vec3 packNormalToRGB( const in vec3 normal ) {\n","\treturn normalize( normal ) * 0.5 + 0.5;\n","}\n","\n","vec3 unpackRGBToNormal( const in vec3 rgb ) {\n","\treturn 2.0 * rgb.xyz - 1.0;\n","}\n","\n","const float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\n","const float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\n","\n","const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\n","const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\n","\n","const float ShiftRight8 = 1. / 256.;\n","\n","vec4 packDepthToRGBA( const in float v ) {\n","\tvec4 r = vec4( fract( v * PackFactors ), v );\n","\tr.yzw -= r.xyz * ShiftRight8; // tidy overflow\n","\treturn r * PackUpscale;\n","}\n","\n","float unpackRGBAToDepth( const in vec4 v ) {\n","\treturn dot( v, UnpackFactors );\n","}\n","\n","// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions\n","\n","float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n","\treturn ( viewZ + near ) / ( near - far );\n","}\n","float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n","\treturn linearClipZ * ( near - far ) - near;\n","}\n","\n","float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n","\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n","}\n","float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n","\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n","}\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef PREMULTIPLIED_ALPHA\n","\n","\t// Get get normal blending with premultipled, use with CustomBlending, OneFactor, OneMinusSrcAlphaFactor, AddEquation.\n","\tgl_FragColor.rgb *= gl_FragColor.a;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n    vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n    vec4 fogPosition = projectMatrix * vec4( transformed, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n    "},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( DITHERING )\n","\n","  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( DITHERING )\n","\n","\t// based on https://www.shadertoy.com/view/MslGR8\n","\tvec3 dithering( vec3 color ) {\n","\t\t//Calculate grid position\n","\t\tfloat grid_position = rand( gl_FragCoord.xy );\n","\n","\t\t//Shift the individual colors differently, thus making it even harder to see the dithering pattern\n","\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n","\n","\t\t//modify shift acording to grid position.\n","\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n","\n","\t\t//shift the color by dither_shift\n","\t\treturn color + dither_shift_RGB;\n","\t}\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["float roughnessFactor = roughness\n","\n","#ifdef USE_ROUGHNESSMAP\n","\n","\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n","\n","\t// reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n","\troughnessFactor *= texelRoughness.g;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_ROUGHNESSMAP\n","\n","\tuniform sampler2D roughnessMap;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n    #ifdef USE_SHADOWMAP\n\n    #define LIGHT_WORLD_SIZE 0.005\n    #define LIGHT_FRUSTUM_WIDTH 3.75\n    #define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\n    #define NEAR_PLANE 9.5\n\n    #define NUM_SAMPLES 7\n    #define NUM_RINGS 11\n    #define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\n    #define PCF_NUM_SAMPLES NUM_SAMPLES\n\n    vec2 poissonDisk[NUM_SAMPLES];\n\n    void initPoissonSamples( const in vec2 randomSeed ) {\n        float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );\n        float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );\n\n        // jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/\n        float angle = rand( randomSeed ) * PI2;\n        float radius = INV_NUM_SAMPLES;\n        float radiusStep = radius;\n\n        for( int i = 0; i < NUM_SAMPLES; i ++ ) {\n            poissonDisk[i] = vec2( cos( angle ), sin( angle ) ) * pow( radius, 0.75 );\n            radius += radiusStep;\n            angle += ANGLE_STEP;\n        }\n    }\n\n    float penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\n        return (zReceiver - zBlocker) / zBlocker;\n    }\n\n    float findBlocker( sampler2D shadowMap, const in vec2 uv, const in float zReceiver ) {\n        // This uses similar triangles to compute what\n        // area of the shadow map we should search\n        float searchRadius = LIGHT_SIZE_UV * ( zReceiver - NEAR_PLANE ) / zReceiver;\n        float blockerDepthSum = 0.0;\n        int numBlockers = 0;\n\n        for( int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++ ) {\n            float shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\n            if ( shadowMapDepth < zReceiver ) {\n                blockerDepthSum += shadowMapDepth;\n                numBlockers ++;\n            }\n        }\n\n        if( numBlockers == 0 ) return -1.0;\n\n        return blockerDepthSum / float( numBlockers );\n    }\n\n    float PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius ) {\n        float sum = 0.0;\n        for( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\n            float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + poissonDisk[ i ] * filterRadius ) );\n            if( zReceiver <= depth ) sum += 1.0;\n        }\n        for( int i = 0; i < PCF_NUM_SAMPLES; i ++ ) {\n            float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + -poissonDisk[ i ].yx * filterRadius ) );\n            if( zReceiver <= depth ) sum += 1.0;\n        }\n        return sum / ( 2.0 * float( PCF_NUM_SAMPLES ) );\n    }\n\n    float PCSS ( sampler2D shadowMap, vec4 coords ) {\n        vec2 uv = coords.xy;\n        float zReceiver = coords.z; // Assumed to be eye-space z in this code\n\n        initPoissonSamples( uv );\n        // STEP 1: blocker search\n        float avgBlockerDepth = findBlocker( shadowMap, uv, zReceiver );\n\n        //There are no occluders so early out (this saves filtering)\n        if( avgBlockerDepth == -1.0 ) return 1.0;\n\n        // STEP 2: penumbra size\n        float penumbraRatio = penumbraSize( zReceiver, avgBlockerDepth );\n        float filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\n\n        // STEP 3: filtering\n        //return avgBlockerDepth;\n        return PCF_Filter( shadowMap, uv, 0.5, 0.05 );\n    }\n    #if NUM_DIR_LIGHTS > 0\n\n        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\n    #endif\n\n    #if NUM_SPOT_LIGHTS > 0\n\n        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n        varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\n    #endif\n\n    #if NUM_POINT_LIGHTS > 0\n\n        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\n    #endif\n\n    /*\n    #if NUM_RECT_AREA_LIGHTS > 0\n\n        // TODO (abelnation): create uniforms for area light shadows\n\n    #endif\n    */\n\n    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n    }\n\n    float texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\n        const vec2 offset = vec2( 0.0, 1.0 );\n\n        vec2 texelSize = vec2( 1.0 ) / size;\n        vec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\n        float lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n        float lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n        float rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n        float rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\n        vec2 f = fract( uv * size + 0.5 );\n\n        float a = mix( lb, lt, f.y );\n        float b = mix( rb, rt, f.y );\n        float c = mix( a, b, f.x );\n\n        return c;\n\n    }\n\n    float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n        float shadow = 1.0;\n\n        shadowCoord.xyz /= shadowCoord.w;\n        shadowCoord.z += shadowBias;\n\n        // if ( something && something ) breaks ATI OpenGL shader compiler\n        // if ( all( something, something ) ) using this instead\n\n        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n        bool inFrustum = all( inFrustumVec );\n\n        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n        bool frustumTest = all( frustumTestVec );\n\n        if ( frustumTest ) {\n            // return PCSS( shadowMap, shadowCoord );\n        #if defined( SHADOWMAP_TYPE_PCF )\n\n            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n            float dx0 = - texelSize.x * shadowRadius;\n            float dy0 = - texelSize.y * shadowRadius;\n            float dx1 = + texelSize.x * shadowRadius;\n            float dy1 = + texelSize.y * shadowRadius;\n\n            shadow = (\n                texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n                texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n            ) * ( 1.0 / 9.0 );\n\n        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n            float dx0 = - texelSize.x * shadowRadius;\n            float dy0 = - texelSize.y * shadowRadius;\n            float dx1 = + texelSize.x * shadowRadius;\n            float dy1 = + texelSize.y * shadowRadius;\n\n            shadow = (\n                texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n                texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n                texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n                texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n                texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n                texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n                texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n                texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n                texture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n            ) * ( 1.0 / 9.0 );\n\n        #else // no percentage-closer filtering:\n\n            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n        #endif\n\n        }\n\n        return shadow;\n\n    }\n\n    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n    // vector suitable for 2D texture mapping. This code uses the following layout for the\n    // 2D texture:\n    //\n    // xzXZ\n    //  y Y\n    //\n    // Y - Positive y direction\n    // y - Negative y direction\n    // X - Positive x direction\n    // x - Negative x direction\n    // Z - Positive z direction\n    // z - Negative z direction\n    //\n    // Source and test bed:\n    // https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n    vec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n        // Number of texels to avoid at the edge of each square\n\n        vec3 absV = abs( v );\n\n        // Intersect unit cube\n\n        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n        absV *= scaleToCube;\n\n        // Apply scale to avoid seams\n\n        // two texels less per square (one texel will do for NEAREST)\n        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n        // Unwrap\n\n        // space: -1 ... 1 range for each square\n        //\n        // #X##\t\tdim    := ( 4 , 2 )\n        //  # #\t\tcenter := ( 1 , 1 )\n\n        vec2 planar = v.xy;\n\n        float almostATexel = 1.5 * texelSizeY;\n        float almostOne = 1.0 - almostATexel;\n\n        if ( absV.z >= almostOne ) {\n\n            if ( v.z > 0.0 )\n                planar.x = 4.0 - v.x;\n\n        } else if ( absV.x >= almostOne ) {\n\n            float signX = sign( v.x );\n            planar.x = v.z * signX + 2.0 * signX;\n\n        } else if ( absV.y >= almostOne ) {\n\n            float signY = sign( v.y );\n            planar.x = v.x + 2.0 * signY + 2.0;\n            planar.y = v.z * signY - 2.0;\n\n        }\n\n        // Transform to UV space\n\n        // scale := 0.5 / dim\n        // translate := ( center + 0.5 ) / dim\n        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n    }\n\n    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\n        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n        // for point lights, the uniform @vShadowCoord is re-purposed to hold\n        // the vector from the light to the world-space position of the fragment.\n        vec3 lightToPosition = shadowCoord.xyz;\n\n        // dp = normalized distance from light to fragment position\n        float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\n        dp += shadowBias;\n\n        // bd3D = base direction 3D\n        vec3 bd3D = normalize( lightToPosition );\n\n        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n            vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\n            return (\n                texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n                texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n                texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n                texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n                texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n                texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n                texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n                texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n                texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n            ) * ( 1.0 / 9.0 );\n\n        #else // no percentage-closer filtering\n\n            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\n        #endif\n\n    }\n\n#endif\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_SHADOWMAP\n","\n","\t#if NUM_DIR_LIGHTS > 0\n","\n","\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n","\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n","\n","\t#endif\n","\n","\t#if NUM_SPOT_LIGHTS > 0\n","\n","\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n","\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n","\n","\t#endif\n","\n","\t#if NUM_POINT_LIGHTS > 0\n","\n","\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n","\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n","\n","\t#endif\n","\n","\t/*\n","\t#if NUM_RECT_AREA_LIGHTS > 0\n","\n","\t\t// TODO (abelnation): uniforms for area light shadows\n","\n","\t#endif\n","\t*/\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_SHADOWMAP\n","\n","\t#if NUM_DIR_LIGHTS > 0\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n","\n","\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n","\n","\t}\n","\n","\t#endif\n","\n","\t#if NUM_SPOT_LIGHTS > 0\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n","\n","\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n","\n","\t}\n","\n","\t#endif\n","\n","\t#if NUM_POINT_LIGHTS > 0\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n","\n","\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n","\n","\t}\n","\n","\t#endif\n","\n","\t/*\n","\t#if NUM_RECT_AREA_LIGHTS > 0\n","\n","\t\t// TODO (abelnation): update vAreaShadowCoord with area light info\n","\n","\t#endif\n","\t*/\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["float getShadowMask() {\n","\n","\tfloat shadow = 1.0;\n","\n","\t#ifdef USE_SHADOWMAP\n","\n","\t#if NUM_DIR_LIGHTS > 0\n","\n","\tDirectionalLight3D directionalLight;\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n","\n","\t\tdirectionalLight = directionalLights[ i ];\n","\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n","\n","\t}\n","\n","\t#endif\n","\n","\t#if NUM_SPOT_LIGHTS > 0\n","\n","\tSpotLight3D spotLight;\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n","\n","\t\tspotLight = spotLights[ i ];\n","\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n","\n","\t}\n","\n","\t#endif\n","\n","\t#if NUM_POINT_LIGHTS > 0\n","\n","\tPointLight3D pointLight;\n","\n","\t#pragma unroll_loop\n","\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n","\n","\t\tpointLight = pointLights[ i ];\n","\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n","\n","\t}\n","\n","\t#endif\n","\n","\t/*\n","\t#if NUM_RECT_AREA_LIGHTS > 0\n","\n","\t\t// TODO (abelnation): update shadow for Area light\n","\n","\t#endif\n","\t*/\n","\n","\t#endif\n","\n","\treturn shadow;\n","\n","}\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_SKINNING\n","\n","\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n","\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n","\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n","\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_SKINNING\n","\n","\tuniform mat4 bindMatrix;\n","\tuniform mat4 bindMatrixInverse;\n","\n","\t#ifdef BONE_TEXTURE\n","\n","\t\tuniform sampler2D boneTexture;\n","\t\tuniform int boneTextureSize;\n","\n","\t\tmat4 getBoneMatrix( const in float i ) {\n","\n","\t\t\tfloat j = i * 4.0;\n","\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n","\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n","\n","\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n","\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n","\n","\t\t\ty = dy * ( y + 0.5 );\n","\n","\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n","\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n","\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n","\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n","\n","\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n","\n","\t\t\treturn bone;\n","\n","\t\t}\n","\n","\t#else\n","\n","\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n","\n","\t\tmat4 getBoneMatrix( const in float i ) {\n","\n","\t\t\tmat4 bone = boneMatrices[ int(i) ];\n","\t\t\treturn bone;\n","\n","\t\t}\n","\n","\t#endif\n","\n","#endif\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_SKINNING\n","\n","\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n","\n","\tvec4 skinned = vec4( 0.0 );\n","\tskinned += boneMatX * skinVertex * skinWeight.x;\n","\tskinned += boneMatY * skinVertex * skinWeight.y;\n","\tskinned += boneMatZ * skinVertex * skinWeight.z;\n","\tskinned += boneMatW * skinVertex * skinWeight.w;\n","\n","\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_SKINNING\n","\n","\tmat4 skinMatrix = mat4( 0.0 );\n","\tskinMatrix += skinWeight.x * boneMatX;\n","\tskinMatrix += skinWeight.y * boneMatY;\n","\tskinMatrix += skinWeight.z * boneMatZ;\n","\tskinMatrix += skinWeight.w * boneMatW;\n","\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n","\n","\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["float specularStrength;\n","\n","#ifdef USE_SPECULARMAP\n","\n","\tvec4 texelSpecular = texture2D( specularMap, vUv );\n","\tspecularStrength = texelSpecular.r;\n","\n","#else\n","\n","\tspecularStrength = 1.0;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifdef USE_SPECULARMAP\n","\n","\tuniform sampler2D specularMap;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( TONE_MAPPING )\n","\n","  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#ifndef saturate\n","\t#define saturate(a) clamp( a, 0.0, 1.0 )\n","#endif\n","\n","uniform float toneMappingExposure;\n","uniform float toneMappingWhitePoint;\n","\n","// exposure only\n","vec3 LinearToneMapping( vec3 color ) {\n","\n","\treturn toneMappingExposure * color;\n","\n","}\n","\n","// source: https://www.cs.utah.edu/~reinhard/cdrom/\n","vec3 ReinhardToneMapping( vec3 color ) {\n","\n","\tcolor *= toneMappingExposure;\n","\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n","\n","}\n","\n","// source: http://filmicgames.com/archives/75\n","#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\n","vec3 Uncharted2ToneMapping( vec3 color ) {\n","\n","\t// John Hable's filmic operator from Uncharted 2 video game\n","\tcolor *= toneMappingExposure;\n","\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n","\n","}\n","\n","// source: http://filmicgames.com/archives/75\n","vec3 OptimizedCineonToneMapping( vec3 color ) {\n","\n","\t// optimized filmic operator by Jim Hejl and Richard Burgess-Dawson\n","\tcolor *= toneMappingExposure;\n","\tcolor = max( vec3( 0.0 ), color - 0.004 );\n","\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n","\n","}\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n","\n","\tvarying vec2 vUv;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n","\n","\tvarying vec2 vUv;\n","\tuniform mat3 uvTransform;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n","\n","\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n","\n","\tvarying vec2 vUv2;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n","\n","\tattribute vec2 uv2;\n","\tvarying vec2 vUv2;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n","\n","\tvUv2 = uv2;\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n","\n","\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n","\n","#endif\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["uniform samplerCube tCube;\n","uniform float tFlip;\n","uniform float opacity;\n","\n","varying vec3 vWorldPosition;\n","\n","void main() {\n","\n","\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n","\tgl_FragColor.a *= opacity;\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["varying vec3 vWorldPosition;\n","\n","#include <common>\n","\n","void main() {\n","\n","\tvWorldPosition = transformDirection( position, modelMatrix );\n","\n","\t#include <begin_vertex>\n","\t#include <project_vertex>\n","\n","\tgl_Position.z = gl_Position.w; // set z to camera.far\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#if DEPTH_PACKING == 3200\n","\n","\tuniform float opacity;\n","\n","#endif\n","\n","#include <common>\n","#include <packing>\n","#include <uv_pars_fragment>\n","#include <map_pars_fragment>\n","#include <alphamap_pars_fragment>\n","#include <logdepthbuf_pars_fragment>\n","#include <clipping_planes_pars_fragment>\n","\n","void main() {\n","\n","\t#include <clipping_planes_fragment>\n","\n","\tvec4 diffuseColor = vec4( 1.0 );\n","\n","\t#if DEPTH_PACKING == 3200\n","\n","\t\tdiffuseColor.a = opacity;\n","\n","\t#endif\n","\n","\t#include <map_fragment>\n","\t#include <alphamap_fragment>\n","\t#include <alphatest_fragment>\n","\n","\t#include <logdepthbuf_fragment>\n","\n","\t#if DEPTH_PACKING == 3200\n","\n","\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n","\n","\t#elif DEPTH_PACKING == 3201\n","\n","\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n","\n","\t#endif\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#include <common>\n","#include <uv_pars_vertex>\n","#include <displacementmap_pars_vertex>\n","#include <morphtarget_pars_vertex>\n","#include <skinning_pars_vertex>\n","#include <logdepthbuf_pars_vertex>\n","#include <clipping_planes_pars_vertex>\n","\n","void main() {\n","\n","\t#include <uv_vertex>\n","\n","\t#include <skinbase_vertex>\n","\n","\t#ifdef USE_DISPLACEMENTMAP\n","\n","\t\t#include <beginnormal_vertex>\n","\t\t#include <morphnormal_vertex>\n","\t\t#include <skinnormal_vertex>\n","\n","\t#endif\n","\n","\t#include <begin_vertex>\n","\t#include <morphtarget_vertex>\n","\t#include <skinning_vertex>\n","\t#include <displacementmap_vertex>\n","\t#include <project_vertex>\n","\t#include <logdepthbuf_vertex>\n","\t#include <clipping_planes_vertex>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#define DISTANCE\n","\n","uniform vec3 referencePosition;\n","uniform float nearDistance;\n","uniform float farDistance;\n","varying vec3 vWorldPosition;\n","\n","#include <common>\n","#include <packing>\n","#include <uv_pars_fragment>\n","#include <map_pars_fragment>\n","#include <alphamap_pars_fragment>\n","#include <clipping_planes_pars_fragment>\n","\n","void main () {\n","\n","\t#include <clipping_planes_fragment>\n","\n","\tvec4 diffuseColor = vec4( 1.0 );\n","\n","\t#include <map_fragment>\n","\t#include <alphamap_fragment>\n","\t#include <alphatest_fragment>\n","\n","\tfloat dist = length( vWorldPosition - referencePosition );\n","\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n","\tdist = saturate( dist ); // clamp to [ 0, 1 ]\n","\n","\tgl_FragColor = packDepthToRGBA( dist );\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#define DISTANCE\n","\n","varying vec3 vWorldPosition;\n","\n","#include <common>\n","#include <uv_pars_vertex>\n","#include <displacementmap_pars_vertex>\n","#include <morphtarget_pars_vertex>\n","#include <skinning_pars_vertex>\n","#include <clipping_planes_pars_vertex>\n","\n","void main() {\n","\n","\t#include <uv_vertex>\n","\n","\t#include <skinbase_vertex>\n","\n","\t#ifdef USE_DISPLACEMENTMAP\n","\n","\t\t#include <beginnormal_vertex>\n","\t\t#include <morphnormal_vertex>\n","\t\t#include <skinnormal_vertex>\n","\n","\t#endif\n","\n","\t#include <begin_vertex>\n","\t#include <morphtarget_vertex>\n","\t#include <skinning_vertex>\n","\t#include <displacementmap_vertex>\n","\t#include <project_vertex>\n","\t#include <worldpos_vertex>\n","\t#include <clipping_planes_vertex>\n","\n","\tvWorldPosition = worldPosition.xyz;\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["uniform sampler2D tEquirect;\n","\n","varying vec3 vWorldPosition;\n","\n","#include <common>\n","\n","void main() {\n","\n","\tvec3 direction = normalize( vWorldPosition );\n","\n","\tvec2 sampleUV;\n","\n","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n","\n","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n","\n","\tgl_FragColor = texture2D( tEquirect, sampleUV );\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["varying vec3 vWorldPosition;\n","\n","#include <common>\n","\n","void main() {\n","\n","\tvWorldPosition = transformDirection( position, modelMatrix );\n","\n","\t#include <begin_vertex>\n","\t#include <project_vertex>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n    uniform vec3 diffuse;\n    uniform float opacity;\n    uniform float dashSize;\n    uniform float totalSize;\n    varying float vLineDistance;\n    #include <common>\n    #include <color_pars_fragment>\n    #include <fog_pars_fragment>\n    #include <logdepthbuf_pars_fragment>\n    #include <clipping_planes_pars_fragment>\n    void main() {\n    \t#include <clipping_planes_fragment>\n    \tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n    \t\tdiscard;\n    \t}\n    \tvec3 outgoingLight = vec3( 0.0 );\n    \tvec4 diffuseColor = vec4( diffuse, opacity );\n    \t#include <logdepthbuf_fragment>\n    \t#include <color_fragment>\n    \toutgoingLight = diffuseColor.rgb; // simple shader\n    \tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n    \t#include <premultiplied_alpha_fragment>\n    \t#include <tonemapping_fragment>\n    \t#include <encodings_fragment>\n    \t#include <fog_fragment>\n    }"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["uniform float scale;\n","attribute float lineDistance;\n","\n","varying float vLineDistance;\n","\n","#include <common>\n","#include <color_pars_vertex>\n","#include <fog_pars_vertex>\n","#include <logdepthbuf_pars_vertex>\n","#include <clipping_planes_pars_vertex>\n","\n","void main() {\n","\n","\t#include <color_vertex>\n","\n","\tvLineDistance = scale * lineDistance;\n","\n","\t#include <begin_vertex>\n","\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n","   vec4 fogPosition = projectMatrix * vec4( transformed, 1.0 );\n","\tgl_Position = projectionMatrix * mvPosition;\n","\n","\t#include <logdepthbuf_vertex>\n","\t#include <clipping_planes_vertex>\n","\t#include <fog_vertex>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["uniform vec3 diffuse;\n","uniform float opacity;\n","\n","#ifndef FLAT_SHADED\n","\n","\tvarying vec3 vNormal;\n","\n","#endif\n","\n","#include <common>\n","#include <color_pars_fragment>\n","#include <uv_pars_fragment>\n","#include <uv2_pars_fragment>\n","#include <map_pars_fragment>\n","#include <alphamap_pars_fragment>\n","#include <aomap_pars_fragment>\n","#include <lightmap_pars_fragment>\n","#include <envmap_pars_fragment>\n","#include <fog_pars_fragment>\n","#include <specularmap_pars_fragment>\n","#include <logdepthbuf_pars_fragment>\n","#include <clipping_planes_pars_fragment>\n","\n","void main() {\n","\n","\t#include <clipping_planes_fragment>\n","\n","\tvec4 diffuseColor = vec4( diffuse, opacity );\n","\n","\t#include <logdepthbuf_fragment>\n","\t#include <map_fragment>\n","\t#include <color_fragment>\n","\t#include <alphamap_fragment>\n","\t#include <alphatest_fragment>\n","\t#include <specularmap_fragment>\n","\n","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n","\n","\t// accumulation (baked indirect lighting only)\n","\t#ifdef USE_LIGHTMAP\n","\n","\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n","\n","\t#else\n","\n","\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n","\n","\t#endif\n","\n","\t// modulation\n","\t#include <aomap_fragment>\n","\n","\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n","\n","\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n","\n","\t#include <envmap_fragment>\n","\n","\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n","\n","\t#include <premultiplied_alpha_fragment>\n","\t#include <tonemapping_fragment>\n","\t#include <encodings_fragment>\n","\t#include <fog_fragment>\n","\n","}\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#include <common>\n","#include <uv_pars_vertex>\n","#include <uv2_pars_vertex>\n","#include <envmap_pars_vertex>\n","#include <color_pars_vertex>\n","#include <fog_pars_vertex>\n","#include <morphtarget_pars_vertex>\n","#include <skinning_pars_vertex>\n","#include <logdepthbuf_pars_vertex>\n","#include <clipping_planes_pars_vertex>\n","\n","void main() {\n","\n","\t#include <uv_vertex>\n","\t#include <uv2_vertex>\n","\t#include <color_vertex>\n","\t#include <skinbase_vertex>\n","\n","\t#ifdef USE_ENVMAP\n","\n","\t#include <beginnormal_vertex>\n","\t#include <morphnormal_vertex>\n","\t#include <skinnormal_vertex>\n","\t#include <defaultnormal_vertex>\n","\n","\t#endif\n","\n","\t#include <begin_vertex>\n","\t#include <morphtarget_vertex>\n","\t#include <skinning_vertex>\n","\t#include <project_vertex>\n","\t#include <logdepthbuf_vertex>\n","\n","\t#include <worldpos_vertex>\n","\t#include <clipping_planes_vertex>\n","\t#include <envmap_vertex>\n","\t#include <fog_vertex>\n","\n","}\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["uniform vec3 diffuse;\n","uniform vec3 emissive;\n","uniform float opacity;\n","\n","varying vec3 vLightFront;\n","\n","#ifdef DOUBLE_SIDED\n","\n","\tvarying vec3 vLightBack;\n","\n","#endif\n","\n","#include <common>\n","#include <packing>\n","#include <dithering_pars_fragment>\n","#include <color_pars_fragment>\n","#include <uv_pars_fragment>\n","#include <uv2_pars_fragment>\n","#include <map_pars_fragment>\n","#include <alphamap_pars_fragment>\n","#include <aomap_pars_fragment>\n","#include <lightmap_pars_fragment>\n","#include <emissivemap_pars_fragment>\n","#include <envmap_pars_fragment>\n","#include <bsdfs>\n","#include <lights_pars_begin>\n","#include <fog_pars_fragment>\n","#include <shadowmap_pars_fragment>\n","#include <shadowmask_pars_fragment>\n","#include <specularmap_pars_fragment>\n","#include <logdepthbuf_pars_fragment>\n","#include <clipping_planes_pars_fragment>\n","\n","void main() {\n","\n","\t#include <clipping_planes_fragment>\n","\n","\tvec4 diffuseColor = vec4( diffuse, opacity );\n","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n","\tvec3 totalEmissiveRadiance = emissive;\n","\n","\t#include <logdepthbuf_fragment>\n","\t#include <map_fragment>\n","\t#include <color_fragment>\n","\t#include <alphamap_fragment>\n","\t#include <alphatest_fragment>\n","\t#include <specularmap_fragment>\n","\t#include <emissivemap_fragment>\n","\n","\t// accumulation\n","\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n","\n","\t#include <lightmap_fragment>\n","\n","\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n","\n","\t#ifdef DOUBLE_SIDED\n","\n","\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n","\n","\t#else\n","\n","\t\treflectedLight.directDiffuse = vLightFront;\n","\n","\t#endif\n","\n","\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n","\n","\t// modulation\n","\t#include <aomap_fragment>\n","\n","\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n","\n","\t#include <envmap_fragment>\n","\n","\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n","\n","\t#include <tonemapping_fragment>\n","\t#include <encodings_fragment>\n","\t#include <fog_fragment>\n","\t#include <premultiplied_alpha_fragment>\n","\t#include <dithering_fragment>\n","\n","}\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#define LAMBERT\n","\n","varying vec3 vLightFront;\n","\n","#ifdef DOUBLE_SIDED\n","\n","\tvarying vec3 vLightBack;\n","\n","#endif\n","\n","#include <common>\n","#include <uv_pars_vertex>\n","#include <uv2_pars_vertex>\n","#include <envmap_pars_vertex>\n","#include <bsdfs>\n","#include <lights_pars_begin>\n","#include <color_pars_vertex>\n","#include <fog_pars_vertex>\n","#include <morphtarget_pars_vertex>\n","#include <skinning_pars_vertex>\n","#include <shadowmap_pars_vertex>\n","#include <logdepthbuf_pars_vertex>\n","#include <clipping_planes_pars_vertex>\n","\n","void main() {\n","\n","\t#include <uv_vertex>\n","\t#include <uv2_vertex>\n","\t#include <color_vertex>\n","\n","\t#include <beginnormal_vertex>\n","\t#include <morphnormal_vertex>\n","\t#include <skinbase_vertex>\n","\t#include <skinnormal_vertex>\n","\t#include <defaultnormal_vertex>\n","\n","\t#include <begin_vertex>\n","\t#include <morphtarget_vertex>\n","\t#include <skinning_vertex>\n","\t#include <project_vertex>\n","\t#include <logdepthbuf_vertex>\n","\t#include <clipping_planes_vertex>\n","\n","\t#include <worldpos_vertex>\n","\t#include <envmap_vertex>\n","\t#include <lights_lambert_vertex>\n","\t#include <shadowmap_vertex>\n","\t#include <fog_vertex>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#define PHONG\n","\n","uniform vec3 diffuse;\n","uniform vec3 emissive;\n","uniform vec3 specular;\n","uniform float shininess;\n","uniform float opacity;\n","\n","#include <common>\n","#include <packing>\n","#include <dithering_pars_fragment>\n","#include <color_pars_fragment>\n","#include <uv_pars_fragment>\n","#include <uv2_pars_fragment>\n","#include <map_pars_fragment>\n","#include <alphamap_pars_fragment>\n","#include <aomap_pars_fragment>\n","#include <lightmap_pars_fragment>\n","#include <emissivemap_pars_fragment>\n","#include <envmap_pars_fragment>\n","#include <gradientmap_pars_fragment>\n","#include <fog_pars_fragment>\n","#include <bsdfs>\n","#include <lights_pars_begin>\n","#include <lights_phong_pars_fragment>\n","#include <shadowmap_pars_fragment>\n","#include <bumpmap_pars_fragment>\n","#include <normalmap_pars_fragment>\n","#include <specularmap_pars_fragment>\n","#include <logdepthbuf_pars_fragment>\n","#include <clipping_planes_pars_fragment>\n","\n","void main() {\n","\n","\t#include <clipping_planes_fragment>\n","\n","\tvec4 diffuseColor = vec4( diffuse, opacity );\n","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n","\tvec3 totalEmissiveRadiance = emissive;\n","\n","\t#include <logdepthbuf_fragment>\n","\t#include <map_fragment>\n","\t#include <color_fragment>\n","\t#include <alphamap_fragment>\n","\t#include <alphatest_fragment>\n","\t#include <specularmap_fragment>\n","\t#include <normal_fragment_begin>\n","\t#include <normal_fragment_maps>\n","\t#include <emissivemap_fragment>\n","\n","\t// accumulation\n","\t#include <lights_phong_fragment>\n","\t#include <lights_fragment_begin>\n","\t#include <lights_fragment_maps>\n","\t#include <lights_fragment_end>\n","\n","\t// modulation\n","\t#include <aomap_fragment>\n","\n","\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n","\n","\t#include <envmap_fragment>\n","\n","\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n","\n","\t#include <tonemapping_fragment>\n","\t#include <encodings_fragment>\n","\t#include <fog_fragment>\n","\t#include <premultiplied_alpha_fragment>\n","\t#include <dithering_fragment>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#define PHONG\n","\n","varying vec3 vViewPosition;\n","\n","#ifndef FLAT_SHADED\n","\n","\tvarying vec3 vNormal;\n","\n","#endif\n","\n","#include <common>\n","#include <uv_pars_vertex>\n","#include <uv2_pars_vertex>\n","#include <displacementmap_pars_vertex>\n","#include <envmap_pars_vertex>\n","#include <color_pars_vertex>\n","#include <fog_pars_vertex>\n","#include <morphtarget_pars_vertex>\n","#include <skinning_pars_vertex>\n","#include <shadowmap_pars_vertex>\n","#include <logdepthbuf_pars_vertex>\n","#include <clipping_planes_pars_vertex>\n","\n","void main() {\n","\n","\t#include <uv_vertex>\n","\t#include <uv2_vertex>\n","\t#include <color_vertex>\n","\n","\t#include <beginnormal_vertex>\n","\t#include <morphnormal_vertex>\n","\t#include <skinbase_vertex>\n","\t#include <skinnormal_vertex>\n","\t#include <defaultnormal_vertex>\n","\n","#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n","\n","\tvNormal = normalize( transformedNormal );\n","\n","#endif\n","\n","\t#include <begin_vertex>\n","\t#include <morphtarget_vertex>\n","\t#include <skinning_vertex>\n","\t#include <displacementmap_vertex>\n","\t#include <project_vertex>\n","\t#include <logdepthbuf_vertex>\n","\t#include <clipping_planes_vertex>\n","\n","\tvViewPosition = - mvPosition.xyz;\n","\n","\t#include <worldpos_vertex>\n","\t#include <envmap_vertex>\n","\t#include <shadowmap_vertex>\n","\t#include <fog_vertex>\n","\n","}\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#define PHYSICAL\n","\n","uniform vec3 diffuse;\n","uniform vec3 emissive;\n","uniform float roughness;\n","uniform float metalness;\n","uniform float opacity;\n","\n","#ifndef STANDARD\n","\tuniform float clearCoat;\n","\tuniform float clearCoatRoughness;\n","#endif\n","\n","varying vec3 vViewPosition;\n","\n","#ifndef FLAT_SHADED\n","\n","\tvarying vec3 vNormal;\n","\n","#endif\n","\n","#include <common>\n","#include <packing>\n","#include <dithering_pars_fragment>\n","#include <color_pars_fragment>\n","#include <uv_pars_fragment>\n","#include <uv2_pars_fragment>\n","#include <map_pars_fragment>\n","#include <alphamap_pars_fragment>\n","#include <aomap_pars_fragment>\n","#include <lightmap_pars_fragment>\n","#include <emissivemap_pars_fragment>\n","#include <bsdfs>\n","#include <cube_uv_reflection_fragment>\n","#include <envmap_pars_fragment>\n","#include <envmap_physical_pars_fragment>\n","#include <fog_pars_fragment>\n","#include <lights_pars_begin>\n","#include <lights_physical_pars_fragment>\n","#include <shadowmap_pars_fragment>\n","#include <bumpmap_pars_fragment>\n","#include <normalmap_pars_fragment>\n","#include <roughnessmap_pars_fragment>\n","#include <metalnessmap_pars_fragment>\n","#include <logdepthbuf_pars_fragment>\n","#include <clipping_planes_pars_fragment>\n","\n","void main() {\n","\n","\t#include <clipping_planes_fragment>\n","\n","\tvec4 diffuseColor = vec4( diffuse, opacity );\n","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n","\tvec3 totalEmissiveRadiance = emissive;\n","\n","\t#include <logdepthbuf_fragment>\n","\t#include <map_fragment>\n","\t#include <color_fragment>\n","\t#include <alphamap_fragment>\n","\t#include <alphatest_fragment>\n","\t#include <roughnessmap_fragment>\n","\t#include <metalnessmap_fragment>\n","\t#include <normal_fragment_begin>\n","\t#include <normal_fragment_maps>\n","\t#include <emissivemap_fragment>\n","\n","\t// accumulation\n","\t#include <lights_physical_fragment>\n","\t#include <lights_fragment_begin>\n","\t#include <lights_fragment_maps>\n","\t#include <lights_fragment_end>\n","\n","\t// modulation\n","\t#include <aomap_fragment>\n","\n","\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n","\n","\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n","\n","\t#include <tonemapping_fragment>\n","\t#include <encodings_fragment>\n","\t#include <fog_fragment>\n","\t#include <premultiplied_alpha_fragment>\n","\t#include <dithering_fragment>\n","\n","}\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#define PHYSICAL\n","\n","varying vec3 vViewPosition;\n","\n","#ifndef FLAT_SHADED\n","\n","\tvarying vec3 vNormal;\n","\n","#endif\n","\n","#include <common>\n","#include <uv_pars_vertex>\n","#include <uv2_pars_vertex>\n","#include <displacementmap_pars_vertex>\n","#include <color_pars_vertex>\n","#include <fog_pars_vertex>\n","#include <morphtarget_pars_vertex>\n","#include <skinning_pars_vertex>\n","#include <shadowmap_pars_vertex>\n","#include <logdepthbuf_pars_vertex>\n","#include <clipping_planes_pars_vertex>\n","\n","void main() {\n","\n","\t#include <uv_vertex>\n","\t#include <uv2_vertex>\n","\t#include <color_vertex>\n","\n","\t#include <beginnormal_vertex>\n","\t#include <morphnormal_vertex>\n","\t#include <skinbase_vertex>\n","\t#include <skinnormal_vertex>\n","\t#include <defaultnormal_vertex>\n","\n","#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n","\n","\tvNormal = normalize( transformedNormal );\n","\n","#endif\n","\n","\t#include <begin_vertex>\n","\t#include <morphtarget_vertex>\n","\t#include <skinning_vertex>\n","\t#include <displacementmap_vertex>\n","\t#include <project_vertex>\n","\t#include <logdepthbuf_vertex>\n","\t#include <clipping_planes_vertex>\n","\n","\tvViewPosition = - mvPosition.xyz;\n","\n","\t#include <worldpos_vertex>\n","\t#include <shadowmap_vertex>\n","\t#include <fog_vertex>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#define NORMAL\n","\n","uniform float opacity;\n","\n","#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n","\n","\tvarying vec3 vViewPosition;\n","\n","#endif\n","\n","#ifndef FLAT_SHADED\n","\n","\tvarying vec3 vNormal;\n","\n","#endif\n","\n","#include <packing>\n","#include <uv_pars_fragment>\n","#include <bumpmap_pars_fragment>\n","#include <normalmap_pars_fragment>\n","#include <logdepthbuf_pars_fragment>\n","\n","void main() {\n","\n","\t#include <logdepthbuf_fragment>\n","\t#include <normal_fragment_begin>\n","\t#include <normal_fragment_maps>\n","\n","\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#define NORMAL\n","\n","#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n","\n","\tvarying vec3 vViewPosition;\n","\n","#endif\n","\n","#ifndef FLAT_SHADED\n","\n","\tvarying vec3 vNormal;\n","\n","#endif\n","\n","#include <uv_pars_vertex>\n","#include <displacementmap_pars_vertex>\n","#include <morphtarget_pars_vertex>\n","#include <skinning_pars_vertex>\n","#include <logdepthbuf_pars_vertex>\n","\n","void main() {\n","\n","\t#include <uv_vertex>\n","\n","\t#include <beginnormal_vertex>\n","\t#include <morphnormal_vertex>\n","\t#include <skinbase_vertex>\n","\t#include <skinnormal_vertex>\n","\t#include <defaultnormal_vertex>\n","\n","#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n","\n","\tvNormal = normalize( transformedNormal );\n","\n","#endif\n","\n","\t#include <begin_vertex>\n","\t#include <morphtarget_vertex>\n","\t#include <skinning_vertex>\n","\t#include <displacementmap_vertex>\n","\t#include <project_vertex>\n","\t#include <logdepthbuf_vertex>\n","\n","#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n","\n","\tvViewPosition = - mvPosition.xyz;\n","\n","#endif\n","\n","}\n","\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["uniform vec3 diffuse;\n","uniform float opacity;\n","\n","#include <common>\n","#include <color_pars_fragment>\n","#include <map_particle_pars_fragment>\n","#include <fog_pars_fragment>\n","#include <logdepthbuf_pars_fragment>\n","#include <clipping_planes_pars_fragment>\n","\n","void main() {\n","\n","\t#include <clipping_planes_fragment>\n","\n","\tvec3 outgoingLight = vec3( 0.0 );\n","\tvec4 diffuseColor = vec4( diffuse, opacity );\n","\n","\t#include <logdepthbuf_fragment>\n","\t#include <map_particle_fragment>\n","\t#include <color_fragment>\n","\t#include <alphatest_fragment>\n","\n","\toutgoingLight = diffuseColor.rgb;\n","\n","\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n","\n","\t#include <premultiplied_alpha_fragment>\n","\t#include <tonemapping_fragment>\n","\t#include <encodings_fragment>\n","\t#include <fog_fragment>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["uniform float size;\n","uniform float scale;\n","\n","#include <common>\n","#include <color_pars_vertex>\n","#include <fog_pars_vertex>\n","#include <morphtarget_pars_vertex>\n","#include <logdepthbuf_pars_vertex>\n","#include <clipping_planes_pars_vertex>\n","\n","void main() {\n","\n","\t#include <color_vertex>\n","\t#include <begin_vertex>\n","\t#include <morphtarget_vertex>\n","\t#include <project_vertex>\n","\n","\tgl_PointSize = size;\n","\n","\t#ifdef USE_SIZEATTENUATION\n","\n","\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n","\n","\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n","\n","\t#endif\n","\n","\t#include <logdepthbuf_vertex>\n","\t#include <clipping_planes_vertex>\n","\t#include <worldpos_vertex>\n","\t#include <fog_vertex>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["uniform vec3 color;\n","uniform float opacity;\n","\n","#include <common>\n","#include <packing>\n","#include <fog_pars_fragment>\n","#include <bsdfs>\n","#include <lights_pars_begin>\n","#include <shadowmap_pars_fragment>\n","#include <shadowmask_pars_fragment>\n","\n","void main() {\n","\n","\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n","\n","\t#include <fog_fragment>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["#include <fog_pars_vertex>\n","#include <shadowmap_pars_vertex>\n","\n","void main() {\n","\n","\t#include <begin_vertex>\n","\t#include <project_vertex>\n","\t#include <worldpos_vertex>\n","\t#include <shadowmap_vertex>\n","\t#include <fog_vertex>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["uniform vec3 diffuse;\n","uniform float opacity;\n","\n","#include <common>\n","#include <uv_pars_fragment>\n","#include <map_pars_fragment>\n","#include <fog_pars_fragment>\n","#include <logdepthbuf_pars_fragment>\n","#include <clipping_planes_pars_fragment>\n","\n","void main() {\n","\n","\t#include <clipping_planes_fragment>\n","\n","\tvec3 outgoingLight = vec3( 0.0 );\n","\tvec4 diffuseColor = vec4( diffuse, opacity );\n","\n","\t#include <logdepthbuf_fragment>\n","\t#include <map_fragment>\n","\t#include <alphatest_fragment>\n","\n","\toutgoingLight = diffuseColor.rgb;\n","\n","\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n","\n","\t#include <tonemapping_fragment>\n","\t#include <encodings_fragment>\n","\t#include <fog_fragment>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["uniform float rotation;\n","uniform vec2 center;\n","\n","#include <common>\n","#include <uv_pars_vertex>\n","#include <fog_pars_vertex>\n","#include <logdepthbuf_pars_vertex>\n","#include <clipping_planes_pars_vertex>\n","\n","void main() {\n","\n","\t#include <uv_vertex>\n","\n","\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n","   vec4 fogPosition = projectMatrix * vec4(  0.0, 0.0, 0.0, 1.0 );\n","\n","\tvec2 scale;\n","\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n","\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n","\n","\t#ifndef USE_SIZEATTENUATION\n","\n","\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n","\n","\t\tif ( isPerspective ) scale *= - mvPosition.z;\n","\n","\t#endif\n","\n","\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n","\n","\tvec2 rotatedPosition;\n","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n","\n","\tmvPosition.xy += rotatedPosition;\n","\n","\tgl_Position = projectionMatrix * mvPosition;\n","\n","\t#include <logdepthbuf_vertex>\n","\t#include <clipping_planes_vertex>\n","\t#include <fog_vertex>\n","\n","}\n"].join("");t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n#ifdef CIRCLE\n    #include <circle>\n#endif\n#ifdef ELLIPSE\n    #include <ellipse>\n#endif\n#ifdef NURBS\n    #include <nurbs>\n#endif\n#ifdef ELLIPSESUR\n    #include <ellipseSur>\n#endif\n#ifdef CIRCLESUR\n    #include <circleSur>\n#endif\n#ifdef TUBESUR\n    #include <tubeSur>\n#endif\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n#include <ellipse>\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n    vec3 center = vec3(paramUniform[0], paramUniform[1],paramUniform[2]);\n    float xRadius = paramUniform[3];\n    float yRadius = paramUniform[4];\n    float startRadian = paramUniform[5];\n    float endRadian = paramUniform[6];\n    float radian = u * (startRadian - endRadian) + startRadian;\n    transformed.x = center.x + xRadius * cos(radian);\n    transformed.y = center.y + yRadius * sin(radian);\n    transformed.z = center.z;\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n\n    float U[degree + polesCount + 1];\n    vec4 Pw[polesCount];\n    vec4 Cw = vec4(0.);\n\n    for (int i = 0; i < degree + polesCount + 1; ++i)\n        U[i] = paramUniform[i];\n    for (int i = degree + polesCount + 1; i < degree + polesCount + 1 + polesCount * 4; i += 4)\n        Pw[(i - degree - polesCount - 1) / 4] = vec4(paramUniform[i], paramUniform[i + 1], paramUniform[i + 2], paramUniform[i + 3]);\n\n    for (int i = degree; i < polesCount; i++) {\n\n        if (u >= U[i] && u < U[i + 1]) {\n\n            float N[degree + 1];\n            N[0] = 1.0;\n\n            float left[degree + 1];\n            float right[degree + 1];\n\n            for (int j = 1; j <= degree; ++j) {\n                left[j] = u - U[i + 1 - j];\n                right[j] = U[i + j] - u;\n                float saved = 0.;\n\n                if (j == 1) {\n\n                    float temp = N[0] / (right[1] + left[j]);\n                    N[0] = saved + right[1] * temp;\n                    saved = left[j] * temp;\n\n                } else {\n\n                    for (int r = 0; r < degree; r++) {\n                        float temp = N[r] / (right[r + 1] + left[j - r]);\n                        N[r] = saved + right[r + 1] * temp;\n                        saved = left[j - r] * temp;\n                        if (r == j - 1) break;\n                    }\n\n                }\n\n                N[j] = saved;\n            }\n\n            for (int j = 0; j <= degree; j++)\n                Cw += N[j] * Pw[i - degree + j];\n\n            break;\n\n        } else if (u == U[polesCount]) {\n\n            float N[degree + 1];\n            N[0] = 1.0;\n\n            float left[degree + 1];\n            float right[degree + 1];\n\n            for (int j = 1; j <= degree; ++j) {\n                left[j] = u - U[polesCount - 1 + 1 - j];\n                right[j] = U[polesCount - 1 + j] - u;\n                float saved = 0.;\n\n                if (j == 1) {\n\n                    float temp = N[0] / (right[1] + left[j]);\n                    N[0] = saved + right[1] * temp;\n                    saved = left[j] * temp;\n\n                } else {\n\n                    for (int r = 0; r < degree; r++) {\n                        float temp = N[r] / (right[r + 1] + left[j - r]);\n                        N[r] = saved + right[r + 1] * temp;\n                        saved = left[j - r] * temp;\n                        if (r == j - 1) break;\n                    }\n\n                }\n\n                N[j] = saved;\n            }\n\n            for (int j = 0; j <= degree; j++)\n                Cw += N[j] * Pw[polesCount - 1 - degree + j];\n\n            break;\n        }\n    }\n\n    transformed.x = Cw.x / Cw.w;\n    transformed.y = Cw.y / Cw.w;\n    transformed.z = Cw.z / Cw.w;\n\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n    if (u == -1.)\n        transformed.xyz = vec3(paramUniform[0], paramUniform[1],paramUniform[2]);\n    else {\n        #include <ellipse>\n    }\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n    #include <ellipseSur>\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="\n    #ifdef UCIRCLE\n        vec3 uCenter = vec3(uParamUniform[0], uParamUniform[1], uParamUniform[2]);\n        float uXRadius = uParamUniform[3];\n        float uYRadius = uParamUniform[4];\n        float uStartRadian = uParamUniform[5];\n        float uEndRadian = uParamUniform[6];\n        float uRadian = u.y * (uStartRadian - uEndRadian) + uStartRadian;\n        transformed.x = uCenter.x + uXRadius * cos(uRadian);\n        transformed.y = uCenter.y + uYRadius * sin(uRadian);\n        transformed.z = uCenter.z;\n\n        vec3 U = transformed.xyz;\n    #endif\n\n    #ifdef VCIRCLE\n        vec3 vCenter = vec3(vParamUniform[0], vParamUniform[1],vParamUniform[2]);\n        float vXRadius = vParamUniform[3];\n        float vYRadius = vParamUniform[4];\n        float vStartRadian = vParamUniform[5];\n        float vEndRadian = vParamUniform[6];\n        float vRadian = u.x * (vStartRadian - vEndRadian) + vStartRadian;\n        transformed.x = vCenter.x + vXRadius * cos(vRadian);\n        transformed.y = vCenter.y + vYRadius * sin(vRadian);\n        transformed.z = vCenter.z;\n\n        vec3 V = transformed.xyz;\n\n        transformed.xyz = vec3(V.x + U.x * cos(vRadian), V.y + U.x * sin(vRadian), V.z + U.y);\n\n        objectNormal = transformed.xyz - vCenter;\n    #endif\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GUMWebGLShader=function(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,e.COMPILE_STATUS)&&console.error("spdengine-3D.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("spdengine-3D.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41),i=n(144),o=new r.Texture,a=new i.CubeTexture;function s(){this.seq=[],this.map={}}var c=[],l=[],u=new Float32Array(16),p=new Float32Array(9),d=new Float32Array(4);function h(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=c[i];if(void 0===o&&(o=new Float32Array(i),c[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function f(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function m(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function g(e,t){var n=l[t];void 0===n&&(n=new Int32Array(t),l[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function y(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function v(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function x(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(f(n,t))return;e.uniform2fv(this.addr,t),m(n,t)}}function M(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(f(n,t))return;e.uniform3fv(this.addr,t),m(n,t)}}function b(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(f(n,t))return;e.uniform4fv(this.addr,t),m(n,t)}}function w(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(f(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),m(n,t)}else{if(f(n,r))return;d.set(r),e.uniformMatrix2fv(this.addr,!1,d),m(n,r)}}function A(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(f(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),m(n,t)}else{if(f(n,r))return;p.set(r),e.uniformMatrix3fv(this.addr,!1,p),m(n,r)}}function _(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(f(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),m(n,t)}else{if(f(n,r))return;u.set(r),e.uniformMatrix4fv(this.addr,!1,u),m(n,r)}}function E(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||o,i)}function D(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||a,i)}function S(e,t){var n=this.cache;f(n,t)||(e.uniform2iv(this.addr,t),m(n,t))}function P(e,t){var n=this.cache;f(n,t)||(e.uniform3iv(this.addr,t),m(n,t))}function T(e,t){var n=this.cache;f(n,t)||(e.uniform4iv(this.addr,t),m(n,t))}function C(e,t){var n=this.cache;f(n,t)||(e.uniform1fv(this.addr,t),m(n,t))}function R(e,t){var n=this.cache;f(n,t)||(e.uniform1iv(this.addr,t),m(n,t))}function I(e,t){var n=this.cache,r=h(t,this.size,2);f(n,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function O(e,t){var n=this.cache,r=h(t,this.size,3);f(n,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function L(e,t){var n=this.cache,r=h(t,this.size,4);f(n,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function k(e,t){var n=this.cache,r=h(t,this.size,4);f(n,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function B(e,t){var n=this.cache,r=h(t,this.size,9);f(n,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function U(e,t){var n=this.cache,r=h(t,this.size,16);f(n,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function N(e,t,n){var r=this.cache,i=t.length,a=g(n,i);!1===f(r,a)&&(e.uniform1iv(this.addr,a),m(r,a));for(var s=0;s!==i;++s)n.setTexture2D(t[s]||o,a[s])}function F(e,t,n){var r=this.cache,i=t.length,o=g(n,i);!1===f(r,o)&&(e.uniform1iv(this.addr,o),m(r,o));for(var s=0;s!==i;++s)n.setTextureCube(t[s]||a,o[s])}var j=function(){return function(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return y;case 35664:return x;case 35665:return M;case 35666:return b;case 35674:return w;case 35675:return A;case 35676:return _;case 35678:case 36198:return E;case 35680:return D;case 5124:case 35670:return v;case 35667:case 35671:return S;case 35668:case 35672:return P;case 35669:case 35673:return T}}(t.type)}}();t.SingleUniform=j;var z=function(){function e(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return C;case 35664:return I;case 35665:return O;case 35666:return L;case 35674:return k;case 35675:return B;case 35676:return U;case 35678:return N;case 35680:return F;case 5124:case 35670:return R;case 35667:case 35671:return S;case 35668:case 35672:return P;case 35669:case 35673:return T}}(t.type)}return e.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),m(t,e)},e}();t.PureArrayUniform=z;var V=function(){function e(e){this.id=e,s.call(this)}return e.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}},e}(),H=/([\w\d_]+)(\])?(\[|\.)?/g;function G(e,t){e.seq.push(t),e.map[t.id]=t}function W(e,t,n){var r=e.name,i=r.length,o=!0;for(H.lastIndex=0;o;){var a=H.exec(r),s=H.lastIndex,c=a[1],l="]"===a[2],u=a[3];if(l&&(c|=0),void 0===u||"["===u&&s+2===i)G(n,void 0===u?new j(c,e,t):new z(c,e,t)),o=!1;else{var p=n.map[c];void 0===p&&G(n,p=new V(c)),n=p}}}var X=function(){function e(e,t,n){s.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=e.getActiveUniform(t,i);W(o,e.getUniformLocation(t,o.name),this)}}return e.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},e.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},e.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},e.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n},e}();t.WebGLUniforms=X},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var t=[],n=0,r=[],i=[];this.opaque=r,this.transparent=i,this.init=function(){n=0,r.length=0,i.length=0},this.push=function(e,o,a,s,c){var l=t[n];void 0===l?(l={id:e.id,object:e,geometry:o,material:a,program:a.program,renderOrder:e.renderOrder,z:s,group:c},t[n]=l):(l.id=e.id,l.object=e,l.geometry=o,l.material=a,l.program=a.program,l.renderOrder=e.renderOrder,l.z=s,l.group=c),(!0===a.transparent?i:r).push(l),n++},this.sort=function(){r.length>1&&r.sort(e.painterSortStable),i.length>1&&i.sort(e.reversePainterSortStable)}}return e.painterSortStable=function(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id},e.reversePainterSortStable=function(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id},e}();t.WebGLRenderList=r;var i=function(){return function(){var e={};this.get=function(t,n){var i=t.id+","+n.id,o=e[i];return void 0===o&&(o=new r,e[i]=o),o},this.dispose=function(){e={}}}}();t.WebGLRenderLists=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(306),i=n(116),o=function(){return function(){var e=new r.WebGLLights,t=[],n=[],i={lightsArray:t,shadowsArray:n,lights:e};this.init=function(){t.length=0,n.length=0},this.state=i,this.setupLights=function(r){e.setup(t,n,r)},this.pushLight=function(e){t.push(e)},this.pushShadow=function(e){n.push(e)}}}();t.WebGLRenderState=o;var a=function(){return function(){var e=new i.ArrayMap;this.get=function(t,n){var r;return void 0===e.get(t.id)?(r=new o,e.set(t.id,new i.ArrayMap),e.get(t.id).set(n.id,r)):void 0===e.get(t.id).get(n.id)?(r=new o,e.get(t.id).set(n.id,r)):r=e.get(t.id).get(n.id),r},this.dispose=function(){e.clear()}}}();t.WebGLRenderStates=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=n(46),o=n(42),a=n(33),s=n(116),c=function(){return function(){var e=new s.ArrayMap;this.get=function(t){if(e.has(t.id))return e.get(t.id);var n;switch(t.type){case"DirectionalLight3D":n={direction:new r.Vector33D,color:new i.Color3D,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new o.Vector23D};break;case"SpotLight3D":n={position:new r.Vector33D,direction:new r.Vector33D,color:new i.Color3D,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new o.Vector23D};break;case"PointLight3D":n={position:new r.Vector33D,color:new i.Color3D,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new o.Vector23D,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight3D":n={direction:new r.Vector33D,skyColor:new i.Color3D,groundColor:new i.Color3D};break;case"RectAreaLight3D":n={color:new i.Color3D,position:new r.Vector33D,halfWidth:new r.Vector33D,halfHeight:new r.Vector33D}}return e.set(t.id,n),n}}}(),l=function(){function e(){var t=new c,n={id:e.count++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=new r.Vector33D,o=new a.Matrix43D,s=new a.Matrix43D;this.setup=function(e,r,a){for(var c=0,l=0,u=0,p=0,d=0,h=0,f=0,m=0,g=a.matrixWorldInverse,y=0,v=e.length;y<v;y++){var x=e[y];x.updateMatrixWorld();var M=x.color,b=x.intensity,w=x.distance,A=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)c+=M.r*b,l+=M.g*b,u+=M.b*b;else if(x.isDirectionalLight){if((E=t.get(x)).color.copy(x.color).multiplyScalar(x.intensity),E.direction.setFromMatrixPosition(x.matrixWorld),i.setFromMatrixPosition(x.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(g),E.shadow=x.castShadow,x.castShadow){var _=x.shadow;E.shadowBias=_.bias,E.shadowRadius=_.radius,E.shadowMapSize=_.mapSize}n.directionalShadowMap[p]=A,n.directionalShadowMatrix[p]=x.shadow.matrix,n.directional[p]=E,p++}else if(x.isSpotLight)(E=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),E.position.applyMatrix4(g),E.color.copy(M).multiplyScalar(b),E.distance=w,E.direction.setFromMatrixPosition(x.matrixWorld),i.setFromMatrixPosition(x.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(g),E.coneCos=Math.cos(x.angle),E.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),E.decay=0===x.distance?0:x.decay,E.shadow=x.castShadow,x.castShadow&&(_=x.shadow,E.shadowBias=_.bias,E.shadowRadius=_.radius,E.shadowMapSize=_.mapSize),n.spotShadowMap[h]=A,n.spotShadowMatrix[h]=x.shadow.matrix,n.spot[h]=E,h++;else if(x.isRectAreaLight)(E=t.get(x)).color.copy(M).multiplyScalar(b),E.position.setFromMatrixPosition(x.matrixWorld),E.position.applyMatrix4(g),s.identity(),o.copy(x.matrixWorld),o.premultiply(g),s.extractRotation(o),E.halfWidth.set(.5*x.width,0,0),E.halfHeight.set(0,.5*x.height,0),E.halfWidth.applyMatrix4(s),E.halfHeight.applyMatrix4(s),n.rectArea[f]=E,f++;else if(x.isPointLight)(E=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),E.position.applyMatrix4(g),E.color.copy(x.color).multiplyScalar(x.intensity),E.distance=x.distance,E.decay=0===x.distance?0:x.decay,E.shadow=x.castShadow,x.castShadow&&(_=x.shadow,E.shadowBias=_.bias,E.shadowRadius=_.radius,E.shadowMapSize=_.mapSize,E.shadowCameraNear=_.Camera3D.near,E.shadowCameraFar=_.Camera3D.far),n.pointShadowMap[d]=A,n.pointShadowMatrix[d]=x.shadow.matrix,n.point[d]=E,d++;else if(x.isHemisphereLight){var E;(E=t.get(x)).direction.setFromMatrixPosition(x.matrixWorld),E.direction.transformDirection(g),E.direction.normalize(),E.skyColor.copy(x.color).multiplyScalar(b),E.groundColor.copy(x.groundColor).multiplyScalar(b),n.hemi[m]=E,m++}}n.ambient[0]=c,n.ambient[1]=l,n.ambient[2]=u,n.directional.length=p,n.spot.length=h,n.rectArea.length=f,n.point.length=d,n.hemi.length=m,n.hash.stateID=n.id,n.hash.directionalLength=p,n.hash.pointLength=d,n.hash.spotLength=h,n.hash.rectAreaLength=f,n.hash.hemiLength=m,n.hash.shadowsLength=r.length},this.state=n}return e.count=0,e}();t.WebGLLights=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),i=n(109),o=n(97),a=n(308),s=n(37),c=n(64),l=n(43),u=n(86),p=n(77),d=function(){return function(e,t,n,d){var h,f,m,g=new r.Color3D(0),y=0;function v(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,d)}this.getClearColor=function(){return g},this.setClearColor=function(e,t){g.set(e),v(g,y=void 0!==t?t:1)},this.getClearAlpha=function(){return y},this.setClearAlpha=function(e){v(g,y=e)},this.render=function(t,r,d,x){var M=r.background;null===M?v(g,y):M&&M.isColor&&(v(M,1),x=!0),(e.autoClear||x)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),M&&M.isCubeTexture?(void 0===m&&((m=new i.Mesh3D(new c.BoxBufferGeometry3D(1,1,1),new o.ShaderMaterial3D({uniforms:a.ShaderLib.cube.uniforms,vertexShader:a.ShaderLib.cube.vertexShader,fragmentShader:a.ShaderLib.cube.fragmentShader,side:s.Constant.BackSide,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),m.geometry.removeAttribute("uv"),m.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(m)),m.material.uniforms.tCube.value=M,t.push(m,m.geometry,m.material,0,null)):M&&M.isTexture&&(void 0===h&&(h=new l.OrthographicCamera3D(-1,1,1,-1,0,1),f=new i.Mesh3D(new p.PlaneBufferGeometry3D(2,2),new u.MeshBasicMaterial3D({depthTest:!1,depthWrite:!1,fog:!1})),n.update(f)),f.material.map=M,e.renderBufferDirect(h,null,f.geometry,f.material,f,null))}}}();t.WebGLBackground=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(98),i=n(309),o=n(179),a=n(46),s=n(67);t.ShaderLib={basic:{uniforms:r.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.specularmap,i.UniformsLib.envmap,i.UniformsLib.aomap,i.UniformsLib.lightmap,i.UniformsLib.fog]),vertexShader:o.ShaderChunk.meshbasic_vert,fragmentShader:o.ShaderChunk.meshbasic_frag},lambert:{uniforms:r.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.specularmap,i.UniformsLib.envmap,i.UniformsLib.aomap,i.UniformsLib.lightmap,i.UniformsLib.emissivemap,i.UniformsLib.fog,i.UniformsLib.lights,{emissive:new i.UniformValue(new a.Color3D(0))}]),vertexShader:o.ShaderChunk.meshlambert_vert,fragmentShader:o.ShaderChunk.meshlambert_frag},phong:{uniforms:r.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.specularmap,i.UniformsLib.envmap,i.UniformsLib.aomap,i.UniformsLib.lightmap,i.UniformsLib.emissivemap,i.UniformsLib.bumpmap,i.UniformsLib.normalmap,i.UniformsLib.displacementmap,i.UniformsLib.gradientmap,i.UniformsLib.fog,i.UniformsLib.lights,{emissive:new i.UniformValue(new a.Color3D(0)),specular:new i.UniformValue(new a.Color3D(1118481)),shininess:new i.UniformValue(30)}]),vertexShader:o.ShaderChunk.meshphong_vert,fragmentShader:o.ShaderChunk.meshphong_frag},standard:{uniforms:r.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.envmap,i.UniformsLib.aomap,i.UniformsLib.lightmap,i.UniformsLib.emissivemap,i.UniformsLib.bumpmap,i.UniformsLib.normalmap,i.UniformsLib.displacementmap,i.UniformsLib.roughnessmap,i.UniformsLib.metalnessmap,i.UniformsLib.fog,i.UniformsLib.lights,{emissive:new i.UniformValue(new a.Color3D(0)),roughness:new i.UniformValue(.5),metalness:new i.UniformValue(.5),envMapIntensity:new i.UniformValue(1)}]),vertexShader:o.ShaderChunk.meshphysical_vert,fragmentShader:o.ShaderChunk.meshphysical_frag},points:{uniforms:r.UniformsUtils.merge([i.UniformsLib.points,i.UniformsLib.fog]),vertexShader:o.ShaderChunk.points_vert,fragmentShader:o.ShaderChunk.points_frag},dashed:{uniforms:r.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.fog,{scale:new i.UniformValue(1),dashSize:new i.UniformValue(1),totalSize:new i.UniformValue(2)}]),vertexShader:o.ShaderChunk.linedashed_vert,fragmentShader:o.ShaderChunk.linedashed_frag},depth:{uniforms:r.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.displacementmap]),vertexShader:o.ShaderChunk.depth_vert,fragmentShader:o.ShaderChunk.depth_frag},normal:{uniforms:r.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.bumpmap,i.UniformsLib.normalmap,i.UniformsLib.displacementmap,{opacity:new i.UniformValue(1)}]),vertexShader:o.ShaderChunk.normal_vert,fragmentShader:o.ShaderChunk.normal_frag},sprite:{uniforms:r.UniformsUtils.merge([i.UniformsLib.sprite,i.UniformsLib.fog]),vertexShader:o.ShaderChunk.sprite_vert,fragmentShader:o.ShaderChunk.sprite_frag},cube:{uniforms:{tCube:new i.UniformValue,tFlip:new i.UniformValue(-1),opacity:new i.UniformValue(1)},vertexShader:o.ShaderChunk.cube_vert,fragmentShader:o.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:new i.UniformValue},vertexShader:o.ShaderChunk.equirect_vert,fragmentShader:o.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:r.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.displacementmap,{referencePosition:new i.UniformValue(new s.Vector33D),nearDistance:new i.UniformValue(1),farDistance:new i.UniformValue(1e3)}]),vertexShader:o.ShaderChunk.distanceRGBA_vert,fragmentShader:o.ShaderChunk.distanceRGBA_frag},shadow:{uniforms:r.UniformsUtils.merge([i.UniformsLib.lights,i.UniformsLib.fog,{color:new i.UniformValue(new a.Color3D(0)),opacity:new i.UniformValue(1)}]),vertexShader:o.ShaderChunk.shadow_vert,fragmentShader:o.ShaderChunk.shadow_frag},physical:{}},t.ShaderLib.physical={uniforms:r.UniformsUtils.merge([t.ShaderLib.standard.uniforms,{clearCoat:new i.UniformValue(0),clearCoatRoughness:new i.UniformValue(0)}]),vertexShader:o.ShaderChunk.meshphysical_vert,fragmentShader:o.ShaderChunk.meshphysical_frag}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67),i=function(){return function(e){this.value=e||null}}();t.UniformValue=i,t.UniformsLib={common:{diffuse:new i(new r.Color3D(15658734)),opacity:new i(1),map:new i,uvTransform:new i(new r.Matrix33D),alphaMap:new i},specularmap:{specularMap:new i},envmap:{envMap:new i,flipEnvMap:new i(-1),reflectivity:new i(1),refractionRatio:new i(.98),maxMipLevel:new i(0)},aomap:{aoMap:new i,aoMapIntensity:new i(1)},lightmap:{lightMap:new i,lightMapIntensity:new i(1)},emissivemap:{emissiveMap:new i},bumpmap:{bumpMap:new i,bumpScale:new i(1)},normalmap:{normalMap:new i,normalScale:new i(new r.Vector23D(1,1))},displacementmap:{displacementMap:new i,displacementScale:new i(1),displacementBias:new i(0)},roughnessmap:{roughnessMap:new i},metalnessmap:{metalnessMap:new i},gradientmap:{gradientMap:new i},fog:{fogDensity:new i(25e-5),fogNear:new i(1),fogFar:new i(2e3),fogColor:new i(new r.Color3D(16777215))},lights:{ambientLightColor:new i([]),directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:new i([]),directionalShadowMatrix:new i([]),spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:new i([]),spotShadowMatrix:new i([]),pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:new i([]),pointShadowMatrix:new i([]),hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:new i(new r.Color3D(15658734)),opacity:new i(1),size:new i(1),scale:new i(1),map:new i,uvTransform:new i(new r.Matrix33D)},sprite:{diffuse:new i(new r.Color3D(15658734)),opacity:new i(1),center:new i(new r.Vector23D(.5,.5)),rotation:new i(0),map:new i,uvTransform:new i(new r.Matrix33D)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(116),i=function(){function e(t){var n=new r.ArrayMap,i=new Float32Array(8);this.update=function(r,o,a,s){var c=r.morphTargetInfluences,l=c.length,u=n.get(o.id);if(void 0===u){u=[];for(var p=0;p<l;p++)u[p]=[p,0];n.set(o.id,u)}var d=a.morphTargets&&o.morphAttributes.get("position"),h=a.morphNormals&&o.morphAttributes.get("normal");for(p=0;p<l;p++)0!==(f=u[p])[1]&&(d&&o.removeAttribute("morphTarget"+p),h&&o.removeAttribute("morphNormal"+p));for(p=0;p<l;p++)(f=u[p])[0]=p,f[1]=c[p];for(u.sort(e.absNumericalSort),p=0;p<8;p++){var f;if(f=u[p]){var m=f[0],g=f[1];if(g){d&&o.addAttribute("morphTarget"+p,d[m]),h&&o.addAttribute("morphNormal"+p,h[m]),i[p]=g;continue}}i[p]=0}s.getUniforms().setValue(t,"morphTargetInfluences",i)}}return e.absNumericalSort=function(e,t){return Math.abs(t[1])-Math.abs(e[1])},e}();t.WebGLMorphtargets=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(o,a,s){var c;if(r.isWebGL2)c=e;else if(null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("spdengine-3D.WebGLBufferRenderer: using spdengine-3D.InstancedBufferGeometry3D but hardware does not support extension ANGLE_instanced_arrays.");c[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,a,s,o.maxInstancedCount),n.update(s,i,o.maxInstancedCount)}}}();t.WebGLBufferRenderer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t,n,r){var i,o,a;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i)},this.renderInstances=function(s,c,l){var u;if(r.isWebGL2)u=e;else if(null===t.get("ANGLE_instanced_arrays"))return void console.error("spdengine-3D.WebGLIndexedBufferRenderer: using spdengine-3D.InstancedBufferGeometry3D but hardware does not support extension ANGLE_instanced_arrays.");u[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,l,o,c*a,s.maxInstancedCount),n.update(l,i,s.maxInstancedCount)}}}();t.WebGLIndexedBufferRenderer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i=function(){return function(e,t,n){this.convert=function(i){var o;if(i===r.Constant.RepeatWrapping)return e.REPEAT;if(i===r.Constant.ClampToEdgeWrapping)return e.CLAMP_TO_EDGE;if(i===r.Constant.MirroredRepeatWrapping)return e.MIRRORED_REPEAT;if(i===r.Constant.NearestFilter)return e.NEAREST;if(i===r.Constant.NearestMipMapNearestFilter)return e.NEAREST_MIPMAP_NEAREST;if(i===r.Constant.NearestMipMapLinearFilter)return e.NEAREST_MIPMAP_LINEAR;if(i===r.Constant.LinearFilter)return e.LINEAR;if(i===r.Constant.LinearMipMapNearestFilter)return e.LINEAR_MIPMAP_NEAREST;if(i===r.Constant.LinearMipMapLinearFilter)return e.LINEAR_MIPMAP_LINEAR;if(i===r.Constant.UnsignedByteType)return e.UNSIGNED_BYTE;if(i===r.Constant.UnsignedShort4444Type)return e.UNSIGNED_SHORT_4_4_4_4;if(i===r.Constant.UnsignedShort5551Type)return e.UNSIGNED_SHORT_5_5_5_1;if(i===r.Constant.UnsignedShort565Type)return e.UNSIGNED_SHORT_5_6_5;if(i===r.Constant.ByteType)return e.BYTE;if(i===r.Constant.ShortType)return e.SHORT;if(i===r.Constant.UnsignedShortType)return e.UNSIGNED_SHORT;if(i===r.Constant.IntType)return e.INT;if(i===r.Constant.UnsignedIntType)return e.UNSIGNED_INT;if(i===r.Constant.FloatType)return e.FLOAT;if(i===r.Constant.HalfFloatType){if(n.isWebGL2)return e.HALF_FLOAT;if(null!==(o=t.get("OES_texture_half_float")))return o.HALF_FLOAT_OES}if(i===r.Constant.AlphaFormat)return e.ALPHA;if(i===r.Constant.RGBFormat)return e.RGB;if(i===r.Constant.RGBAFormat)return e.RGBA;if(i===r.Constant.LuminanceFormat)return e.LUMINANCE;if(i===r.Constant.LuminanceAlphaFormat)return e.LUMINANCE_ALPHA;if(i===r.Constant.DepthFormat)return e.DEPTH_COMPONENT;if(i===r.Constant.DepthStencilFormat)return e.DEPTH_STENCIL;if(i===r.Constant.AddEquation)return e.FUNC_ADD;if(i===r.Constant.SubtractEquation)return e.FUNC_SUBTRACT;if(i===r.Constant.ReverseSubtractEquation)return e.FUNC_REVERSE_SUBTRACT;if(i===r.Constant.ZeroFactor)return e.ZERO;if(i===r.Constant.OneFactor)return e.ONE;if(i===r.Constant.SrcColorFactor)return e.SRC_COLOR;if(i===r.Constant.OneMinusSrcColorFactor)return e.ONE_MINUS_SRC_COLOR;if(i===r.Constant.SrcAlphaFactor)return e.SRC_ALPHA;if(i===r.Constant.OneMinusSrcAlphaFactor)return e.ONE_MINUS_SRC_ALPHA;if(i===r.Constant.DstAlphaFactor)return e.DST_ALPHA;if(i===r.Constant.OneMinusDstAlphaFactor)return e.ONE_MINUS_DST_ALPHA;if(i===r.Constant.DstColorFactor)return e.DST_COLOR;if(i===r.Constant.OneMinusDstColorFactor)return e.ONE_MINUS_DST_COLOR;if(i===r.Constant.SrcAlphaSaturateFactor)return e.SRC_ALPHA_SATURATE;if((i===r.Constant.RGB_S3TC_DXT1_Format||i===r.Constant.RGBA_S3TC_DXT1_Format||i===r.Constant.RGBA_S3TC_DXT3_Format||i===r.Constant.RGBA_S3TC_DXT5_Format)&&null!==(o=t.get("WEBGL_compressed_texture_s3tc"))){if(i===r.Constant.RGB_S3TC_DXT1_Format)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===r.Constant.RGBA_S3TC_DXT1_Format)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===r.Constant.RGBA_S3TC_DXT3_Format)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===r.Constant.RGBA_S3TC_DXT5_Format)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((i===r.Constant.RGB_PVRTC_4BPPV1_Format||i===r.Constant.RGB_PVRTC_2BPPV1_Format||i===r.Constant.RGBA_PVRTC_4BPPV1_Format||i===r.Constant.RGBA_PVRTC_2BPPV1_Format)&&null!==(o=t.get("WEBGL_compressed_texture_pvrtc"))){if(i===r.Constant.RGB_PVRTC_4BPPV1_Format)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===r.Constant.RGB_PVRTC_2BPPV1_Format)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===r.Constant.RGBA_PVRTC_4BPPV1_Format)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===r.Constant.RGBA_PVRTC_2BPPV1_Format)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(i===r.Constant.RGB_ETC1_Format&&null!==(o=t.get("WEBGL_compressed_texture_etc1")))return o.COMPRESSED_RGB_ETC1_WEBGL;if((i===r.Constant.RGBA_ASTC_4x4_Format||i===r.Constant.RGBA_ASTC_5x4_Format||i===r.Constant.RGBA_ASTC_5x5_Format||i===r.Constant.RGBA_ASTC_6x5_Format||i===r.Constant.RGBA_ASTC_6x6_Format||i===r.Constant.RGBA_ASTC_8x5_Format||i===r.Constant.RGBA_ASTC_8x6_Format||i===r.Constant.RGBA_ASTC_8x8_Format||i===r.Constant.RGBA_ASTC_10x5_Format||i===r.Constant.RGBA_ASTC_10x6_Format||i===r.Constant.RGBA_ASTC_10x8_Format||i===r.Constant.RGBA_ASTC_10x10_Format||i===r.Constant.RGBA_ASTC_12x10_Format||i===r.Constant.RGBA_ASTC_12x12_Format)&&null!==(o=t.get("WEBGL_compressed_texture_astc")))return i;if(i===r.Constant.MinEquation||i===r.Constant.MaxEquation){if(n.isWebGL2){if(i===r.Constant.MinEquation)return e.MIN;if(i===r.Constant.MaxEquation)return e.MAX}if(null!==(o=t.get("EXT_blend_minmax"))){if(i===r.Constant.MinEquation)return o.MIN_EXT;if(i===r.Constant.MaxEquation)return o.MAX_EXT}}if(i===r.Constant.UnsignedInt248Type){if(n.isWebGL2)return e.UNSIGNED_INT_24_8;if(null!==(o=t.get("WEBGL_depth_texture")))return o.UNSIGNED_INT_24_8_WEBGL}return 0}}}();t.WebGLUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=n(33),o=n(42),a=n(31),s=n(37),c=n(40),l=n(87),u=n(88),p=n(39),d=function(){return function(e,t,n){for(var d=new r.Frustum3D,h=new i.Matrix43D,f=new o.Vector23D,m=new o.Vector23D(n,n),g=new a.Vector33D,y=new a.Vector33D,v=1,x=2,M=1+(v|x),b=new Array(M),w=new Array(M),A={},_={0:s.Constant.BackSide,1:s.Constant.FrontSide,2:s.Constant.DoubleSide},E=[new a.Vector33D(1,0,0),new a.Vector33D(-1,0,0),new a.Vector33D(0,0,1),new a.Vector33D(0,0,-1),new a.Vector33D(0,1,0),new a.Vector33D(0,-1,0)],D=[new a.Vector33D(0,1,0),new a.Vector33D(0,1,0),new a.Vector33D(0,1,0),new a.Vector33D(0,1,0),new a.Vector33D(0,0,1),new a.Vector33D(0,0,-1)],S=[new c.Vector43D,new c.Vector43D,new c.Vector43D,new c.Vector43D,new c.Vector43D,new c.Vector43D],P=0;P!==M;++P){var T=0!=(P&v),C=0!=(P&x),R=new l.MeshDepthMaterial3D({depthPacking:s.Constant.RGBADepthPacking,morphTargets:T,skinning:C});b[P]=R;var I=new u.MeshDistanceMaterial3D({morphTargets:T,skinning:C});w[P]=I}var O=this;function L(t,n,r,i,o,a){var s=t.geometry,c=null,l=b,u=t.customDepthMaterial;if(r&&(l=w,u=t.customDistanceMaterial),u)c=u;else{var p=!1;n.morphTargets&&(s&&s.isBufferGeometry?p=s.morphAttributes&&s.morphAttributes.get("position")&&s.morphAttributes.get("position").length>0:s&&s.isGeometry&&(p=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("spdengine-3D.WebGLShadowMap: spdengine-3D.SkinnedMesh3D with material.skinning set to false:",t);var d=t.isSkinnedMesh&&n.skinning,h=0;p&&(h|=v),d&&(h|=x),c=l[h]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=c.uuid,m=n.uuid,g=A[f];void 0===g&&(g={},A[f]=g);var y=g[m];void 0===y&&(y=c.clone(),g[m]=y),c=y}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=null!=n.shadowSide?n.shadowSide:_[n.side],c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,r&&c.isMeshDistanceMaterial&&(c.referencePosition.copy(i),c.nearDistance=o,c.farDistance=a),c}function k(n,r,i,o){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||d.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld);var a=t.update(n),s=n.material;if(Array.isArray(s))for(var c=a.groups,l=0,u=c.length;l<u;l++){var p=c[l],h=s[p.materialIndex];if(h&&h.visible){var f=L(n,h,o,y,i.near,i.far);e.renderBufferDirect(i,null,a,f,n,p)}}else s.visible&&(f=L(n,s,o,y,i.near,i.far),e.renderBufferDirect(i,null,a,f,n,null))}for(var m=n.children,g=0,v=m.length;g<v;g++)k(m[g],r,i,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=s.Constant.PCFShadowMap,this.render=function(t,n,r){if(!1!==O.enabled&&(!1!==O.autoUpdate||!1!==O.needsUpdate)&&0!==t.length){var i,o=e.context,a=e.state;a.disable(o.BLEND),a.buffers.color.setClear(1,1,1,1),a.buffers.depth.setTest(!0),a.setScissorTest(!1);for(var c=0,l=t.length;c<l;c++){var u=t[c],v=u.shadow,x=u&&u.isPointLight;if(void 0!==v){var M=v.Camera3D;if(f.copy(v.mapSize),f.min(m),x){var b=f.x,w=f.y;S[0].set(2*b,w,b,w),S[1].set(0,w,b,w),S[2].set(3*b,w,b,w),S[3].set(b,w,b,w),S[4].set(3*b,0,b,w),S[5].set(b,0,b,w),f.x*=4,f.y*=2}if(null===v.map){var A={minFilter:s.Constant.NearestFilter,magFilter:s.Constant.NearestFilter,format:s.Constant.RGBAFormat};v.map=new p.WebGLRenderTarget(f.x,f.y,A),v.map.texture.name=u.name+".shadowMap",M.updateProjectionMatrix()}v.isSpotLightShadow&&v.update(u);var _=v.map,P=v.matrix;y.setFromMatrixPosition(u.matrixWorld),M.position.copy(y),x?(i=6,P.makeTranslation(-y.x,-y.y,-y.z)):(i=1,g.setFromMatrixPosition(u.target.matrixWorld),M.lookAt(g),M.updateMatrixWorld(),P.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),P.multiply(M.projectionMatrix),P.multiply(M.matrixWorldInverse)),e.setRenderTarget(_),e.clear();for(var T=0;T<i;T++){if(x){g.copy(M.position),g.add(E[T]),M.up.copy(D[T]),M.lookAt(g),M.updateMatrixWorld();var C=S[T];a.viewport(C)}h.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),d.setFromMatrix(h),k(n,r,M,x)}}else console.warn("spdengine-3D.WebGLShadowMap:",u,"has no shadow.")}O.needsUpdate=!1}}}}();t.WebGLShadowMap=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(){var e=null,t=!1,n=null;function r(i,o){!1!==t&&(n(i,o),e.requestAnimationFrame(r))}this.start=function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},this.stop=function(){t=!1},this.setAnimationLoop=function(e){n=e},this.setContext=function(t){e=t}}}();t.WebGLAnimation=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(40),o=n(24),a=n(104),s=n(315),c=n(33),l=function(){return function(e){var t=e.context,n=null,l=null,u=null,p=null,d=[],h=[];function f(){return null!==l&&null!==u}var m=new r.PerspectiveCamera3D;m.layers.enable(1),m.viewport=new i.Vector43D;var g=new r.PerspectiveCamera3D;g.layers.enable(2),g.viewport=new i.Vector43D;var y=new o.ArrayCamera3D([m,g]);y.layers.enable(1),y.layers.enable(2);var v=new s.WebGLAnimation;function x(e){var t=d[h.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function M(){e.setFramebuffer(null),v.stop()}function b(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.enabled=!1,this.getController=function(e){var t=d[e];return void 0===t&&((t=new a.Group3D).matrixAutoUpdate=!1,t.visible=!1,d[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),e instanceof XRDevice&&t.setCompatibleXRDevice(e)},this.setSession=function(n,r){null!==(l=n)&&(l.addEventListener("select",x),l.addEventListener("selectstart",x),l.addEventListener("selectend",x),l.addEventListener("end",M),l.baseLayer=new XRWebGLLayer(l,t),l.requestFrameOfReference(r.frameOfReferenceType).then(function(t){u=t,e.setFramebuffer(l.baseLayer.framebuffer),v.setContext(l),v.start()}),h=l.getInputSources(),l.addEventListener("inputsourceschange",function(){h=l.getInputSources(),console.warn(h)}))},this.getCamera=function(e){if(f()){var t=e.parent,n=y.cameras;b(y,t);for(var r=0;r<n.length;r++)b(n[r],t);e.matrixWorld.copy(y.matrixWorld);for(var i=e.children,o=(r=0,i.length);r<o;r++)i[r].updateMatrixWorld(!0);return y}return e},this.isPresenting=f;var w=null;v.setAnimationLoop(function(e,t){if(null!==(p=t.getDevicePose(u)))for(var n=l.baseLayer,r=t.views,i=0;i<r.length;i++){var o=r[i],a=n.getViewport(o),s=p.getViewMatrix(o),c=y.cameras[i];c.matrix.fromArray(s).getInverse(c.matrix),c.projectionMatrix.fromArray(o.projectionMatrix),c.viewport.set(a.x,a.y,a.width,a.height),0===i&&(y.matrix.copy(c.matrix),y.projectionMatrix.copy(c.projectionMatrix))}for(i=0;i<d.length;i++){var f=d[i],m=h[i];if(m){var g=t.getInputPose(m,u);if(null!==g){"targetRay"in g?f.matrix.elements=g.targetRay.transformMatrix:"pointerMatrix"in g&&(f.matrix.elements=g.pointerMatrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.visible=!0;continue}}f.visible=!1}w&&w(e)}),this.setAnimationLoop=function(e){w=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("spdengine-3D.WebXRManager: getStandingMatrix() is no longer needed."),new c.Matrix43D},this.submitFrame=function(){}}}();t.WebXRManager=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),i=n(32),o=n(31),a=n(25),s=n(40),c=n(24),l=n(104),u=n(315),p=function(){return function(e){var t=this,n=null,p=null,d=null,h=[],f=new r.Matrix43D,m=new r.Matrix43D;"undefined"!=typeof window&&"VRFrameData"in window&&(p=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",D,!1));var g=new r.Matrix43D,y=new i.Quaternion3D,v=new o.Vector33D,x=new a.PerspectiveCamera3D;x.bounds=new s.Vector43D(0,0,.5,1),x.layers.enable(1);var M=new a.PerspectiveCamera3D;M.bounds=new s.Vector43D(.5,0,.5,1),M.layers.enable(2);var b=new c.ArrayCamera3D([x,M]);b.layers.enable(1),b.layers.enable(2);var w,A,_=new u.WebGLAnimation;function E(){return null!==n&&!0===n.isPresenting}function D(){if(E()){var r=n.getEyeParameters("left"),i=r.renderWidth,o=r.renderHeight;A=e.getPixelRatio(),w=e.getSize(),e.setDrawingBufferSize(2*i,o,1),_.start()}else t.enabled&&(e.setDrawingBufferSize(w.width,w.height,A),_.stop())}var S=[];function P(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=t.length;n<i;n++){var o=t[n];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(r===e)return o;r++}}}this.enabled=!1,this.userHeight=1.6,this.getController=function(e){var t=h[e];return void 0===t&&((t=new l.Group3D).matrixAutoUpdate=!1,t.visible=!1,h[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),_.setContext(e)},this.setPoseTarget=function(e){void 0!==e&&(d=e)},this.getCamera=function(e){if(null===n)return e.position.set(0,t.userHeight,0),e;n.depthNear=e.near,n.depthFar=e.far,n.getFrameData(p);var r=n.stageParameters;r?f.fromArray(r.sittingToStandingTransform):f.makeTranslation(0,t.userHeight,0);var i=p.pose,o=null!==d?d:e;if(o.matrix.copy(f),o.matrix.decompose(o.position,o.quaternion,o.scale),null!==i.orientation&&(y.fromArray(i.orientation),o.quaternion.multiply(y)),null!==i.position&&(y.setFromRotationMatrix(f),v.fromArray(i.position),v.applyQuaternion(y),o.position.add(v)),o.updateMatrixWorld(),!1===n.isPresenting)return e;x.near=e.near,M.near=e.near,x.far=e.far,M.far=e.far,b.matrixWorld.copy(e.matrixWorld),b.matrixWorldInverse.copy(e.matrixWorldInverse),x.matrixWorldInverse.fromArray(p.leftViewMatrix),M.matrixWorldInverse.fromArray(p.rightViewMatrix),m.getInverse(f),x.matrixWorldInverse.multiply(m),M.matrixWorldInverse.multiply(m);var a=o.parent;null!==a&&(g.getInverse(a.matrixWorld),x.matrixWorldInverse.multiply(g),M.matrixWorldInverse.multiply(g)),x.matrixWorld.getInverse(x.matrixWorldInverse),M.matrixWorld.getInverse(M.matrixWorldInverse),x.projectionMatrix.fromArray(p.leftProjectionMatrix),M.projectionMatrix.fromArray(p.rightProjectionMatrix),b.projectionMatrix.copy(x.projectionMatrix);var s=n.getLayers();if(s.length){var c=s[0];null!==c.leftBounds&&4===c.leftBounds.length&&x.bounds.fromArray(c.leftBounds),null!==c.rightBounds&&4===c.rightBounds.length&&M.bounds.fromArray(c.rightBounds)}return function(){for(var e=0;e<h.length;e++){var t=h[e],n=P(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(f),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;S[e]!==n.buttons[i].pressed&&(S[e]=n.buttons[i].pressed,!0===S[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),b},this.getStandingMatrix=function(){return f},this.isPresenting=E,this.setAnimationLoop=function(e){_.setAnimationLoop(e)},this.submitFrame=function(){E()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",D)}}}();t.WebVRManager=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i=n(40),o=n(70),a=n(166),s=n(33),c=n(31),l=n(167),u=n(168),p=n(169),d=n(170),h=n(171),f=n(173),m=n(174),g=n(175),y=n(176),v=n(177),x=n(304),M=n(305),b=n(307),w=n(310),A=n(311),_=n(312),E=n(313),D=n(314),S=n(303),P=n(30),T=n(145),C=n(309),R=n(315),I=n(316),O=n(317),L=n(308),k=n(98),B=function(){return function(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,B=void 0!==e.alpha&&e.alpha,U=void 0===e.depth||e.depth,N=void 0===e.stencil||e.stencil,F=void 0!==e.antialias&&e.antialias,j=void 0===e.premultipliedAlpha||e.premultipliedAlpha,z=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,V=void 0!==e.powerPreference?e.powerPreference:"default",H=null,G=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=r.Constant.LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var W,X,Y,Q,q,K,Z,J,$,ee,te,ne,re,ie,oe,ae,se,ce,le=this,ue=!1,pe=null,de=null,he=null,fe=-1,me={geometry:null,program:null,wireframe:!1},ge=null,ye=null,ve=new i.Vector43D,xe=new i.Vector43D,Me=null,be=0,we=t.width,Ae=t.height,_e=1,Ee=new i.Vector43D(0,0,we,Ae),De=new i.Vector43D(0,0,we,Ae),Se=!1,Pe=new o.Frustum3D,Te=new a.WebGLClipping,Ce=!1,Re=!1,Ie=new s.Matrix43D,Oe=new c.Vector33D;function Le(){return null===de?_e:1}try{var ke={alpha:B,depth:U,stencil:N,antialias:F,premultipliedAlpha:j,preserveDrawingBuffer:z,powerPreference:V};if(t.addEventListener("webglcontextlost",je,!1),t.addEventListener("webglcontextrestored",ze,!1),null===(W=n||t.getContext("webgl",ke)||t.getContext("experimental-webgl",ke)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===W.getShaderPrecisionFormat&&(W.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){console.error("spdengine-3D.WebGLRenderer: "+e.message)}var Be=new R.WebGLAnimation;function Ue(){X=new l.WebGLExtensions(W),(Y=new u.WebGLCapabilities(W,X,e)).isWebGL2||(X.get("WEBGL_depth_texture"),X.get("OES_texture_float"),X.get("OES_texture_half_float"),X.get("OES_texture_half_float_linear"),X.get("OES_standard_derivatives"),X.get("OES_element_index_uint"),X.get("ANGLE_instanced_arrays")),X.get("OES_texture_float_linear"),ce=new E.WebGLUtils(W,X,Y),(Q=new p.WebGLState(W,X,ce,Y)).scissor(xe.copy(De).multiplyScalar(_e)),Q.viewport(ve.copy(Ee).multiplyScalar(_e)),q=new d.WebGLInfo(W),K=new h.WebGLProperties,Z=new f.WebGLTextures(W,X,Q,K,Y,ce,q),J=new m.WebGLAttributes(W),$=new g.WebGLGeometries(W,J,q),ee=new y.WebGLObjects($,q),oe=new w.WebGLMorphtargets(W),te=new v.WebGLPrograms(le,X,Y),ne=new x.WebGLRenderLists,re=new M.WebGLRenderStates,ie=new b.WebGLBackground(le,Q,ee,j),ae=new A.WebGLBufferRenderer(W,X,q,Y),se=new _.WebGLIndexedBufferRenderer(W,X,q,Y),q.programs=te.programs,le.context=W,le.capabilities=Y,le.extensions=X,le.properties=K,le.renderLists=ne,le.state=Q,le.info=q}Ue();var Ne="xr"in navigator?new I.WebXRManager(le):new O.WebVRManager(le);this.vr=Ne;var Fe=new D.WebGLShadowMap(le,ee,Y.maxTextureSize);function je(e){e.preventDefault(),console.warn("spdengine-3D.WebGLRenderer: Context Lost."),ue=!0}function ze(){console.warn("spdengine-3D.WebGLRenderer: Context Restored."),ue=!1,Ue()}function Ve(e){var t=e.target;t.removeEventListener("dispose",Ve),function(e){He(e),K.remove(e)}(t)}function He(e){var t=K.get(e).program;e.program=void 0,void 0!==t&&te.releaseProgram(t)}this.shadowMap=Fe,this.getContext=function(){return W},this.getContextAttributes=function(){return W.getContextAttributes()},this.forceContextLoss=function(){var e=X.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=X.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return _e},this.setPixelRatio=function(e){void 0!==e&&(_e=e,this.setSize(we,Ae,!1))},this.getSize=function(){return{width:we,height:Ae}},this.setSize=function(e,n,r){Ne.isPresenting()?console.warn("spdengine-3D.WebGLRenderer: Can't change size while VR device is presenting."):(we=e,Ae=n,t.width=e*_e,t.height=n*_e,!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(){return{width:we*_e,height:Ae*_e}},this.setDrawingBufferSize=function(e,n,r){we=e,Ae=n,_e=r,t.width=e*r,t.height=n*r,this.setViewport(0,0,e,n)},this.getCurrentViewport=function(){return ve},this.setViewport=function(e,t,n,r){Ee.set(e,Ae-t-r,n,r),Q.viewport(ve.copy(Ee).multiplyScalar(_e))},this.setScissor=function(e,t,n,r){De.set(e,Ae-t-r,n,r),Q.scissor(xe.copy(De).multiplyScalar(_e))},this.setScissorTest=function(e){Q.setScissorTest(Se=e)},this.getClearColor=function(){return ie.getClearColor()},this.setClearColor=function(e,t){ie.setClearColor(e,t)},this.getClearAlpha=function(){return ie.getClearAlpha()},this.setClearAlpha=function(e){ie.setClearAlpha(e)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=W.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=W.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=W.STENCIL_BUFFER_BIT),W.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.dispose=function(){t.removeEventListener("webglcontextlost",je,!1),t.removeEventListener("webglcontextrestored",ze,!1),ne.dispose(),re.dispose(),K.dispose(),ee.dispose(),Ne.dispose(),Be.stop()},this.renderBufferImmediate=function(e,t){Q.initAttributes();var n=K.get(e);e.hasPositions&&!n.position&&(n.position=W.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=W.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=W.createBuffer()),e.hasColors&&!n.color&&(n.color=W.createBuffer());var r=t.getAttributes();e.hasPositions&&(W.bindBuffer(W.ARRAY_BUFFER,n.position),W.bufferData(W.ARRAY_BUFFER,e.positionArray,W.DYNAMIC_DRAW),Q.enableAttribute(r.position),W.vertexAttribPointer(r.position,3,W.FLOAT,!1,0,0)),e.hasNormals&&(W.bindBuffer(W.ARRAY_BUFFER,n.normal),W.bufferData(W.ARRAY_BUFFER,e.normalArray,W.DYNAMIC_DRAW),Q.enableAttribute(r.normal),W.vertexAttribPointer(r.normal,3,W.FLOAT,!1,0,0)),e.hasUvs&&(W.bindBuffer(W.ARRAY_BUFFER,n.uv),W.bufferData(W.ARRAY_BUFFER,e.uvArray,W.DYNAMIC_DRAW),Q.enableAttribute(r.uv),W.vertexAttribPointer(r.uv,2,W.FLOAT,!1,0,0)),e.hasColors&&(W.bindBuffer(W.ARRAY_BUFFER,n.color),W.bufferData(W.ARRAY_BUFFER,e.colorArray,W.DYNAMIC_DRAW),Q.enableAttribute(r.color),W.vertexAttribPointer(r.color,3,W.FLOAT,!1,0,0)),Q.disableUnusedAttributes(),W.drawArrays(W.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,o,a){var s=o.isMesh&&o.normalMatrix.determinant()<0;Q.setMaterial(i,s);var c=Qe(e,t,i,o),l=!1;me.geometry===n.id&&me.program===c.id&&me.wireframe===(!0===i.wireframe)||(me.geometry=n.id,me.program=c.id,me.wireframe=!0===i.wireframe,l=!0),o.morphTargetInfluences&&(oe.update(o,n,i,c),l=!0);var u,p=n.index,d=n.attributes.get("position"),h=1;!0===i.wireframe&&(p=$.getWireframeAttribute(n),h=2);var f=ae;null!==p&&(u=J.get(p),(f=se).setIndex(u)),l&&(function(e,t,n){if(n&&n.isInstancedBufferGeometry&&!Y.isWebGL2&&null===X.get("ANGLE_instanced_arrays"))console.error("spdengine-3D.WebGLRenderer.setupVertexAttributes: using spdengine-3D.InstancedBufferGeometry3D but hardware does not support extension ANGLE_instanced_arrays.");else{Q.initAttributes();var r=n.attributes,i=t.getAttributes(),o=e.defaultAttributeValues;for(var a in i){var s=i[a];if(s>=0){var c=r.get(a);if(void 0!==c){var l=c.normalized,u=c.itemSize,p=J.get(c);if(void 0===p)continue;var d=p.buffer,h=p.type,f=p.bytesPerElement;if(c.isInterleavedBufferAttribute){var m=c.data,g=m.stride,y=c.offset;m&&m.isInstancedInterleavedBuffer?(Q.enableAttributeAndDivisor(s,m.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=m.meshPerAttribute*m.count)):Q.enableAttribute(s),W.bindBuffer(W.ARRAY_BUFFER,d),W.vertexAttribPointer(s,u,h,l,g*f,y*f)}else c.isInstancedBufferAttribute?(Q.enableAttributeAndDivisor(s,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):Q.enableAttribute(s),W.bindBuffer(W.ARRAY_BUFFER,d),W.vertexAttribPointer(s,u,h,l,0,0)}else if(void 0!==o){var v=o[a];if(void 0!==v)switch(v.length){case 2:W.vertexAttrib2fv(s,v);break;case 3:W.vertexAttrib3fv(s,v);break;case 4:W.vertexAttrib4fv(s,v);break;default:W.vertexAttrib1fv(s,v)}}}}Q.disableUnusedAttributes()}}(i,c,n),null!==p&&W.bindBuffer(W.ELEMENT_ARRAY_BUFFER,u.buffer));var m=1/0;null!==p?m=p.count:void 0!==d&&(m=d.count);var g=n.drawRange.start*h,y=n.drawRange.count*h,v=null!==a?a.start*h:0,x=null!==a?a.count*h:1/0,M=Math.max(g,v),b=Math.min(m,g+y,v+x)-1,w=Math.max(0,b-M+1);if(0!==w){if(o.isMesh)if(!0===i.wireframe)Q.setLineWidth(i.wireframeLinewidth*Le()),f.setMode(W.LINES);else switch(o.drawMode){case r.Constant.TrianglesDrawMode:f.setMode(W.TRIANGLES);break;case r.Constant.TriangleStripDrawMode:f.setMode(W.TRIANGLE_STRIP);break;case r.Constant.TriangleFanDrawMode:f.setMode(W.TRIANGLE_FAN)}else if(o.isLine){var A=i.linewidth;void 0===A&&(A=1),Q.setLineWidth(A*Le()),o.isLineSegments?f.setMode(W.LINES):o.isLineLoop?f.setMode(W.LINE_LOOP):f.setMode(W.LINE_STRIP)}else o.isPoints?f.setMode(W.POINTS):o.isSprite&&f.setMode(W.TRIANGLES);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&f.renderInstances(n,M,w):f.render(M,w)}},this.compile=function(e,t){(G=re.get(e,t)).init(),e.traverse(function(e){e.isLight&&(G.pushLight(e),e.castShadow&&G.pushShadow(e))}),G.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)Ye(t.material[n],e.fog,t);else Ye(t.material,e.fog,t)})};var Ge=null;function We(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,c=a.geometry,l=void 0===r?a.material:r,u=a.group;if(n.isArrayCamera){ye=n;for(var p=n.cameras,d=0,h=p.length;d<h;d++){var f=p[d];if(s.layers.test(f.layers)){if("viewport"in f)Q.viewport(ve.copy(f.viewport));else{var m=f.bounds,g=m.x*we,y=m.y*Ae,v=m.z*we,x=m.w*Ae;Q.viewport(ve.set(g,y,v,x).multiplyScalar(_e))}Xe(s,t,f,c,l,u)}}}else ye=null,Xe(s,t,n,c,l,u)}}function Xe(e,t,n,r,i,o){if(e.onBeforeRender(le,t,n,r,i,o),G=re.get(t,ye||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){Q.setMaterial(i);var a=Qe(n,t.fog,i,e);me.geometry=null,me.program=null,me.wireframe=!1,function(e,t){e.render(function(e){le.renderBufferImmediate(e,t)})}(e,a)}else le.renderBufferDirect(n,t.fog,r,i,e,o);e.onAfterRender(le,t,n,r,i,o),G=re.get(t,ye||n)}function Ye(e,t,n){var r=K.get(e),i=G.state.lights,o=G.state.shadowsArray,a=r.lightsHash,s=i.state.hash,c=te.getParameters(e,i.state,o,t,Te.numPlanes,Te.numIntersection,n),l=te.getProgramCode(e,c),u=r.program,p=!0;if(void 0===u)e.addEventListener("dispose",Ve);else if(u.code!==l)He(e);else if(a.stateID!==s.stateID||a.directionalLength!==s.directionalLength||a.pointLength!==s.pointLength||a.spotLength!==s.spotLength||a.rectAreaLength!==s.rectAreaLength||a.hemiLength!==s.hemiLength||a.shadowsLength!==s.shadowsLength)a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,p=!1;else{if(void 0!==c.shaderID)return;p=!1}if(p){if(c.shaderID){var d=L.ShaderLib[c.shaderID];r.shader={name:e.type,uniforms:k.UniformsUtils.clone(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,le),l=te.getProgramCode(e,c),u=te.acquireProgram(e,r.shader,c,l),r.program=u,e.program=u}var h=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var f=0;f<le.maxMorphTargets;f++)h["morphTarget"+f]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals)for(e.numSupportedMorphNormals=0,f=0;f<le.maxMorphNormals;f++)h["morphNormal"+f]>=0&&e.numSupportedMorphNormals++;var m=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=Te.numPlanes,r.numIntersection=Te.numIntersection,m.clippingPlanes=Te.uniform),r.fog=t,void 0===a&&(r.lightsHash=a={}),a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,e.lights&&(m.ambientLightColor.value=i.state.ambient,m.directionalLights.value=i.state.directional,m.spotLights.value=i.state.spot,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=r.program.getUniforms(),y=S.WebGLUniforms.seqWithValue(g.seq,m);r.uniformsList=y}function Qe(e,t,n,i){be=0;var o=K.get(n),a=G.state.lights,s=o.lightsHash,c=a.state.hash;if(Ce&&(Re||e!==ge)){var l=e===ge&&n.id===fe;Te.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,o,l)}!1===n.needsUpdate&&(void 0===o.program?n.needsUpdate=!0:n.fog&&o.fog!==t?n.needsUpdate=!0:(!n.lights||s.stateID===c.stateID&&s.directionalLength===c.directionalLength&&s.pointLength===c.pointLength&&s.spotLength===c.spotLength&&s.rectAreaLength===c.rectAreaLength&&s.hemiLength===c.hemiLength&&s.shadowsLength===c.shadowsLength)&&(void 0===o.numClippingPlanes||o.numClippingPlanes===Te.numPlanes&&o.numIntersection===Te.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(Ye(n,t,i),n.needsUpdate=!1);var u,p,d=!1,h=!1,f=!1,m=o.program,g=m.getUniforms(),y=o.shader.uniforms;if(Q.useProgram(m.program)&&(d=!0,h=!0,f=!0),n.id!==fe&&(fe=n.id,h=!0),d||e!==ge){if(g.setValue(W,"projectionMatrix",e.projectionMatrix),Y.logarithmicDepthBuffer&&g.setValue(W,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),ge!==(ye||e)&&(ge=ye||e,h=!0,f=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var v=g.map.cameraPosition;void 0!==v&&v.setValue(W,Oe.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&g.setValue(W,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){g.setOptional(W,i,"bindMatrix"),g.setOptional(W,i,"bindMatrixInverse");var x=i.skeleton;if(x){var M=x.bones;if(Y.floatVertexTextures){if(void 0===x.boneTexture){var b=Math.sqrt(4*M.length);b=P._Math.ceilPowerOfTwo(b),b=Math.max(b,4);var w=new Float32Array(b*b*4);w.set(x.boneMatrices);var A=new T.DataTexture(w,b,b,r.Constant.RGBAFormat,r.Constant.FloatType);A.needsUpdate=!0,x.boneMatrices=w,x.boneTexture=A,x.boneTextureSize=b}g.setValue(W,"boneTexture",x.boneTexture),g.setValue(W,"boneTextureSize",x.boneTextureSize)}else g.setOptional(W,x,"boneMatrices")}}return h&&(g.setValue(W,"toneMappingExposure",le.toneMappingExposure),g.setValue(W,"toneMappingWhitePoint",le.toneMappingWhitePoint),n.lights&&(p=f,(u=y).ambientLightColor.needsUpdate=p,u.directionalLights.needsUpdate=p,u.pointLights.needsUpdate=p,u.spotLights.needsUpdate=p,u.rectAreaLights.needsUpdate=p,u.hemisphereLights.needsUpdate=p),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(y,t),n.isMeshBasicMaterial?qe(y,n):n.isMeshLambertMaterial?(qe(y,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(y,n)):n.isMeshPhongMaterial?(qe(y,n),n.isMeshToonMaterial?function(e,t){Ke(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(y,n):Ke(y,n)):n.isMeshStandardMaterial?(qe(y,n),n.isMeshPhysicalMaterial?function(e,t){Ze(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(y,n):Ze(y,n)):n.isMeshDepthMaterial?(qe(y,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(y,n)):n.isMeshDistanceMaterial?(qe(y,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(y,n)):n.isMeshNormalMaterial?(qe(y,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===r.Constant.BackSide&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===r.Constant.BackSide&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(y,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(y,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(y,n)):n.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*_e,e.scale.value=.5*Ae,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(y,n):n.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(y,n):n.isShadowMaterial&&(y.color.value=n.color,y.opacity.value=n.opacity),void 0!==y.ltc_1&&(y.ltc_1.value=C.UniformsLib.LTC_1),void 0!==y.ltc_2&&(y.ltc_2.value=C.UniformsLib.LTC_2),S.WebGLUniforms.upload(W,o.uniformsList,y,le)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(S.WebGLUniforms.upload(W,o.uniformsList,y,le),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&g.setValue(W,"center",i.center),g.setValue(W,"modelViewMatrix",i.modelViewMatrix),g.setValue(W,"normalMatrix",i.normalMatrix),g.setValue(W,"modelMatrix",i.matrixWorld),m}function qe(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=K.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function Ke(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===r.Constant.BackSide&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===r.Constant.BackSide&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Ze(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===r.Constant.BackSide&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===r.Constant.BackSide&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}Be.setAnimationLoop(function(e){Ne.isPresenting()||Ge&&Ge(e)}),"undefined"!=typeof window&&Be.setContext(window),this.setAnimationLoop=function(e){Ge=e,Ne.setAnimationLoop(e),Be.start()},this.render=function(e,t,n,r){if(t&&t.isCamera){if(!ue){me.geometry=null,me.program=null,me.wireframe=!1,fe=-1,ge=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),Ne.enabled&&(t=Ne.getCamera(t)),(G=re.get(e,t)).init(),e.onBeforeRender(le,e,t,n),Ie.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Pe.setFromMatrix(Ie),Re=this.localClippingEnabled,Ce=Te.init(this.clippingPlanes,Re,t),(H=ne.get(e,t)).init(),function e(t,n,r){if(!1!==t.visible){var i=t.layers.test(n.layers);if(i)if(t.isLight)G.pushLight(t),t.castShadow&&G.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||Pe.intersectsSprite(t)){r&&Oe.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Ie);var o=ee.update(t),a=t.material;H.push(t,o,a,Oe.z,null)}}else if(t.isImmediateRenderObject)r&&Oe.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Ie),H.push(t,null,t.material,Oe.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||Pe.intersectsObject(t))){r&&Oe.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Ie);var o=ee.update(t),a=t.material;if(Array.isArray(a))for(var s=o.groups,c=0,l=s.length;c<l;c++){var u=s[c],p=a[u.materialIndex];p&&p.visible&&H.push(t,o,p,Oe.z,u)}else a.visible&&H.push(t,o,a,Oe.z,null)}for(var d=t.children,c=0,l=d.length;c<l;c++)e(d[c],n,r)}}(e,t,le.sortObjects),!0===le.sortObjects&&H.sort(),Ce&&Te.beginShadows();var i=G.state.shadowsArray;Fe.render(i,e,t),G.setupLights(t),Ce&&Te.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),ie.render(H,e,t,r);var o=H.opaque,a=H.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&We(o,e,t,s),a.length&&We(a,e,t,s)}else o.length&&We(o,e,t),a.length&&We(a,e,t);n&&Z.updateRenderTargetMipmap(n),Q.buffers.depth.setTest(!0),Q.buffers.depth.setMask(!0),Q.buffers.color.setMask(!0),Q.setPolygonOffset(!1),e.onAfterRender(le,e,t),Ne.enabled&&Ne.submitFrame(),H=null,G=null}}else console.error("spdengine-3D.WebGLRenderer.render: Camera3D is not an instance of spdengine-3D.Camera3D.")},this.allocTextureUnit=function(){var e=be;return e>=Y.maxTextures&&console.warn("spdengine-3D.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+Y.maxTextures),be+=1,e},this.setTexture2D=function(e,t){Z.setTexture2D(e,t)},this.setTexture=function(e,t){Z.setTexture2D(e,t)},this.setTextureCube=function(e,t){e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?Z.setTextureCube(e,t):Z.setTextureCubeDynamic(e,t)},this.setFramebuffer=function(e){pe=e},this.getRenderTarget=function(){return de},this.setRenderTarget=function(e){de=e,e&&void 0===K.get(e).__webglFramebuffer&&Z.setupRenderTarget(e);var t=pe,n=!1;if(e){var r=K.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=r,ve.copy(e.viewport),xe.copy(e.scissor),Me=e.scissorTest}else ve.copy(Ee).multiplyScalar(_e),xe.copy(De).multiplyScalar(_e),Me=Se;if(he!==t&&(W.bindFramebuffer(W.FRAMEBUFFER,t),he=t),Q.viewport(ve),Q.scissor(xe),Q.setScissorTest(Me),n){var i=K.get(e.texture);W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,i,o,a){if(e&&e.isWebGLRenderTarget){var s=K.get(e).__webglFramebuffer;if(s){var c=!1;s!==he&&(W.bindFramebuffer(W.FRAMEBUFFER,s),c=!0);try{var l=e.texture,u=l.format,p=l.type;if(u!==r.Constant.RGBAFormat&&ce.convert(u)!==W.getParameter(W.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("spdengine-3D.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(p===r.Constant.UnsignedByteType||ce.convert(p)===W.getParameter(W.IMPLEMENTATION_COLOR_READ_TYPE)||p===r.Constant.FloatType&&(Y.isWebGL2||X.get("OES_texture_float")||X.get("WEBGL_color_buffer_float"))||p===r.Constant.HalfFloatType&&(Y.isWebGL2?X.get("EXT_color_buffer_float"):X.get("EXT_color_buffer_half_float"))))return void console.error("spdengine-3D.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");W.checkFramebufferStatus(W.FRAMEBUFFER)===W.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-o&&W.readPixels(t,n,i,o,ce.convert(u),ce.convert(p),a):console.error("spdengine-3D.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&W.bindFramebuffer(W.FRAMEBUFFER,he)}}}else console.error("spdengine-3D.WebGLRenderer.readRenderTargetPixels: renderTarget is not spdengine-3D.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,o=ce.convert(t.format);this.setTexture2D(t,0),W.copyTexImage2D(W.TEXTURE_2D,n||0,o,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,o=t.image.height,a=ce.convert(n.format),s=ce.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?W.texSubImage2D(W.TEXTURE_2D,r||0,e.x,e.y,i,o,a,s,t.image.data):W.texSubImage2D(W.TEXTURE_2D,r||0,e.x,e.y,a,s,t.image)}}}();t.WebGLRenderer=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),i=function(){function e(e,t,n){this.isFog=!0,this.name="",this.color=new r.Color3D(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}return e.prototype.clone=function(){return new e(this.color,this.near,this.far)},e}();t.Fog3D=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),i=function(){function e(e,t){this.isFogExp2=!0,this.name="",this.color=new r.Color3D(e),this.density=void 0!==t?t:25e-5}return e.prototype.clone=function(){return new e(this.color,this.density)},e}();t.FogExp23D=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(27),a=function(e){function t(){var t=e.call(this)||this;return t.isScene=!0,t.type="Scene",t.background=null,t.fog=null,t.overrideMaterial=null,t.autoUpdate=!0,t}return i(t,e),t.prototype.copy=function(e,t){return o.Object3D.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},t.prototype.dispose=function(){this.children.map(function(e){return e.dispatchEvent({type:"dispose"})}),this.children.length=0,this.dispatchEvent({type:"dispose"})},t}(o.Object3D);t.Scene3D=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n.camera=t,n}return i(t,e),t}(n(321).Scene3D);t.MinorScene3D=o},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Top=0]="Top",e[e.Buttom=1]="Buttom",e[e.Middle=2]="Middle"}(r||(r={})),t.VerticalAlignment=r,function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center"}(i||(i={})),t.HorizontalAlignment=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67);t.threePointArcToArc=function(e){if(!(e&&e.startPoint&&e.middlePoint&&e.endPoint))return null;if((new r.Vector33D).copy(e.startPoint).equals((new r.Vector33D).copy(e.endPoint))||(new r.Vector33D).copy(e.startPoint).equals((new r.Vector33D).copy(e.middlePoint))||(new r.Vector33D).copy(e.middlePoint).equals((new r.Vector33D).copy(e.endPoint)))return console.error("threePointArcToArctpArc"),null;var t=(new r.Vector33D).copy(e.startPoint),n=(new r.Vector33D).copy(e.middlePoint),i=(new r.Vector33D).copy(e.endPoint),o=r.Vector33D.get().set(1,1,1),a=r.Vector33D.get().set(e.startPoint.x,e.middlePoint.x,e.endPoint.x),s=r.Vector33D.get().set(e.startPoint.y,e.middlePoint.y,e.endPoint.y),c=r.Vector33D.get().set(e.startPoint.z,e.middlePoint.z,e.endPoint.z),l=r.Matrix33D.get(),u=l.fromThreePoint(s,c,o).determinant(),p=-l.fromThreePoint(c,o,a).determinant(),d=l.fromThreePoint(o,a,s).determinant(),h=-l.fromThreePoint(a,s,c).determinant(),f=2*(n.x-t.x),m=2*(n.y-t.y),g=2*(n.z-t.z),y=t.lengthSq()-n.lengthSq(),v=2*(i.x-t.x),x=2*(i.y-t.y),M=2*(i.z-t.z),b=t.lengthSq()-i.lengthSq();l.getInverse((new r.Matrix33D).set(u,f,v,p,m,x,d,g,M)).transpose();var w=new r.Vector33D(h,y,b).applyMatrix3(l).negate(),A=t.distanceTo(w),_={location:{origin:w,nDirection:(new r.Vector33D).subVectors(n,t).cross((new r.Vector33D).subVectors(i,n)).normalize(),xDirection:(new r.Vector33D).subVectors(t,w).normalize()},radius:A,startAngle:0,endAngle:(new r.Vector33D).subVectors(w,t).angleTo((new r.Vector33D).subVectors(w,i))};return(new r.Vector33D).subVectors(t,n).dot((new r.Vector33D).subVectors(i,n))>0&&(_.endAngle=2*Math.PI-_.endAngle),r.Vector33D.back(o),r.Vector33D.back(a),r.Vector33D.back(s),r.Vector33D.back(c),r.Matrix33D.back(l),_}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.RECT=1]="RECT",e[e.ELLIPSE=2]="ELLIPSE",e[e.CURVES=3]="CURVES",e[e.TEXT=4]="TEXT",e[e.CLOUDLINE=5]="CLOUDLINE",e[e.LINES=6]="LINES",e[e.ARROW=7]="ARROW",e[e.TRIANGLE=8]="TRIANGLE"}(r||(r={})),t.MARKERTYPE=r},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(21),a=n(327),s=n(329),c=n(330),l=n(331),u=n(332),p=n(333),d=n(334),h=n(335),f=n(336),m=n(339),g=n(340),y=n(341),v=n(342),x=n(343),M=n(344),b=n(345),w=n(346),A=n(347),_=n(348),E=n(349),D=n(350),S=n(17),P=n(351),T=new Map;t.Plugin=function(e){return e=null==e?i.SystemType.ST_2D:e,function(t){return T.get(e)||T.set(e,[]),T.get(e).push(t),t}};var C=function(){function e(e){var t=this;this.cb=null,this.pluginToolParamsMap=new Map,this.triggerCallbackHandle=null;var n,r=[],o=new Map;switch(e){case i.SystemType.ST_3D:r.push(new s.HomePlugin,new p.HighlightPlugin,new d.NavigatePlugin,new c.BaseControlPlugin,new l.ClippingPlugin,new u.ExplodePlugin,new b.PeelPlugin,new A.IsolationPlugin,new w.HiddenPlugin,new _.FocusPlugin,new D.ClearPlugin,new E.ShowAllPlugin,new h.ZoomWindPlugin,new g.Measure3DPlugin,new m.WanderPlugin,new a.FullscreenPlugin,new f.MarkerDevicePlugin,new y.BenchSceneLayoutPlugin);break;case i.SystemType.ST_2D:r.push(new s.HomePlugin,new c.BaseControlPlugin,new p.HighlightPlugin,new b.PeelPlugin,new w.HiddenPlugin,new _.FocusPlugin,new E.ShowAllPlugin,new v.Measure2DPlugin,new x.Marker2DPlugin,new h.ZoomWindPlugin,new a.FullscreenPlugin);break;case i.SystemType.ST_PANORAMA:r.push(new M.PanoramaControlPlugin);break;case i.SystemType.ST_3D_WSM:r.push(new s.HomePlugin,new c.BaseControlPlugin,new p.HighlightPlugin,new l.ClippingPlugin,new b.PeelPlugin,new A.IsolationPlugin,new w.HiddenPlugin,new _.FocusPlugin,new D.ClearPlugin,new E.ShowAllPlugin,new f.MarkerDevicePlugin,new h.ZoomWindPlugin,new g.Measure3DPlugin,new m.WanderPlugin,new d.NavigatePlugin,new a.FullscreenPlugin,new u.ExplodePlugin,new P.PickPointPlugin);break;case i.SystemType.ST_2D_WSM:r.push(new s.HomePlugin,new c.BaseControlPlugin,new p.HighlightPlugin,new b.PeelPlugin,new w.HiddenPlugin,new _.FocusPlugin,new E.ShowAllPlugin,new v.Measure2DPlugin,new x.Marker2DPlugin,new h.ZoomWindPlugin,new a.FullscreenPlugin,new P.PickPointPlugin)}T.get(e)&&T.get(e).forEach(function(e){r.push(new e)}),this.initialize=function(e){t.api=n=e,r.forEach(function(e){return e.initialize(n)});var o=[];r.forEach(function(e){e&&(e.toolbarItems||e.menuItems)&&(e.toolbarItems&&e.toolbarItems.forEach(function(e){var r;null!=e.handle&&(t.pluginToolParamsMap.has(e.handle)||((r={handle:e.handle,type:S.Util.isNil(e.check)?i.PluginToolType.FUNCTIONAL:i.PluginToolType.STATEFUL,label:e.label.get(n.PARAMS.bench_language),command:e.command,mutualPluginTools:e.mutualPluginTools}).type===i.PluginToolType.STATEFUL?Object.defineProperty(r,"state",{set:function(n){var i=1==n?1:0;e.check!=i&&(t.triggerCallback(),1==i&&r.mutualPluginTools.forEach(function(e){t.setStatefulPluginToolState(e,!1)}),t.api.UI.do(new r.command))},get:function(){return 1===e.check}}):Object.defineProperty(r,"isAddMenuItem",{set:function(t){e.show!=t&&(e.show=t)},get:function(){return e.show}}),Object.defineProperty(r,"label",{set:function(t){S.Util.isNil(t)||e.label.get(n.PARAMS.bench_language)==t||e.label.set(n.PARAMS.bench_language,t)},get:function(){return e.label}}),S.Util.isNil(e.check)||o.push(e.handle),t.pluginToolParamsMap.set(e.handle,r)))}),e.menuItems&&e.menuItems.forEach(function(e){var r;null!=e.handle&&(t.pluginToolParamsMap.has(e.handle)||(r={handle:e.handle,type:i.PluginToolType.FUNCTIONAL,label:e.label.get(n.PARAMS.bench_language),command:e.command,mutualPluginTools:e.mutualPluginTools},Object.defineProperty(r,"isAddMenuItem",{set:function(t){e.show!=t&&(e.show=t)},get:function(){return e.show}}),Object.defineProperty(r,"label",{set:function(t){S.Util.isNil(t)||e.label.get(n.PARAMS.bench_language)==t||e.label.set(n.PARAMS.bench_language,t)},get:function(){return e.label}}),t.pluginToolParamsMap.set(e.handle,r)))}))}),t.pluginToolParamsMap.forEach(function(e){S.Util.isNil(e.mutualPluginTools)&&(e.mutualPluginTools=o.slice())})},this.trigger=function(e){if(n){var t=n.UI.getWorkMode();if(e.pid)for(var i=0,o=r;i<o.length;i++){var a=o[i];if(a.workMode&t&&a.id===e.pid)return void a.willHandleEventExclusively(e)}else r.forEach(function(n){n.workMode&t&&n.onPluginEvent&&(n.onPluginEvent(e),C(e,n))})}},this.forEach=function(e){r.forEach(function(t){e(t)})},this.dispose=function(){r.forEach(function(e){return e.dispose()}),r.length=0,r=null};var C=function(e,n){switch(e.eventType){case 1:if(0==e.rawEvent.button)if(o.has(n.id)){var r=o.get(n.id);o.delete(n.id),clearTimeout(r),e.eventType=13,n.onPluginEvent(e),e.eventType=1}else{r=setTimeout(function(){o.delete(n.id),e.eventType=12,n.onPluginEvent(e),e.eventType=1},t.intervalTime);o.set(n.id,r)}break;case 6:if(o.has(n.id)){r=o.get(n.id);clearTimeout(r),e.eventType=15,n.onPluginEvent(e),e.eventType=6,o.delete(n.id)}else o.set(n.id,setTimeout(function(){e.eventType=14,n.onPluginEvent(e),e.eventType=6,o.delete(n.id)},t.intervalTime))}}}return e.prototype.CopyPluginToolParams=function(e){return{handle:e.handle,type:e.type,label:e.label,mutualPluginTools:e.mutualPluginTools.slice(),isAddMenuItem:e.isAddMenuItem,state:e.state,command:e.command}},e.prototype.getPluginTool=function(e,t){if(!this.pluginToolParamsMap.has(e))throw new Error("handle: "+e+"api!");var n=this.pluginToolParamsMap.get(e);if(n.type!=t)throw new Error("api!");return n},e.prototype.triggerCallback=function(){var e=this;null!=this.triggerCallbackHandle&&clearTimeout(this.triggerCallbackHandle),this.triggerCallbackHandle=setTimeout(function(){!S.Util.isNil(e.cb)&&S.Util.isFunction(e.cb)&&e.cb(e.getPluginToolParams()),e.triggerCallbackHandle=null},100)},e.prototype.getPluginToolParams=function(){var e=this,t=[];return this.pluginToolParamsMap.forEach(function(n){t.push(e.CopyPluginToolParams(n))}),t},e.prototype.triggerFunctionalPluginTool=function(e){var t=this,n=this.getPluginTool(e,i.PluginToolType.FUNCTIONAL);this.api.UI.do(new n.command),n.mutualPluginTools.forEach(function(e){t.setStatefulPluginToolState(e,!1)})},e.prototype.setPluginToolStateChangeCallbak=function(e){this.cb=e},e.prototype.setFunctionalPluginToolParam=function(e,t,n,r){var o=this,a=this.getPluginTool(e,i.PluginToolType.FUNCTIONAL);a.isAddMenuItem=t,S.Util.isNil(n)&&(n=[]),n.forEach(function(e){try{o.getPluginTool(e,i.PluginToolType.STATEFUL)}catch(e){throw new Error("setFunctionalPluginToolParam mutualPluginTools  STATEFUL ")}}),a.mutualPluginTools=n.slice(),a.label=r},e.prototype.setStatefulPluginToolState=function(e,t){this.getPluginTool(e,i.PluginToolType.STATEFUL).state=t},e.prototype.setStatefulPluginToolParam=function(e,t){var n=this,r=this.getPluginTool(e,i.PluginToolType.STATEFUL);S.Util.isNil(t)&&(t=[]),t.forEach(function(e){try{n.getPluginTool(e,i.PluginToolType.STATEFUL)}catch(e){throw new Error("setStatefulPluginToolParam mutualPluginTools  STATEFUL ")}}),r.mutualPluginTools=t.slice(),this.triggerCallback()},r([o.ParamExport("eventClickIntervalTime",300)],e.prototype,"intervalTime",void 0),e=r([o.ApiExport(["trigger"]),o.ApiExport(["trigger","setPluginToolStateChangeCallbak","setStatefulPluginToolParam","triggerFunctionalPluginTool","setFunctionalPluginToolParam","getPluginToolParams"],"3D")],e)}();t.PluginService=C},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(16),a=n(17),s=n(328),c="6551E626-BD1C-4EB9-B139-9C3A3D87E411",l=function(){function e(){}return e.prototype.initialize=function(e){this._api=e},e.prototype.do=function(){var e=this._api.UI;e.isInFullscreen()?e.exitFullscreen():e.launchFullscreen(),e.trigger({pid:c,eventType:9})},e.prototype.dispose=function(){this._api=null},e=r([o.Command([1024,2048,70],i.SystemType.ST_2D,3),o.Command([1024,2048,70],i.SystemType.ST_3D,3),o.Command([1024,2048,70],i.SystemType.ST_CELL,3),o.Command([1024,2048,70],i.SystemType.ST_2D_WSM,3),o.Command([1024,2048,70],i.SystemType.ST_3D_WSM,3)],e)}();t.Fullscreen=l;var u=function(){function e(){this.id=c,this.workMode=3;var e=new Map;e.set(i.Language.zh_CN,""),e.set(i.Language.zh_HK,""),e.set(i.Language.en,"full screen"),e.set(i.Language.ja,""),this._button={handle:i.PluginToolHandle.FULLSCREEN,label:e,enable:!0,icon:a.Icon.fullscreen,command:l,mutualPluginTools:[]},a.BrowserInfo.isTouchDevice||(this.toolbarItems=[this._button]),this.onPluginEvent=s.noop}return e.prototype.initialize=function(e){this._api=e},e.prototype.willHandleEventExclusively=function(e){9===e.eventType&&(this._api.UI.isInFullscreen()?this._button.icon=a.Icon.exitfullscreen:this._button.icon=a.Icon.fullscreen)},e.prototype.dispose=function(){this._api=null,this._button=null,this.toolbarItems&&(this.toolbarItems.length=0,this.toolbarItems=null)},e}();t.FullscreenPlugin=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.Sealed=function(){return function(e){Object.seal(e),Object.seal(e.prototype)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(328),a=n(16),s=n(17),c="D80444A3-2BBD-4C7A-9E9D-391C16FB18DB",l=function(){function e(){var e,t=this;t.initialize=function(t){e=t},t.do=function(){e.UI.trigger({pid:c,eventType:9})},t.dispose=function(){t.do=o.noop,t.dispose=o.noop}}return e=r([a.Command([1024,2048,72],i.SystemType.ST_2D,1),a.Command([1024,2048,72],i.SystemType.ST_3D,1),a.Command([1024,2048,72],i.SystemType.ST_3D_WSM,1),a.Command([1024,2048,72],i.SystemType.ST_2D_WSM,1)],e)}();t.HomeCommand=l;var u=function(){return function(){var e=this;this.id=c;var t=new Map;t.set(i.Language.zh_CN,"Home"),t.set(i.Language.zh_HK,"Home"),t.set(i.Language.en,"Home"),t.set(i.Language.ja,""),this.workMode=1,this._button={handle:i.PluginToolHandle.RESET,label:t,enable:!0,icon:s.Icon.home,command:l},this.toolbarItems=[this._button],this.initialize=function(e){this.willHandleEventExclusively=function(t){9===t.eventType&&(e["3D"].home3D(),e.PARAMS.sr_enable=!0)}},this.dispose=function(){e.toolbarItems.length=0,e.toolbarItems=null,e._button=null}}}();t.HomePlugin=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(23),a=n(17),s=n(16),c=n(328),l="cde26527-68bc-4521-8d13-59b60474267c".toUpperCase(),u=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:l,eventType:9,eventDataCache:{type:"pan"}})},this.dispose=function(){this.do=c.noop,this.dispose=c.noop}}return e=r([s.Command([1024,66,80],i.SystemType.ST_3D,1),s.Command([1024,66,80],i.SystemType.ST_3D_WSM,1)],e)}();t.PanCommand=u;var p=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:l,eventType:9,eventDataCache:{type:"rotate"}})},this.dispose=function(){this.do=c.noop,this.dispose=c.noop}}return e=r([s.Command([1024,66,82],i.SystemType.ST_3D,1),s.Command([1024,66,82],i.SystemType.ST_3D_WSM,1)],e)}();t.RotateCommand=p;var d=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:l,eventType:9,eventDataCache:{type:"scale"}})},this.dispose=function(){this.do=c.noop,this.dispose=c.noop}}return e=r([s.Command([1024,66,83],i.SystemType.ST_3D,1),s.Command([1024,66,83],i.SystemType.ST_3D_WSM,1)],e)}();t.ScaleCommand=d;var h=function(){function e(){var e,t,n=this;this.initialize=function(n){e=n["3D"],t=e.getBenchCamera()},this.do=function(){t.zoom*=2,e.update()},this.dispose=function(){n.initialize=c.noop,n.do=c.noop}}return e=r([s.Command([1024,107],i.SystemType.ST_3D,1),s.Command([1024,107],i.SystemType.ST_3D_WSM,1)],e)}();t.MagnifyCommand=h;var f=function(){function e(){var e,t,n=this;this.initialize=function(n){e=n["3D"],t=e.getBenchCamera()},this.do=function(){t.zoom/=2,e.update()},this.dispose=function(){n.initialize=c.noop,n.do=c.noop}}return e=r([s.Command([1024,109],i.SystemType.ST_3D,1),s.Command([1024,109],i.SystemType.ST_3D_WSM,1)],e)}();t.ShrinkCommand=f;var m=function(){return function(){this.id=l,this.workMode=9,this.state=5;var e=0,t=0,n=0,r=new Map;r.set(i.Language.zh_CN,""),r.set(i.Language.zh_HK,""),r.set(i.Language.en,"Pan"),r.set(i.Language.ja,"");var s={handle:i.PluginToolHandle.PAN,label:r,enable:!0,command:u,check:0,icon:a.Icon.paning},m=new Map;m.set(i.Language.zh_CN,""),m.set(i.Language.zh_HK,""),m.set(i.Language.en,"Rotation"),m.set(i.Language.ja,"");var g={label:m,enable:!0,command:p,check:0,icon:a.Icon.rotation},y=new Map;y.set(i.Language.zh_CN,""),y.set(i.Language.zh_HK,""),y.set(i.Language.en,"Zoom"),y.set(i.Language.ja,"");var v={handle:i.PluginToolHandle.SCALE,label:y,enable:!0,command:d,check:0,icon:a.Icon.scaling};Object.defineProperty(s,"check",{get:function(){return e},set:function(t){e!==t&&(e=t,D.changeState())}}),Object.defineProperty(v,"check",{get:function(){return n},set:function(e){n!==e&&(n=e,D.changeState())}}),Object.defineProperty(g,"check",{get:function(){return t},set:function(e){t!==e&&(t=e,D.changeState())}});var x=new Map;x.set(i.Language.zh_CN,""),x.set(i.Language.zh_HK,""),x.set(i.Language.en,"Magnify"),x.set(i.Language.ja,"");var M=new Map;M.set(i.Language.zh_CN,""),M.set(i.Language.zh_HK,""),M.set(i.Language.en,"Shrink"),M.set(i.Language.ja,""),a.BrowserInfo.isTouchDevice||(this.toolbarItems=[s,v,{handle:i.PluginToolHandle.MAGNIFY,label:x,enable:!0,command:h,show:!1,isValid:!1,mutualPluginTools:[]},{handle:i.PluginToolHandle.SHRINK,label:M,enable:!0,command:f,show:!1,isValid:!1,mutualPluginTools:[]}]);var b,w,A,_,E,D=this,S=new o.Vector23D,P=new o.Vector23D,T=new o.Vector23D,C=new o.Vector23D,R=new o.Vector23D,I=new o.Vector23D,O={type:"control_start",state:0,params:{state:0}},L={type:"control_end"},k={left:o.Constant.MOUSE.LEFT,MIDDLE:o.Constant.MOUSE.MIDDLE,RIGHT:o.Constant.MOUSE.RIGHT},B={NONE:-1,ROTATE:0,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4,SCALE:5,TOUCH_PAN:6},U=B.NONE,N=new o.Raycaster3D;D.initialize=function(e){b=(A=e)["3D"],w=A.PARAMS;var t={width:0,height:0};function n(e){var n=_.deltaPosition[0];(Math.abs(n.clientX)>1||Math.abs(n.clientY)>1)&&(function(){if(A.PARAMS.bc_isChangeRotateCenter)switch(A.PARAMS.bc_rotationCenterMode){case i.RotationCenterMode.ScreenCenterMode:N.setFromCamera(new o.Vector23D(0,0),b.getBenchCamera()),(n=b.raycast(N,[])).length>0&&b.setCameraRotationCenter(n[0].point);break;case i.RotationCenterMode.ComposeMode:var e=b.getSelected();if(e&&e.length){var t=new o.Box33D;e.forEach(function(e){b.getElementBoundingBox(e,t)}),t.isEmpty()||b.setCameraRotationCenter(t.getCenter(new o.Vector33D))}else{var n,r=new o.Vector23D(_.leftDownPosition.viewportX,_.leftDownPosition.viewportY);if(N.setFromCamera(r,b.getBenchCamera()),(n=b.raycast(N,[]))&&n.length)b.setCameraRotationCenter(n[0].point);else{var a=b.getBoundingBoxByRenderState();a.isEmpty&&b.setCameraRotationCenter(a.getCenter(new o.Vector33D))}}}}(),b.rotateLeft(Math.PI*n.clientX*w.bc_rotateSpeed/t.height),b.rotateUp(Math.PI*n.clientY*w.bc_rotateSpeed/t.height),b.controlUpdate())}function r(e){var t;if(!1!==w.bc_enable)switch(U){case B.ROTATE:if(!1===w.bc_rotateEnable||!E.leftMouseDown)return;n();break;case B.PAN:if(!1===w.bc_panEnable||!E.rightMouseDown&&!E.leftMouseDown)return;t=_.deltaPosition[0],b.pan(t.clientX*w.bc_panSpeed,t.clientY*w.bc_panSpeed),b.controlUpdate();break;case B.SCALE:if(!1===w.bc_scaleEnable||!E.leftMouseDown)return;_.deltaPosition[0].clientY>0?b.dollyIn(b.getZoomScale()):b.dollyOut(b.getZoomScale()),b.controlUpdate(),b.update()}}function a(e){!1===w.bc_enable||!1===w.bc_zoomEnable||U!==B.NONE&&U!==B.ROTATE||(e.preventDefault(),e.stopPropagation(),O.state=U,O.params.state=U,b.dispatchEvent(O),function(e){if(e.target==A.UI.getMarker().dom){var t=_.position[0],n=o.Vector23D.get().set(t.viewportX||0,t.viewportY||0);e.deltaY<0||e.detail<0?b.dollyOut(b.getZoomScale(),n):(e.deltaY>0||e.detail>0)&&b.dollyIn(b.getZoomScale(),n),b.controlUpdate(),o.Vector23D.back(n)}}(e),b.dispatchEvent(L))}function s(e){if(!1!==w.bc_enable){var t=A.UI.getSystemType();switch(e.preventDefault(),e.touches.length){case 1:if(t===i.SystemType.ST_3D||t===i.SystemType.ST_3D_WSM){if(!1===w.bc_rotateEnable)return;U=B.TOUCH_ROTATE}else if(t===i.SystemType.ST_2D||t===i.SystemType.ST_2D_WSM){if(!1===w.bc_panEnable)return;U=B.TOUCH_PAN}break;case 2:if(t===i.SystemType.ST_3D||t===i.SystemType.ST_3D_WSM){if(!1===w.bc_zoomEnable||!1===w.bc_panEnable)return;!function(e){if(w.bc_zoomEnable){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);C.set(0,r)}if(w.bc_panEnable){var i=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);S.set(i,o)}}(e)}else if(t===i.SystemType.ST_2D||t===i.SystemType.ST_2D_WSM){if(!1===w.bc_zoomEnable)return;!function(e){if(w.bc_zoomEnable){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);C.set(0,r)}}(e)}U=B.TOUCH_DOLLY_PAN;break;default:U=B.NONE}U!==B.NONE&&(O.state=U,O.params.state=U,b.dispatchEvent(O))}}function c(e){if(!1!==w.bc_enable){var n,r=A.UI.getSystemType();switch(e.stopPropagation(),e.touches.length){case 1:if(r===i.SystemType.ST_3D||r===i.SystemType.ST_3D_WSM){if(!1===w.bc_rotateEnable)return;if(U!==B.TOUCH_ROTATE)return;n=_.deltaPosition[0],b.rotateLeft(2*Math.PI*n.clientX*w.bc_rotateSpeed/t.height),b.rotateUp(2*Math.PI*n.clientY*w.bc_rotateSpeed/t.height),b.controlUpdate()}else if(r===i.SystemType.ST_2D||r===i.SystemType.ST_2D_WSM){if(!1===w.bc_panEnable)return;if(U!==B.TOUCH_PAN)return;!function(e){if(w.bc_panEnable){var t=_.deltaPosition[0];b.pan(t.clientX*w.bc_panSpeed,t.clientY*w.bc_panSpeed),b.controlUpdate()}}()}break;case 2:if(r===i.SystemType.ST_3D||r===i.SystemType.ST_3D_WSM){if(!1===w.bc_zoomEnable||!1===w.bc_panEnable)return;if(U!==B.TOUCH_DOLLY_PAN)return;!function(e){if(w.bc_zoomEnable){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);R.set(0,r),I.set(0,Math.pow(R.y/C.y,w.bc_zoomSpeed)),b.dollyIn(I.y),C.copy(R)}if(w.bc_panEnable){var i=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);P.set(i,o),T.subVectors(P,S).multiplyScalar(w.bc_panSpeed),b.pan(T.x,T.y),S.copy(P)}b.controlUpdate()}(e)}else if(r===i.SystemType.ST_2D||r===i.SystemType.ST_2D_WSM){if(!1===w.bc_zoomEnable)return;if(U!==B.TOUCH_DOLLY_PAN)return;!function(e){if(w.bc_zoomEnable){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);R.set(0,r),I.set(0,Math.pow(R.y/C.y,w.bc_zoomSpeed)),b.dollyIn(I.y),C.copy(R),b.controlUpdate()}}(e)}break;default:U=B.NONE}}}b.addEventListener("resize",function(e){t.height=e.params.height,t.width=e.params.width}),D.onPluginEvent=function(e){switch(_=e.eventDataCache,E=e,e.eventType){case 0:!function(e){if(!1!==w.bc_enable){switch(e.button){case k.MIDDLE:break;case k.left:if(5===D.state){if(!1===w.bc_rotateEnable)return;U=B.ROTATE}else if(2===D.state){if(!1===w.bc_panEnable)return;U=B.PAN}else if(3===D.state){if(!1===w.bc_rotateEnable)return;U=B.ROTATE}else if(4===D.state){if(!1===w.bc_scaleEnable)return;U=B.SCALE}break;case k.RIGHT:if(!1===w.bc_panEnable)return;U=B.PAN}U!==B.NONE&&(O.state=U,O.params.state=U,b.dispatchEvent(O))}}(e.rawEvent);break;case 2:r(e.rawEvent);break;case 1:e.rawEvent,!1!==w.bc_enable&&(U===B.ROTATE&&b.makeProjectRotationSafe(),b.dispatchEvent(L),U=B.NONE);break;case 3:a(e.rawEvent);break;case 4:s(e.rawEvent);break;case 5:c(e.rawEvent);break;case 6:e.rawEvent,!1!==w.bc_enable&&(b.dispatchEvent(L),U=B.NONE)}}},D.dispose=function(){D.onPluginEvent=c.noop},D.changeState=function(){1===s.check?(w.hl_enableRegion=!1,D.state=2):1===g.check?(w.hl_enableRegion=!1,D.state=3):1===v.check?(w.hl_enableRegion=!1,D.state=4):D.state=5},D.willHandleEventExclusively=c.noop}}();t.BaseControlPlugin=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(23),a=n(16),s=n(17),c=n(328),l=n(21),u="8f993ee9-23e0-4aa2-8800-ec51d1bcbfd8".toUpperCase(),p=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:u,eventType:9})},this.dispose=function(){this.do=c.noop,this.initialize=c.noop}}return e=r([a.Command([1024,2048,67],i.SystemType.ST_3D,1),a.Command([1024,2048,67],i.SystemType.ST_3D_WSM,1)],e)}();t.ClippingCommand=p;var d=function(){return function(){this.enable=!1,this.id=u,this.workMode=1;var e=this,t=0,n=new Map;n.set(i.Language.zh_CN,""),n.set(i.Language.zh_HK,""),n.set(i.Language.en,"Section"),n.set(i.Language.ja,""),e._button={handle:i.PluginToolHandle.SECTION,label:n,enable:!0,icon:s.Icon.cliping,check:0,command:p},Object.defineProperty(e._button,"check",{set:function(n){t=n,e.changeState(n)},get:function(){return t}}),e.toolbarItems=[this._button],e.initialize=function(t){e.api=t;var n,r=t["3D"],a=t.PARAMS,s=new o.Vector23D,c=new o.Raycaster3D,u=r.getBenchCamera(),p=[],d=a.cp_boxColor,h=45237,f=a.cp_boxMesh,m=r.getClippingArrows(),g=[f],y=45237;Array.prototype.push.apply(g,m);var v,x,M,b=0,w=new o.Vector33D,A=new o.Vector33D,_=new o.Vector33D,E=!1,D=!1;function S(e,r){n.material.color.set(e),t.PARAMS.rd_minorRefresh=!0}function P(){n&&(n===f?a.cp_boxColor=d:(S(a.cp_arrowColor),t.PARAMS.cp_dragArrowName=null,r.enableMarkerRefresh()),n=null,v=null)}function T(){t.UI.getSystemType()==i.SystemType.ST_3D_WSM&&r.raycastRotationCircle(s)?E=!0:(E=!1,c.setFromCamera(s,u),p.length=0,b=m[0].scale.x,m.forEach(function(e){e.scale.set(3*b,3*b,3*b),e.updateMatrixWorld()}),c.intersectObjects(g,!0,p),m.forEach(function(e){e.scale.set(b,b,b),e.updateMatrixWorld()}),P(),p[0]&&(n=p[0].object,v=p[0].point,!0===D&&n===f&&p.length>1&&(n=p[1].object,v=p[1].point),A.copy(v),n===f?a.cp_boxColor=h:(S(y),t.PARAMS.cp_dragArrowName=n.name,r.enableMarkerRefresh())))}function C(){n?(D=!0,n===f&&(a.cp_arrowVisitable=!0)):(a.cp_boxColor=d,a.cp_arrowVisitable=!1,D=!1)}function R(){n&&(M.leftMouseDown||M.touchDowns&&M.touchDowns[0])&&(_.copy(v).project(u),_.set(s.x,s.y,_.z).unproject(u),w.copy(_).sub(A),A.copy(_),r.moveClippingPlan(w,n))}e.onPluginEvent=function(i){if(e.enable)switch(x=i.eventDataCache,M=i,i.eventType){case 2:!function(e){s.set(x.position[0].viewportX,x.position[0].viewportY),0===e.buttons?(T(),C()):E?r.setSectionRotationAngleZByMousePosition(s):R()}(i.rawEvent);break;case 0:i.rawEvent,M.leftMouseDown&&(n&&n!==f||E)&&(l.SaveParam("hl_enableRegion",t.handle,!1),l.SaveParam("bc_rotateEnable",t.handle,!1));break;case 1:i.rawEvent,P(),n=null,l.RollBackParam("hl_enableRegion",t.handle),l.RollBackParam("bc_rotateEnable",t.handle);break;case 4:!function(e){1===e.touches.length&&(s.set(x.position[0].viewportX,x.position[0].viewportY),T(),C(),(n&&n!==f||E)&&(l.SaveParam("hl_enableRegion",t.handle,!1),l.SaveParam("bc_rotateEnable",t.handle,!1)))}(i.rawEvent);break;case 5:i.rawEvent,s.set(x.position[0].viewportX,x.position[0].viewportY),E?r.setSectionRotationAngleZByMousePosition(s):R();break;case 6:l.RollBackParam("hl_enableRegion",t.handle),l.RollBackParam("bc_rotateEnable",t.handle),P(),n=null}},e.active=function(){this.enable=!0,a.cp_enable=!0,a.cp_arrowVisitable=!1},e.deActive=function(){!1!==this.enable&&(this.enable=!1,a.cp_boxColor=d,a.cp_enable=!1,a.cp_arrowVisitable=!1,r.update())}},e.dispose=function(){e._button=null,e.toolbarItems.length=0,e.toolbarItems=null},e.changeState=function(t){1===t?e.active():0===t&&e.deActive(),e.api.PARAMS.rd_minorRefresh=!0},e.willHandleEventExclusively=function(e){9===e.eventType&&(this._button.check=0===this._button.check?1:0)}}}();t.ClippingPlugin=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(328),a=n(16),s=n(17),c="89304E71-59F4-418B-BBEB-36D03FB42321",l=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:c,eventType:9})},this.dispose=function(){this.do=o.noop,this.dispose=o.noop}}return e=r([a.Command([1024,2048,69],i.SystemType.ST_3D,1),a.Command([1024,2048,69],i.SystemType.ST_3D_WSM,1)],e)}();t.ExplodeCommand=l;var u=function(){return function(){var e=this;this.id=c,this.workMode=1;var t=new Map;t.set(i.Language.zh_CN,""),t.set(i.Language.zh_HK,""),t.set(i.Language.en,"Explode"),t.set(i.Language.ja,""),this._button={handle:i.PluginToolHandle.EXPLODED,label:t,enable:!0,check:0,command:l,icon:s.Icon.explode};var n=0,r=this;Object.defineProperty(this._button,"check",{set:function(e){e!==n&&(n=e,r.changeState(e))},get:function(){return n}}),this.toolbarItems=[this._button],this.initialize=function(t){var n=t["3D"];e.changeState=function(e){1===e?n.setExplosionEnable(!0,4):0===e&&n.setExplosionEnable(!1)}},this.dispose=function(){this._button=null,this.toolbarItems.length=0,this.toolbarItems=null},this.willHandleEventExclusively=o.noop}}();t.ExplodePlugin=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(23),a=n(328),s=n(16),c=n(17),l=n(21),u="ecd7316c-6d1e-434c-9294-3f934a628712".toUpperCase(),p=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:u,eventType:9})},this.dispose=function(){this.do=a.noop,this.initialize=a.noop}}return e=r([s.Command([1024,2048,82],i.SystemType.ST_2D,1),s.Command([1024,2048,82],i.SystemType.ST_3D,1),s.Command([1024,2048,82],i.SystemType.ST_3D_WSM,1),s.Command([1024,2048,82],i.SystemType.ST_2D_WSM,1)],e)}();t.RegionCommand=p;var d=function(){function e(){this.id=u,this.workMode=9;var t=this,n=0,r=new Map;r.set(i.Language.zh_CN,""),r.set(i.Language.zh_HK,""),r.set(i.Language.en,"Regoin"),r.set(i.Language.ja,""),this._button={handle:i.PluginToolHandle.REGOIN,icon:c.Icon.region,enable:!0,check:0,command:p,label:r},Object.defineProperty(this._button,"check",{set:function(e){e!==n&&(n=e,t.changeState(e))},get:function(){return n}}),this.toolbarItems=[this._button],t.initialize=function(n){var r,a=!0,s=n["3D"],c=n.PARAMS,u=new o.Vector23D,p=new o.Vector23D,d=new o.Vector23D,h=new o.Vector23D,f=new o.Raycaster3D,m=[],g=s.getBenchCamera(),y=!1,v=.001,x=new o.Vector33D,M=new o.Box33D,b=0,w=0,A=null;function _(){y&&s.canvas2DDrawRect(d.x,d.y,h.x,h.y,0,0,h.x>0?0:e.LineDash,e.LineWidth,!0,c.hl_regonBoxColor)}function E(e,t,n,r){s.setProjectScreenMouse(n,r,e),t.set(n,r)}s.addCamera3DEventListener("checkbenchcamera",function(){g=s.getBenchCamera()}),c.hl_enableRegion=!1;var D=function(){var e=new o.Box23D,t=[],r=[u,p];return function(){if(e.setFromPoints(r),c.hl_enableRegion){t.length=0;var o=n.UI.getSystemType();o===i.SystemType.ST_2D||o===i.SystemType.ST_3D?s.regionRaycast(e,t,d.x<h.x):o!==i.SystemType.ST_2D_WSM&&o!==i.SystemType.ST_3D_WSM||n["3D"].regionCast(u.x,u.y,p.x,p.y,t),t.forEach(function(e){s.highlightComponent(e)});var a=s.getSelected();s.dispatchSelectEvent({type:"region",uuids:a,params:{uuids:a}})}}}();function S(){if(a&&c.hl_enableClick){if(m.length=0,f.setFromCamera(u,g),s.raycast(f,m),m.length>0&&(s.highlightComponent(m[0].compid),n.PARAMS.bc_isChangeRotateCenter))switch(n.PARAMS.bc_rotationCenterMode){case i.RotationCenterMode.SelectElementBoundingBoxCenterMode:s.getComponentBoundingBox(m[0].compid,M.makeEmpty()).getCenter(x),s.setProjectRotateCenter(x);break;case i.RotationCenterMode.RaycastPointMode:s.setProjectRotateCenter(m[0].point)}var e=s.getSelected(),t=m[0]?m[0].point:void 0,r=m[0]?m[0].objectHandle:void 0;s.dispatchSelectEvent({type:"click",uuids:e,point:t,handle:r,params:{uuids:e,point:t,handle:r}})}else a=!0}function P(){!0===c.hl_enableRegion&&(l.RollBackParam("bc_rotateEnable",n.handle),c.hl_enableRegion=!1,s.removeMarkerUpdateContext(_))}function T(){!1===c.hl_enableRegion&&(l.SaveParam("bc_rotateEnable",n.handle,!1),c.hl_enableRegion=!0,s.addMarkerUpdateContext(_))}t.onPluginEvent=function(e){switch(e.eventType){case 0:!function(e){0===e.button&&(E(u,d,e.offsetX,e.offsetY),h.set(0,0),y=!0)}(e.rawEvent);break;case 1:!function(e){0===e.button&&y&&(y=!1,E(p,h,e.offsetX,e.offsetY),Math.abs(h.x-d.x)<v&&Math.abs(h.y-d.y)<v?(!0!==e.ctrlKey&&!0!==e.metaKey&&c.hl_enableClick&&s.backHighlight(),S(),s.pickPoint&&s.pickPoint(e.offsetX,e.offsetY)):(!0!==e.ctrlKey&&!0!==e.metaKey&&c.hl_enableRegion&&s.backHighlight(),D()),s.enableMarkerRefresh())}(e.rawEvent);break;case 2:!function(e){y&&c.hl_enableRegion?(E(p,h,e.offsetX,e.offsetY),h.sub(d),s.enableMarkerRefresh()):!y&&c.hl_moveHightlightEnable&&(null!=A&&(s.backComponentEmissiveColor(A),A=null),n.PARAMS.pp_pick&&n.PARAMS.pp_pick.point&&(A=n.PARAMS.pp_pick.compId)&&s.changeComponentEmissiveColor(A,858993663))}(e.rawEvent);break;case 4:!function(e){1===e.touches.length&&(r=e.touches[0].target.getBoundingClientRect(),b=e.touches[0].pageX-r.left,w=e.touches[0].pageY-r.top,E(u,d,b,w),y=!0)}(e.rawEvent);break;case 5:!function(e){null==r&&(r=e.touches[0].target.getBoundingClientRect()),b=e.touches[0].pageX-r.left,w=e.touches[0].pageY-r.top,E(p,h,b,w),y&&c.hl_enableRegion&&(h.sub(d),s.enableMarkerRefresh())}(e.rawEvent);break;case 6:y&&(E(p,h,b,w),y=!1,Math.abs(h.x-d.x)<v&&Math.abs(h.y-d.y)<v?(s.backHighlight(),S()):(c.hl_enableRegion&&s.backHighlight(),D()),s.enableMarkerRefresh());break;case 15:case 13:Math.abs(h.x-d.x)<v&&Math.abs(h.y-d.y)<v&&n.PARAMS.df_enable&&(m.length>0&&(n["3D"].getComponentBoundingBox(m[0].compid,M.makeEmpty()).getCenter(x),n["3D"].focusByBoundingBox(M)),a=!1)}},t.willHandleEventExclusively=function(e){9===e.eventType&&(!0===c.hl_enableRegion?P():T())},t.changeState=function(e){1===e?c.hl_enableRegion||T():c.hl_enableRegion&&P()}},t.dispose=function(){this._button=null,this.toolbarItems.length=0}}return e.LineWidth=2,e.LineDash=5,e}();t.HighlightPlugin=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(23),o=n(17),a=n(21),s="f90370fc-d262-4ef7-891a-3289250d2677".toUpperCase(),c=function(){return function(){var e;this.id=s,this.workMode=1;var t,n,c,l,u,p,d,h,f,m,g,y=new i.Object3D,v=new i.Object3D,x=new i.Object3D,M=new Map,b=Math.PI,w=.001,A=this,_=document.createElement("canvas");_.width=512,_.height=512;var E,D,S,P,T,C,R=_.getContext("2d",{alpha:!1});function I(e){switch(R.save(),R.fillStyle="#ffffff",R.fillRect(0,0,_.width,_.height),R.translate(_.width/2,_.height/2),e){case"right":case"":R.rotate(b/2);break;case"left":case"":R.rotate(-b/2);break;case"top":case"":case"back":case"":R.rotate(b)}return R.font="normal "+g.ng_fontSize*(g.bench_language==r.Language.en?4.75:8)+"px "+g.ng_fontFamily,R.textAlign="center",R.textBaseline="middle",R.fillStyle=T,R.fillText(e,0,0),R.restore(),_.toDataURL("image/png")}function O(t,n){var o;switch(t=t/2*.75,g.bench_language){case r.Language.zh_CN:case r.Language.zh_HK:o=["","","","","",""];break;case r.Language.en:o=["back","front","top","bottom","right","left"];break;case r.Language.ja:o=["","","","","",""]}for(var a,s,c,l=new i.TextureLoader3D,u=.4*t,p=new i.BoxBufferGeometry3D(.2*t,.2*t,.2*t),d=new i.MeshBasicMaterial3D({color:E}),h=[.25,.75],f=[-.25,.25,-.75,.75],m=0;m<8;++m)(x=new i.Mesh3D(p,d.clone())).name="cube"+m,a=m>=4?-1:1,s=m>=4?m>=6?-1:1:m>=2?-1:1,c=m%2==1?-1:1,x.position.set(a*u,s*u,c*u),M.set(x.name,{phi:-h[m%2]*b,theta:f[Math.floor(m/2)]*b,mode:0}),n.add(x);for(h=[.25,.75,.5],f=[-.5,-.5,.5,.5,0,0,1,-1,-.25,.25,-.75,.75],m=0;m<12;++m){(x=new i.Mesh3D(p,d.clone())).name="cuboid"+m;var y=3,v=0;m<4?(x.scale.set(y,1,1),a=0,s=m>=2?-1:1,c=m%2==1?-1:1,v=h[m%2]):m>=4&&m<8?(x.scale.set(1,y,1),s=0,a=m>=6?-1:1,c=m%2==1?-1:1,v=h[m%2]):m>=8&&(x.scale.set(1,1,y),c=0,a=m>=10?-1:1,s=m%2==1?-1:1,v=h[2]),x.position.set(a*u,s*u,c*u),M.set(x.name,{phi:-v*b,theta:f[m]*b,mode:0}),n.add(x)}for(h=[.5,.5,0,1,.5,.5],f=[-.5,.5,.5,.5,0,1],m=0;m<6;++m){var x,w=d.clone();w.map=l.load(I(o[m])),(x=new i.Mesh3D(p,w)).name="block"+String(m),y=3,v=0;var A=0,_=void 0;m<2?(x.scale.set(y,1,y),a=0,c=0,s=m%2==1?-1:1,v=-h[m]*b,A=f[m]*b,_=0):m>=2&&m<4?(x.scale.set(y,y,1),s=0,a=0,c=m%2==1?-1:1,v=-h[m]*b,_=3,w.map.rotation=b,w.map.center.set(.5,.5)):m>=4&&(x.scale.set(1,y,y),s=0,c=0,a=m%2==1?-1:1,v=-h[m]*b,A=f[m]*b,_=0,w.map.rotation=b,w.map.center.set(.5,.5)),x.position.set(a*u,s*u,c*u),M.set(x.name,{phi:v,theta:A,mode:_}),n.add(x)}var D=new i.Geometry3D,S=new i.LineBasicMaterial3D({color:C});S.gapSize=10,S.dashSize=10;var P=t/2*1.015;D.vertices.push(new i.Vector33D(-P,P,P),new i.Vector33D(P,P,P),new i.Vector33D(P,-P,P),new i.Vector33D(-P,-P,P),new i.Vector33D(-P,P,P),new i.Vector33D(-P,P,-P),new i.Vector33D(P,P,-P),new i.Vector33D(P,P,P),new i.Vector33D(P,P,-P),new i.Vector33D(P,-P,-P),new i.Vector33D(P,-P,P),new i.Vector33D(P,-P,-P),new i.Vector33D(-P,-P,-P),new i.Vector33D(-P,P,-P),new i.Vector33D(-P,-P,-P),new i.Vector33D(-P,-P,P)),(e=new i.Line3D(D,S)).name="line",e.computeLineDistances(),n.add(e)}function L(e,t){e/=2;var n=[new i.Vector33D(-e/8,-9*e/16,0),new i.Vector33D(e/8,-9*e/16,0),new i.Vector33D(0,7*-e/16,0)],r=[new i.Face3D(0,1,2)],o=new i.Geometry3D;o.vertices=n,o.faces=r;var a=new i.MeshBasicMaterial3D({color:P});a.fog=!1;var s=new i.Mesh3D(o,a);s.name="tri0",M.set("tri0",{phi:0,theta:.5*b,mode:1});var c=new i.Geometry3D,l=new i.LineBasicMaterial3D({color:P});c.vertices.push(n[0],n[1],n[2],n[0]),p=new i.Line3D(c,l);var u=7*e/4,m=new i.Mesh3D(o,a.clone());m.name="tri1",M.set("tri1",{phi:0,theta:-.5*b,mode:1}),m.rotateZ(b),m.translateOnAxis(new i.Vector33D(0,0,1),u),(d=p.clone()).rotateZ(b),d.translateOnAxis(new i.Vector33D(0,0,1),u);var g=new i.Mesh3D(o,a.clone());g.name="tri2",M.set("tri2",{phi:.5*b,theta:0,mode:1}),g.rotateZ(-b/2),g.translateOnAxis(new i.Vector33D(0,0,1),u),(h=p.clone()).rotateZ(-b/2),h.translateOnAxis(new i.Vector33D(0,0,1),u);var y=new i.Mesh3D(o,a.clone());y.name="tri3",M.set("tri3",{phi:-.5*b,theta:0,mode:1}),y.rotateZ(b/2),y.translateOnAxis(new i.Vector33D(0,0,1),u),(f=p.clone()).rotateZ(b/2),f.translateOnAxis(new i.Vector33D(0,0,1),u),t.add(d,h,f,p,m,g,y,s)}function k(e,t){var n=e/2,r=e/3,o=new i.CircleBufferGeometry3D(n,256),a=new i.MeshBasicMaterial3D({color:D,transparent:!1,opacity:.3});a.fog=!1,(u=new i.Mesh3D(o,a)).name="circle",M.set("circle",{phi:0,theta:0,mode:2}),u.position.set(0,0,-21);var s=new i.CircleBufferGeometry3D(r,256),p=new i.MeshBasicMaterial3D({color:0,transparent:!1,opacity:0});p.fog=!1,p.color.multiplyScalar(1.25),(l=new i.Mesh3D(s,p)).position.set(0,0,-20),(c=new i.ArrowHelper3D(new i.Vector33D(0,1,0),new i.Vector33D(0,0,0),e/2,S,e/6,e/6)).position.set(0,0,-20.5),t.add(u,l,c)}A.initialize=function(s){var _,R,I,B=s["3D"],U=(g=s.PARAMS).eg_frameBufferMultiple;function N(e){y.children.length=0,x.children.length=0,v.children.length=0,O(e*U,y),L(e*U,v),k(e*U,x)}B.getNavigateScene().add(y,x,v),v.visible=!1,x.visible=!1,t=B.getNavigateCamera(),E=g.ng_cubeColor,S=g.ng_arrowColor,P=g.ng_triColor,D=g.ng_circleColor,T=g.ng_fontColor,C=g.ng_lineColor,a.BindParam("ng_navigateSize",N,s.handle),a.BindParam("ng_cubeColor",function(e){E=e,y.children.length=0,O(g.ng_navigateSize*U,y),s.PARAMS.rd_minorRefresh=!0},s.handle),a.BindParam("ng_triColor",function(e){P=e,v.children.length=0,L(g.ng_navigateSize*U,v),s.PARAMS.rd_minorRefresh=!0},s.handle),a.BindParam("ng_arrowColor",function(e){S=e,x.children.length=0,k(g.ng_navigateSize*U,x),s.PARAMS.rd_minorRefresh=!0},s.handle),a.BindParam("ng_circleColor",function(e){D=e,x.children.length=0,k(g.ng_navigateSize*U,x),s.PARAMS.rd_minorRefresh=!0},s.handle),a.BindParam("ng_fontColor",function(e){T=e,x.children.length=0,k(g.ng_navigateSize*U,x),s.PARAMS.rd_minorRefresh=!0},s.handle),a.BindParam("ng_lineColor",function(e){C=e,x.children.length=0,k(g.ng_navigateSize*U,x),s.PARAMS.rd_minorRefresh=!0},s.handle),a.BindParam("eg_frameBufferMultiple",function(e){U=e,N(g.ng_navigateSize)},s.handle);var F,j,z,V,H,G,W,X=new i.Raycaster3D,Y=new i.Vector23D,Q=[],q=new i.Euler3D,K=new i.Box33D,Z=new i.Vector33D;function J(e,o){if(n&&(_=M.get(n.name))){switch(_.mode){case 0:q.set(R.x,_.phi,_.theta);break;case 1:F=R.y+_.phi,j=R.z+_.theta,Math.abs(R.y)<w?Math.abs(_.phi+b/2)<w?(F=-b/2,j=R.z):Math.abs(_.phi-b/2)<w?(F=-b/2,j=R.z+b):Math.abs(_.theta+b/2)<w?(F=-b/2,j=R.z-b/2):Math.abs(_.theta-b/2)<w&&(F=-b/2,j=R.z+b/2):Math.abs(R.y+b)<w&&(Math.abs(_.phi+b/2)<w?(F=-b/2,j=R.z+b):Math.abs(_.phi-b/2)<w?(F=-b/2,j=R.z):Math.abs(_.theta+b/2)<w?(F=-b/2,j=R.z-b/2):Math.abs(_.theta-b/2)<w&&(F=-b/2,j=R.z+b/2)),q.set(0,F,j);break;case 2:te(e,o,Y),X.setFromCamera(Y,t),Q.length=0,X.intersectObject(u,!1,Q),Q.length>0&&((I=Q[0].point).y>=0?Math.abs(R.y)<=w?q.set(0,0,-Math.atan(I.x/I.y)):q.set(0,-b,Math.atan(I.x/I.y)+b):Math.abs(R.y)<=w?q.set(0,0,-b-Math.atan(I.x/I.y)):q.set(0,-b,Math.atan(I.x/I.y)));break;case 3:q.set(0,_.phi,Math.floor(R.z/b*2)*b/2)}switch(s.UI.getSystemType()){case r.SystemType.ST_3D:B.getBoxByRenderState(i.RenderState.VISIBLE,K.makeEmpty()),B.getBoxByRenderState(i.RenderState.HIGHLIGHT,K),B.getBoxByRenderState(i.RenderState.TRANSPARENCY,K),B.setProjectRotateCenter(K.getCenter(Z)),B.setAnimation(q,B.getHomePosition(Z),B.computeBenchCameraZoom(K),void 0,function(){A.controlMesh(),s.PARAMS.rd_minorRefresh=!0},function(){A.controlMesh(),s.PARAMS.rd_minorRefresh=!0});break;case r.SystemType.ST_3D_WSM:B.getBoxByRenderState(i.RenderState.VISIBLE,K.makeEmpty()),B.getBoxByRenderState(i.RenderState.HIGHLIGHT,K),B.getBoxByRenderState(i.RenderState.TRANSPARENCY,K);var a=B.getProjectRotationRef().clone();B.getProjectRotationRef().copy(q),B.controlUpdate();var c=B.computeBenchCameraZoom(K);B.getProjectRotationRef().copy(a),B.setProjectRotateCenter(K.getCenter(Z)),B.getProjectPositionRef().set(0,0,0),B.setAnimation(q,new i.Vector33D,c,void 0,function(){A.controlMesh(),s.PARAMS.rd_minorRefresh=!0},function(){A.controlMesh(),s.PARAMS.rd_minorRefresh=!0})}}}function $(){n&&V&&(V.color.setHex(H),V.opacity=W,V.transparent=G,s.PARAMS.rd_minorRefresh=!0),n=null}A.onPluginEvent=function(e){if(g.ng_enable&&g.ng_controlState)switch(e.eventType){case 0:!function(e){R||(R=B.getProjectRotationRef()),J(e.offsetX,e.offsetY)}(e.rawEvent);break;case 2:ee(e.rawEvent);break;case 4:!function(e){var t=e.touches[0].target.getBoundingClientRect();z||(z=B.getProjectRotationRef()),te(e.touches[0].pageX-t.left,e.touches[0].pageY-t.top,Y),A.controlMesh(),R||(R=B.getProjectRotationRef()),J(e.touches[0].pageX-t.left,e.touches[0].pageY-t.top)}(e.rawEvent)}};var ee=function(){function r(t){e.visible=t,c.visible=t,p.visible=t,d.visible=t,h.visible=t,f.visible=t}function i(){r(!1),Q.length=0,X.intersectObjects([y,v,x],!0,Q),r(!0),Q.length>0&&Q[0].object!==l?n!=Q[0].object&&(n&&V&&!o.BrowserInfo.isTouchDevice&&(V.color.setHex(H),V.opacity=W,V.transparent=G),n=Q[0].object,o.BrowserInfo.isTouchDevice||(V=n.material,H=V.color.getHex(),V.color.setHex(s.PARAMS.ng_checkColor),G=V.transparent,W=V.opacity,V.transparent=!1),s.PARAMS.rd_minorRefresh=!0):$()}function a(e){return Math.abs(e-Math.ceil(e))<=w||Math.abs(e-Math.floor(e))<=w}A.setMeshVisible=function(){m()};var u,m=function(){if(Math.abs(Y.x)>1||Math.abs(Y.y)>1)return $(),!1===v.visible&&!1===x.visible||(v.visible=!1,x.visible=!1,s.PARAMS.rd_minorRefresh=!0),void(void 0!==u&&(u=void 0));void 0===u&&(u=g.hl_enableRegion),a(z.x/b*2)&&a(z.y/b*2)&&a(z.z/b*2)?v.visible=!0:(!0===v.visible&&(s.PARAMS.rd_minorRefresh=!0),v.visible=!1),Math.abs(z.y)<=w?(x.visible=!0,x.rotation.z=z.z):Math.abs(Math.abs(z.y)-b)<w?(x.visible=!0,x.rotation.z=b-z.z):(!0===x.visible&&(s.PARAMS.rd_minorRefresh=!0),x.visible=!1),X.setFromCamera(Y,t),X.ray.origin.set(Y.x,Y.y,-1e3).unproject(t),i()};return A.controlMesh=m,function(e){z||(z=B.getProjectRotationRef()),te(e.offsetX,e.offsetY,Y),m()}}();function te(e,t,n){var r=g.ng_navigateSize;m=s.UI.getSize(),e+=r+s.PARAMS.ng_right-m.width,t-=s.PARAMS.ng_top,n.x=e/r*2-1,n.y=-t/r*2+1}B.addEventListener("update",function(){y.rotation.copy(B.getProjectRotationEuler())})},A.dispose=function(){e=null,A.onPluginEvent=null,y&&(y.children.forEach(function(e){return e.dispatchEvent({type:"dispose"})}),y.children.length=0,y=null),v&&(v.children.forEach(function(e){return e.dispatchEvent({type:"dispose"})}),v.children.length=0,v=null),x&&(x.children.forEach(function(e){return e.dispatchEvent({type:"dispose"})}),x.children.length=0,x=null)}}}();t.NavigatePlugin=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),o=n(1),a=n(328),s=n(17),c=n(23),l="683806C1-C9D9-4144-857C-B292CB24459B",u=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({eventType:9,pid:l})},this.dispose=function(){this.do=a.noop,this.initialize=a.noop}}return e=r([i.Command([1024,2048,90],o.SystemType.ST_2D,1),i.Command([1024,2048,90],o.SystemType.ST_3D,1),i.Command([1024,2048,90],o.SystemType.ST_3D_WSM,1),i.Command([1024,2048,90],o.SystemType.ST_2D_WSM,1)],e)}();t.ZoomWinCommand=u;var p=function(){function e(){var t=this;this.id=l,this.workMode=1;var n=0,r=this,i=new Map;i.set(o.Language.zh_CN,""),i.set(o.Language.zh_HK,""),i.set(o.Language.en,"Zoom window"),i.set(o.Language.ja,""),this._button={handle:o.PluginToolHandle.ZOOMWIN,icon:s.Icon.zoomWin,label:i,enable:!0,command:u,check:0},Object.defineProperty(this._button,"check",{set:function(e){n=e,r.changeState(e)},get:function(){return n}}),this.toolbarItems=[this._button],this.initialize=function(n){var r,i,o=n["3D"],a=!1,s=!1,l=new c.Vector23D,u=new c.Vector23D,p=new c.Vector23D,d=new c.Vector23D,h=.001,f=n.PARAMS;function m(){o.setZoomWindow(l,u)}function g(e,t,n,r){o.setProjectScreenMouse(n,r,e),t.set(n,r)}function y(){!0!==a&&(a=!0,o.addMarkerUpdateContext(x))}function v(){!1!==a&&(a=!1,o.removeMarkerUpdateContext(x),void 0!==r&&(f.bc_rotateEnable=r),r=void 0)}function x(){a&&s&&(o.canvas2DDrawRect(p.x,p.y,d.x,d.y,e.Radius,e.Radius,e.LineDash,e.LineWidth,!0,e.WireColor),o.canvas2DDrawCrux(p.x+d.x/2,p.y+d.y/2,d.x/4,d.y/4,e.LineDash,e.LineWidth,!0,e.WireColor))}t.onPluginEvent=function(e){if(a)switch(e.eventType){case 0:!function(e){0===e.button&&(s=!0,g(l,p,e.offsetX,e.offsetY),d.set(0,0),void 0===r&&(r=f.bc_rotateEnable),f.bc_rotateEnable=!1)}(e.rawEvent);break;case 2:!function(e){s&&(g(u,d,e.offsetX,e.offsetY),d.sub(p),o.enableMarkerRefresh())}(e.rawEvent);break;case 1:!function(e){s&&(g(u,d,e.offsetX,e.offsetY),s=!1,(Math.abs(d.x-p.x)>h||Math.abs(d.y-p.y)>h)&&m(),void 0!==r&&(f.bc_rotateEnable=r),r=void 0)}(e.rawEvent);break;case 4:!function(e){1===e.touches.length&&(i=e.touches[0].target.getBoundingClientRect(),s=!0,g(l,p,e.touches[0].pageX-i.left,e.touches[0].pageY-i.top),void 0===r&&(r=f.bc_rotateEnable),f.bc_rotateEnable=!1,f.bc_panEnable=!1)}(e.rawEvent);break;case 5:!function(e){1===e.touches.length&&s?(null==i&&(i=e.touches[0].target.getBoundingClientRect()),g(u,d,e.touches[0].pageX-i.left,e.touches[0].pageY-i.top),d.sub(p),o.enableMarkerRefresh()):s=!1}(e.rawEvent);break;case 6:s&&(s=!1,(Math.abs(d.x)>h||Math.abs(d.y)>h)&&m(),void 0!==r&&(f.bc_rotateEnable=r),r=void 0,f.bc_panEnable=!0)}},t.willHandleEventExclusively=function(e){9===e.eventType&&(!0===a?v():y())},t.changeState=function(e){1===e?y():v()}},r.dispose=function(){this._button=null,this.toolbarItems.length=0,this.toolbarItems=null}}return e.WireColor="#02d6dc",e.LineWidth=2,e.LineDash=0,e.Radius=2,e}();t.ZoomWindPlugin=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(337),o="98df32e8-2381-48ff-99c2-9050961a9104",a=function(){function e(){var t,n;this.id=o,this.workMode=1;var a,s,c,l=new r.Vector23D,u=[],p=null,d=null,h=[],f=new r.Raycaster3D,m={},g=new r.Vector23D,y=1,v=new r.Vector33D;function x(e,t){for(var n in t)e.style[n]=t[n]}this.initialize=function(e){n=(t=e)["3D"],c=n.getBenchCamera(),a=t.PARAMS},this.onPluginEvent=function(r){switch(r.eventType){case 2:!function(r){if(0===r.buttons){d&&(x(d,m),d=null),u.length=0;var o=n.getCanvas2DBoundingBoxRect();n.raycasterMarkerDevices(l.set(r.clientX-o.left,r.clientY-o.top),u),(p=u[0])?(i.MarkerDevice3D.cirleMesh.visible=!1,t.PARAMS.rd_minorRefresh=!0,function(t){for(var n in e.MarkerHLCSS)m[n]=t.style[n]}(d=p.info.div),x(d,e.MarkerHLCSS)):a.mk_enable&&(i.MarkerDevice3D.cirleMesh.visible=!0,t.PARAMS.rd_minorRefresh=!0,n.setProjectScreenMouse(r.offsetX,r.offsetY,l),f.setFromCamera(l,c),n.raycast(f,h,!0),(s=h[0])?(n.dispatchMarkerDivEvent({type:"update",pos:s.point,normal:s.face.normal}),h.length=0):n.dispatchMarkerDivEvent({type:"update"}))}}(r.rawEvent);break;case 0:(o=r.rawEvent).buttons>0&&(g.set(o.clientX,o.clientY),i.MarkerDevice3D.cirleMesh.visible=!1,t.PARAMS.rd_minorRefresh=!0);break;case 3:s?n.dispatchMarkerDivEvent({type:"update",pos:s.point,normal:s.face.normal}):n.dispatchMarkerDivEvent({type:"update"});break;case 1:!function(e){0===e.button&&Math.abs(g.x-e.clientX)<y&&Math.abs(g.y-e.clientY)<y&&(d?n.dispatchMarkerDivEvent({type:"click",deviceId:p.info.deviceId}):s&&(n.dispatchMarkerDivEvent({type:"click",pos:s.point,uuid:s.compid}),n.setProjectRotateCenter(v.copy(s.point)),a.mk_enable&&(i.MarkerDevice3D.cirleMesh.visible=!0)),t.PARAMS.rd_minorRefresh=!0)}(r.rawEvent)}var o},this.dispose=function(){u.length=0}}return e.MarkerHLCSS={backgroundColor:"#00000088"},e}();t.MarkerDevicePlugin=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(328),l=n(338),u=function(e){function t(t){var r=e.call(this)||this;r.api=t;var i,o,c,l=r,u=t["3D"],d=new Map,h=[],f=t.PARAMS,m=n.cirleMesh,g=new a.Vector33D(0,0,1);function y(e,t){var n=a.Vector33D.get(),r=a.Vector33D.back(a.Vector33D.get());return a.Vector33D.back(n),n.copy(e.pos).project(i),r.copy(t.pos).project(i),n.z-r.z}function v(e){if(e.info.state!==a.DEVICESTATE.HIDDEN){var t=a.Vector33D.back(a.Vector33D.get());t.copy(e.pos).project(i);var r=function(e){if(e.customColor)return e.customColor;switch(e.state){case a.DEVICESTATE.NORMAL:return n.StateColor.normalColor;case a.DEVICESTATE.WARNING:return n.StateColor.warningColor;case a.DEVICESTATE.ERROR:return n.StateColor.errorColor}}(e.info);t.x=u.getCanvas2DSizeX(t.x),t.y=u.getCanvas2DSizeY(t.y);var s=void 0===e.info.maxMarkerPointOutterRadius?n.MarkerPointOutterRadis:e.info.maxMarkerPointOutterRadius;u.canvas2DDrawPoint(t.x,t.y,!0===e.info.isFlicker?e.info.currentPointOutterRadius=x(e.info.currentPointOutterRadius,s):s,function(e){return e.slice(0,e.length-2)+Math.floor(.2*parseInt(e.slice(e.length-2),16)).toString(16)}(r),!0);var c=void 0===e.info.maxMarkerPointInnerRadius?l.markerPointInnerRadius:e.info.maxMarkerPointInnerRadius;u.canvas2DDrawPoint(t.x,t.y,!0===e.info.isFlicker?e.info.currentPointInnerRadius=x(e.info.currentPointInnerRadius,c):c,r,!0);var p=void 0===e.info.subLineLength?l.subLineLen:e.info.subLineLength,d=void 0===e.info.subLineRadian?n.SubLineRadian:e.info.subLineRadian;!function(e,t,n,r,i,o){u.canvas2DDrawPath([{x:e,y:t},{x:Math.floor(e+n/Math.tan(r)),y:t-n},{x:Math.floor(e+n/Math.tan(r))+.3*i,y:t-n}],l.subLineWidth,o,l.subLineDash,!0)}(t.x,t.y,p,d,e.info.div.offsetWidth,r),h=e.info.div,f=Math.floor(t.x+p/Math.tan(d)),m=t.y-p,h.style.left=f-3+"px",m=o.height-m,h.style.bottom=m+8+"px",h.style.display="block",function(e,t,n,r,i){i.max.set(e+n,t+r),i.min.set(e,t)}(Math.floor(t.x+p/Math.tan(d))-3,t.y-p-8-e.info.div.offsetHeight,e.info.div.offsetWidth,e.info.div.offsetHeight,e.box)}else e.info.div.style.display="none";var h,f,m}function x(e,t){return void 0===e&&(e=0),(e+=.0125*t)>t&&(e=0),e}return r.init=function(){u.addObject3D(m,3),m.visible=!1,i=u.getBenchCamera(),u.addCamera3DEventListener("checkbenchcamera",function(){i=u.getBenchCamera()}),s.BindParam("mk_enable",function(e){l.enable!==e&&(!0===e?(void 0===c&&(c=f.hl_enableClick,f.hl_enableClick=!1),l.hiddenAllMarker=!1):void 0!==c&&(f.hl_enableClick=c,c=void 0),t.PARAMS.rd_minorRefresh=!0,u.enableMarkerRefresh())},l.api.handle),s.BindParam("mk_hiddenAllMarker",function(e){!0!==e||!0!==l.enable?e!==l.hiddenAllMarker&&(u.enableMarkerRefresh(),l.hiddenMarkers(e)):console.error("markermarkerinfo")},l.api.handle),s.BindParam("mk_subLineLen",function(e){l.subLineLen!==e&&u.enableMarkerRefresh()},l.api.handle),s.BindParam("mk_subLineWidth",function(e){l.subLineWidth!==e&&u.enableMarkerRefresh()},l.api.handle),s.BindParam("mk_subLineDash",function(e){l.subLineDash!==e&&u.enableMarkerRefresh()},l.api.handle),s.BindParam("mk_markerPointInnerRadius",function(e){l.markerPointInnerRadius!==e&&u.enableMarkerRefresh()},l.api.handle)},r.markerDeviceInfoByComponentId=function(e,t,n){return n||(n=u.getComponentBoundingBox(e,a.Box33D.back(a.Box33D.get()).makeEmpty()).getCenter(new a.Vector33D)),this.markerDeviceInfoByPosition(n,t)},r.markerDeviceInfoByPosition=function(e,n){if(e&&n){void 0===n.lookInfo&&(n.lookInfo=u.getCurrentLook());var r={info:n,pos:e,box:new a.Box23D};!function(e){if(!e.div){var n=new p("div");e.div=n.dom,e.div.style.position="absolute",n.layer=4,t.UI.addControl(n),e.markerDiv=n}}(n),d.set(n.deviceId,r),l.enable&&v(r)}return n.div},r.removeMarkerDeviceInfo=function(e){var n=d.get(e);if(n){d.delete(e);var r=n.info.markerDiv;r&&t.UI.removeControl(r)}u.enableMarkerRefresh()},r.dispose=function(){d.clear(),i=null},r.changeMarherDeviceState=function(e,t){if(d.has(e)){var n=d.get(e);n.info.state=t,t!==a.DEVICESTATE.HIDDEN?v(n):u.enableMarkerRefresh()}},r.hiddenMarkers=function(e){!0===e?d.forEach(function(e){e.info.div.style.display="none"}):d.forEach(function(e){e.info.state!==a.DEVICESTATE.HIDDEN&&(e.info.div.style.display="block")})},r.raycasterMarkerDevices=function(e,t){return t||(t=[]),d.forEach(function(n){n.box.containsPoint(e)&&t.push(n)}),t.sort(y),t},r.addEventListener("update",function(e){e.pos&&m.position.copy(e.pos),function(){m.geometry.boundingBox||m.geometry.computeBoundingBox();var e=u.getProjectSize(m.geometry.boundingBox);m.scale.setScalar(n.cireleSize/(e.x>e.y?e.x:e.y))}(),e.normal&&m.quaternion.setFromUnitVectors(g,e.normal),t.PARAMS.rd_minorRefresh=!0}),u.addMarkerUpdateContext(function(){o=t.UI.getSize(),l.hiddenAllMarker||function(){h.length=0,d.forEach(function(e){return h.push(e)});var e=1e3;return h.sort(y),h.forEach(function(t){return t.info.div.style.zIndex=String(e--)}),h}().forEach(function(e){return v(e)})}),u.addMarkerAnimateContext(function(){!l.hiddenAllMarker&&d.size>0&&u.enableMarkerRefresh()}),r.addEventListener("click",function(e){e.deviceId&&u.setCurrentLook(d.get(e.deviceId).info.lookInfo,!0)}),r.addMarkerDivEventListener=r.addEventListener,r.removeMarkerDivEventListener=r.removeEventListener,r.dispatchMarkerDivEvent=r.dispatchEvent,r}var n;return i(t,e),n=t,t.MarkerPointOutterRadis=12,t.SubLineRadian=Math.PI/3,t.StateColor={normalColor:"#00ff00ff",warningColor:"#ffff00ff",errorColor:"#ff0000ff"},t.cirleMesh=new a.Mesh3D(new a.CircleBufferGeometry3D(1,128),new a.MeshBasicMaterial3D({color:65280,transparent:!0,opacity:.5})),t.cireleSize=.05,o([s.ParamExport("mk_enable",!1)],t.prototype,"enable",void 0),o([s.ParamExport("mk_subLineLen",85)],t.prototype,"subLineLen",void 0),o([s.ParamExport("mk_subLineWidth",1)],t.prototype,"subLineWidth",void 0),o([s.ParamExport("mk_markerPointInnerRadius",8)],t.prototype,"markerPointInnerRadius",void 0),o([s.ParamExport("mk_markerPointOutterRadis",12)],t.prototype,"markerPointOutterRadis",void 0),o([s.ParamExport("mk_subLineRadian",Math.PI/3)],t.prototype,"subLineRadian",void 0),o([s.ParamExport("mk_subLineDash",0)],t.prototype,"subLineDash",void 0),o([s.ParamExport("mk_normalStateColor","#00ff00ff")],t.prototype,"normalStateColor",void 0),o([s.ParamExport("mk_warningStateColor","#ffff00ff")],t.prototype,"warningStateColor",void 0),o([s.ParamExport("mk_errorStateColor","#ff0000ff")],t.prototype,"errorStateColor",void 0),o([s.ParamExport("mk_hiddenAllMarker",!1)],t.prototype,"hiddenAllMarker",void 0),t=n=o([c.Sealed(),s.ApiExport(["markerDeviceInfoByComponentId","markerDeviceInfoByPosition","removeMarkerDeviceInfo","changeMarherDeviceState","raycasterMarkerDevices","addMarkerDivEventListener","removeMarkerDivEventListener","dispatchMarkerDivEvent","hiddenAllMarker"],"3D")],t)}(a.EventDispatcher3D);t.MarkerDevice3D=u;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(l.Control)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(328),i=function(){function e(e){this._enable=!0,this._dom=document.createElement(e),this._addEventListener=this.dom.addEventListener,this._removeEventListener=this.dom.removeEventListener,this._dom.addEventListener=r.noop,this._dom.removeEventListener=r.noop,this.noop=r.noop}return e.prototype.resize=function(){this.setStyle("position","absolute").setStyle("fontSize","14px").setStyle("overflow","hidden").setStyle("userSelect","none").setStyle("webkitUserSelect","none").setStyle("msUserSelect","none").setStyle("msTouchSelect","none").setStyle("zIndex",this.layer.toString()),this.dom.tabIndex=this.tabIndex,this._controls&&this._controls.forEach(function(e,t){t.resize.call(t)})},Object.defineProperty(e.prototype,"enable",{get:function(){return this._enable},set:function(e){this._enable=e,e?this.setStyle("opacity","1"):this.setStyle("opacity","0.3")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return"none"!=this._dom.style.display},set:function(e){this._dom.style.display=e?"block":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dom",{get:function(){return this._dom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._controls?this._controls.size:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this._dom.clientLeft},set:function(e){this._dom.style.top=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._dom.clientTop},set:function(e){this._dom.style.left=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._dom.clientWidth},set:function(e){this._dom.width&&(this._dom.width=e),this._dom.style.width=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._dom.clientHeight},set:function(e){this._dom.height&&(this._dom.height=e),this._dom.style.height=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return parseInt(this._dom.style.zIndex)},set:function(e){this._dom.style.zIndex=e.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this._dom.tabIndex},set:function(e){this._dom.setAttribute("tabIndex",e.toString())},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(e,t){return this._dom.style[e]=t,this},e.prototype.getStyle=function(e){return this._dom.style[e]},e.prototype.add=function(e){return this._controls||(this._controls=new Map),this._controls.set(e,e.dom),this._dom.appendChild(e.dom),this},e.prototype.clearDom=function(){for(;this._dom.firstChild;)this._dom.removeChild(this._dom.firstChild)},e.prototype.forEach=function(e){this._controls.forEach(function(t,n){e(n)})},e.prototype.remove=function(e){if(this._controls)return this._controls.delete(e),this._dom.removeChild(e.dom),this},e.prototype.addEventHandler=function(e,t,n){var r=this;this._disposers||(this._disposers=new Map);var i=function(e){n||(e.preventDefault(),e.stopPropagation()),r.enable&&t(e)};return this._addEventListener.call(this.dom,e,i,!1),this._disposers.has(e)||this._disposers.set(e,new Map),this._disposers.get(e).set(t,function(){r._removeEventListener.call(r.dom,e,i,!1)}),this},e.prototype.removeEventHandler=function(e,t){var n=this._disposers.get(e);void 0!==n&&n.has(t)&&(n.get(t)(),n.delete(t),0===n.size&&this._disposers.delete(e))},e.prototype.isDisposed=function(){return!this._dom},e.prototype.dispose=function(){var e=this;this.isDisposed||(this._disposers&&(this._disposers.forEach(function(e){return e.forEach(function(e){return e()})}),this._disposers.clear(),this._disposers=null),this._controls&&(this._controls.forEach(function(t,n){e.dom.removeChild(t),n.dispose()}),this._controls.clear(),this._controls=null),this._dom=null)},e}();t.Control=i,t.default=i},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(328),a=n(23),s=n(17),c=n(16),l="F5087B90-3CE3-4710-B395-AFCE3828FFBE",u={DOUBLE_CLICK_TIEM_DIFF:300,DOUBLE_CLICK_MOVE_DIFF:4,BLINK_ANTI_SHAKE:500,PERPLE_HEIGHT:1.7},p=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:l,eventType:9})},this.dispose=function(){this.dispose=o.noop,this.do=o.noop}}return e=r([c.Command([1024,2048,87],i.SystemType.ST_3D,9),c.Command([1024,2048,87],i.SystemType.ST_3D_WSM,9)],e)}();t.WanderCommand=p;var d=function(){return function(){this.id=l;var e,t,n,r=this,o=0,c=!1,d={NONE:0,TOUCH_ROTATE:1},h=d.NONE,f=new a.Vector23D,m=!1,g={isMouseDown:!1,mouseDownTime:0,mouseDownX:0,mouseDownY:0,isDoubleClick:!1,lastBlinkTime:0,hasMouseMove:!1},y=new a.Raycaster3D,v=[],x=new a.Vector23D;r.workMode=9;var M=new Map;function b(t){if(c&&n.getWanderEnable()&&e.UI.hasFocus())switch(t.preventDefault(),t.key){case"w":case"W":n.setWanderMoveState(a.MOVESTATE.MOVEFORWARD);break;case"s":case"S":n.setWanderMoveState(a.MOVESTATE.MOVEBACK);break;case"a":case"A":case"ArrowLeft":n.setWanderMoveState(a.MOVESTATE.MOVELEFT);break;case"d":case"D":case"ArrowRight":n.setWanderMoveState(a.MOVESTATE.MOVERIGHT);break;case"q":case"Q":case"ArrowUp":n.setWanderMoveState(a.MOVESTATE.UP);break;case"e":case"E":case"ArrowDown":n.setWanderMoveState(a.MOVESTATE.DOWN);break;default:n.setWanderMoveState(a.MOVESTATE.NONE)}}function w(t){if(c&&n.getWanderEnable()&&e.UI.hasFocus())switch(t.preventDefault(),t.key){case"w":case"W":case"s":case"S":case"a":case"A":case"ArrowLeft":case"d":case"D":case"ArrowRight":case"q":case"Q":case"ArrowUp":case"e":case"E":case"ArrowDown":n.setWanderMoveState(a.MOVESTATE.NONE)}}function A(){s.BrowserInfo.isMobile||(e.PARAMS.df_enable=!0,e.UI.removeEventHandler("keydown",b),e.UI.removeEventHandler("keyup",w),window.removeEventListener("mousemove",E,!0),e.UI.removeEventHandler("mousedown",D),window.removeEventListener("mouseup",S,!0))}function _(){s.BrowserInfo.isMobile||(e.PARAMS.df_enable=!1,e.PARAMS.wd_routeEnable||(e.UI.addEventHandler("keydown",b),e.UI.addEventHandler("keyup",w)),window.addEventListener("mousemove",E,!0),e.UI.addEventHandler("mousedown",D),window.addEventListener("mouseup",S,!0))}function E(t){if(m){var r=Math.abs(t.offsetX-g.mouseDownX)+Math.abs(t.offsetY-g.mouseDownY);g.hasMouseMove=g.hasMouseMove||r>=u.DOUBLE_CLICK_MOVE_DIFF}m&&c&&n.getWanderEnable()&&e.UI.hasFocus()||m&&e.PARAMS.wd_routeEnable?n.wanderRotate(t.movementX,t.movementY):m=!1}function D(e){if(0===e.button){m=!0;var t=Date.now()-g.mouseDownTime,n=Math.abs(e.offsetX-g.mouseDownX)+Math.abs(e.offsetY-g.mouseDownY);g.isDoubleClick=t<=u.DOUBLE_CLICK_TIEM_DIFF&&n<=u.DOUBLE_CLICK_MOVE_DIFF,g.isMouseDown=!0,g.mouseDownTime=Date.now(),g.mouseDownX=e.offsetX,g.mouseDownY=e.offsetY,g.hasMouseMove=!1}}function S(e){!m||g.isDoubleClick||g.hasMouseMove||setTimeout(function(){g.isDoubleClick||function(e,t){if(n.backHighlight(),P(e,t),0!==v.length){var r=v[0].compid;n.highlightComponent(r),n.dispatchSelectEvent({type:"click",uuids:[r]})}}(e.offsetX,e.offsetY)},u.DOUBLE_CLICK_TIEM_DIFF);var t=Date.now()-g.lastBlinkTime>u.BLINK_ANTI_SHAKE;m&&g.isDoubleClick&&t&&(function(e,t){var r=n.getSelected();if(r&&0!=r.length&&n.backHighlight(),P(e,t),r&&0!=r.length&&n.highlightComponent(r[0]),0!==v.length){var i=v[0].point,o=n.getWanderPos(),s=JSON.parse(atob(o)),c=i.toArray([]);c[2]=c[2]+u.PERPLE_HEIGHT*a._Math.METER2FOOT,s.pos=c,o=btoa(JSON.stringify(s)),n.setWanderPos(o,!0)}}(e.offsetX,e.offsetY),g.lastBlinkTime=Date.now()),m=!1}function P(t,r){n.setProjectScreenMouse(t,r,x),y.setFromCamera(x,n.getBenchCamera()),v.length=0,e.UI.getSystemType()===i.SystemType.ST_2D_WSM||e.UI.getSystemType()===i.SystemType.ST_3D_WSM?n.raycast(x,v):n.raycast(y,v)}M.set(i.Language.zh_CN,""),M.set(i.Language.zh_HK,""),M.set(i.Language.en,"Wander"),M.set(i.Language.ja,""),r._button={handle:i.PluginToolHandle.WANDER,label:M,icon:s.Icon.wander,enable:!0,command:p,check:0},Object.defineProperty(this._button,"check",{set:function(e){o=e,r.changeState(e)},get:function(){return o}}),r.toolbarItems=[r._button],r.initialize=function(r){n=(e=r)["3D"],t=e.PARAMS,s.BrowserInfo.isMobile||(n.addWanderEventListener("enable",_),n.addWanderEventListener("disable",A),n.addWanderEventListener("exit",function(){e.PARAMS.df_enable=!0,o=0}))},r.onPluginEvent=function(t){switch(t.eventType){case 4:r=t.rawEvent,c&&n.getWanderEnable()&&e.UI.hasFocus()&&(1===r.touches.length?(h=d.TOUCH_ROTATE,f.set(r.touches[0].pageX,r.touches[0].pageY)):h=d.NONE);break;case 5:!function(t){c&&n.getWanderEnable()&&e.UI.hasFocus()&&(1===t.touches.length?h===d.TOUCH_ROTATE&&(n.wanderRotate(t.touches[0].pageX-f.x,t.touches[0].pageY-f.y),f.set(t.touches[0].pageX,t.touches[0].pageY)):h=d.NONE)}(t.rawEvent);break;case 6:h=d.NONE}var r},r.willHandleEventExclusively=function(e){9===e.eventType&&(c?(c=!1,t.wd_enable=!1,s.BrowserInfo.isMobile||(t.hl_enableClick=!0)):(c=!0,t.wd_enable=!0,s.BrowserInfo.isMobile||(t.hl_enableClick=!1)))},r.dispose=function(){r.toolbarItems.length=0,r.toolbarItems=null,r._button=null},r.changeState=function(e){1===e?n.getWanderEnable()||(c=!0,t.wd_enable=!0,s.BrowserInfo.isMobile||(t.hl_enableClick=!1)):n.getWanderEnable()&&(c=!1,t.wd_enable=!1,s.BrowserInfo.isMobile||(t.hl_enableClick=!0))}}}();t.WanderPlugin=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(17),a=n(16),s=n(328),c=n(23),l=n(21),u="C295A4D4-45C1-46DA-B658-2AF850AD120C",p=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({eventType:9,pid:u})},this.dispose=function(){this.do=s.noop,this.initialize=s.noop}}return e=r([a.Command([1024,2048,77],i.SystemType.ST_3D,1),a.Command([1024,2048,77],i.SystemType.ST_3D_WSM,1)],e)}();t.Measure3DCommand=p;var d=function(){return function(){var e=this;this.id=u;var t=this;this.workMode=1;var n=0,r=new Map;r.set(i.Language.zh_CN,""),r.set(i.Language.zh_HK,""),r.set(i.Language.en,"Measuring"),r.set(i.Language.ja,""),this._button={handle:i.PluginToolHandle.MEASURE3D,label:r,enable:!0,icon:o.Icon.measuring,command:p,check:0},Object.defineProperty(this._button,"check",{set:function(e){n=e,t.changeState(e)},get:function(){return n}}),this.toolbarItems=[this._button];var a,s,d,h=!1,f=0,m=new c.Raycaster3D,g=[],y=[],v=new c.Vector23D,x=!1,M=new c.Vector23D,b=!0,w=.1;this.initialize=function(t){var r,o,u=t["3D"],p=t.PARAMS,A=u.getBenchCamera();function _(){var e=p.ms_state;if("webgl"===u.getContextType())g.length>0&&(e===i.MEASURESTATE.DIS||e===i.MEASURESTATE.ANH)&&((n=a[f]).p.copy(g[0].point),n.n.copy(g[0].face.normal),a.push({p:n.p.clone(),n:n.n.clone(),c:n.c.clone()}),0===f&&(d={id:c._Math.generateUUID(),state:e,pInfos:a,check:!0},u.addMeasureInfo(d)),f++);else{var n,r=t.PARAMS.pp_pick;r.point&&r.normal&&(e===i.MEASURESTATE.DIS||e===i.MEASURESTATE.ANH)&&((n=a[f]).p.copy(r.point),n.n.copy(r.normal),a.push({p:n.p.clone(),n:n.n.clone(),c:n.c.clone()}),0===f&&(d={id:c._Math.generateUUID(),state:e,pInfos:a,check:!0},u.addMeasureInfo(d)),f++)}}function E(){f=0,a=[{p:new c.Vector33D,n:new c.Vector33D,c:new c.Circle3D(p.ms_pSize)}],d&&(d.check=!1)}function D(){h=!0,p.ms_enable=!0,p.hl_enableClick=!1,p.pp_enable=!0,p.pp_display=!0}function S(){h=!1,p.ms_enable=!1,p.hl_enableClick=!0,p.pp_enable=!1,p.pp_display=!1}a=[{p:new c.Vector33D,n:new c.Vector33D,c:new c.Circle3D(p.ms_pSize)}],u.addCamera3DEventListener("checkbenchcamera",function(){A=u.getBenchCamera()}),u.addMeasureEventListener("stateChanged",function(){E()}),u.addMeasureEventListener("exit",function(){p.hl_enableClick=!0,n=0,t.UI.enableToolBars(!0)}),l.BindParam("ms_action",(r=null,o=null,function(e){switch(e){case 1:null!==r&&(p.bc_rotateEnable=r,r=null),null!==o&&d&&(d.check!==o&&(d.check=o,u.enableMarkerRefresh()),o=null);break;case 0:null===r&&(r=p.bc_rotateEnable,p.bc_rotateEnable=!1),null===o&&d&&(d.check||(o=d.check,d.check=!0,u.enableMarkerRefresh()))}}),t.handle),e.onPluginEvent=function(e){if(h&&null!==t.PARAMS.ms_state)switch(e.eventType){case 0:0===(n=e.rawEvent).button?(x=!0,M.set(n.offsetX,n.offsetY)):x=!1;break;case 2:!function(e){switch(e.buttons){case 0:u.setProjectScreenMouse(e.offsetX,e.offsetY,v),0===f&&(y.length=0,u.raycastMeasureInfo(e.offsetX,e.offsetY,y),y.length>0?(e.target.style.cursor="pointer",d=y[0].info,p.ms_action=0):(e.target.style.cursor="default",p.ms_action=1)),1===p.ms_action&&("webgl"===u.getContextType()?(m.setFromCamera(v,A),g.length=0,u.raycast(m,g),g.length>0&&((r=a[f]).p.copy(g[0].point),r.n.copy(g[0].face.normal),u.enableMarkerRefresh())):(n=t.PARAMS.pp_pick)&&n.point&&n.normal&&((r=a[f]).p.copy(n.point),r.n.copy(n.normal),u.enableMarkerRefresh()));break;case 1:var n,r;0===e.button?"webgl"===u.getContextType()?(u.setProjectScreenMouse(e.offsetX,e.offsetY,v),m.setFromCamera(v,A),g.length=0,u.raycast(m,g,!0),g.length>0&&y.length>0&&((r=y[0].pi).p.copy(g[0].point),r.n.copy(g[0].face.normal),u.enableMarkerRefresh())):(n=t.PARAMS.pp_pick)&&n.point&&n.normal&&y.length>0&&((r=y[0].pi).p.copy(n.point),r.n.copy(n.normal),u.enableMarkerRefresh()):p.ms_action=1;break;default:p.ms_action=1}}(e.rawEvent);break;case 1:!function(e){if(x){if(Math.abs(e.offsetX-M.x)<w&&Math.abs(e.offsetY-M.y)<w)switch(p.ms_action){case 1:var t="add";switch(p.ms_state){case i.MEASURESTATE.DIS:1===f&&(t="reset");break;case i.MEASURESTATE.ANH:2===f&&(t="reset")}switch(t){case"add":_();break;case"reset":E()}}u.dispatchMeasureEvent({type:"measureChanged",param:u.getMeasureResult()})}x=!1}(e.rawEvent);break;case 4:!function(e){1===e.touches.length&&(s=e.touches[0].target.getBoundingClientRect(),M.set(e.touches[0].pageX-s.left,e.touches[0].pageY-s.top),b=!0)}(e.rawEvent);break;case 6:!function(){if(b)switch(f){case 0:u.setProjectScreenMouse(M.x,M.y,v),m.setFromCamera(v,A),g.length=0,u.raycast(m,g),_();break;case 1:u.setProjectScreenMouse(M.x,M.y,v),m.setFromCamera(v,A),g.length=0,u.raycast(m,g)}}();break;case 5:!function(e){(Math.abs(e.touches[0].pageX-s.left-M.x)>=w||Math.abs(e.touches[0].pageY-s.top-M.y)>=w)&&(b=!1)}(e.rawEvent)}var n},e.willHandleEventExclusively=function(e){9===e.eventType&&(!0===h?S():D())},e.changeState=function(e){1===e?h||D():h&&S()}},this.dispose=function(){g.length=0}}}();t.Measure3DPlugin=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="D09A15D1-57A4-4DE7-BB35-0DD26BE63023",i=function(){function e(){this._mouseDownFLag=!1,this.id=r,this.workMode=1}return e.prototype.initialize=function(e){this._api=e,this._api3d=this._api["3D"]},e.prototype.onPluginEvent=function(e){if(this._api3d.getBenchSceneLayoutEnable())switch(e.eventType){case 0:this.handleMouseDown(e.rawEvent);break;case 1:this.handleMouseUp(e.rawEvent);break;case 2:this.handleMouseMove(e.rawEvent)}},e.prototype.handleMouseDown=function(e){0===e.button&&(this._api3d.benchSceneShowCircle(),this._mouseDownFLag=!0)},e.prototype.handleMouseMove=function(e){this._mouseDownFLag?this._api3d.benchSceneDragArrowOrModel(e.offsetX,e.offsetY):this._api3d.benchSceneRaycast(e.offsetX,e.offsetY)},e.prototype.handleMouseUp=function(e){0===e.button&&(this._api3d.benhSceneHiddenCircle(),this._mouseDownFLag=!1)},e.prototype.dispose=function(){this._api3d=null,this._api=null},e}();t.BenchSceneLayoutPlugin=i},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(17),a=n(16),s=n(328),c=n(23),l=n(21),u="C295A4D4-45C1-46DA-B658-2AF850AD120E",p=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({eventType:9,pid:u})},this.dispose=function(){this.do=s.noop,this.initialize=s.noop}}return e=r([a.Command([1024,2048,77],i.SystemType.ST_2D,1),a.Command([1024,2048,77],i.SystemType.ST_2D_WSM,1)],e)}();t.Measure2DCommand=p;var d=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.PARAMS.ms_PSEnClosedComplete=!0},this.dispose=function(){this.dispose=s.noop,this.do=s.noop}}return e=r([a.Command([1024,2048,80],i.SystemType.ST_2D,1),a.Command([1024,2048,80],i.SystemType.ST_2D_WSM,1)],e)}();t.ClosePointsCommand=d;var h=function(){return function(){var e=this;this.id=u;var t=this;this.workMode=1;var n,r=0,a=new Map;a.set(i.Language.zh_CN,""),a.set(i.Language.zh_HK,""),a.set(i.Language.en,"Measuring"),a.set(i.Language.ja,""),this._button={handle:i.PluginToolHandle.MEASURE2D,label:a,enable:!0,icon:o.Icon.measuring,command:p,check:0};var s=new Map;s.set(i.Language.zh_CN,""),s.set(i.Language.zh_HK,""),s.set(i.Language.en,"Closure"),s.set(i.Language.ja,""),this._button1={label:s,enable:!0,command:d,supportSys:i.SystemType.ST_2D|i.SystemType.ST_2D_WSM},Object.defineProperty(this._button,"check",{set:function(e){r=e,t.changeState(e)},get:function(){return r}}),Object.defineProperty(this._button1,"show",{get:function(){return null!=n&&n.PARAMS.ms_enable&&n.PARAMS.ms_state==i.MEASURESTATE.PSENCLOSEAREA}}),this.toolbarItems=[this._button],this.menuItems=[this._button1];var h,f,m,g,y,v=0,x=[],M=[],b=new c.Vector23D,w=new c.Vector33D,A=!1,_=new c.Vector23D,E=!0,D=.1,S=!1;this.initialize=function(t){var a=t["3D"],s=t.PARAMS;n=t;var u,p,d=a.getBenchCamera(),x=!1;function P(){var e=s.ms_state,t=h[v];t.p.copy(w),t.n.set(0,0,1),e!==i.MEASURESTATE.POINT&&h.push({p:t.p.clone(),n:t.n.clone(),c:t.c.clone()}),(e!==i.MEASURESTATE.POINT&&0===v||e===i.MEASURESTATE.POINT&&!1===x)&&(m={id:c._Math.generateUUID(),state:e,pInfos:h,check:!o.BrowserInfo.isMobile},a.addMeasureInfo(m),e===i.MEASURESTATE.POINT&&(x=!0)),v++,e===i.MEASURESTATE.POINT&&T()}function T(){v=0,h=[{p:new c.Vector33D,n:new c.Vector33D,c:new c.Circle3D(s.ms_pSize)}],m&&(m.check=!1)}function C(){s.ms_enable=!0,s.hl_enableClick=!1,s.pp_enable=!0,s.pp_display=!0}function R(){s.ms_enable=!1,s.hl_enableClick=!0,s.pp_enable=!1,s.pp_display=!1}h=[{p:new c.Vector33D,n:new c.Vector33D,c:new c.Circle3D(s.ms_pSize)}],a.addCamera3DEventListener("checkbenchcamera",function(){d=a.getBenchCamera()}),a.addMeasureEventListener("stateChanged",function(){T()}),a.addMeasureEventListener("exit",function(){s.hl_enableClick=!0,r=0,t.UI.enableToolBars(!0)}),l.BindParam("ms_action",(u=null,p=null,function(e){switch(e){case 1:null!==u&&(s.bc_rotateEnable=u,u=null),o.BrowserInfo.isMobile&&l.RollBackParam("bc_panEnable",t.handle),null!==p&&m&&(m.check!==p&&(m.check=p,a.enableMarkerRefresh()),p=null);break;case 0:null===u&&(u=s.bc_rotateEnable,s.bc_rotateEnable=!1),o.BrowserInfo.isMobile&&l.SaveParam("bc_panEnable",t.handle,!1),null===p&&m&&(m.check||(p=m.check,m.check=!0,a.enableMarkerRefresh()))}}),t.handle),l.BindParam("ms_PSEnClosedComplete",function(e){!0===e&&!0===a.setPSEnClosedComplete()&&s.ms_state===i.MEASURESTATE.PSENCLOSEAREA&&T()},t.handle),e.onPluginEvent=function(e){if(s.ms_enable&&null!==s.ms_state)switch(y=e.eventDataCache,e.eventType){case 0:0===(t=e.rawEvent).button?(A=!0,_.set(t.offsetX,t.offsetY)):A=!1;break;case 2:!function(e){switch(a.setProjectScreenMouse(e.offsetX,e.offsetY,b),e.buttons){case 0:0===v&&(M.length=0,a.raycastMeasureInfo(e.offsetX,e.offsetY,M),M.length>0?(e.target.style.cursor="pointer",m=M[0].info,s.ms_action=0):(e.target.style.cursor="default",s.ms_action=1)),1===s.ms_action&&((t=s.pp_pick)&&t.point?w.copy(t.point):w.set(b.x,b.y,0).unproject(d),(n=h[v]).p.copy(w),a.enableMarkerRefresh());break;case 1:if(0===e.button){if(M.length>0){var t,n=M[0].pi;(t=s.pp_pick)&&t.point?w.copy(t.point):w.set(b.x,b.y,0).unproject(d),n.p.copy(w),a.enableMarkerRefresh(),a.enableMarkerRefresh()}}else s.ms_action=1;break;default:s.ms_action=1}}(e.rawEvent);break;case 1:!function(e){if(A){if(Math.abs(e.offsetX-_.x)<D&&Math.abs(e.offsetY-_.y)<D)switch(s.ms_action){case 1:var t="add";switch(s.ms_state){case i.MEASURESTATE.AREA:case i.MEASURESTATE.DIS:1===v&&(t="reset");break;case i.MEASURESTATE.ANH:2===v&&(t="reset");break;case i.MEASURESTATE.PSENCLOSEAREA:t="add"}switch(t){case"add":P();break;case"reset":T()}}a.dispatchMeasureEvent({type:"measureChanged",param:a.getMeasureResult()})}A=!1}(e.rawEvent);break;case 4:!function(e){1==e.touches.length&&(f=e.touches[0].target.getBoundingClientRect(),_.set(e.touches[0].pageX-f.left,e.touches[0].pageY-f.top),E=!0,0===v&&(M.length=0,a.raycastMeasureInfo(_.x,_.y,M),M.length>0&&(g=M[0].info,S=g.check,g.check=!0,s.bc_panEnable=!1,a.enableMarkerRefresh())))}(e.rawEvent);break;case 6:!function(){if(g)g.check=S,g=null,S=null,a.enableMarkerRefresh(),s.bc_panEnable=!0;else if(E)if(1===s.ms_action){switch(a.setProjectScreenMouse(_.x,_.y,b),w.set(b.x,b.y,0).unproject(d),v){case 0:P();break;case 1:s.ms_state===i.MEASURESTATE.DIS||s.ms_state===i.MEASURESTATE.AREA?(h[v].p.copy(w),T()):s.ms_state===i.MEASURESTATE.ANH&&P(),a.enableMarkerRefresh();break;case 2:s.ms_state===i.MEASURESTATE.ANH&&(h[v].p.copy(w),a.enableMarkerRefresh(),T())}s.ms_state===i.MEASURESTATE.PSENCLOSEAREA&&(P(),a.enableMarkerRefresh())}else 2===s.ms_action&&a.raycastMeasureInfo(_.x,_.y,M,!1)}();break;case 5:!function(e){if((Math.abs(e.touches[0].pageX-f.left-_.x)>=D||Math.abs(e.touches[0].pageY-f.top-_.y)>=D)&&(_.set(e.touches[0].pageX-f.left,e.touches[0].pageY-f.top),E=!1,M.length)){var t=M[0].pi,n=y.deltaPosition[0],r=c.Vector33D.get().set(n.unProjectX,n.unProjectY,0);t.p.add(r),a.enableMarkerRefresh(),c.Vector33D.back(r)}}(e.rawEvent)}var t},e.willHandleEventExclusively=function(e){9===e.eventType&&(!0===s.ms_enable?R():C())},e.changeState=function(e){1===e?s.ms_enable||C():s.ms_enable&&R()}},this.dispose=function(){x.length=0}}}();t.Measure2DPlugin=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(23),a=n(328),s=n(16),c="29397A97-EE51-4D84-881A-ACB881827572",l=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({eventType:9,pid:c})},this.dispose=function(){this.do=a.noop,this.initialize=a.noop}}return e=r([s.Command([1024,2048,77],i.SystemType.ST_2D,1),s.Command([1024,2048,77],i.SystemType.ST_2D_WSM,1)],e)}();t.Marker2DCommand=l;var u=function(){function e(){var e=this;this.STATE={STATE_ADD:1,STATE_UNDO:0},this.addMarker2DInfo=function(t,n){var r=e._info={id:o._Math.generateUUID(),type:e.params.mk2_type,data:{},display:!0,box:new o.Box23D,check:!0,circle:new o.Circle3D},i=o.Vector23D.get(),a=o.Vector33D.get(),s=e.api3d.getBenchCamera();switch(e.api3d.setProjectScreenMouse(t,n,i),a.set(i.x,i.y,0).unproject(s),e.params.mk2_type){case o.MARKERTYPE.RECT:case o.MARKERTYPE.ELLIPSE:case o.MARKERTYPE.ARROW:case o.MARKERTYPE.CLOUDLINE:case o.MARKERTYPE.TRIANGLE:case o.MARKERTYPE.CURVES:r.data.points=[(new o.Vector33D).copy(a),(new o.Vector33D).copy(a)]}e.api3d.addMarker2DInfo(r),e.api3d.enableMarkerRefresh(),o.Vector23D.back(i),o.Vector33D.back(a)},this.id=c,this.workMode=1,this._info=null,this.intMarkers=[],this.exitMarkers=[],this.mouseVec=new o.Vector23D,this.touchVec=new o.Vector23D,this.eps=10}return e.prototype.initialize=function(e){this.api=e,this.params=e.PARAMS,this.api3d=e["3D"],this.markerInfos=e.PARAMS.mk2_infos},e.prototype.willHandleEventExclusively=function(e){9===e.eventType&&(!0===this.params.mk2_enable?this.params.mk2_enable=!1:this.params.mk2_enable=!0)},e.prototype.dispose=function(){this.onPluginEvent=a.noop},e.prototype.onPluginEvent=function(e){if(this.params.mk2_enable&&null!==this.params.mk2_type)switch(e.eventType){case 0:this.handleMouseDown(e.rawEvent);break;case 2:this.handleMouseMove(e.rawEvent);break;case 1:this.handleMouseUp(e.rawEvent);break;case 4:this.handleTouchStart(e.rawEvent);break;case 5:this.handleTouchMove(e.rawEvent);break;case 6:this.handleTouchEnd(e.rawEvent)}},e.prototype.changeMarker2DInfo=function(e,t){var n=o.Vector23D.get(),r=o.Vector33D.get(),i=this.api3d.getBenchCamera();this.api3d.setProjectScreenMouse(e,t,n),r.set(n.x,n.y,0).unproject(i);var a=this._info.data.points;switch(this.params.mk2_type){case o.MARKERTYPE.RECT:case o.MARKERTYPE.ARROW:case o.MARKERTYPE.CLOUDLINE:case o.MARKERTYPE.TRIANGLE:case o.MARKERTYPE.ELLIPSE:a[1].copy(r);break;case o.MARKERTYPE.CURVES:a.push((new o.Vector33D).copy(r))}this.api3d.enableMarkerRefresh(),o.Vector23D.back(n),o.Vector33D.back(r)},e.prototype.handleMouseDown=function(e){this.params.mk2_state===this.STATE.STATE_ADD&&1===e.buttons&&0===e.button&&this.params.mk2_type!==o.MARKERTYPE.TEXT&&this.addMarker2DInfo(e.offsetX,e.offsetY),this.mouseVec.set(e.offsetX,e.offsetY)},e.prototype.handleMouseMove=function(e){this.params.mk2_state===this.STATE.STATE_ADD&&this._info&&this.changeMarker2DInfo(e.offsetX,e.offsetY)},e.prototype.handleMouseUp=function(e){if(Math.abs(this.mouseVec.x-e.offsetX)<this.eps&&Math.abs(this.mouseVec.y-e.offsetY)<this.eps){if(this._info&&(this.api3d.removeMarker2DInfo(this._info.id),this._info=null),this.params.mk2_type!==o.MARKERTYPE.TEXT){if(this.intMarkers.length=0,this.api3d.raycastMarker2D(e.offsetX,e.offsetY,this.exitMarkers,this.intMarkers),this.exitMarkers.length>0){var t=this.exitMarkers.shift();this.api3d.removeMarker2DInfo(t)}else if(this.intMarkers.length>0){var n=this.markerInfos.get(this.intMarkers[0]);n&&(n.check=!n.check,n.check&&this.api3d.dispatchEvent({type:"marker2d_check",params:{ev:e,checkedMarker:n}}))}}else{var r=o.Vector33D.get();r.z=0,this.api3d.setProjectScreenMouse(e.offsetX,e.offsetY,r),r.unproject(this.api3d.getBenchCamera()),this.api3d.dispatchEvent({type:"marker2d_addtext",params:{x:r.x,y:r.y}}),o.Vector33D.back(r)}this.api3d.enableMarkerRefresh()}this._info&&(this._info.check=!1,this._info.newComplete=!0,this._info=null,this.api3d.enableMarkerRefresh())},e.prototype.handleTouchStart=function(e){if(1==e.touches.length){var t=e.touches[0].target.getBoundingClientRect(),n=this.pageX=e.touches[0].pageX-t.left,r=this.pageY=e.touches[0].pageY-t.top;this.params.mk2_state===this.STATE.STATE_ADD&&1===e.touches.length&&this.params.mk2_type!==o.MARKERTYPE.TEXT&&(this.addMarker2DInfo(n,r),this.params.bc_panEnable=!1),this.touchVec.set(n,r)}this.touchCount=e.touches.length},e.prototype.handleTouchMove=function(e){if(1==e.touches.length){var t=e.touches[0].target.getBoundingClientRect(),n=this.pageX=e.touches[0].pageX-t.left,r=this.pageY=e.touches[0].pageY-t.top;this.params.mk2_state===this.STATE.STATE_ADD&&this._info&&this.changeMarker2DInfo(n,r)}this.touchCount=e.touches.length},e.prototype.handleTouchEnd=function(e){if(1===this.touchCount&&Math.abs(this.touchVec.x-this.pageX)<this.eps&&Math.abs(this.touchVec.y-this.pageY)<this.eps){if(this._info&&(this.api3d.removeMarker2DInfo(this._info.id),this._info=null),this.params.mk2_type!==o.MARKERTYPE.TEXT){if(this.intMarkers.length=0,this.api3d.raycastMarker2D(this.pageX,this.pageY,this.exitMarkers,this.intMarkers),this.exitMarkers.length>0){var t=this.exitMarkers.shift();this.api3d.removeMarker2DInfo(t)}else if(this.intMarkers.length>0){var n=this.markerInfos.get(this.intMarkers[0]);n&&(n.check=!n.check,this.api3d.enableMarkerRefresh(),n.check&&this.api3d.dispatchEvent({type:"marker2d_check",params:{ev:e,checkedMarker:n}}))}}else{var r=o.Vector33D.get();r.z=0,this.api3d.setProjectScreenMouse(this.pageX,this.pageY,r),r.unproject(this.api3d.getBenchCamera()),this.api3d.dispatchEvent({type:"marker2d_addtext",params:{x:r.x,y:r.y}}),o.Vector33D.back(r)}this.api3d.enableMarkerRefresh()}this._info&&(this._info.check=!1,this._info.newComplete=!0,this._info=null,this.api3d.enableMarkerRefresh()),this.params.bc_panEnable=!0},e}();t.Marker2DPlugin=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(328),i=n(23),o=n(17),a="77BDAC81-29C0-4B7D-9A1F-80FF9192E272",s=function(){function e(){this.STATE={ROTATE:0,ZOOM:1},this.id=a,this.workMode=1,this.rotateStartVec=new i.Vector23D,this.lon=0,this.lat=0}return e.prototype.initialize=function(e){this.api=e},e.prototype.dispose=function(){r.noop()},e.prototype.onPluginEvent=function(e){switch(e.eventType){case 0:this.handleMouseDown(e.rawEvent);break;case 2:this.handleMouseMove(e.rawEvent);break;case 1:this.handleMouseUp(e.rawEvent);break;case 3:this.handleMouseWheel(e.rawEvent);break;case 4:this.handleTouchStart(e.rawEvent);break;case 5:this.handleTouchMove(e.rawEvent);break;case 6:this.handleToucEnd(e.rawEvent)}},e.prototype.handleMouseDown=function(e){0===e.button&&e.bubbles&&(this.state=this.STATE.ROTATE,this.rotateStart(e.clientX,e.clientY))},e.prototype.rotateStart=function(e,t){this.rotateStartVec.set(e,t)},e.prototype.rotateMove=function(e,t){var n=i.Vector23D.get().set(e,t),r=i.Vector23D.get().copy(n).sub(this.rotateStartVec),a=this.api.PARAMS.pr_camera,s=this.api.PARAMS.pr_size;this.lon+=r.x*(o.BrowserInfo.isMobile?.2:.1),this.lat+=-r.y*(o.BrowserInfo.isMobile?.2:.1);var c=i.Vector33D.get();this.lat=Math.max(-85,Math.min(85,this.lat));var l=i._Math.degToRad(90-this.lat),u=i._Math.degToRad(this.lon);c.x=s*Math.sin(l)*Math.cos(u),c.y=s*Math.cos(l),c.z=s*Math.sin(l)*Math.sin(u),a.lookAt(c),this.rotateStartVec.copy(n),i.Vector23D.back(n),i.Vector23D.back(r),i.Vector33D.back(c)},e.prototype.handleMouseMove=function(e){switch(this.state){case this.STATE.ROTATE:this.rotateMove(e.clientX,e.clientY)}},e.prototype.handleMouseUp=function(e){this.state=null},e.prototype.handleMouseWheel=function(e){var t=this.api.PARAMS.pr_camera,n=t.fov+.05*e.deltaY;t.fov=i._Math.clamp(n,10,75),t.updateProjectionMatrix()},e.prototype.handleTouchStart=function(e){1===e.touches.length&&(this.state=this.STATE.ROTATE,this.rotateStart(e.touches[0].pageX,e.touches[0].pageY))},e.prototype.handleTouchMove=function(e){switch(this.state){case this.STATE.ROTATE:this.rotateMove(e.touches[0].pageX,e.touches[0].pageY)}},e.prototype.handleToucEnd=function(e){this.state=null},e}();t.PanoramaControlPlugin=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(328),a=n(16),s=n(23),c=n(17),l="D8966D3A-EF88-40E6-9FAA-E53C4F5C0771",u=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:l,eventType:9})},this.dispose=function(){this.dispose=o.noop,this.do=o.noop}}return e=r([a.Command([1024,2048,80],i.SystemType.ST_2D,1),a.Command([1024,2048,80],i.SystemType.ST_3D,1),a.Command([1024,2048,80],i.SystemType.ST_2D_WSM,1),a.Command([1024,2048,80],i.SystemType.ST_3D_WSM,1)],e)}();t.PeelCommand=u;var p=function(){return function(){var e=this;this.id=l,this.workMode=1;var t=new Map;t.set(i.Language.zh_CN,""),t.set(i.Language.zh_HK,""),t.set(i.Language.en,"Peel"),t.set(i.Language.ja,""),this._butoon={handle:i.PluginToolHandle.PEEL,label:t,enable:!0,command:u,icon:c.Icon.peeling,supportSys:i.SystemType.ST_3D|i.SystemType.ST_3D_WSM,mutualPluginTools:[]},c.BrowserInfo.isTouchDevice?this.toolbarItems=[this._butoon]:(this.menuItems=[this._butoon],this.toolbarItems=[this._butoon]),this.initialize=function(t){var n=t["3D"];e.active=function(){if(n.getSelected().length>0){var e=t.UI.getSystemType();if(e===i.SystemType.ST_2D||e===i.SystemType.ST_3D)n.hiddenAll(),n.clearHighlight(!0),t.PARAMS.sr_enable=!0;else if(e===i.SystemType.ST_2D_WSM||e===i.SystemType.ST_3D_WSM){var r=n.getSelected();n.hiddenAll(),r.forEach(function(e){n.wsmVisiableComponent(e)}),t.PARAMS.sr_enable=!0}t.PARAMS.mr_state=s.ModelRenderState.PEEL}else console.warn("")},e.willHandleEventExclusively=function(e){9===e.eventType&&this.active()}},this.dispose=function(){e._butoon=null,e.toolbarItems=null,e.menuItems=null}}}();t.PeelPlugin=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(328),a=n(17),s=n(23),c=n(16),l="A860F900-5806-40B6-A5C4-DE72490D9B6C",u=function(){function e(){var e,t=this;t.initialize=function(t){e=t},t.do=function(){e.UI.trigger({eventType:9,pid:l})},t.dispose=function(){t.do=o.noop,t.dispose=o.noop}}return e=r([c.Command([1024,2048,72],i.SystemType.ST_2D,9),c.Command([1024,2048,72],i.SystemType.ST_3D,9),c.Command([1024,2048,72],i.SystemType.ST_3D_WSM,9),c.Command([1024,2048,72],i.SystemType.ST_2D_WSM,9)],e)}();t.HiddenCommand=u;var p=function(){return function(){var e=this;this.id=l,this.workMode=9;var t=new Map;t.set(i.Language.zh_CN,""),t.set(i.Language.zh_HK,""),t.set(i.Language.en,"Hideen"),t.set(i.Language.ja,""),this._button={handle:i.PluginToolHandle.HIDDEN,icon:a.Icon.hidden,enable:!0,label:t,command:u,supportSys:i.SystemType.ST_3D|i.SystemType.ST_3D_WSM,mutualPluginTools:[]},a.BrowserInfo.isTouchDevice?this.toolbarItems=[this._button]:(this.menuItems=[this._button],this.toolbarItems=[this._button]),this.initialize=function(t){var n=t["3D"];e.active=function(){var e=t.UI.getSystemType();e===i.SystemType.ST_2D||e===i.SystemType.ST_3D?(n.setRenderState(n.getSelected(),s.RenderState.HIDDEN),t.PARAMS.sr_enable=!0,n.clearHighlight()):e!==i.SystemType.ST_2D_WSM&&e!==i.SystemType.ST_3D_WSM||n.hiddenComponent(n.getSelected()),n.update()},e.willHandleEventExclusively=function(e){9===e.eventType&&this.active()}},this.dispose=function(){e._button=null,e.menuItems=null,e.toolbarItems=null}}}();t.HiddenPlugin=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(328),a=n(16),s=n(17),c="SC324F7FA-CAS4-3OD6-MF12-E53C4F5C0771",l=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:c,eventType:9})},this.dispose=function(){this.dispose=o.noop,this.do=o.noop}}return e=r([a.Command([1024,2048,80],i.SystemType.ST_2D,1),a.Command([1024,2048,80],i.SystemType.ST_3D,1),a.Command([1024,2048,80],i.SystemType.ST_2D_WSM,1),a.Command([1024,2048,80],i.SystemType.ST_3D_WSM,1)],e)}();t.IsolationCommand=l;var u=function(){return function(){var e=this;this.id=c;var t=new Map;t.set(i.Language.zh_CN,""),t.set(i.Language.zh_HK,""),t.set(i.Language.en,"Isolation"),t.set(i.Language.ja,""),this.workMode=1,this._butoon={handle:i.PluginToolHandle.ISOLATION,label:t,enable:!0,command:l,mutualPluginTools:[]},s.BrowserInfo.isTouchDevice||(this.menuItems=[this._butoon]),this.initialize=function(t){var n=t["3D"];e.active=function(){var e=n.getSelected();if(e.length>0){var r=t.UI.getSystemType();r===i.SystemType.ST_2D||r===i.SystemType.ST_3D?(n.isolationComponent(e),n.update(),t.PARAMS.sr_enable=!0):r!==i.SystemType.ST_2D_WSM&&r!==i.SystemType.ST_3D_WSM||(n.isolationComponent(e),n.update(),t.PARAMS.sr_enable=!0)}else console.warn("")},e.willHandleEventExclusively=function(e){9===e.eventType&&this.active()}},this.dispose=function(){e._butoon=null,e.menuItems=null}}}();t.IsolationPlugin=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(328),a=n(16),s=n(23),c=n(17),l="AS324FEA-32SD-714R-35SA-AGEXCDW11749",u=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:l,eventType:9})},this.dispose=function(){this.dispose=o.noop,this.do=o.noop}}return e=r([a.Command([1024,2048,80],i.SystemType.ST_2D,1),a.Command([1024,2048,80],i.SystemType.ST_3D,1),a.Command([1024,2048,80],i.SystemType.ST_2D_WSM,1),a.Command([1024,2048,80],i.SystemType.ST_3D_WSM,1)],e)}();t.FocusCommand=u;var p=function(){return function(){var e=this;this.id=l,this.workMode=1;var t=new Map;t.set(i.Language.zh_CN,""),t.set(i.Language.zh_HK,""),t.set(i.Language.en,"Focus"),t.set(i.Language.ja,""),this._butoon={handle:i.PluginToolHandle.FOCUS,label:t,enable:!0,command:u,supportSys:i.SystemType.ST_3D|i.SystemType.ST_3D_WSM,mutualPluginTools:[]},c.BrowserInfo.isTouchDevice||(this.menuItems=[this._butoon]),this.initialize=function(t){var n=t["3D"];e.active=function(){var e=s.Box33D.get().makeEmpty();n.getSelected().length>0&&n.getSelected().forEach(function(t){var r=s.Box33D.get();n.getComponentBoundingBox(t,r.makeEmpty()),e.union(r),s.Box33D.back(r)}),e.isEmpty()?console.warn(""):n.focusByBoundingBox(e),s.Box33D.back(e),n.update()},e.willHandleEventExclusively=function(e){9===e.eventType&&this.active()}},this.dispose=function(){e._butoon=null,e.menuItems=null}}}();t.FocusPlugin=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(328),a=n(16),s=n(17),c="AS324FEA-32SD-714R-35SA-AGEXCV3DF749",l=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:c,eventType:9})},this.dispose=function(){this.dispose=o.noop,this.do=o.noop}}return e=r([a.Command([1024,2048,80],i.SystemType.ST_2D,1),a.Command([1024,2048,80],i.SystemType.ST_3D,1),a.Command([1024,2048,80],i.SystemType.ST_2D_WSM,1),a.Command([1024,2048,80],i.SystemType.ST_3D_WSM,1)],e)}();t.ShowAllCommand=l;var u=function(){return function(){var e=this;this.id=c,this.workMode=1;var t=new Map;t.set(i.Language.zh_CN,""),t.set(i.Language.zh_HK,""),t.set(i.Language.en,"Show all"),t.set(i.Language.ja,""),this._butoon={handle:i.PluginToolHandle.SHOWALL,label:t,enable:!0,command:l,supportSys:i.SystemType.ST_3D|i.SystemType.ST_3D_WSM,mutualPluginTools:[]},s.BrowserInfo.isTouchDevice||(this.menuItems=[this._butoon]),this.initialize=function(t){var n=t["3D"];e.active=function(){n.showAll(),n.dispatchEvent({type:"showAll"}),n.update()},e.willHandleEventExclusively=function(e){9===e.eventType&&this.active()}},this.dispose=function(){e._butoon=null,e.menuItems=null}}}();t.ShowAllPlugin=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(328),a=n(16),s=n(17),c="AS324FEA-3GXY-714R-35SA-AGEXCDW11749",l=function(){function e(){var e;this.initialize=function(t){e=t},this.do=function(){e.UI.trigger({pid:c,eventType:9})},this.dispose=function(){this.dispose=o.noop,this.do=o.noop}}return e=r([a.Command([1024,2048,80],i.SystemType.ST_2D,1),a.Command([1024,2048,80],i.SystemType.ST_3D,1),a.Command([1024,2048,80],i.SystemType.ST_2D_WSM,1),a.Command([1024,2048,80],i.SystemType.ST_3D_WSM,1)],e)}();t.ClearCommand=l;var u=function(){return function(){var e=this;this.id=c,this.workMode=1;var t=new Map;t.set(i.Language.zh_CN,""),t.set(i.Language.zh_HK,""),t.set(i.Language.en,"Clear selection"),t.set(i.Language.ja,""),this._butoon={handle:i.PluginToolHandle.CLEARSELCTED,label:t,enable:!0,command:l,mutualPluginTools:[]},s.BrowserInfo.isTouchDevice||(this.menuItems=[this._butoon]),this.initialize=function(t){var n=t["3D"];e.active=function(){n.clearHighlight(!0),n.update(),n.dispatchEvent({type:"clearHighlight"})},e.willHandleEventExclusively=function(e){9===e.eventType&&this.active()}},this.dispose=function(){e._butoon=null,e.menuItems=null}}}();t.ClearPlugin=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="D6740A55-69F4-47C1-81A6-07FCA91B31F9",i=function(){function e(){this.id=r,this.workMode=1}return e.prototype.onPluginEvent=function(e){if(this.params.pp_enable)switch(e.eventType){case 2:this.handleMouseMove(e.rawEvent)}},e.prototype.handleMouseMove=function(e){this.api3d.pickPoint(e.offsetX,e.offsetY)},e.prototype.initialize=function(e){this.api=e,this.api3d=e["3D"],this.params=e.PARAMS},e.prototype.dispose=function(){},e}();t.PickPointPlugin=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(353),o=n(427),a=new Map;window.addEventListener("beforeunload",function(e){a.forEach(function(e,t){e.dispose(),o.Apis.removeApi(t)}),a.clear()});var s=function(e){try{var t;r.Process.create(),t=r.Process.currentId;var n=new i.Bench(e,t);return a.set(t,n),t}catch(e){console.error(e)}},c=function(e){try{var t=a.get(e);t&&(o.Apis.removeApi(e),t.dispose(),a.delete(e))}catch(e){console.error(e)}},l=function(e){try{var t=a.get(e);t&&t.run()}catch(e){console.error(e)}},u=function(e){try{var t=a.get(e);t&&t.stop()}catch(e){console.error(e)}},p=function(e,t){try{var n=a.get(e);n&&n.addModel(t)}catch(e){console.error(e)}},d=function(e,t){try{var n=a.get(e);n&&n.remove(t)}catch(e){console.error(e)}},h=function(e,t){try{var n=a.get(e);n&&n.addModel(t)}catch(e){console.error(e)}};t.Scott={create:s,destroy:c,run:l,stop:u,load:p,remove:d,loadGISView:h,addGISView:h,removeGISViewGIS:function(e,t){},createBench:s,destroyBench:c,runBench:l,stopBench:u,addModel:p,removeModel:d,getApiObject:function(e){return o.Apis.getApi(e)},loadModel:function(e,t){try{var n=a.get(e);n&&n.loadModel(t)}catch(e){console.error(e)}},unloadModel:function(e,t){try{var n=a.get(e);n&&n.unloadModel(t)}catch(e){console.error(e)}}},t.default=t.Scott},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(21),a=n(354),s=n(366),c=n(433),l=n(434),u=n(17),p=n(435);var d=function(){function e(e,t){var n,r=this;if(this.id=t,this.module={},"DIV"!=((n=e.container)&&1==n.nodeType?n.tagName.toUpperCase():""))throw new Error("Bench must be contained in a HTML DIV element.");e.system=void 0===e.system?i.SystemType.ST_2D:e.system,u.Util.isNil(e.language)||(this.language=e.language),e.useThreads&&(u.BrowserInfo.supportThreads||(e.useThreads=!1,console.warn("")),e.system!==i.SystemType.ST_2D_WSM&&e.system!==i.SystemType.ST_3D_WSM&&(e.useThreads=!1,console.warn("ST_2D_WSMST_3D_WSM"))),u.BrowserInfo.supportWasm||(e.system===i.SystemType.ST_2D_WSM?(e.system=i.SystemType.ST_2D,console.warn("wasm3.0")):e.system===i.SystemType.ST_3D_WSM&&(e.system=i.SystemType.ST_3D,console.warn("wasm3.0")));var d=new o.ApiService(e.projectId),h=d.getApi(),f=new a.BenchUI(h,e),m=new l.Context(f,e),g=new s.BenchCore(h,e),y=new c.Resizer,v=null;function x(){null!=v&&clearTimeout(v),m.resize(),v=setTimeout(function(){v=null,f.resize(),g.resize()},300),h.UI.trigger({eventType:8})}this.resizeBench=x,y.addResize(x),this.getWorkspace=function(){return f.getWorkspace()},this.run=function(){g.run()},this.stop=function(){g.stop()},this.addModel=function(e){g.addModel(e)},this.loadModel=function(e){g.loadModel(e)},this.unloadModel=function(e){g.unloadModel(e)},this.remove=function(e){var t=h["3D"];t.removeModel3D(e),t.home3D()},this.isDisposed=function(){return!g};this.dispose=function(){h.UI.trigger({eventType:11}),g.stop(),y.dispose(),g.dispose(),d.dispose(),m.dispose(),f.dispose(),y=null,d=null,g=null,f=null,h=null,function(){for(var e in r.module.freeResource&&r.module.freeResource(),r.module)delete r.module[e],r.module[e]=null}(),delete r.module,r.module=null},this.getContext=function(){return m},this.addEventListener=function(e,t){s.BenchCore.addInnerEventListener(r.id,e,t)},this.removeEventListener=function(e,t){s.BenchCore.removeInnerEventListener(r.id,e,t)},this.dispatchEvent=function(e){s.BenchCore.dispatchInnerEvent(r.id,e)};var M=function(){r.isDisposed()||(e.urlParams&&h.D3.setUrlParam(e.urlParams),e.headerParams&&h.D3.setHeaderValues(e.headerParams),f.ready(),m.ready(),g.ready(),d.ready(),h.UI.trigger({eventType:10}),x(),setTimeout(function(){try{e.envInitSuccessCB&&e.envInitSuccessCB(),e.onSuccess&&e.onSuccess({handle:h.handle,apiObject:h})}catch(e){console.error(e)}},20))};e.system!==i.SystemType.ST_2D_WSM&&e.system!==i.SystemType.ST_3D_WSM?M():(this.module.onRuntimeInitialized=function(){M()},p.LoadEngineSource(e.engineSrcPath,h,this.module))}return e.prototype.getWasmModule=function(){return this.module},r([o.ParamExport("bench_language",i.Language.zh_CN)],e.prototype,"language",void 0),e=r([o.ApiExport(["addEventListener","removeEventListener","dispatchEvent"],"GIS"),o.ApiExport(["getContext","addEventListener","removeEventListener","dispatchEvent","getWasmModule"],"3D"),o.ApiExport(["resizeBench"])],e)}();t.Bench=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(355),i=n(361),o=n(359),a=n(326),s=n(16),c=n(363),l=n(364),u=function(){return function(e,t){var n=e,u=new r.ViewService(t),p=new a.PluginService(t.system),d=new s.CommandService(t.system),h=new c.ModeService,f=new o.MenuService,m=new i.ToolbarService(t.dock,t),g=new l.CatalogueService;u.addControl(m),u.addControl(g),u.addControl(f),u.getPainter().dom.id="eglcanvas_"+e.handle,this.getWorkspace=function(){return u.getWorkspace()},this.getPainter=function(){return u.getPainter()},this.getMarker=function(){return u.getMarker()},this.getSize=function(){return u.getSize()},this.ready=function(){u.initialize(n),p.initialize(n),d.initialize(n),h.initialize(n),m.initialize(n),g.initialize(n),f.initialize(n),p.forEach(function(e){e.menuItems&&f.addMenuItem(e.menuItems),e.toolbarItems&&m.addToolbarItem(e.toolbarItems)}),u.addEventHandler("contextmenu",function(){});var e={x:1/0,y:1/0};u.addEventHandler("mousedown",function(t){f.hide(),2===t.button?(e.x=t.offsetX,e.y=t.offsetY):(e.x=1/0,e.y=1/0)}),u.addEventHandler("mouseup",function(t){f.clearDom(),p.forEach(function(e){e.menuItems&&f.addMenuItem(e.menuItems)}),Math.abs(t.offsetX-e.x)<3&&Math.abs(t.offsetY-e.y)<3?f.show(t.offsetX,t.offsetY):f.hide()})},this.resize=function(){u.resize(),m.resize(),g.resize(),f.resize()},this.dispose=function(){f.dispose(),m.dispose(),g.dispose(),u.dispose(),p.dispose(),d.dispose(),h.dispose(),n=null,h=null,u=null,p=null,d=null,f=null,m=null,g=null}}}();t.BenchUI=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(356),a=n(357),s=n(358),c=n(359),l=n(361),u=n(21),p=n(338),d=n(328),h=n(23),f=n(17);function m(e,t,n,r){var i=e.UI;i.addEventHandler(t,function(t){if(r&&r(t),null!=n){t.preventDefault(),t.stopPropagation();var o={eventType:n,rawEvent:t,eventDataCache:e.PARAMS.eventDataCache};i.setEventDataCache(o),i.trigger(o)}})}function g(e){var t=e.UI,n=function(){t.hasFocus()||t.focus()};!function(e){e.addEventHandler("keydown",function(t){t.preventDefault(),t.stopPropagation(),e.do(t).then(d.noop,d.noop)})}(t),m(e,"mousewheel",3),m(e,"mousedown",0,n),m(e,"mouseup",1),m(e,"mousemove",2),m(e,"touchstart",4,n),m(e,"touchmove",5),m(e,"touchend",6),m(e,"DOMMouseScroll",3)}var y=function(){function e(e){var t=this,n=e.container,r=n.ownerDocument,u=new o.Workspace(n),d=new a.Painter,m=new s.Marker,y=void 0,v=void 0,x=e.system;this.eventDataCache={position:[{},{},{}],prePosition:[{},{},{}],leftDownPosition:{},rightDownPosition:{},middleDownPosition:{},deltaPosition:[{},{},{}],pick:{},touchDownPositions:[{},{},{}]},u.setStyle("backgroundColor",function(e){switch(e){case i.SystemType.ST_2D:return"#212830";case i.SystemType.ST_3D:return"#000000";default:return"#f0f2f4"}}(e.system)),d.addEventHandler=u.addEventHandler.bind(u),d.add=u.add.bind(u),d.remove=u.remove.bind(u),m.addEventHandler=u.addEventHandler.bind(u),m.add=u.add.bind(u),m.remove=u.remove.bind(u),d.layer=1,m.layer=2,u.add(d),u.add(m),x!==i.SystemType.ST_GIS&&n.appendChild(u.dom);var M=d.dom.getBoundingClientRect();this.initialize=function(e){y=e,v=e["3D"],m.initialize(e),g(y)},this.launchFullscreen=function(){u.launchFullscreen()},this.exitFullscreen=function(){u.exitFullscreen()},this.isInFullscreen=function(){return u.isInFullscreen()},this.hasFocus=function(){return u.hasFocus()},this.isFocused=function(){return u.hasFocus()},this.getPainter=function(){return d},this.getMarker=function(){return m},this.focus=function(){u.focus()},this.getSystemType=function(){return x},this.getWorkspace=function(){return u},this.addControl=function(e){e instanceof p.Control&&(e.layer<4&&!(e instanceof c.MenuService||e instanceof l.ToolbarService)&&(e.layer=4),u.add(e))},this.removeControl=function(e){e instanceof p.Control&&u.remove(e)},this.addEventHandler=function(e,t){u.addEventHandler(e,t)},this.removeEventHandler=function(e,t){u.removeEventHandler(e,t)},this.setTabIndex=function(e){u.tabIndex=e,d.tabIndex=-1,m.tabIndex=-1},this.getTabIndex=function(){return u.tabIndex},this.getDocument=function(){return r},this.getBenchSize=function(){return{width:u.width,height:u.height}},this.getSize=function(){return t.getBenchSize()},this.resize=function(){y&&y.UI&&y.UI.isInFullscreen()?(d.width=m.width=u.width,d.height=m.height=u.height):(u.width=d.width=m.width=n.offsetWidth,u.height=d.height=m.height=n.offsetHeight),d.layer=1,m.layer=2,u.resize(),M=d.dom.getBoundingClientRect()},this.dispose=function(){n.removeChild(u.dom),u.dispose(),d.dispose(),m.dispose(),r=null,n=null,u=null,d=null,m=null,y=null};var b=function(e,t,n){n&&void 0===e.clientX?_(e,t):n||w(e)},w=function(e){for(var t in e)e[t]=void 0},A=function(e,t,n,r,i){e.clientX=r,e.clientY=i,e.offsetX=t,e.offsetY=n,e.viewportX=t/u.width*2-1,e.viewportY=-n/u.height*2+1;var o=h.Vector33D.get().set(e.viewportX,e.viewportY,0).unproject(v.getBenchCamera());e.unProjectX=o.x,e.unProjectY=o.y,h.Vector33D.back(o)},_=function(e,t){for(var n in t)e[n]=t[n]},E=function(e,t,n){for(var r in void 0===t.clientX&&_(t,e),e)n[r]=e[r]-t[r]};this.setEventDataCache=function(e){!function(e){if(f.BrowserInfo.isTouchDevice){if(r=e.rawEvent,e.touchDowns||(e.touchDowns=[]),r.touches)for(var t=0,n=r.touches.length;t<n;++t)e.touchDowns[t]=!0}else{var r=e.rawEvent;e.leftMouseDown=!!(1&r.buttons),e.middleMouseDown=!!(4&r.buttons),e.rightMouseDown=!!(2&r.buttons)}}(e),function(e){var n=t.eventDataCache;if(f.BrowserInfo.isTouchDevice){if(void 0===(c=e.rawEvent).touches)return;e.workPoint=c.touches.length;for(var r=0,i=c.touches.length;r<i;++r){l=n.position[r];var o=n.prePosition[r],a=n.deltaPosition[r],s=c.touches[r];_(o,l),A(l,s.pageX-M.left,s.pageY-M.top,s.pageX,s.pageY),b(n.touchDownPositions[r],l,e.touchDowns[r]),E(l,o,a)}}else{var c=e.rawEvent,l=n.position[0];e.workPoint=1,_(n.prePosition[0],l),A(l,c.offsetX,c.offsetY,c.clientX,c.clientY),b(n.leftDownPosition,l,e.leftMouseDown),b(n.rightDownPosition,l,e.rightMouseDown),b(n.middleDownPosition,l,e.middleMouseDown),E(l,n.prePosition[0],n.deltaPosition[0])}}(e)},this.resize()}return r([u.ParamExport("eventDataCache",null)],e.prototype,"eventDataCache",void 0),r([u.ParamExport("eventMoveScalar",0)],e.prototype,"scalar",void 0),r([u.ParamExport("cliclPrecision",10)],e.prototype,"precision",void 0),e=r([u.ApiExport(["addEventHandler","removeEventHandler","launchFullscreen","exitFullscreen","isInFullscreen","addControl","removeControl","setTabIndex","getTabIndex","getSystemType","getDocument","getSize","getBenchSize","hasFocus","isFocused","focus","setEventDataCache","getMarker"])],e)}();t.ViewService=y},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(338),a=void 0;function s(){var e=document;return a=!1,e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen?e.msExitFullscreen():void(a=void 0)}var c=0,l=function(e){function t(t){var n=e.call(this,"div")||this;return n._doc=t.ownerDocument,n.exitFullscreen=s,n.tabIndex=c++,n.dom.className="gum_workspace",n}return i(t,e),t.prototype.focus=function(){this.dom.focus()},t.prototype.hasFocus=function(){var e=this._doc.activeElement;return e&&e===this.dom},t.prototype.launchFullscreen=function(){var e=this.dom;return a=!0,e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():void(a=void 0)},t.prototype.resize=function(){var t;e.prototype.resize.call(this),this.setStyle("top","0px").setStyle("right","0px").setStyle("bottom","0px").setStyle("left","0px").setStyle("boxSizing","border-box").setStyle("minWidth","0px").setStyle("maxWidth","none").setStyle("minHeight","0px").setStyle("maxHeight","none").setStyle("width","100%").setStyle("height","100%").setStyle("transform","none").setStyle("margin","0px"),("webkitIsFullScreen"in(t=document)?t.webkitIsFullScreen:t.mozFullScreenElement||t.msFullscreenElement||t.fullscreenEnabled)?(a=!0,this.setStyle("objectFit","contain").setStyle("position","absolute")):(a=!1,this.setStyle("objectFit","none").setStyle("position","absolute"))},t.prototype.isInFullscreen=function(){return!!a},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._doc=null},t}(o.Control);t.Workspace=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){var t=e.call(this,"canvas")||this;return t.addEventHandler("webglcontextlost",t.onLost.bind(t)),t.addEventHandler("webglcontextrestore",t.onRestore.bind(t)),t}return i(t,e),t.prototype.resize=function(){this.layer=1,e.prototype.resize.call(this)},t.prototype.onLost=function(){this._lostDisposer&&this._lostDisposer.forEach(function(e){return e()})},t.prototype.onRestore=function(){this._restoreDisposer&&this._restoreDisposer.forEach(function(e){return e()})},t.prototype.addLostEventListener=function(e){this._lostDisposer&&(this._lostDisposer=[]),this._lostDisposer.push(e)},t.prototype.addRestoreEventListener=function(e){this._restoreDisposer&&(this._restoreDisposer=[]),this._restoreDisposer.push(e)},t.prototype.dispose=function(){this._lostDisposer&&(this._lostDisposer.length=0,this._lostDisposer=null),this._restoreDisposer&&(this._restoreDisposer.length=0,this._restoreDisposer=null),e.prototype.dispose.call(this)},t}(n(338).Control);t.Painter=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"canvas")||this}return i(t,e),t.prototype.initialize=function(e){this._api=e},t.prototype.resize=function(){e.prototype.resize.call(this),this.layer=2},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(n(338).Control);t.Marker=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(338),s=n(360),c=n(21);function l(e,t){var n=new s.MenuItem(e);return n.initialize(t),n}var u=function(e){function t(){var t=e.call(this,"div")||this;return t._menuState=!0,t.visible=!1,t}return i(t,e),t.prototype.initialize=function(e){var t=this;this._api=e,["contextmenu","mousemove","mousedown","mousewheel","mouseover","mouseenter","mouseleave"].forEach(function(e){t.addEventHandler(e,t.noop)}),["click","mouseup"].forEach(function(e){t.addEventHandler(e,t.hide.bind(t))})},t.prototype.addMenuItem=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){(null==e.supportSys||e.supportSys&t._api.UI.getSystemType())&&0!=e.show&&t.add(l(e,t._api))}):(null==e.supportSys||e.supportSys&this._api.UI.getSystemType())&&0!=e.show&&this.add(l(e,this._api))},t.prototype.show=function(e,t){if(this._menuState?this.visible=!0:this.visible=!1,0!=this.count){var n=this._api.UI.getSize();e>n.width-this.width+5&&(e=n.width-this.width-3),t>n.height-this.height+5&&(t=n.height-this.height-3),this.setStyle("left",e+"px").setStyle("top",t+"px")}},t.prototype.hide=function(){this.visible&&(this.visible=!1)},t.prototype.resize=function(){e.prototype.resize.call(this),this.hide(),this.layer=4,this.setStyle("width","auto").setStyle("height","auto").setStyle("borderRadius","4px").setStyle("border","1px solid rgba(126,138,140,0.3)").setStyle("backgroundColor","rgba(255, 255, 255, 0.95)").setStyle("boxShadow","0px 2px 8px 0px rgba(0, 0,0, 0.3)")},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._api=null},t.prototype.setMenuState=function(e){this._menuState=!1!==e,this._menuState||this.hide()},t=o([c.ApiExport(["setMenuState"])],t)}(a.Control);t.MenuService=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(338),a=n(17);var s=function(e){function t(t){var n=e.call(this,"div")||this;return n._data=t,n.enable=t.enable,n}return i(t,e),t.prototype.initialize=function(e){var t,n,r,i;this._api=e,this._system=this._api.UI.getSystemType(),this._cmdWorkMode=this._data.command.prototype["mode"+this._system],this._icon=(t=1==this._data.check?a.Icon.check:"",(n=document.createElement("div")).style.cssText="display: table-cell; cursor: pointer; vertical-align: middle; width: 0px; height: 36px;",t&&(n.style.backgroundImage="url("+t+")",n.style.backgroundRepeat="no-repeat",n.style.backgroundPosition="center"),n),this._label=(r=this._data.label.get(this._api.PARAMS.bench_language),(i=document.createElement("div")).style.cssText="display: table-cell; position: relative; top: 8px; padding: 0px 16px 0px 16px; color: #333333; white-space: nowrap; font-size: 14px;cursor: pointer;text-align: laft;",i.textContent=r,i),this.dom.appendChild(this._icon),this.dom.appendChild(this._label),this.addEventHandler("mouseup",this.do.bind(this),!0),this.addEventHandler("mouseleave",this.check.bind(this)),this.addEventHandler("mouseenter",this.over.bind(this))},t.prototype.check=function(){1===this._data.check?this._icon.style.backgroundImage="url("+a.Icon.check+")":this._icon.style.backgroundImage="",this.setStyle("backgroundColor","rgba(255, 255, 255, 0.95)").setStyle("color","#333333")},t.prototype.over=function(){this.setStyle("backgroundColor","rgba(2, 214, 220, 0.2)").setStyle("color","#333333")},t.prototype.do=function(e){var t=this,n=this._data,r=this._api.UI;if(n.enable&&0==e.button&&this._data.command){var i=new(0,this._data.command);i.initialize(this._api),r.do(i).then(function(){void 0!==t._data.check&&(t._data.check=1===t._data.check?0:1),t.check()},this.noop)}},t.prototype.resize=function(){e.prototype.resize.call(this),this.setStyle("position","relative").setStyle("cursor","pointer").setStyle("height","36px").setStyle("backgroundColor","rgba(255, 255, 255, 0.95)").setStyle("textAlign","left"),this.check(),this._api.UI.getWorkMode()&this._cmdWorkMode?this.visible=!0:this.visible=!1},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._icon=null,this._label=null,this._api=null,this._data=null},t}(o.Control);t.MenuItem=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(338),s=n(362),c=n(17),l=n(21);function u(e,t,n){var r=new s.ToolbarItem(t);return r.initialize(e,n),r}var p=function(e){function t(t,n){var r=e.call(this,"div")||this;return r.dom.className="spdengine-toolbar",r._dock=void 0===t?1:t,r.layer=3,(c.BrowserInfo.isMobile||n&&!1===n.tooBarState)&&(r.enableToolBar=!1,r.visible=!1),r}return i(t,e),t.prototype.initialize=function(e){var t=this;["contextmenu","mousedown","mousemove","mouseup","mousewheel","mouseover","mouseenter","mouseleave"].forEach(function(e){t.addEventHandler(e,t.noop)}),this._api=e,l.BindParam("ts_toolbarEnable",function(e){t.enableToolBar=e,t.resize()},e.handle)},t.prototype.addToolbarItem=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){0!=e.isValid&&t.add(u(t,e,t._api))}):0!=e.isValid&&this.add(u(this,e,this._api))},t.prototype.resize=function(){e.prototype.resize.call(this),this.layer=3,this.height=42,(0==this.count||this.width<20)&&(this.visible=!1),this._api&&this._api.UI&&this.setStyle("left",(this._api.UI.getSize().width-this.width)/2+"px").setStyle("maxHeight","42px").setStyle("boxSizing","content-box !important").setStyle("webkitBoxSizing","content-box !important").setStyle("backgroundColor","#caced0").setStyle("padding","0 2px").setStyle("borderWidth","0 1px 1px 1px"),1===this._dock?this.setStyle("borderRadius","0 0 5px 5px").setStyle("top","0"):4===this._dock&&this.setStyle("borderRadius","5px 5px 0 0").setStyle("bottom","40px"),this.enableToolBar?this.visible=!0:this.visible=!1},t.prototype.update=function(e){this.forEach(function(t){t!==e&&t.reset()})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._api=null},t.prototype.enableToolBars=function(e){this.setToolBarState(e)},t.prototype.setToolBarState=function(e){this.enableToolBar=e,this.resize()},o([l.ParamExport("ts_toolbarEnable",!0,!0)],t.prototype,"enableToolBar",void 0),t=o([l.ApiExport(["enableToolBars","setToolBarState"],"UI")],t)}(a.Control);t.ToolbarService=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(338),a=n(17);var s=function(e){function t(t){var n=e.call(this,"div")||this;return n.dom.className="spdengine-toolbar-item",n._data=t,n.enable=t.enable,n}return i(t,e),t.prototype.initialize=function(e,t){var n,r;this._api=t,this._toolbar=e,this._system=this._api.UI.getSystemType(),this._cmdWorkMode=this._data.command.prototype["mode"+this._system],this._icon=(n=this._data.icon,(r=document.createElement("div")).style.cssText="font-size: 20px; display: table-cell; text-align: center; vertical-align: middle; line-height:1; position: relative;width:32px;height:32px;background-repeat:no-repeat;background-position:center;box-sizing:content-box !important;",r.style.backgroundImage="url("+n+")",r),this.dom.appendChild(this._icon),this.dom.setAttribute("title",a.Util.isUndefined(this._data.tip)?this._data.label.get(this._api.PARAMS.bench_language):this._data.tip),this.setStyle("borderColor","transparent"),this.addEventHandler("mouseup",this.do.bind(this)),this.addEventHandler("mousedown",this.down.bind(this)),this.addEventHandler("touchstart",this.do.bind(this)),this.addEventHandler("touchend",this.normal.bind(this)),this.addEventHandler("mouseleave",this.normal.bind(this)),this.addEventHandler("mouseenter",this.over.bind(this))},t.prototype.down=function(){this.setStyle("backgroundColor","rgb(222, 226, 228)")},t.prototype.check=function(){1===this._data.check?this.setStyle("backgroundColor","rgb(242, 246, 248)").setStyle("borderColor","rgb(0,159,242)"):this._isOver?this.setStyle("backgroundColor","rgb(232,236,238)").setStyle("borderColor","rgb(136,138,140)"):this.setStyle("backgroundColor","transparent").setStyle("borderColor","transparent"),this._data.icon?this._icon.style.backgroundImage="url("+this._data.icon+")":this._icon.style.backgroundImage=""},t.prototype.normal=function(){this._isOver=!1,this.check()},t.prototype.over=function(){this._isOver=!0,this.check()},t.prototype.reset=function(){void 0!==this._data.check&&(this._data.check=0,this.check())},t.prototype.do=function(e){var t=this._data,n=this._api.UI;if(t.enable&&0==e.button||1===e.touches.length&&this._data.command){if(void 0!==this._data.check)this._toolbar.update(this),this._data.check=1===this._data.check?0:1;else{var r=new(0,this._data.command);r.initialize(this._api),n.do(r)}return this.check(),this._data.check}return this.over(),null},t.prototype.resize=function(){e.prototype.resize.call(this),this.width=32,this.height=32,this.setStyle("position","relative").setStyle("float","left").setStyle("cursor","pointer").setStyle("padding","2px").setStyle("margin","2px").setStyle("transition","all 0.3s").setStyle("borderWidth","1px").setStyle("borderStyle","solid").setStyle("borderRadius","3px"),this.check(),this._api.UI.getWorkMode()&this._cmdWorkMode?this.visible=!0:this.visible=!1},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._data=null,this._icon=null,this._api=null,this._toolbar=null},t}(o.Control);t.ToolbarItem=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=function(){function e(){var e=1;this.initialize=function(e){},this.getWorkMode=function(){return e},this.setWorkMode=function(t){e=t,dispatchEvent(new CustomEvent("resize"))},this.dispose=function(){}}return e=r([i.ApiExport(["getWorkMode","setWorkMode"])],e)}();t.ModeService=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(338),a=n(365),s=function(){function e(e){this.label="",this.flag="",this.parentFlag="",this.level=0,this.index=0,this.isChecked=!1,this.isVisible=!0,this.ishalfCheckedKeyed=!1,this.children=[],this.isExpanded=!1,e&&(e.label&&(this.label=e.label),e.flag&&(this.flag=e.flag),e.parentFlag&&(this.parentFlag=e.parentFlag),e.level&&(this.level=e.level),e.isChecked&&(this.isChecked=e.isChecked),e.ishalfCheckedKeyed&&(this.ishalfCheckedKeyed=e.ishalfCheckedKeyed),e.isExpanded&&(this.isExpanded=e.isExpanded),e.children&&(this.children=e.children))}return e.prototype.getHtml=function(){return"<div class='gun-tree-row rowidx-"+this.index+"' style='padding-left: "+25*this.level+"px;'>\n        <span class='spdengine-tree-expand"+(this.isExpanded?" spdengine-tree-expanded":"")+"'><span class='spdengine-expand-arrow'></span></span>\n        <span class='spdengine-tree-checkbox"+(this.isChecked?" spdengine-tree-checkbox-checked":"")+"'><span class='spdengine-tree-checkbox-inner'></span></span>\n        <span class='spdengine-tree-label'>"+this.label+"</span>\n        </div>"},e}(),c=function(e){function t(){var t=e.call(this,"div")||this;return t._catalogArr=[],t._css=a.CATALOGUE_CSS,t.visible=!1,t}return i(t,e),t.prototype.initialize=function(e){var t=this;this._api=e,this.loadTestData(),this.updateUI(),this.setStyle("top","10px"),this.setStyle("left","10px"),this.dom.className="spdengine-tree",["mousemove","mousedown","mousewheel","mouseover","mouseenter","mouseleave"].forEach(function(e){t.addEventHandler(e,t.noop)}),["click"].forEach(function(e){t.addEventHandler(e,t.clickRow.bind(t))})},t.prototype.show=function(e,t){this.visible=!0},t.prototype.hide=function(){this.visible&&(this.visible=!1)},t.prototype.resize=function(){e.prototype.resize.call(this),this.layer=3,this.setStyle("width","300px").setStyle("height","600px").setStyle("borderRadius","4px").setStyle("box-sizing","border-box").setStyle("border","1px solid rgba(126,138,140,0.3)").setStyle("padding","20px").setStyle("backgroundColor","#caced0")},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._api=null},t.prototype.loadTestData=function(){this._catalogArr=[],this._catalogArr.push(new s({label:"1",flag:"1",parentFlag:null,isExpanded:!0})),this._catalogArr.push(new s({label:"",flag:"1-1",parentFlag:"1",isExpanded:!0})),this._catalogArr.push(new s({label:"",flag:"1-1-1",parentFlag:"1-1",isExpanded:!0})),this._catalogArr.push(new s({label:"",flag:"1-1-2",parentFlag:"1-1"})),this._catalogArr.push(new s({label:"2",flag:"2",parentFlag:null})),this._catalogArr.push(new s({label:"",flag:"2-1",parentFlag:"2"}))},t.prototype.clickRow=function(e){for(var t=e.target,n=t.className,r=null,i=t;i;i=i.parentElement)if(i.className.indexOf("gun-tree-row")>=0){r=i.className;break}if(r&&0!=r.length){var o=r.split(" ").find(function(e){return e.indexOf("rowidx")>=0}),a=Number(o.split("-")[1]),s=this._catalogArr.find(function(e){return e.index==a});s&&(n.indexOf("spdengine-tree-check")>=0?this.itemCheck(s):this.itemExpand(s))}},t.prototype.itemCheck=function(e){e.isChecked=!e.isChecked,this.updateUI()},t.prototype.itemExpand=function(e){e.isExpanded=!e.isExpanded,this.updateUI()},t.prototype.updateUI=function(){for(var e=0,t=0,n=this._catalogArr;t<n.length;t++){(u=n[t]).index=e++}for(var r=function(e){var t=i._catalogArr.find(function(t){return t.flag==e.parentFlag});t&&(t.children.push(e),e.level=t.level+1)},i=this,o=0,a=this._catalogArr;o<a.length;o++){r(u=a[o])}for(var s=[this._css],c=0,l=this._catalogArr;c<l.length;c++){var u;(u=l[c]).isVisible&&s.push(u.getHtml())}this.dom.innerHTML=s.join("")},t}(o.Control);t.CatalogueService=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CATALOGUE_CSS="<style type=\"text/css\">\n    .gun-tree-row {\n        height: 30px;\n        line-height: 30px;\n        width: 100%;\n        transition: 0.3s;\n        box-sizing: border-box;\n        position: relative;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n    }\n    .gun-tree-row:hover {\n        background: #e8ecee;\n    }\n    .spdengine-tree-expand {\n        margin: 5px;\n        width: 10px;\n        height: 10px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    .spdengine-expand-arrow {\n        pointer-events: none;\n        width: 0;\n        height: 0;\n        border-top: 4px solid transparent;\n        border-bottom: 4px solid transparent;\n        border-left: 4px solid #888a8c;\n        transition: 0.3s;\n    }\n    .spdengine-tree-expand:hover .spdengine-expand-arrow {\n        border-left: 4px solid #a8aaac;\n    }\n    .spdengine-tree-expanded {\n        transform: rotate(90deg);\n    }\n    .spdengine-tree-checkbox {\n        display: inline-block;\n        width: 16px;\n        height: 16px;\n        margin: 0px 5px;\n        background-color: #fff;\n        border: 1px solid #b8babc;\n        border-radius: 2px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .spdengine-tree-checkbox:hover {\n        border-color: #1890ff;\n    }\n    .spdengine-tree-checkbox-inner {\n    }\n    .spdengine-tree-checkbox-checked-i .spdengine-tree-checkbox-inner{\n        display: inline-block;\n        width: 12px;\n        height: 12px;\n        background-color: transparent;\n        transition: 0.3s;\n        background-color: #1890ff;\n    }\n    .spdengine-tree-checkbox-checked {\n        border-color: #1890ff;\n    }\n    .spdengine-tree-checkbox-checked .spdengine-tree-checkbox-inner {\n        background-color: #1890ff;\n        width: 100%;\n        height: 100%;\n        position: relative;\n    }\n    .spdengine-tree-checkbox-checked .spdengine-tree-checkbox-inner:after{\n        transform: rotate(45deg);\n        position: absolute;\n        display: table;\n        border: 2px solid #fff;\n        border-top: 0;\n        border-left: 0;\n        content: ' ';\n        transition: all .2s cubic-bezier(.12,.4,.29,1.46) .1s;\n        opacity: 1;\n        top: 1px;\n        left: 5px;\n        height: 9px;\n        width: 4px;\n    }\n    .spdengine-tree-label {\n        padding-left: 5px;\n    }\n    </style>"},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(367),a=n(17),s=n(368),c=n(23),l=n(21),u=n(406),p=n(408),d=function(){function e(e,t){var n,r,c=-1,l=o.Looper.request,d=o.Looper.cancel,h=[];window.Stats&&(n=new Stats,document.body.appendChild(n.dom));var f=e.UI.getSystemType();switch(f){case i.SystemType.ST_PANORAMA:case i.SystemType.ST_2D:case i.SystemType.ST_3D:r=new s.Engine3d(e,t);break;case i.SystemType.ST_GIS:r=new u.GisEngine(e,t);break;case i.SystemType.ST_2D_WSM:case i.SystemType.ST_3D_WSM:r=new p.WsmEngine(e,t)}var m,g,y,v=60;a.BrowserInfo.isMobile&&(v=45);var x,M=1e3/v;function b(t){n&&n.update(),c=l(b),0!==m&&(y=m),m=performance.now(),x=m-g,h.forEach(function(e){e&&e(m,x)}),x>M&&(g=m-x%M,r.render(M)),e.PARAMS.ani_runTime=(m-y)/1e3}this.resize=function(){r.resize()},this.ready=function(){r.init()},this.run=function(){g=performance.now(),b()},this.stop=function(){d(c)},this.addModel=function(e){f===i.SystemType.ST_3D||f===i.SystemType.ST_2D?r.load(e.url,e.workerUrl,e.orgModelId,e.newModelId,e.modelMatrix,e.newModelId):f===i.SystemType.ST_GIS?r.load(e):f!==i.SystemType.ST_2D_WSM&&f!==i.SystemType.ST_3D_WSM||r.addModel(e.url,e.orgModelId,e.newModelId,e.modelMatrix.elements,e.newModelId)},this.loadModel=function(e){switch(f){case i.SystemType.ST_2D_WSM:case i.SystemType.ST_3D_WSM:r.loadModel(e);break;default:console.error("loadModel only support ST_2D_WSM and ST_3D_WSM")}},this.unloadModel=function(e){switch(f){case i.SystemType.ST_2D_WSM:case i.SystemType.ST_3D_WSM:r.unloadModel(e);break;default:console.error("loadModel only support ST_2D_WSM and ST_3D_WSM")}},this.dispose=function(){r.dispose(),d(c),d=null,l=null},this.setFps=function(e){e>=0&&e<=60?M=1e3/e:console.error("060")},this.AddRunTickCallBack=function(e){h.push(e)}}var t;return t=e,e.addInnerEventListener=function(e,n,r){var i=t._eventDispatcherMap,o=i.get(e);o||(o=new c.EventDispatcher3D,i.set(e,o)),o.addEventListener(n,r)},e.removeInnerEventListener=function(e,n,r){var i=t._eventDispatcherMap.get(e);i&&i.removeEventListener(n,r)},e.dispatchInnerEvent=function(e,n){var r=t._eventDispatcherMap.get(e);r&&r.dispatchEvent(n)},e._eventDispatcherMap=new Map,r([l.ParamExport("spdengine_version",c.getEngineVersion())],e.prototype,"version",void 0),e=t=r([l.ApiExport(["setFps"],"3D")],e)}();t.BenchCore=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.requestAnimationFrame,i=window.cancelAnimationFrame;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var o=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-o}}for(var a=Date.now(),s=["ms","moz","webkit","o"],c=0;c<s.length&&!r;++c){var l=s[c];r=window[l+"RequestAnimationFrame"],i=window[l+"CancelAnimationFrame"]||window[l+"CancelRequestAnimationFrame"]}r||(r=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");var t=Date.now(),n=16+a-t;return n<0&&(n=0),a=t,setTimeout(function(){a=Date.now(),e(performance.now())},n)}),i||(i=function(e){return clearTimeout(e)}),t.Looper={request:function(e){return r(e)},cancel:function(e){i(e)}}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(23),a=n(328),s=n(21),c=n(369),l=n(370),u=n(371),p=n(389),d=n(392),h=n(393),f=n(394),m=n(395),g=n(337),y=n(396),v=n(397),x=n(398),M=n(399),b=n(400),w=n(401),A=n(402),_=n(403),E=n(404),D=n(383),S=n(405),P=new Set,T=new Set;t.Core3D=function(){return function(e){return P.add(e),e}},t.Tool3D=function(){return function(e){return T.add(e),e}};var C=function(){function e(e,t){var n=this,r=[];t.system===i.SystemType.ST_3D||t.system===i.SystemType.ST_2D?r.push(new l.Animate3d(e),new p.Cameras3D(e),new u.Renderer3D(e)):t.system===i.SystemType.ST_PANORAMA&&r.push(new A.PanoramaRenderer(e));var a=[];t.system!==i.SystemType.ST_3D&&t.system!==i.SystemType.ST_2D||a.push(new d.Clipping3D(e),new h.Focus3D(e),new f.HighLight3d(e),new m.LevelAndGrid3D(e),new g.MarkerDevice3D(e),new y.Measure(e),new v.ProcessView3D(e),new x.Navigate3D(e),new M.BenchSceneLayout(e),new b.Marker2D(e),new w.TextMaching(e),new c.Wander3D(e),new _.PickPoint(e),new E.LoadProcess(e),new S.Guid(e));var C=e["3D"];P.forEach(function(t){return r.push(new t(e))}),T.forEach(function(t){return a.push(new t(e))});var R=new Map,I=new o.Fog3D(n.clearColor);n.setViewport=function(e,t,r,i){n.gl.setViewport(e,t,r,i)},n.resize=function(){var t=e.UI.getSize();r.forEach(function(e){e.resize&&e.resize(t.width,t.height)}),a.forEach(function(e){e.resize&&e.resize(t.width,t.height)}),C.dispatchEvent({type:"resize",params:{width:t.width,height:t.height}}),n.update()},n.update=function(){n.clear(),r.forEach(function(e){e.update&&e.update()}),a.forEach(function(e){e.update&&e.update()}),C.dispatchEvent({type:"update"})},n.render=function(e){r.forEach(function(t){t.render&&t.render(e)}),a.forEach(function(t){t.render&&t.render(e)})},n.dispose=function(){n.gl.dispose(),n.gl=null,r.forEach(function(e){e.dispose&&e.dispose()}),a.forEach(function(e){e.dispose&&e.dispose()})},s.BindParam("eg_clearColor",function(e){I.color.set(e),n.clearColor=e,C.update()},e.handle),n.clear=function(){r.forEach(function(e){e.clear&&e.clear()}),a.forEach(function(e){e.clear&&e.clear()})},n.initLoader=function(e){C.addEventListener("fileloader_geomallloadend",function(){n.update()})},n.init=function(){var t=e.UI.getSystemType(),s=n.context=C.getContext();n.gl=new o.GUMWebGLRenderer({context:s.getPainter(),alpha:!0}),t===i.SystemType.ST_3D&&n.gl.setGumFog(I),n.gl.shadowMap.enabled=!0,n.gl.shadowMap.type=o.Constant.FlatShading,r.forEach(function(e){e.init&&e.init()}),a.forEach(function(e){e.init&&e.init()}),C.addEventListener("control_change",function(){n.update()}),C.addEventListener("benchbox_change",function(e){var t=e.params.box.getSize(o.Vector33D.get());I.near=0,I.far=4*t.length(),o.Vector33D.back(t)}),e.PARAMS.eg_clearColor=t===i.SystemType.ST_3D?16382457:0,this.unit=t===i.SystemType.ST_3D?i.GUMUNIT.UNIT_FOOT:i.GUMUNIT.UNIT_MM},n.loadModel3D=function(e,t,r){return t=o.reverseModelId(t),R.has(e.modelUrl)||R.set(e.modelUrl,e),n.initLoader(e),C.modelInitLoader(e,t,r)},n.home3D=function(){C.backHighlight(),C.stopAnimation(),C.backBenchCameraView(),C.compSetForEach(function(e,t){C.getRenderState(t)!==o.RenderState.UNDONE&&C.setRenderState(t,o.RenderState.VISIBLE)}),e.PARAMS.mr_state=1,C.updateBenchBox(),C.update()},n.load=function(t,r,i,a,s,c){if(R.has(t)){if((l=R.get(t)).oldModelId!==i)return void console.error(" "+t+"  ID "+i+" ");n.loadModel3D(l,a,s)||R.delete(t)}else{var l=new o.FileLoader3D(e,t,i,r,c,a);n.loadModel3D(l,a,s)||R.delete(t)}},n.enginePrintScreen=function(){var e=C.getContext(),t=e.getMarker(),n=e.getPainter(),r=new D.ColorBuffer(n.drawingBufferWidth,n.drawingBufferHeight);n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,r.data),r.flipY();for(var i=t.getImageData(0,0,t.canvas.width,t.canvas.height),a=i.data,s=r.data,c=0,l=0,u=a.length;l<u;l+=4){c=1-a[l+3]/255;for(var p=0;p<3;p++)a[l+p]=o._Math.lerp(a[l+p],s[l+p],c);a[l+3]=255}var d=document.createElement("canvas");d.width=n.drawingBufferWidth,d.height=n.drawingBufferHeight;var h=d.getContext("2d");return h.putImageData(i,0,0),h.stroke(),d.toDataURL("image/jpeg")}}return r([s.ParamExport("eg_frameBufferMultiple",2)],e.prototype,"frameBufferMultiple",void 0),r([s.ParamExport("eg_clearColor",16382457)],e.prototype,"clearColor",void 0),r([s.ParamExport("eg_gumRenderer",null)],e.prototype,"gl",void 0),r([s.ParamExport("eg_clearOpacity",1)],e.prototype,"clearOpacity",void 0),r([s.ParamExport("model_unit",i.GUMUNIT.UNIT_M)],e.prototype,"unit",void 0),e=r([a.Sealed(),s.ApiExport(["update","loadModel3D","home3D","enginePrintScreen"],"3D")],e)}();t.Engine3d=C},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(328),l=n(17),u=function(e){function t(t){var r=e.call(this)||this;r.frame=0;var i,o=r,l=t["3D"],u=t.PARAMS,p=a.MOVESTATE.NONE,d=a.MOVESTATE.NONE,h=new a.Vector33D,f=new a.Euler3D(Math.PI/2,0,0),m=new a.Matrix43D,g=new a.Matrix43D,y=0,v=null,x=new a.Vector33D,M={currentLook:""};function b(e){var t=JSON.parse(atob(e));i.position.fromArray(t.pos),h.fromArray(t.rotate),o.wanderRotate(0,0)}return o.frame=l.getFrameNumber(),s.BindParam("wd_enable",function(e){!0===e?(M.currentLook=l.getCurrentLook(),x.setFromMatrixPosition(l.getBenchCamera().matrixWorld),l.checkBenchCamera("pers"),i=l.getBenchCamera(),function(){if(null===v){var e=l.getProjectRotationRef();h.set(-e.y-Math.PI/2,-e.z+Math.PI/2,0),i.position.copy(x),o.wanderRotate(0,0),n.params.initPosition=o.getWanderPos()}else b(v);l.update()}(),u.ng_enable=!1,t.UI.focus(),t.UI.setWorkMode(8),o.dispatchWanderEvent({type:"enable"})):(l.checkBenchCamera("orth"),i=l.getBenchCamera(),u.ng_enable=!0,t.UI.setWorkMode(1),o.dispatchWanderEvent({type:"disable"}),l.setCurrentLook(M.currentLook))},t.handle),o.getWanderEnable=function(){return o.enable},o.dispose=c.noop,o.wanderMove=function(e,t){o.frame!==l.getFrameNumber()&&(o.ableMove(e,t)&&i.position.add(a.Vector33D.back(a.Vector33D.get()).set(e,t,0)),o.frame=l.getFrameNumber())},o.changeAltitude=function(e){i.position.z+=e},o.ableMove=function(){return!0},o.getMoveState=function(){return p},o.getWanderPos=function(){var e={pos:i.position.toArray([]),rotate:h.toArray([])};return btoa(JSON.stringify(e))},o.render=function(){if(o.enable){var e=(d!==p?p===a.MOVESTATE.NONE?(y-=n.params.acceleratedSpeed)<=0&&(y=0,d=a.MOVESTATE.NONE):(d=p,y=0):(y+=n.params.acceleratedSpeed)>=1&&(y=1),n.params.speed*y);switch(p){case a.MOVESTATE.MOVEFORWARD:o.wanderMove(-e*Math.sin(h.y),e*Math.cos(h.y)),l.update();break;case a.MOVESTATE.MOVEBACK:o.wanderMove(e*Math.sin(h.y),-e*Math.cos(h.y)),l.update();break;case a.MOVESTATE.MOVELEFT:o.wanderMove(-e*Math.cos(h.y),-e*Math.sin(h.y)),l.update();break;case a.MOVESTATE.MOVERIGHT:o.wanderMove(e*Math.cos(h.y),e*Math.sin(h.y)),l.update();break;case a.MOVESTATE.UP:o.changeAltitude(e),l.update();break;case a.MOVESTATE.DOWN:o.changeAltitude(-e),l.update();break;case a.MOVESTATE.NONE:switch(d){case a.MOVESTATE.MOVEFORWARD:o.wanderMove(-e*Math.sin(h.y),e*Math.cos(h.y)),l.update();break;case a.MOVESTATE.MOVEBACK:o.wanderMove(e*Math.sin(h.y),-e*Math.cos(h.y)),l.update();break;case a.MOVESTATE.MOVELEFT:o.wanderMove(-e*Math.cos(h.y),-e*Math.sin(h.y)),l.update();break;case a.MOVESTATE.MOVERIGHT:o.wanderMove(e*Math.cos(h.y),e*Math.sin(h.y)),l.update();break;case a.MOVESTATE.UP:o.changeAltitude(e),l.update();break;case a.MOVESTATE.DOWN:o.changeAltitude(-e),l.update()}}}},o.setWanderMoveState=function(e){p=e},o.wanderRotate=function(e,t){h.y-=e*n.params.rotationSpeed,h.x-=t*n.params.rotationSpeed,h.x>Math.PI/2?h.x=Math.PI/2:h.x<-Math.PI/2&&(h.x=-Math.PI/2),g.makeRotationFromEuler(f).multiply(m.makeRotationY(h.y)).multiply(m.makeRotationX(h.x)),i.rotation.setFromRotationMatrix(g),l.update()},o.setWanderPos=function(e,t){void 0===t&&(t=!1),v=e,t&&(null==e&&(e=n.params.initPosition),b(e))},o.setWanderPosByCompentId=function(e){var t=a.Vector33D.get(),n=a.Box33D.get();l.getComponentBoundingBox(e,n.makeEmpty()),n.getCenter(i.position),n.getSize(t),a.Vector33D.back(t),a.Box33D.back(n)},o.setWanderMoveSpeed=function(e){n.params.speed=n.params.moveSpeed*e},o.addWanderEventListener=o.addEventListener,o.removeWanderEventListener=o.removeEventListener,o.dispatchWanderEvent=o.dispatchEvent,r}var n;return i(t,e),n=t,t.params={rotationSpeed:l.BrowserInfo.isMobile?.01:.001,speed:2/a._Math.METER2FOOT,acceleratedSpeed:.2,height:1.8/a._Math.METER2FOOT,initHeight:0,blendLoad:!1,blendSpeed:.03,persion:!1,moveSpeed:1,initPosition:"",inWander:function(){}},o([s.ParamExport("wd_enable",!1)],t.prototype,"enable",void 0),o([s.ParamExport("wd_moveSpeed",1)],t.prototype,"moveSpeed",void 0),t=n=o([s.ApiExport(["wanderMove","ableMove","enableWander","changeAltitude","getWanderEnable","getWanderPos","setWanderPos","setWanderMoveState","setWanderMoveSpeed","addWanderEventListener","removeWanderEventListener","dispatchWanderEvent","wanderRotate","setWanderPosByCompentId"],"3D")],t)}(a.EventDispatcher3D);t.Wander3D=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(328),o=n(21),a=n(23),s=function(){function e(e){var t,n=this,r=!1,o=!1,s=!1,c=e["3D"];n.init=function(){t=c.getBenchCamera(),c.addCamera3DEventListener("checkbenchcamera",d)};var l=.25,u=100,p=4;function d(){t=c.getBenchCamera()}n.setAnimationSpeed=function(e,t,n){l=e,u=t,p=n},n.stopAnimation=function(){r=!1,s=!1,o=!1},n.setAnimation=function(){var e,d,h,f,m=new a.Euler3D,g=new a.Vector33D,y=0,v=!1,x=Math.PI,M=function(){},b=function(){},w=0,A=0;function _(e,t,n,r){return t<n&&(t+=.8*n),e>r?Math.min(r+t,e):Math.max(r-t,e)}n.animate=function(){if(v=!1,r||s){if(r&&(Math.abs(m.y-h.y)>1e-5||Math.abs(m.z-h.z)>1e-5?(h.y=_(m.y,A,l,h.y),h.z=_(m.z,A,l,h.z),v=!0):(r=!1,c.makeProjectRotationSafe())),s){var e=a.Vector23D.back(a.Vector23D.get()),n=a.Box33D.back(a.Box33D.get()),i=a.Vector33D.back(a.Vector33D.get());f?e.copy(f):y<t.zoom?e.set(0,0):(c.getBenchBox(n).getCenter(i),i.project(t),e.set(i.x,i.y)),Math.abs(y-t.zoom)>1e-5?(y>t.zoom?(c.dollyOut(D(),e),t.zoom>=y&&(s=!1,t.zoom=y)):(c.dollyIn(D(),e),t.zoom<=y&&(s=!1,t.zoom=y)),v=!0):s=!1}}else o&&(Math.abs(g.x-d.x)>1e-5||Math.abs(g.y-d.y)>1e-5?(d.x=_(g.x,w,u,d.x),d.y=_(g.y,w,u,d.y),v=!0):o=!1);v?(c.controlUpdate(),M()):(b(),M=function(){},b=function(){})};var E=function(){function e(){m.copy(h),g.copy(d),y=t.zoom,w=.2*u,A=.2*l}d=c.getProjectPositionRef(),h=c.getProjectRotationRef(),l=.25,p=4,u=c.getBenchBox().getBoundingSphere(a.Sphere3D.back(a.Sphere3D.get())).radius/5,e(),E=e};function D(){return Math.pow(.95,p)}return function(n,a,c,l,u,p){E(),f=l,function(n,i,a){m.copy(n),m.equals(h)||((e=m.z-h.z)>x?m.z-=2*x:e<-x&&(m.z+=2*x),r=!0),void 0!==i&&g.copy(i),g.equals(d)||(o=!0),void 0!==a&&(y=a),y!==t.zoom&&(s=!0)}(n,a,c),M=void 0===u?i.noop:u,b=void 0===p?i.noop:u}}(),n.dispose=function(){c.removeCamera3DEventListener("checkbenchcamera",d)},n.render=n.animate}return e=r([i.Sealed(),o.ApiExport(["setAnimation","setAnimationSpeed","stopAnimation"],"3D")],e)}();t.Animate3d=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(328),c=n(21),l=n(372),u=n(378),p=n(384),d=n(385),h=n(387),f=n(1),m=n(388),g=function(e){function t(t){var n=e.call(this)||this;n.api=t,n.highResTime=0,n.frame=0,n.renderTime=0,n.renderWireframeTime=0,n.renderFinished=!1,n.firstFrame=!1,n.renderBegined=!1,n.isContinue=!1;var r=n,i=t["3D"],o=n.benchModel=new l.BenchModel3d(t);n.overrideMaterials=new Map;var s,g=new Map,y=new a.GUMBaseMaterial3D(void 0),v=new a.GUMBaseMaterial3D(void 0),x=new a.DirectionalLight3D(n.dLColor,n.dLIntensity);x.castShadow=!1;var M=new a.AmbientLight3D(n.aLColor,n.aLIntensity),b=new a.Vector33D;c.BindParam("material_state",function(e){e!==r.material_state&&(i.update(),"gray"===e?(t.PARAMS.ms_mea2DFontColor="#02d6dc",i.enableMarkerRefresh()):"normal"===e&&(t.PARAMS.ms_mea2DFontColor="#ffffff",i.enableMarkerRefresh()))},t.handle),c.BindParam("rd_directionLightIntensity",function(e){e!==n.dLIntensity&&(x.intensity=e,n.update())},t.handle),c.BindParam("rd_ambientLightIntensity",function(e){e!==n.aLIntensity&&(M.intensity=e,n.update())},t.handle),c.BindParam("rd_directionLightColor",function(e){e!==n.dLColor&&(x.color.set(e),n.update())},t.handle),c.BindParam("rd_ambientLightColor",function(e){e!==n.aLColor&&(M.color.set(e),n.update())},t.handle);var w="undefined"==typeof performance?Date:performance,A=0,_=new a.LineBasicMaterial3D({color:n.lineColor});_.isGumLine=!0,_.wireframe=!0,_.wireframeLinewidth=1,c.BindParam("rd_lineColor",function(e){_.color.set(e),r.update()},t.handle);var E,D=new a.GUMBaseMaterial3D(void 0),S=r.mainRenderer=new u.MainRenderer(n,t),P=r.minorRenderer=new p.MinorRenderer(n,t),T=r.markerRenderer=new h.MarkerRenderer(t["3D"]);function C(e){var n=e.material.color.getHex();switch(r.material_state){case"normal":break;case"gray":e.material.color.setHex(16777215-t.PARAMS.eg_clearColor);break;case"override":e.material=function(e,t){var n=r.overrideMaterials.get(e);if(n){var i=g.get(e);return void 0===i&&(i=a.Material3D.materialId++,g.set(e,i)),r.gl.materialInfos.remove(v),v.copy(t),v.color.setHex(n.color),v.needsUpdate=!0,v}return t}(e.compid,e.material)}return n}r.performaceInfo={frame:{fps:0,count:0},component:{totalCount:0},fragment:{totalCount:0,totalRenderCount:0,perFrameRenderCount:0,frameRenderCount:0},geomtry:{totalCount:0}},n.init=function(){var e=r.gl=t.PARAMS.eg_gumRenderer,c=i.getContext();o.init(),T.init(c),s=r.modelCamera=i.getBenchCamera(),e.setupLights([M,x]),S.init(),P.init();var l=r.textRenderer=new m.TextRenderer(t);r.blendRenderer=new d.BlendRenderer(S.mainRenderTarget,S.mainAnimationRenderTarget,P.minorRenderTarget,l.textRenderTarget,n.gl,r.api.PARAMS.eg_frameBufferMultiple),i.addEventListener("benchbox_change",function(e){var t=e.params.box,n=a.Vector33D.get(),r=a.Vector33D.get();t.getCenter(n),r.subVectors(t.max,t.min);var i=Math.max(r.x,Math.max(r.y,r.z));r.set(i,i,i),x.position.copy(n).add(r),x.target.position.copy(n),x.updateMatrixWorld(),b.copy(x.position),a.Vector33D.back(r),a.Vector33D.back(n)}),i.addCamera3DEventListener("checkbenchcamera",O),r.performaceInfo.webglInfo=r.gl.info,i.addEventListener("fileloader_envloadend",function(e){var t=e.params.data;for(var n in r.performaceInfo.component.totalCount+=t.uuids.length,r.performaceInfo.fragment.totalCount+=t.fragments.length,t.geometries)void 0!==n&&r.performaceInfo.geomtry.totalCount++})},c.BindParam("rd_minorRefresh",function(e){!0===e&&r.minorRenderer.clear()},t.handle),r.renderFragment=function(e){var n,c=e.compid,l=i.getRenderState(c),u=a.Box33D.get();if(A=w.now(),function(e){switch(t.PARAMS.mr_state){case a.ModelRenderState.NORMAL:return!0;case a.ModelRenderState.ISOLATION:return i.getRenderState(e)===t.PARAMS.mr_renderState;default:return!0}}(c))if(l===a.RenderState.VISIBLE){var p=C(e);e.code===a.CodeType3D.Text?i.intersectClippingBox(o.getFragBox(e.fragid,u.makeEmpty(),c),!0)&&r.textRenderer.render(e):r.gl.gumRenderObject(e,s,e.geometry,e.material,null),n=p,e.material.color.setHex(n),r.performaceInfo.fragment.totalRenderCount++,r.performaceInfo.fragment.frameRenderCount++}else if(l===a.RenderState.HIGHLIGHT||l===a.RenderState.TRANSPARENCY){if(e.code===a.CodeType3D.Text)D.copy(e.material),D.color.set(i.getHighlightColor(c)),e.material=D,e.material.needsUpdate=!0,r.textRenderer.render(e);else{var d=R(c,e.material);l===a.RenderState.HIGHLIGHT?d.color.set(i.getHighlightColor(c)):l===a.RenderState.TRANSPARENCY&&(d.transparent=!0,d.opacity=i.getHighlightColor(c),d.color.set(0)),e.material=d,e.material.needsUpdate=!0,r.gl.gumRenderObject(e,s,e.geometry,e.material,null),l===a.RenderState.TRANSPARENCY&&r.gl.context.enable(r.gl.context.DEPTH_TEST)}r.performaceInfo.fragment.totalRenderCount++,r.performaceInfo.fragment.frameRenderCount++}return r.renderTime-=w.now()-A,a.Box33D.back(u),l!==a.RenderState.HIDDEN},r.renderComponent=function(e,t){var n=a.Box33D.get();e.forEach(function(e){(t&&t.intersectsBox(o.getFragBox(e.fragid,n,e.compid))||!t)&&r.renderFragment(e)}),a.Box33D.back(n)},r.renderFragmentWireframe=function(e){var n=e.compid,o=i.getRenderState(n);A=w.now(),o===a.RenderState.VISIBLE&&null!==e.code&&e.geometry&&e.geometry.lineDrawRange&&e.code!==a.CodeType3D.Text&&t.UI.getSystemType()===f.SystemType.ST_3D&&(e.material=_,r.gl.gumRenderObject(e,s,e.geometry,e.material,null)),r.renderTime-=w.now()-A},r.renderComponentWireframe=function(e,t){var n=a.Box33D.get(),i=e.handler;e.forEach(function(e){(t&&t.intersectsBox(o.getFragBox(e.fragid,n.makeEmpty(),i))||!t)&&r.renderFragmentWireframe(e)}),a.Box33D.back(n)},r.update=(E=0,function(){var e;E!==r.frame&&(E=r.frame,(e=r.performaceInfo).frame.count=0,e.fragment.totalRenderCount=0,e.fragment.perFrameRenderCount=0,e.fragment.frameRenderCount=0,r.mainRenderer.update(),r.minorRefresh=!0,r.clear(),r.gl.info.reset(),r.updateState(),r.renderFinished=!0,r.renderBegined=!0,r.dispatchGUMRenderEvent({type:"update"})),r.enableMarkerRefresh()}),r.resize=function(e,t){r.gl.setSize(e,t,!0),r.mainRenderer.resize(e,t),r.minorRenderer.resize(e,t),r.textRenderer.resize(e,t),r.blendRenderer.resize(e,t),r.firstFrame=!0,r.update()},r.enableMarkerRefresh=function(){T.clearMarkerCanvas2D(),T.render()},r.updateState=function(){I()},r.addObject3D=function(e,t){switch(t){case 3:r.minorRenderer.addObject(e),r.minorRefresh=!0}},r.removeObject3D=function(e,t){switch(t){case 3:r.minorRenderer.removeObject(e),r.minorRefresh=!0}},r.addGUMRenderEventListener=r.addEventListener,r.removeGUMRenderEventListener=r.removeEventListener,r.dispatchGUMRenderEvent=r.dispatchEvent;var R=r.getHighlightMaterial=function(e,t){var n=g.get(e);return void 0===n&&(n=a.Material3D.materialId++,g.set(e,n)),r.gl.materialInfos.remove(y),y.copy(t),y.transparent=!0,y.opacity=.8,y.id=n,y};var I=function(){x.position.copy(b).applyQuaternion(i.getProjectRotatioQuaternion().inverse())};function O(){s=i.getBenchCamera()}return n}return i(t,e),t.prototype.render=function(e){this.frame++,this.highResTime=e,this.markerRenderer.animate(),this.beforFrameRender(),this.minorRenderer.render(),this.mainRenderer.render(),this.blendRenderer.render(),this.afterFrameRender()},t.prototype.updatePerformaceFrame=function(){this.renderFinished?(this.performaceInfo.frame.fps=1e3/(this.highResTime-this.renderTime),this.performaceInfo.frame.count++,this.performaceInfo.fragment.perFrameRenderCount=this.performaceInfo.fragment.totalRenderCount/this.performaceInfo.frame.count):this.performaceInfo.frame.fps=60,this.performaceInfo.webglInfo.render.triangles-=4,this.performaceInfo.webglInfo.render.calls-=4},t.prototype.getBenchModel=function(){return this.benchModel},t.prototype.beforFrameRender=function(){this.dispatchEvent({type:"beforframe",info:this.gl.info,gl:this.gl})},t.prototype.afterFrameRender=function(){this.dispatchEvent({type:"afterframe",info:this.gl.info,gl:this.gl})},t.prototype.clear=function(){this.minorRenderer.clear(),this.mainRenderer.clear(),this.textRenderer.clear()},t.prototype.getFrameNumber=function(){return this.frame},t.prototype.dispose=function(){this.modelCamera=null,this.benchModel.dispose(),this.markerRenderer.dispose(),this.minorRenderer.dispose(),this.mainRenderer=null,this.minorRenderer=null,this.blendRenderer=null},t.prototype.breakRender=function(){return this.renderTime<this.renderWireframeTime&&!this.isContinue},t.prototype.breakWireRender=function(){return this.renderTime<0&&!this.isContinue},t.prototype.getRenderInfo=function(){return this.gl.info.render},t.prototype.getPerformanceInfo=function(){return this.performaceInfo},t.prototype.setOverrideMaterial=function(e,t){this.overrideMaterials.set(e,t),this.update()},o([c.ParamExport("rd_performaceInfo",null)],t.prototype,"performaceInfo",void 0),o([c.ParamExport("rd_minorRefresh",!1)],t.prototype,"minorRefresh",void 0),o([c.ParamExport("rd_directionLightIntensity",1)],t.prototype,"dLIntensity",void 0),o([c.ParamExport("rd_ambientLightIntensity",1)],t.prototype,"aLIntensity",void 0),o([c.ParamExport("rd_directionLightColor",8289918)],t.prototype,"dLColor",void 0),o([c.ParamExport("rd_ambientLightColor",14211288)],t.prototype,"aLColor",void 0),o([c.ParamExport("rd_lineColor",7632498)],t.prototype,"lineColor",void 0),o([c.ParamExport("material_state","normal")],t.prototype,"material_state",void 0),t=o([s.Sealed(),c.ApiExport(["enableMarkerRefresh","getFrameNumber","renderComponent","renderComponentWireframe","initLevelsAndGrids","addObject3D","removeObject3D","addGUMRenderEventListener","removeGUMRenderEventListener","dispatchGUMRenderEvent","getRenderInfo","getPerformanceInfo","setOverrideMaterial"],"3D")],t)}(a.EventDispatcher3D);t.Renderer3D=g},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(23),l=n(1),u=n(373),p=n(328),d=n(21),h=n(17),f=n(375),m=n(377),g=n(366),y=function(){return function(e,t,n,r,i){var o=this;this.fileLoader=e,this.newModelId=r,this.envInitialized=!1,this.isDispose=!1;var c=e.modelUrl,u=e.oldModelId,d=i["3D"],h=function(n){o.envInitialized=!0,n.params.data.modelUrl=c,t.addModelEnv(n.params.data,u,r,e),delete n.data,n=null},f=function(e){return a(o,void 0,void 0,function(){var i,o,a,c;return s(this,function(s){for(i=e.data,o=parseInt(i.package),a=0,c=i.vbo.length;a<c;++a)t.addGeometry(i.vbo[a],o+":"+a,u,r);return n.update(),delete e.data,i=null,e=null,[2]})})};function m(){t.modelLoadOver(),g()}function g(){var e=i.UI.getSystemType();e!==l.SystemType.ST_3D&&e!==l.SystemType.ST_2D||(d.removeEventListener("fileloader_envloadend",h),d.removeEventListener("fileloader_geomloadend",f),d.removeEventListener("fileloader_geomallloadend",m))}this.dispose=function(){o.isDispose||(o.init=p.noop,o.isDispose=!0,g(),e.dispose(),e=null,o.fileLoader=null)},this.init=function(){var t=i.UI.getSystemType();t!==l.SystemType.ST_3D&&t!==l.SystemType.ST_2D||(d.addEventListener("fileloader_envloadend",h),d.addEventListener("fileloader_geomloadend",f),d.addEventListener("fileloader_geomallloadend",m)),e.initLoader()}}}();t.GUMModel=y;var v=function(e){function t(t){var r=e.call(this)||this;r.api=t;var i=r,o=!1,a=t["3D"],s=new Map,p=new u.ComponentSet(t);return i.benchBox=new c.Box33D,i.init=function(){var e=function(){var e=!1,t=[];function n(){if(!e&&t.length>0){var n=t.pop(),r=n.newModelId;n.fileLoader.matrix=s.get(r).matrix,n.init(),e=!0,a.dispatchEvent({type:"model_beginload",params:{newId:c.reverseModelId(r)}})}}return i.modelLoadOver=function(){e=!1,n()},function(e){t.push(e),n()}}();i.modelInitLoader=function(i,o,l){if(s.has(o))return console.warn(""),!0;if(o>n.MaxModelNo)return console.error("handler "+o+" max: "+n.MaxModelNo+". min: 0"),!1;var u=new y(i,r,a,o,t);return s.set(o,{model:u,matrix:l,box:new c.Box33D}),a.dispatchEvent({type:"model_add",params:{newId:c.reverseModelId(o)}}),e(u),!0},i.dispose=function(){s.forEach(function(e){e.model.dispose()}),s.clear(),p.dispose()},i.addModelEnv=function(e,t,n,r){var o=s.get(n);if(o){var l=o.box,u=o.matrix,d=c.Box33D.get();l.copy(e.boundingBox),a.dispatchEvent({type:"model_initenv",params:{modelId:t,benchModelId:c.reverseModelId(n),initBox:l,matrix:u}}),i.benchBox.union(d.copy(l).applyMatrix4(u)),a.dispatchEvent({type:"benchbox_change",params:{box:i.benchBox}}),a.initBenchCamera(i.benchBox),p.addModelEnv(e,t,n,r,u),e=null,c.Box33D.back(d)}else console.error("modelId: "+t+" ")},i.addMesh=function(e){h.Util.isArray(e)?e.forEach(function(e){return p.addObject(e)}):p.addObject(e),g.BenchCore.dispatchInnerEvent(t.handle,{type:"resetIterator"})},i.addGeometry=function(e,t,n,r){f.GeometrySet.OverMemory&&h.BrowserInfo.isMobile?(s.get(r).model.dispose(),o||(o=!0,m.spiderBimApp.showToastMessage&&m.spiderBimApp.showToastMessage("")),console.warn("")):p.addGeometry(e,t,n,r),e=null},p.init()},i.removeModel3D=function(e){e=c.reverseModelId(e),s.has(e)&&(s.delete(e),p.removeModelComponent(e),t.UI.getSystemType()!==l.SystemType.ST_3D&&t.UI.getSystemType()!==l.SystemType.ST_2D||(a.home3D(),a.initBenchCamera(a.getBenchBox()),a.dispatchEvent({type:"benchmodel_removemodel",params:{benchModelId:c.reverseModelId(e)}})),t.PARAMS.sr_enable=!0)},i.getBoxByRenderState=function(e,t){return e=void 0===e?c.RenderState.VISIBLE:e,t=void 0===t?new c.Box33D:t,p.forEach(function(n,r){p.getRenderState(r)===e&&p.getComponentBoundingBox(r,t)}),t},i.setRenderState=function(e,t){p.setRenderState(e,t)},i.getRenderState=function(e){return p.getRenderState(e)},i.getComponentSet=function(){return p},i.getComponent=function(e,t,n){var r;switch(n){case!0:r=p.getComponentTranFragment(e);break;case!1:r=p.getComponentOpacFragment(e);break;default:r=p.getComponent(e)}return r.currentEntitieyIndex=void 0===t?0:t,r},i.hiddenAll=function(){p.forEach(function(e,t){p.setRenderState(t,c.RenderState.HIDDEN)}),t.PARAMS.sr_enable=!0,a.update()},i.showAll=function(){p.forEach(function(e,t){p.setRenderState(t,c.RenderState.VISIBLE)}),t.PARAMS.sr_enable=!0,a.update()},i.showComponents=function(e){Array.isArray(e)&&(e.length>0?(i.hiddenAll(),e.forEach(function(e){9!==e.length&&(e=c.atob3D(e)),i.setRenderState(e,c.RenderState.VISIBLE)})):void 0!==e&&(i.hiddenAll(),9!==e.length&&(e=c.atob3D(e)),i.setRenderState(e,c.RenderState.VISIBLE)))},i.getFragBox=function(e,t,n){return p.getFragBox(e,t,n)},i.getModelBoundingBox=function(e){return(new c.Box33D).copy(s.get(e).box).applyMatrix4(s.get(e).matrix)},i.getComponentArea=function(e){return i.getComponent(e).getArea()},i.getElementArea=function(e){return i.getComponent(e).getArea()},i.getComponentVolume=function(e){return i.getComponent(e).getVolume()},i.setBenchKey=function(e,t,n){c.FileLoader3D.appId=e,c.FileLoader3D.ticks=t,c.FileLoader3D.accessToken=n},i.getComponentBoundingBox=function(e,t){return p.getComponentBoundingBox(e,t)},i.getModelMatrix=function(e){var t=s.get(e);if(t)return t.matrix},i.getBenchBox=function(e){return e||(e=new c.Box33D),e.copy(i.benchBox)},i.updateBenchBox=function(){i.benchBox.makeEmpty();var e=c.Box33D.get();return s.forEach(function(t){i.benchBox.union(e.copy(t.box).applyMatrix4(t.matrix))}),a.dispatchEvent({type:"benchbox_change",params:{box:i.benchBox}}),c.Box33D.back(e),i.benchBox},r}var n;return i(t,e),n=t,t.MaxModelNo=65536,t=n=o([p.Sealed(),d.ApiExport(["setRenderState","getRenderState","getBoxByRenderState","removeModel3D","hiddenAll","showAll","showComponents","getModelBoundingBox","modelInitLoader","getComponentArea","getComponentVolume","setBenchKey","getComponentBoundingBox","getModelMatrix","getBenchBox","updateBenchBox"],"3D")],t)}(c.EventDispatcher3D);t.BenchModel3d=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(374),o=n(23),a=n(21),s=n(17),c=n(377),l=n(366),u=function(){function e(e){var t=this;this.api=e;var n=this,r=e["3D"];n.modelIdMap=new Map,n.modelMatrixs=new Map;var a,u=0,p=new i.FragmentSet(r),d=new Map,h=new o.ArrayMap,f=new Map,m=new o.ArrayMap,g=new Map,y=new Map,v=new Map,x=new Map,M=new Map,b=new Map;this.addModelEnv=function(e,i,a,f,v){var M,w,A,_=null===e.fragments.idx2frag?[]:e.fragments.idx2frag,E=e.uuids;if(t.modelIdMap.set(a,i),t.modelMatrixs.set(a,null==v?new o.Matrix43D:v),_.map(function(e,t){var r=E[t]+String.fromCharCode(a);d.set(r,e),b.set(r,[0,0,0]),h.has(a)||h.set(a,new o.ArrayMap);var c=h.get(a);s.Util.isArray(e)?(e.forEach(function(e){return c.set(e,r)}),x.set(r,new Set(e))):(c.set(e,r),x.set(r,new Set([e]))),g.has(i)?n.setRenderState(r,o.RenderState.VISIBLE):n.setRenderState(r,o.RenderState.UNDONE)}),u+=_.length,y.set(a,_.length),delete e.fragments.idx2frag,_=null,g.has(i))r.dispatchEvent({type:"fileloader_geomallloadend",params:{url:f.modelUrl,viewId:f.viewId,newModelId:o.reverseModelId(a)}}),s.BrowserInfo.isMobile&&c.spiderBimApp&&c.spiderBimApp.modelLoadFinished&&c.spiderBimApp.modelLoadFinished();else{g.has(i)||g.set(i,[]),g.get(i).push(a);var D=new o.ArrayMap(e.geometries);m.set(i,D),p.addModelEnv(e,i),f.loadGeometries(e.packages)}l.BenchCore.dispatchInnerEvent(n.api.handle,{type:"resetIterator"}),M=o.Box33D.get(),w=o.Vector33D.get(),A=r.getBenchBox(M).getCenter(o.Vector33D.get()),b.forEach(function(e,t){n.getComponentBoundingBox(t,M.makeEmpty()),M.getCenter(w),w.sub(A),e[0]=w.x,e[1]=w.y,e[2]=w.z}),n.setExplosionEnable(!1),o.Box33D.back(M),o.Vector33D.back(w),o.Vector33D.back(A),e=null},this.getCount=function(){return u},this.addGeometry=function(e,t,n,r){if(a=function(e,t){if(m.has(t))return m.get(t).get(e)}(t,n),s.Util.isUndefined(a))console.warn("hash is unvalid! ["+t+"]");else{p.addGeometry(e,a,n);var i=p.getFragIdsByGeomId(a,n);s.Util.isArray(i)?i.forEach(function(e){return R(e,r,o.RenderState.VISIBLE)}):R(i,r,o.RenderState.VISIBLE),e=null}},this.forEach=function(e){d.forEach(e)};var w,A=new o.Component3D,_=new o.Component3D,E=new o.Component3D,D=function(e){return w||(w={code:null,ibg:null,compid:null,material:null,matrixWorld:new o.Matrix43D,fragid:null,codeName:null}),w.code=null,w.compid=e,w};function S(e,t,r){return p.getFragment(n.modelIdMap.get(e),t,r),r.fragid=t,r.matrixWorld.premultiply(O(e,r.compid)),r}this.getComponent=function(e){var t=o.getCompomentType(e);switch(A.handler=e,A.state=n.getRenderState(e),A.reset(),t){case o.ComponentType.THREEJS:var r=p.getD3Entity(e);return s.Util.isArray(r)?r.forEach(function(e){A.pushEntites(e.getIGUMEntity3D())}):A.pushEntites(r.getIGUMEntity3D()),A;default:var i=d.get(e),a=o.getCompomentType(e);return s.Util.isArray(i)?i.forEach(function(t){A.pushEntites(S(a,t,D(e)))}):A.pushEntites(S(a,i,D(e))),A}},this.getComponentTranFragment=function(e){return n.getComponent(e),_.handler=A.handler,_.state=A.state,_.clearEntities(),A.forEach(function(e){return e.material&&!0===e.material.transparent&&e.material.opacity<1&&_.pushEntites(e.getIGUMEntity3D()),!0}),_},this.getComponentOpacFragment=function(e){return n.getComponent(e),E.handler=A.handler,E.state=A.state,E.clearEntities(),A.forEach(function(e){return e.material&&!0!==e.material.transparent&&E.pushEntites(e.getIGUMEntity3D()),!0}),E};var P,T,C=0;function R(e,t,r){if(h.has(t)){var i=h.get(t).get(e);if(i){var o=x.get(i);o&&(o.delete(e),0===o.size&&(n.setRenderState(h.get(t).get(e),r),x.delete(i)))}}}function I(e,t,r,i){r.union(p.getFragBox(n.modelIdMap.get(e),t).applyMatrix4(O(e,i)))}function O(e,t){var r=o.Matrix43D.back(o.Matrix43D.get());return r.copy(n.modelMatrixs.get(e)).setPosition(o.Vector33D.back(o.Vector33D.get()).set(r.elements[12]+b.get(t)[0],r.elements[13]+b.get(t)[1],r.elements[14]+b.get(t)[2]))}this.addObject=function(e){var t=String(C++)+String.fromCharCode(o.ComponentType.THREEJS);return p.addD3Entity(t,e),d.set(t,[]),n.setRenderState(t,o.RenderState.VISIBLE),t},this.getRenderState=function(e){return f.get(e)},this.setRenderState=function(e,t){s.Util.isArray(e)?e.forEach(function(e){n.updateStateInfo(f.get(e),t),f.set(e,t)}):(n.updateStateInfo(f.get(e),t),f.set(e,t))},this.dispose=function(){p.dispose(),d.clear(),h.clear(),f.clear(),m.clear()},this.getComponentBoundingBox=function(e,t){switch(t||(t=new o.Box33D),o.getCompomentType(e)){case o.ComponentType.THREEJS:p.getMeshBox(e,t);break;default:var n=d.get(e),r=o.getCompomentType(e);s.Util.isArray(n)?n.forEach(function(n){return I(r,n,t,e)}):I(r,n,t,e)}return t},this.getTranFragmentBoundingBox=function(e,t){var r;switch(o.getCompomentType(e)){case o.ComponentType.THREEJS:p.getMeshBox(e,t,!0);break;default:var i=d.get(e),a=o.getCompomentType(e),c=n.modelIdMap.get(a);s.Util.isArray(i)?i.forEach(function(n){(r=p.getMaterial(c,n))&&r.transparent&&r.opacity<1&&I(a,n,t,e)}):(r=p.getMaterial(c,i))&&r.transparent&&r.opacity<1&&I(a,i,t,e)}return t},this.getOpaqFragmentBoundingBox=function(e,t){var r;switch(o.getCompomentType(e)){case o.ComponentType.THREEJS:p.getMeshBox(e,t,!1);break;default:var i=d.get(e),a=o.getCompomentType(e),c=n.modelIdMap.get(a);s.Util.isArray(i)?i.forEach(function(n){(r=p.getMaterial(c,n))&&!r.transparent&&I(a,n,t,e)}):(r=p.getMaterial(c,i))&&!r.transparent&&I(a,i,t,e)}return t},this.removeModelComponent=function(e){var t,n=this.modelIdMap;d.forEach(function(t,n){o.getCompomentType(n)===e&&(d.delete(n),f.delete(n))}),y.has(e)&&(u-=y.get(e)),void 0!==(t=n.get(e))&&g.has(t)&&1===g.get(t).length&&(g.delete(t),m.delete(t),p.removeFragment(t))},this.setExplosionEnable=(T=!1,function(n,i){if(P||(P=new Map),P.size!==b.size&&(P.clear(),b.forEach(function(e,t){P.set(t,e.slice())})),i=void 0!==i&&i>1&&i<3?i:2,!0===n?b.forEach(function(e,t){var n=P.get(t);e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i}):b.forEach(function(e){e[0]=0,e[1]=0,e[2]=0}),T!==n){l.BenchCore.dispatchInnerEvent(e.handle,{type:"resetboundingbox"}),r.update(),T=n;var a=o.Box33D.get();r.dispatchEvent({type:"benchbox_change",params:{box:r.getBoxByRenderState(o.RenderState.VISIBLE,a)}}),t.api.PARAMS.sr_enable=!0,o.Box33D.back(a)}}),this.init=function(){p.init(),r.getPerformanceInfo&&(r.getPerformanceInfo().component.stateInfo=M)},this.getFragBox=function(e,t,n){return I(o.getCompomentType(n),e,t,n),t},this.getComponentLayer=function(e){var t=v.get(e);return void 0===t&&(t=0,v.set(e,t)),t},this.setComponentLayer=function(e,t){v.set(e,t)},this.getMaterial=function(e,t){return p.getMaterial(n.modelIdMap.get(o.getCompomentType(e)),t)},this.getModelEntity=function(e,t,n){var r=D(e);return S(o.getCompomentType(e),t,r),null!==r.code?n.setFromIGUMEntity3D(r):n.code=null,n},this.updateStateInfo=function(e,t){e!==t&&(M.has(t)?M.set(t,M.get(t)+1):M.set(t,1),void 0!==e&&M.set(e,M.get(e)-1))},this.compSetForEach=this.forEach,this.getComponentCount=this.getCount,this.getFragmentMaterial=this.getMaterial}return e.ComponentId=0,e=r([a.ApiExport(["compSetForEach","getComponent","getComponentCount","getComponentTranFragment","getComponentOpacFragment","setExplosionEnable","getComponentLayer","setComponentLayer","getFragmentMaterial","getFragBox","getModelEntity"],"3D")],e)}();t.ComponentSet=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(375),i=n(376),o=n(23),a=n(17),s=function(){return function(e){var t=0,n=new o.ArrayMap,s=new o.ArrayMap,c=new o.ArrayMap,l=new o.ArrayMap,u=new o.ArrayMap,p=new o.ArrayMap,d=new o.ArrayMap,h=new o.ArrayMap,f=new r.GeometrySet(e),m=new i.MaterialSet(e),g=new Map;function y(e,t){if(p.has(t))return p.get(t)[e]}function v(e,t,n){var r=n.get(e);if(r)return r[t]}this.addModelEnv=function(e,r){var i=e.fragments;n.set(r,i.bbox),s.set(r,i.facets),c.set(r,i.frag2mesh),u.set(r,i.transform),l.set(r,i.materialIdx),p.set(r,i.mesh2frag),d.set(r,i.length),h.set(r,0),m.setModelUrl(e.modelUrl),m.add(e.materials,r),t+=i.length,e=null},this.getCount=function(){return t},this.addGeometry=function(e,t,n){var r=y(t,n);if(void 0!==r){var i=0,a=h.get(n);i=void 0===r.length?1:r.length,a&&h.set(n,a+i),f.add(e,o._Math.leftShift(n,44)+t)}else console.warn("Add geometry failed in [ "+t+" ] [ "+n+" ]");e=null},this.getFragment=function(e,t,n){var r=v(e,t,c),i=v(e,t,l);if(x(e,t,n.matrixWorld),void 0!==r){var o=f.get(r,e);void 0!==o&&(n.ibg=o,n.code=o.code)}return void 0!==i&&(n.material=m.get(i,e)),n},this.getD3Entity=function(e){return g.get(e)},this.addD3Entity=function(e,t){var n=new o.Entity3D(t.code);n.geometry=t.geometry,n.material=t.material,n.matrix=t.matrix,n.matrixWorld=t.matrixWorld,g.set(e,n)};var x=function(e,t,n){for(var r=u.get(e),i=16*t,o=0;o<16;++o)n.elements[o]=r[i+o];r=null};this.dispose=function(){f.dispose(),m.dispose(),n.clear(),s.clear(),c.clear(),l.clear(),u.clear(),p.clear(),d.clear(),h.clear(),g.forEach(function(e){a.Util.isArray(e)?e.forEach(function(e){e.geometry.dispatchEvent({type:"dispose"}),e.material.dispatchEvent({type:"dispose"})}):(e.geometry.dispatchEvent({type:"dispose"}),e.material.dispatchEvent({type:"dispose"}))})};var M=new o.Box33D;function b(e,t,n){if(e.geometry){switch(e.geometry.boundingBox||e.geometry.computeBoundingBox(),n){case!0:if(e.material&&!0!==e.material.transparent)return;break;case!1:if(e.material&&!0===e.material.transparent)return}t.union(e.geometry.boundingBox)}}this.getFragBox=function(e,t){var r=6*t,i=n.get(e);return M.min.set(i[r],i[r+1],i[r+2]),M.max.set(i[r+3],i[r+4],i[r+5]),M},this.getMeshBox=function(e,t,n){if(g.has(e)){var r=g.get(e);a.Util.isArray(r)?r.forEach(function(e){b(e,t,n)}):b(r,t,n)}return t},this.getMaterial=function(e,t){return m.get(l.get(e)[t],e)},this.removeFragment=function(e){f.removeGeometries(e),m.removeMaterials(e)},this.init=function(){f.init()},this.getFragIdsByGeomId=y}}();t.FragmentSet=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(17),o=function(){function e(t){var n=new r.ArrayMap,i=new Map,o=new Map,a=new Map,s=[],c=new Map,l=new r.BufferGeometry3D;function u(t){if(t.code!==r.CodeType3D.Text){if(!0!==t.shared){var n=t.attributes.get("position");n&&n.array&&(t.index&&t.index.array&&(e.BufferSize-=t.index.array.byteLength),e.BufferSize-=n.array.byteLength,e.bufferCount--),e.BufferSize<e.MaxBufferSize&&e.bufferCount<e.MaxBufferCount&&(e.OverMemory=!1)}t.dispatchEvent({type:"dispose"}),t.attributes.forEach(function(e){e.dispose()}),t.index&&t.index.dispose(),t.attributes.clear()}}function p(t,n,i,o,a,c){t.indices?t.drawRange={start:i.length,count:t.indices.length}:t.drawRange={start:n.length/t.strides,count:t.vb.length/t.strides},y(function(t,n,i,o,a,c){var l=n.length/t.strides,u=t.vb,p=t.indices?t.indices:new Uint16Array(0);p.length>0&&t.objectType.type===r.ObjectDefinition.Geometry3D&&function(t,n,i,o){var a=h(t);a.addAttribute("position",new r.InterleavedBufferAttribute3D(new r.InterleavedBuffer3D(t.vb,i),3,0,!1)),a.setIndex(t.indices),e.createLineIndex(a,s,!1);var c=n.length;s.forEach(function(e){n.push(e+o)}),t.lineDrawRange={start:c,count:s.length},s.length=0,a.attributes.clear(),a.index=null,a.attributes=null}(t,o,c,l);switch(a){case 0:u.forEach(function(e){return n.push(e)}),p.forEach(function(e){return i.push(e+l)});break;case 1:u.forEach(function(e,t){if(t%c<6)return n.push(e)}),p.forEach(function(e){return i.push(e+l)}),t.attributes&&t.attributes.uv&&(t.attributes.uv=null);break;case 2:u.forEach(function(e,t){if(t%c<3||t%c>5)return n.push(e)}),p.forEach(function(e){return i.push(e+l)}),t.attributes&&t.attributes.normal&&(t.attributes.normal=null),t.attributes&&t.attributes.uv&&(t.attributes.uv.offset=3);break;case 3:u.forEach(function(e,t){if(t%c<3)return n.push(e)}),p.forEach(function(e){return i.push(e+l)}),t.attributes&&t.attributes.normal&&(t.attributes.normal=null),t.attributes&&t.attributes.uv&&(t.attributes.uv=null)}return n}(t,n,i,o,a,c)).push(t),t.vb=null,t.indices=null}function d(t,i,o,a){var s=y(t);if(s){var c=new r.InterleavedBuffer3D(new Float32Array(t),a);!function(e,t,n){var r=t.length;n.forEach(function(e){return t.push(e)}),e.forEach(function(e){e.lineDrawRange&&(e.lineDrawRange.start+=r)})}(s,i,o);var l=t.length/a>65535?new r.Uint32BufferAttribute(new Uint32Array(i),1):new r.Uint16BufferAttribute(new Uint16Array(i),1);e.calcBufferSize(c.array,l.array),t.length=0,i.length=0,o.length=0,s.forEach(function(t){!function(t,i,o){var a=h(t);if(t.attributes){var s=t.attributes.position;s&&a.addAttribute("position",new r.InterleavedBufferAttribute3D(i,s.itemSize,s.offset,!1)),(s=t.attributes.normal)&&a.addAttribute("normal",new r.InterleavedBufferAttribute3D(i,s.itemSize,s.offset,!1)),(s=t.attributes.uv)&&a.addAttribute("uv",new r.InterleavedBufferAttribute3D(i,s.itemSize,s.offset,!1))}else i.array.length>0&&a.addAttribute("position",new r.InterleavedBufferAttribute3D(i,3,0,!1));o.array.length>0&&a.setIndex(o);a.setDrawRange(t.drawRange.start,t.drawRange.count),t.lineDrawRange&&a.setLineDrawRange(t.lineDrawRange.start,t.lineDrawRange.count);e.OverMemory&&(a.shared=!0,a.attributes.forEach(function(e){return e.shared=!0}),a.index&&(a.index.shared=!0));t.objectType.type===r.ObjectDefinition.PolyLine?1===t.objectType.version?a.code=r.CodeType3D.PolyLine:2===t.objectType.version&&(a.code=r.CodeType3D.IndexLine):a.code=r.CodeType3D.Solid3D;a.computeBoundingSphere(),n.set(t.id,a.getIGUMBufferGeometry())}(t,c,l)}),s.length=0}}function h(e){return l.id=e.id,l.boundingBox=null,l.boundingSphere=null,l.attributes=new Map,l.drawRange.start=0,l.drawRange.count=1/0,l.index=null,l}function f(e,t){var n=c.get(e);return void 0===n?((n=new Map).set(t,[]),c.set(e,n)):n.has(t)||n.set(t,[]),c.get(e).get(t)}function m(e,t){var n=o.get(e);return void 0===n?((n=new Map).set(t,[]),o.set(e,n)):n.has(t)||n.set(t,[]),o.get(e).get(t)}function g(e,t){var n=a.get(e);return void 0===n?((n=new Map).set(t,[]),a.set(e,n)):n.has(t)||n.set(t,[]),a.get(e).get(t)}function y(e){var t=i.get(e);return void 0===t&&(t=[],i.set(e,t)),t}this.add=function(t,i){t.id=i,function(t,i){var o=t.strides;t.isText||(i=function(e,t){switch(e.strides){case 8:break;case 6:0===t?t=1:2===t&&(t=3);break;case 5:0===t?t=2:1===t&&(t=3);break;case 3:t=3;break;default:console.error("stribs: "+e.strides+", gemoetry")}switch(t){case 0:e.strides=8;break;case 1:e.strides=6;break;case 2:e.strides=5;break;case 3:e.strides=3}return t}(t,i));if(t.objectType.type===r.ObjectDefinition.Geometry3D){t.type=0;var a=f(t.type,t.strides),s=m(t.type,t.strides),c=g(t.type,t.strides);(a.length+t.vb.length)/t.strides<e.maxVertextCount?p(t,a,s,c,i,o):(a.length>0&&d(a,s,c,t.strides),p(t,a,s,c,i,o))}else if(t.objectType.type===r.ObjectDefinition.PolyLine){if(1===t.objectType.version){t.type=3;var a=f(t.type,t.strides),s=[],c=[];(a.length+t.vb.length)/t.strides<e.maxVertextCount?p(t,a,s,c,i,o):(a.length>0&&d(a,s,c,t.strides),p(t,a,s,c,i,o))}else if(2===t.objectType.version){t.type=4;var a=f(t.type,t.strides),s=m(t.type,t.strides),c=[];(a.length+t.vb.length)/t.strides<e.maxVertextCount?p(t,a,s,c,i,o):(a.length>0&&d(a,s,c,t.strides),p(t,a,s,c,i,o))}}else(t.objectType.type=r.ObjectDefinition.Text)&&n.set(t.id,function(e){return e.textContent=e.textContent.replace("%%130","$"),e.textContent=e.textContent.replace("%%131","$"),e.textContent=e.textContent.replace("%%132","$"),e.textContent=e.textContent.replace("%%133","$"),{code:r.CodeType3D.Text,id:e.id,uuid:r._Math.generateUUID(),drawRange:{start:0,count:1/0},attributes:null,shared:!1,textContext:e.textContent,boundingBox:[0,0,0,0,0,0],boundingSphere:{radius:0,center:[0,0,0]},index:null}}(t))}(t,e.vertexBufferType)},this.get=function(e,t){return n.get(r._Math.leftShift(t,44)+e)},this.dispose=function(){n.foreach(function(e){l.setFromIGUMBufferGeometry(e),u(l)}),n.clear()},this.removeGeometries=function(e){n.foreach(function(t,i){Math.floor(i/r._Math.POW244)===e&&(l.setFromIGUMBufferGeometry(t),u(l),n.delete(i))})},this.init=function(){t.addEventListener("fileloader_geomallloadend",function(){c.forEach(function(e){e.forEach(function(e,t){if(e.length>0&&i.has(e)&&i.get(e).length>0){var n=i.get(e)[0];d(e,m(n.type,n.strides),g(n.type,n.strides),t)}}),e.clear()}),c.clear(),i.clear()})}}return e.calcBufferSize=function(t,n){return!1===e.OverMemory&&(e.BufferSize+=t.byteLength,e.BufferSize+=n.byteLength,e.bufferCount++,(e.BufferSize>e.MaxBufferSize||e.bufferCount>e.MaxBufferCount)&&(e.OverMemory=!0)),e.OverMemory},e.MaxBufferSize=i.BrowserInfo.isMobile&&i.BrowserInfo.isIOS?209715200:1073741824,e.MaxBufferCount=i.BrowserInfo.isMobile?i.BrowserInfo.isIOS?1500:25e3:1e5,e.BufferSize=0,e.OverMemory=!1,e.arrays=[],e.bufferCount=0,e.vertexBufferType=0,e.eps=1e-5,e.maxVertextCount=65535,e.normalCompress=!1,e.createLineIndex=function(){var e=new r.Vector33D;function t(e,t,n){for(var i=e.attributes.get("position"),o=i.isBufferAttribute?3:i.data.stride,a=i.isBufferAttribute?0:i.offset,s=i.count,c=i.array,l=new r.Vector33D,u=0;u<s;u++)l.set(c[u*o+a],c[u*o+a+1],c[u*o+a+2]),n&&l.applyMatrix4(n),t(l,u)}function n(n){var i=[],o={},a=1;(n.computeBoundingBox(),n.boundingBox)&&((new r.Box33D).copy(n.boundingBox).getSize(e),a=Math.max(e.x,Math.max(e.y,e.z)));var s=65536/a;return t(n,function(e,t){var n=function(e,t){var n=0|e.x*s,r=0|e.y*s,i=0|e.z*s,a=o[n];a||(o[n]=a={});var c=a[r];c||(a[r]=c={});var l=c[i];return void 0===l&&(c[i]=l=t),l}(e,t);i[t]=n}),i}return function(e,i,o){var a=n(e),s=function(e,n){var r=new Float32Array(3*function(e){return e&&e.attributes&&e.attributes.get("position")?e.attributes.get("position").count:0}(e));return t(e,function(e,t){r[3*t]=e.x,r[3*t+1]=e.y,r[3*t+2]=e.z},n),r}(e,new r.Matrix43D),c={},l=new r.Vector33D,u=new r.Vector33D,p=new r.Vector33D,d=new r.Vector33D,h=new r.Vector33D;function f(e,t){t.x=s[3*e],t.y=s[3*e+1],t.z=s[3*e+2]}function m(e,t,n,r){f(e,l),f(t,u),f(n,p),u.sub(l),p.sub(l),u.cross(p),r.copy(u).normalize()}function g(e,t,n){var r=a[e],s=a[t],l=a[n];if(r!==s&&r!==l&&s!==l){var u=!1;if(r>s){var p=r;r=s,s=p,u=!0}var f=c[r];if(f){var g=f[s];if(void 0===g)f[s]=u?-n-1:n;else{if(o)i.push(e),i.push(t);else{m(e,t,n,d),g<0?m(s,r,a[-g-1],h):m(r,s,a[g],h);var y=d.dot(h);Math.abs(y)<.01&&(i.push(e),i.push(t))}delete f[s]}}else c[r]={},c[r][s]=n}}var y,v,x,M=e.index;if(M)for(var b=M.array,w=0,A=b.length;w<A;w+=3)y=b[w],v=b[w+1],x=b[w+2],g(y,v,x),g(v,x,y),g(x,y,v);for(var _ in c)for(var E in c[_])i.push(parseInt(_)),i.push(parseInt(E));return i}}(),e}();t.GeometrySet=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),a=n(328),s=function(){return function(e){this.core=e;var t=new o.ArrayMap,n=null,s=.001;function c(e,t,s,c){return r(this,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,new Promise(function(e,r){var i=new o.TextureLoader3D,s=n+"/Texc/"+escape(t),c=a.noop;i.load(s,function(t){e(t)},c,function(e){console.warn("load texture error: "+s)})}).then(function(n){n.name=t,n.wrapS=o.Constant.RepeatWrapping,n.wrapT=o.Constant.RepeatWrapping,n.matrix.set(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8]),e[s]=n,n.matrixAutoUpdate=!1,e.needsUpdate=!0})];case 1:return r.sent(),[2]}})})}this.add=function(e,n){e.forEach(function(e,r){r=o._Math.leftShift(n,44)+r,t.has(r)?console.error(r+" has material"):t.set(r,function(e,t){var n=new o.GUMBaseMaterial3D(t);if(n.name=e.name,n.color=new o.Color3D(e.color),n.opacity=e.opacity,n.transparent=e.transparency,n.reflectivity=e.reflectivity,n.emissive.setHex(e.emissive),n.specular.setHex(e.specular),n.side=!0===e.doubleSide?o.Constant.DoubleSide:o.Constant.FrontSide,!0===n.transparent&&n.opacity<.2&&(n.opacity=.2),e.isTextMaterial)switch(n.fontHeight=e.fontHeight,n.fontName=e.fontName,n.height=e.height,n.horizontalAlignment=e.horizontalAlignment,n.isBold=e.isBold,n.isItalic=e.isItalic,n.isTransparent=e.isTransparent,n.isUnderlined=e.isUnderlined,n.textSize=e.textSize,n.verticalAlignment=e.verticalAlignment,n.isTextMaterial=e.isTextMaterial,n.width=e.width,e.fontName){case"simplex":n.fontName="Arial";break;case"":n.fontName="SimHei";break;case"complex":case"Font Creator Program":n.fontName="Arial"}return!0===n.transparent&&Math.abs(n.color.r+n.color.g+n.color.b-3)<s&&n.color.setHex(1127321),n.needsUpdate=!0,void 0!==e.map&&c(n,e.map.path,"map",e.map.transform),void 0!==e.bumpMap&&c(n,e.bumpMap.path,"bumpMap",e.bumpMap.transform),void 0!==e.alphaMap&&c(n,e.alphaMap.path,"alphaMap",e.alphaMap.transform),void 0!==e.normalMap&&c(n,e.normalMap.path,"normalMap",e.normalMap.transform),void 0!==e.displacementMap&&c(n,e.displacementMap.path,"displacementMap",e.displacementMap.transform),void 0!==e.emissiveMap&&c(n,e.emissiveMap.path,"emissiveMap",e.emissiveMap.transform),void 0!==e.envMap&&c(n,e.envMap.path,"envMap",e.envMap.transform),void 0!==e.lightMap&&c(n,e.lightMap.path,"lightMap",e.lightMap.transform),void 0!==e.specularMap&&c(n,e.specularMap.path,"specularMap",e.specularMap.transform),e=null,n}(e,r))}),e=null},this.count=function(){return t.size},this.setModelUrl=function(e){n=e},this.get=function(e,n){return t.get(o._Math.leftShift(n,44)+e)},this.dispose=function(){t.foreach(function(e){return e.dispatchEvent({type:"dispose"})})},this.removeMaterials=function(e){t.foreach(function(n,r){Math.floor(r/o._Math.POW244)===e&&(n.dispatchEvent({type:"dispose"}),t.delete(r))})}}}();t.MaterialSet=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.SpiderBimApp;t.spiderBimApp=r,void 0===r&&(t.spiderBimApp=r={})},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(328),a=n(379),s=n(21),c=n(381),l=n(382),u=n(383),p=n(17),d=function(){function e(e,t){this.renderer=e,this.api=t,this.api3d=t["3D"],this.iterator=new a.OctreeIterator(t,e,0),this.animateIterator=new a.OctreeIterator(t,e,1),this.frustum=new i.Frustum3D,this.shadowRender=new l.ShadowRenderer(e,t),this.groundRenderer=new c.GroundRenderer(e,t,this.shadowRender.shadowRenderTarget),this.raycasterRender=new u.RaycasterRenderer(e,t),this.scene=new i.Scene3D}return e.prototype.init=function(){this.gl=this.renderer.gl,this._gl=this.gl.context,this.model=this.renderer.getBenchModel();var e=this.api.PARAMS.eg_frameBufferMultiple,t=this.api.UI.getSize();this.mainRenderTarget=new i.WebGLRenderTarget(t.width*e,t.height*e,{minFilter:i.Constant.LinearFilter,magFilter:i.Constant.LinearFilter,format:i.Constant.RGBAFormat,stencilBuffer:!1,depthBuffer:!0,depthTexture:new i.DepthTexture}),this.mainRenderTarget.depthTexture.type=i.Constant.UnsignedIntType,this.mainAnimationRenderTarget=new i.WebGLRenderTarget(t.width*e,t.height*e,{minFilter:i.Constant.LinearFilter,magFilter:i.Constant.LinearFilter,format:i.Constant.RGBAFormat,stencilBuffer:!1,depthBuffer:!0,depthTexture:new i.DepthTexture}),this.mainAnimationRenderTarget.depthTexture.type=i.Constant.UnsignedIntType,this.iterator.init(),this.animateIterator.init(),this.groundRenderer.init(),this.groundRenderer.target=this.mainRenderTarget,this.groundRenderer.groundPlan.material.map=this.shadowRender.shadowRenderTarget.texture,this.shadowRender.init(),this.raycasterRender.init(),this.eventDataCache=this.api.PARAMS.eventDataCache},e.prototype.renderWireframe=function(e,t){var n=e.getRenderContexts(),r=this.model.getComponentSet(),o=i.Component3D.entity,a=this.renderer;for(this.raycasterRender.InputRenderInfo(n),this.gl.setRenderTarget(t);n.length>0&&!a.breakWireRender();){var s=n.pop();r.getModelEntity(s.hr,s.fragId,o),a.renderFragmentWireframe(o)}},e.prototype.renderHighlight=function(e){this.gl.setRenderTarget(e),this.api3d.renderHighlight()},e.prototype.render=function(){var e=this.iterator,t=this.renderer,n=this.api3d.getBenchCamera(),r=this.setFrustum(n);t.isContinue=!1,this.shadowRender.render(),t.renderTime=t.highResTime,t.renderWireframeTime=.2*t.renderTime,this.gl.render(this.scene,n,this.mainRenderTarget),t.renderBegined&&(t.renderBegined=!1,t.dispatchGUMRenderEvent({type:"renderbegin"}),this.groundRenderer.render()),this.renderModel(n,r,e,t),e.done()&&(this.renderAnimation(),this.raycasterRender.render()),this.renderHighlight(this.mainRenderTarget)},e.prototype.renderModel=function(e,t,n,r){for(;!n.done();)if(this.renderBatch(n.next(t),e,this.mainRenderTarget),r.breakRender()){n.forward();break}this.renderWireframe(n,this.mainRenderTarget)},e.prototype.renderAnimation=function(){var e=this.animateIterator,t=this.renderer,n=this.api3d.getBenchCamera(),r=this.setFrustum(n);for(t.isContinue=!0,this.gl.clearTarget(this.mainAnimationRenderTarget);!e.done();)this.renderBatch(e.next(r),n,this.mainAnimationRenderTarget);this.renderWireframe(e,this.mainAnimationRenderTarget),e.reset(),t.updatePerformaceFrame(),t.renderFinished&&(t.renderFinished=!1,t.dispatchGUMRenderEvent({type:"renderfinish"})),t.isContinue=!1},e.prototype.renderBatch=function(e,t,n){this.gl.gumRender(e,t,n)},e.prototype.resize=function(e,t){var n=this.api.PARAMS.eg_frameBufferMultiple;this.mainRenderTarget.setSize(e*n,t*n),this.mainAnimationRenderTarget.setSize(e*n,t*n),this.raycasterRender.resize(e,t)},e.prototype.clear=function(){var e=i.Color3D.get().setHex(this.api.PARAMS.eg_clearColor);this.gl.setClearColor(e,this.api.PARAMS.eg_clearOpacity),this.gl.clearTarget(this.mainRenderTarget),e.setHex(0),this.gl.setClearColor(e,0),this.gl.clearTarget(this.mainAnimationRenderTarget),this.raycasterRender.clear(),i.Color3D.back(e)},e.prototype.dispose=function(){this.iterator.dispose(),this.animateIterator.dispose(),this.raycasterRender.dispose(),this.shadowRender.dispose(),this.groundRenderer.dispose()},e.prototype.update=function(){this.iterator.reset(),this.animateIterator.reset()},e.prototype.setFrustum=function(e){var t=i.Matrix43D.get().multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse);return this.frustum.setFromMatrix(t),i.Matrix43D.back(t),this.frustum},e.prototype.raycast=function(e,t,n){var r=this;(void 0===n&&(n=!1),this.eventDataCache.pick.id&&!p.BrowserInfo.isIOS)?this.api3d.getComponent(this.eventDataCache.pick.id).forEach(function(e){var n=e.getMeshIntersectPoint(r.eventDataCache.pick.point,!1);n&&t.push(n)}):n||(this.iterator.raycast(e,t),this.animateIterator.raycast(e,t));return t.sort(function(e,t){return e.distance-t.distance})},e.prototype.regionRaycast=function(e,t,n){this.iterator.regionRaycast(e,t,n),this.animateIterator.regionRaycast(e,t,n)},r([s.ParamExport("mr_state",i.ModelRenderState.NORMAL)],e.prototype,"state",void 0),r([s.ParamExport("mr_renderState",i.RenderState.VISIBLE)],e.prototype,"renderState",void 0),e=r([o.Sealed(),s.ApiExport(["raycast","regionRaycast"],"3D")],e)}();t.MainRenderer=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(380),a=n(328),s=n(21),c=n(17),l=n(366),u=function(){function e(e,t,n){var r=this;this.api=e,this.isOctree=!0,this.tranComponentCount=0,this.opaqComponentCount=0,this.renderBatchCount=0;var a,s,u,p,d=this,h=e["3D"],f=0,m=[],g=[];d.init=function(){this.batchSet=new Set,p=t.getBenchModel(),a=new i.Queue,s=new o.Batch3d(t,d),u=new o.Batch3d(t,d),l.BenchCore.addInnerEventListener(e.handle,"resetIterator",function(){var e=[],t=[];f=0,d.batchSet.clear();var r=new i.Box33D;h.compSetForEach(function(i,o){if(h.getComponentLayer(o)===n){if(c.Util.isArray(i))i.map(function(n){var r=h.getFragmentMaterial(o,n);(!0===r.transparent&&r.opacity<1?t:e).push({componentId:o,fragmentId:n})});else{var a=h.getFragmentMaterial(o,i);(!0===a.transparent&&a.opacity<1?t:e).push({componentId:o,fragmentId:i})}h.getComponentBoundingBox(o,r)}}),s.dispose(),u.dispose(),u.setBoundingBox(r),s.setBoundingBox(r),A(t,s,r,!0),d.tranComponentCount=f,A(e,u,r,!1),d.opaqComponentCount=f-d.tranComponentCount,h.update()}),l.BenchCore.addInnerEventListener(e.handle,"resetboundingbox",function(){function e(t){t.boundingBox.makeEmpty(),t.handlers.forEach(function(e){p.getFragBox(e.fragmentId,t.boundingBox,e.componentId)}),t.children.forEach(function(n){e(n),t.boundingBox.union(n.boundingBox)})}e(u),e(s)})},d.reset=function(){a.clear(),a.push(u.reset()),e.PARAMS.mr_renderState=i.RenderState.VISIBLE,d.renderBatchCount=0},d.next=function(e){return d.batch=a.shift(),d.pushBatchChirden(e),d.pushTranBatch(),d.renderBatchCount++,d.batch},d.done=function(){return 0===a.size},d.forward=function(){d.batch.done()||a.forward(d.batch)},d.pushBatchChirden=function(e){d.batch.children.forEach(function(t){e.intersectsBox(t.getBoundingBox())&&a.push(t.reset())})},d.pushTranBatch=function(){if(d.done()&&!1===d.batch.isTran)a.push(s.reset());else if(d.done()&&!0===d.batch.isTran)switch(e.PARAMS.mr_state){case i.ModelRenderState.ISOLATION:return void(e.PARAMS.mr_renderState===i.RenderState.VISIBLE?(e.PARAMS.mr_renderState=i.RenderState.TRANSPARENCY,a.push(u.reset())):e.PARAMS.mr_renderState=i.RenderState.VISIBLE)}},d.getRenderContexts=function(){return m},d.pushRenderContext=function(e,t,n,r){m.push({hr:e,isTran:t,index:n,fragId:r})},d.dispose=function(){a.clear(),a=null,m.length=0,m=null,d.batchSet.clear(),d.batchSet=null,u.dispose(),s.dispose()},d.raycast=function(e,t){var n=i.Box33D.get(),r=i.Matrix43D.get();t||(t=[]);var a=[u,s];for(o.Batch3d.compIdSet.clear();a.length>0;){var c=a.pop();c.rayCast(e,t)&&c.children.map(function(e){return a.push(e)})}return t.forEach(function(e){h.intersectClippingBox(e.point)&&g.push(e)}),t.length=0,t.push.apply(t,g),g.length=0,i.Box33D.back(n),i.Matrix43D.back(r),t},d.regionRaycast=function(){var e=[];return function(t,n,r){var a=h.getBenchCamera(),c=i.Box33D.get(),l=i.Matrix43D.get();o.Batch3d.compIdSet.clear();for(var p=[u,s];p.length>0;){var d=p.pop();d.regionRaycast(t,n,r,a)&&p.push.apply(p,d.children)}var f=i.Box33D.get();n.map(function(t){h.intersectClippingBox(h.getComponentBoundingBox(t,f.makeEmpty()),r)&&e.push(t)}),n.length=0,e.forEach(function(e){return n.push(e)}),e.length=0,i.Box33D.back(c),i.Box33D.back(f),i.Matrix43D.back(l)}}();var y=new i.Queue;function v(e,t){var n=i.Box33D.get(),r=i.Box33D.get();p.getFragBox(e.fragmentId,n.makeEmpty(),e.componentId),p.getFragBox(t.fragmentId,r.makeEmpty(),e.componentId);var o=r.getVolume()-n.getVolume();return i.Box33D.back(n),i.Box33D.back(r),o}var x=new i.Vector33D,M=new i.Vector33D,b=[x,M];function w(e,n,r){var a=[],s=[],c=[],l=[],u=[],h=[],m=[],g=[],w=new i.Box33D,A=new i.Box33D,_=new i.Box33D,E=new i.Box33D,D=new i.Box33D,S=new i.Box33D,P=new i.Box33D,T=new i.Box33D;!function(e,t,n,r,i,o,a,s,c){e.getCenter(x);var l=e.max.x,u=e.max.y,p=e.max.z,d=e.min.x,h=e.min.y,f=e.min.z;M.set(l,u,p),t.setFromPoints(b),M.set(l,u,f),n.setFromPoints(b),M.set(l,h,p),r.setFromPoints(b),M.set(l,h,f),i.setFromPoints(b),M.set(d,u,p),o.setFromPoints(b),M.set(d,u,f),a.setFromPoints(b),M.set(d,h,p),s.setFromPoints(b),M.set(d,h,f),c.setFromPoints(b)}(r,w,A,_,E,D,S,P,T);var C,R=new i.Box33D;e.forEach(function(e){p.getFragBox(e.fragmentId,R.makeEmpty(),e.componentId),w.containsBox(R)?a.push(e):A.containsBox(R)?s.push(e):_.containsBox(R)?c.push(e):E.containsBox(R)?l.push(e):D.containsBox(R)?u.push(e):S.containsBox(R)?h.push(e):P.containsBox(R)?m.push(e):T.containsBox(R)?g.push(e):n.add(e)}),n.handlers.sort(v),a.length>0&&(C=new o.Batch3d(t,d,[],w.clone()),y.push({node:C,hrs:a,box:w}),n.addChild(C)),s.length>0&&(C=new o.Batch3d(t,d,[],A.clone()),y.push({node:C,hrs:s,box:A}),n.addChild(C)),c.length>0&&(C=new o.Batch3d(t,d,[],_.clone()),y.push({node:C,hrs:c,box:_}),n.addChild(C)),l.length>0&&(C=new o.Batch3d(t,d,[],E.clone()),y.push({node:C,hrs:l,box:E}),n.addChild(C)),u.length>0&&(C=new o.Batch3d(t,d,[],D.clone()),y.push({node:C,hrs:u,box:D}),n.addChild(C)),h.length>0&&(C=new o.Batch3d(t,d,[],S.clone()),y.push({node:C,hrs:h,box:S}),n.addChild(C)),m.length>0&&(C=new o.Batch3d(t,d,[],P.clone()),y.push({node:C,hrs:m,box:P}),n.addChild(C)),g.length>0&&(C=new o.Batch3d(t,d,[],T.clone()),y.push({node:C,hrs:g,box:T}),n.addChild(C)),f+=n.handlers.length}var A=function(e,t,n,i){var o;y.push({node:t,hrs:e,box:n});for(var a=function(){var n=o.node;if(n.isTran=i,r.batchSet.add(o.node),o.hrs.length<256){if(n.setHandlers(o.hrs),f+=o.hrs.length,n.handlers.sort(v),n.setBoundingBox(o.box),t.getBoundingBox().isEmpty()){var a=t.getBoundingBox();e.forEach(function(e){p.getFragBox(e.fragmentId,a,e.componentId)})}}else w(o.hrs,n,o.box)};void 0!==(o=y.shift());)a()}}return e=r([a.Sealed(),s.ApiExport(["addIteratorEventListener","dispatchteratorEventListener","removeIteratorEventListener"],"3D")],e)}();t.OctreeIterator=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(23),o=function(){function e(t,n,o,a,s){var c=this;this.camera=null,this.currentComp=0,this.currentEntityIndex=0;var l=this,u=this.handlers=void 0!==o?o:[],p=this.boundingBox=void 0!==a?a:new r.Box33D,d=this.children=void 0!==s?s:[],h=t.getBenchModel(),f=h.getComponentSet(),m=new r.Sphere3D,g=new i.Vector33D;this.add=function(e){u.push(e)},this.forEach=function(e,t,n){for(t&&t(l);l.currentComp<u.length&&!e(u[l.currentComp++]););n&&n(l)},this.count=function(){return u.length},this.dispose=function(){u.length=0,u=null},this.getBoundingBox=function(){return p},this.setBoundingBox=function(e){p.copy(e)},this.addChild=function(e){d.push(e)},this.getHandlers=function(){return u.slice()},this.setHandlers=function(e){e&&(u.length=0,e.forEach(function(e){u.push(e)}))},this.copy=function(e){p=(new r.Box33D).copy(e.getBoundingBox()),u=e.getHandlers(),d=e.getChildren()},this.getChildren=function(){return d.slice()},this.rayCast=function(t,n){if(t.intersectBox(c.boundingBox)){var i=r.Box33D.get(),o=r.Component3D.entity;return c.handlers.forEach(function(a){e.compIdSet.has(a.componentId)||h.getRenderState(a.componentId)!==r.RenderState.VISIBLE||(f.getModelEntity(a.componentId,a.fragmentId,o),t.ray.intersectSphere(f.getComponentBoundingBox(a.componentId,i.makeEmpty()).getBoundingSphere(m),g)?o.raycastEntity(t,n):e.compIdSet.add(a.componentId))}),r.Box33D.back(i),!0}return!1},this.regionRaycast=function(t,n,i,o){var a=r.Box23D.get(),s=r.Box33D.get();return t.intersectsBox(l.boundingBox.project(o,a))?(l.handlers.forEach(function(c){var l=c.componentId;e.compIdSet.has(l)||(f.getRenderState(c.componentId)===r.RenderState.VISIBLE&&(i&&t.containsBox(f.getComponentBoundingBox(l,s.makeEmpty()).project(o,a))||!i&&t.intersectsBox(f.getComponentBoundingBox(l,s.makeEmpty()).project(o,a)))&&n.push(l),e.compIdSet.add(l))}),!0):(r.Box23D.back(a),r.Box33D.back(s),!1)},this.renderObjects=function(e){var i=!1,o=r.Box33D.get(),a=r.Component3D.entity;i=!e.containsBox(c.getBoundingBox()),l.forEach(function(r){return f.getModelEntity(r.componentId,r.fragmentId,a),null!==a.code&&(i?e.intersectsBox(h.getFragBox(r.fragmentId,o.makeEmpty(),r.componentId))&&t.renderFragment(a)&&n.pushRenderContext(r.componentId,c.isTran,0,r.fragmentId):t.renderFragment(a)&&n.pushRenderContext(r.componentId,c.isTran,0,r.fragmentId),!!t.breakRender()&&(l.currentComp--,!0))}),r.Box33D.back(o)},this.dispose=function(){u.length=0,d.length=0,p.makeEmpty(),this.currentComp=0,this.currentEntityIndex=0},this.done=function(){return this.currentComp===u.length},this.reset=function(){return this.currentComp=0,this.currentEntityIndex=0,this}}return e.compIdSet=new Set,e}();t.Batch3d=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(1),c=n(21),l=function(){function e(e,t,n){this.renderer=e,this.api=t,this.shadowRenderTarget=n,this.api3d=t["3D"],this.scene=new a.Scene3D,this.passScene=new a.Scene3D,this._camera=new a.OrthographicCamera3D(1,-1,-1,1,0,1),this._camera.rotateZ(Math.PI)}var t;return t=e,e.prototype.init=function(){var e=this;this.gl=this.renderer.gl,this.initQuad(),this.initGroundPlan(this._secondTarget),this.api3d.addEventListener("benchbox_change",function(t){e.setGroundPlan(t.params.box,e.api.PARAMS.cameraUp)}),this.api3d.addEventListener("shadow_renderfinished",function(){t(e.api.PARAMS.eg_clearColor)}),c.BindParam("eg_clearColor",function(){e.api.PARAMS.sr_enable=!0},this.api.handle),c.BindParam("cameraUp",function(t){t!==e.api.PARAMS.cameraUp&&e.setGroundPlan(e.api3d.getBenchBox(),t)},this.api.handle);var t=function(t){e.gl.clearTarget(e._firstTarget),e.gl.clearTarget(e._secondTarget),e.update(t),e.quad.material=e._firstGroundMaterial,e.gl.render(e.passScene,e._camera,e._firstTarget),e.quad.material=e._secondGroundMaterial,e.gl.render(e.passScene,e._camera,e._secondTarget)}},e.prototype.initQuad=function(){var e=this.shadowRenderTarget;this._firstTarget=new a.WebGLRenderTarget(e.width,e.height),this._secondTarget=new a.WebGLRenderTarget(e.width,e.height);var t=new a.BufferGeometry3D;t.addAttribute("position",new a.BufferAttribute3D(new Float32Array([-1,3,0,-1,-1,0,3,-1,0]),3)),t.addAttribute("uv",new a.BufferAttribute3D(new Float32Array([0,2,0,0,2,0]),2)),t.setIndex([0,1,2]),this.quad=new a.Mesh3D(t),this.passScene.add(this.quad),this._firstGroundMaterial=new u(e,this.api.PARAMS,1,11),this._secondGroundMaterial=new u(this._firstTarget,this.api.PARAMS,4,11)},e.prototype.initGroundPlan=function(e){this.groundPlan=new a.Mesh3D(new a.PlaneBufferGeometry3D(1,1),new u(e,this.api.PARAMS,1,0)),this.groundPlan.receiveShadow=!0,this.scene.add(this.groundPlan)},e.prototype.render=function(){this.enable&&this.api.UI.getSystemType()===s.SystemType.ST_3D&&(this.groundPlan.material.clipping=this.gl.localClippingEnabled,this.gl.render(this.scene,this.api3d.getBenchCamera(),this.target))},e.prototype.update=function(e){this._firstTarget.setSize(this.shadowRenderTarget.width,this.shadowRenderTarget.height),this._secondTarget.setSize(this.shadowRenderTarget.width,this.shadowRenderTarget.height),this._firstGroundMaterial.update(e),this._secondGroundMaterial.update(e),this.groundPlan.material.update(e)},e.prototype.setGroundPlan=function(e,t){var n=e.getCenter(a.Vector33D.get()),r=e.getSize(a.Vector33D.get());switch(this.groundPlan.position.copy(n),t){case"y":this.groundPlan.position.y-=26*r.y/50,this.groundPlan.rotateX(-Math.PI/2),this.groundPlan.scale.set(r.x,r.z,1).multiplyScalar(this.api.PARAMS.sr_scale);break;case"z":this.groundPlan.position.z-=26*r.z/50,this.groundPlan.scale.set(r.x,r.y,1).multiplyScalar(this.api.PARAMS.sr_scale)}a.Vector33D.back(n),a.Vector33D.back(r)},e.prototype.dispose=function(){this._firstTarget.dispose(),this._secondTarget.dispose()},e.prototype.getPlanGroundRaycastPoint=function(e,n){var r=this.api3d.getBenchCamera(),i=a.Vector23D.get().set(this.api3d.getCanvas2DSizeX(e),this.api3d.getCanvas2DSizeY(n)),o=t.raycaster;o.setFromCamera(i,r);var s=o.intersectObject(this.groundPlan,!0);return a.Vector23D.back(i),s?s[0].point:null},e.prototype.displayGroundPlan=function(e){this.groundPlan.visible=!0===e},e.lodLayers=4,e.lineCount=100,e.raycaster=new a.Raycaster3D,o([c.ParamExport("gr_enable",!1)],e.prototype,"enable",void 0),e=t=o([c.ApiExport(["getPlanGroundRaycastPoint","displayGroundPlan"],"3D")],e)}();t.GroundRenderer=l;var u=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.renderTarget=t,o.params=n,o.ratio=r,o.uniforms={tDiffuse:{},clearColor:{},w:{},h:{},filterNum:{}},o.defines={},o.defines.FLITERNUM=i,o.update(n.eg_clearColor),o.vertexShader="\n            varying vec2 vUv;\n            #include <clipping_planes_pars_vertex>\n\n            void main() {\n                vUv = uv;\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        ",o.fragmentShader="\n            varying vec2 vUv;\n            uniform sampler2D tDiffuse;\n            uniform vec3 clearColor;\n            uniform float w;\n            uniform float h;\n            #include <clipping_planes_pars_fragment>\n\n            vec4 getTextureColor(vec2 vUv) {\n                vec4 diffuse = texture2D(tDiffuse, vUv).rgba;\n\n                if (diffuse.rgb == vec3(0.)) {\n                    diffuse.rgb = clearColor;\n                }\n\n                return diffuse;\n            }\n\n            void main() {\n\n                #include <clipping_planes_fragment>\n                vec4 sum = vec4( 0.0 );\n\n                for (int i = -FLITERNUM; i <= FLITERNUM; ++i) {\n                    for (int j = -FLITERNUM; j <= FLITERNUM; ++j) {\n                        vec2 pos = vec2(float(i) * w, float(j) * h);\n                        sum += getTextureColor(vUv + pos);\n                    }\n                }\n\n                sum /= float((2 * FLITERNUM + 1) * (2 * FLITERNUM + 1));\n\n                gl_FragColor = sum;\n            }\n        ",o}return i(t,e),t.prototype.update=function(e){this.uniforms.tDiffuse.value=this.renderTarget.texture,this.uniforms.clearColor.value=new a.Color3D(e),this.uniforms.w.value=this.ratio/this.renderTarget.width,this.uniforms.h.value=this.ratio/this.renderTarget.height},t}(a.ShaderMaterial3D)},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(23),a=n(21),s=function(){function e(e,t){var n=this;this.renderer=e,this.api=t,this._time=0,this._clear=!1,this.api3d=t["3D"],this.params=this.api.PARAMS;var r=t.UI.getSize(),i=r.width*this.params.eg_frameBufferMultiple,s=r.height*this.params.eg_frameBufferMultiple;this.shadowRenderTarget=new o.WebGLRenderTarget(i,s,{minFilter:o.Constant.LinearFilter,magFilter:o.Constant.LinearFilter,format:o.Constant.RGBAFormat,stencilBuffer:!1}),this.camera=new o.OrthographicCamera3D(i/2,-i/2,-s/2,s/2,0,1),this.scene=new o.Scene3D,a.BindParam("sr_enable",function(e){!0===e&&(n._clear=!0,n.clear())},t.handle),this.renderComponents=[],this.shadowMaterial=new o.GUMBaseMaterial3D(void 0,{color:this.shadowColor})}return e.prototype.dispose=function(){this.shadowRenderTarget.dispose()},e.prototype.clear=function(){var e=o.Color3D.get().set(this.params.eg_clearColor);this.gl.setClearColor(e,this.params.eg_clearOpacity),this.gl.clearTarget(this.shadowRenderTarget),o.Color3D.back(e)},e.prototype.getRenderComponents=function(){var e=this;this.renderComponents.length=0,this.api3d.compSetForEach(function(t,n){var r=e.api3d.getRenderState(n);r!==o.RenderState.VISIBLE&&r!==o.RenderState.HIGHLIGHT&&r!==o.RenderState.TRANSPARENCY||e.renderComponents.push(n)})},e.prototype.render=function(){var e=this;if(this.enable&&this.api.UI.getSystemType()===i.SystemType.ST_3D){var t=performance,n=t.now();for(this.gl.setRenderTarget(this.shadowRenderTarget),this._time=this.renderTime,this._clear&&(this.getRenderComponents(),this._clear=!1);this.renderComponents.length;){var r=this.renderComponents.pop(),a=this.api3d.getComponent(r);if(a&&a.forEach(function(t){t.material=e.shadowMaterial,t.code!==o.CodeType3D.Text&&e.gl.gumRenderObject(t,e.camera,t.geometry,t.material,null)}),this._time-=t.now()-n,n=t.now(),this._time<0)break}0===this.renderComponents.length&&(this.api3d.dispatchEvent({type:"shadow_renderfinished"}),this.api3d.update(),this.params.gr_enable=!0,this.enable=!1)}},e.prototype.setShowCamera=function(e,t){var n=e.getCenter(o.Vector33D.get()),r=this.camera,i=e.getSize(o.Vector33D.get()).multiplyScalar(this.scale),a=o.Vector33D.get();switch(r.position.copy(n),t){case"z":a.copy(i).multiplyScalar(this.size/Math.max(i.x,i.y)),this.shadowRenderTarget.setSize(a.x,a.y),r.left=i.x/2,r.right=-i.x/2,r.top=-i.y/2,r.bottom=i.y/2,r.near=-i.z,r.far=i.z,r.rotation.z=Math.PI;break;case"y":a.copy(i).multiplyScalar(this.size/Math.max(i.x,i.z)),this.shadowRenderTarget.setSize(a.x,a.z),r.left=i.x/2,r.right=-i.x/2,r.top=-i.z/2,r.bottom=i.z/2,r.near=-i.y,r.far=i.y,n.y-=1,r.lookAt(n),r.rotation.z=Math.PI}r.updateProjectionMatrix(),r.updateMatrixWorld(),o.Vector33D.back(i),o.Vector33D.back(n),o.Vector33D.back(a)},e.prototype.init=function(){var e=this;this.gl=this.renderer.gl,this.api3d.addEventListener("benchbox_change",function(t){e.setShowCamera(t.params.box.clone(),e.params.cameraUp)}),this.api3d.addEventListener("fileloader_geomallloadend",function(){e.enable=!0,e.clear(),e._clear=!0}),a.BindParam("cameraUp",function(t){t!==e.params.cameraUp&&e.setShowCamera(e.api3d.getBenchBox(),t)},this.api.handle),this.clear()},r([a.ParamExport("sr_enable",!1)],e.prototype,"enable",void 0),r([a.ParamExport("sr_renderTime",33.3)],e.prototype,"renderTime",void 0),r([a.ParamExport("sr_scale",2)],e.prototype,"scale",void 0),r([a.ParamExport("sr_size",2048)],e.prototype,"size",void 0),r([a.ParamExport("sr_shadowColor",3355443)],e.prototype,"shadowColor",void 0),e=r([a.ApiExport([])],e)}();t.ShadowRenderer=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=n(23),c=function(){function e(e,t){this.renderer=e,this.api=t,this.raycasyerColor=new s.ArrayMap,this.colorMap=new Map,this.api3d=t["3D"],this.params=t.PARAMS,this.scene=new s.Scene3D,this.renderInfos=[],this._time=0;var n=t.UI.getSize();this.frameBufferMultiple=1,n.width*=this.frameBufferMultiple,n.height*=this.frameBufferMultiple,this._target=new s.WebGLRenderTarget(n.width,n.height,{minFilter:s.Constant.LinearFilter,magFilter:s.Constant.LinearFilter,format:s.Constant.RGBAFormat,stencilBuffer:!1,depthBuffer:!0,depthTexture:new s.DepthTexture}),this._depthTarget=new s.WebGLRenderTarget(n.width,n.height,{minFilter:s.Constant.LinearFilter,magFilter:s.Constant.LinearFilter,format:s.Constant.RGBAFormat,stencilBuffer:!1}),this._target.depthTexture.type=s.Constant.UnsignedIntType,this.idMap=new Map,this._material=new l,this.camera=new s.OrthographicCamera3D(-1,1,1,-1,0,1),this.renderInfoSet=new Set}return e.prototype.initQuad=function(e){var t=new s.BufferGeometry3D;t.addAttribute("position",new s.BufferAttribute3D(new Float32Array([-1,3,0,-1,-1,0,3,-1,0]),3)),t.addAttribute("uv",new s.BufferAttribute3D(new Float32Array([0,2,0,0,2,0]),2)),t.setIndex([0,1,2]),this.quad=new s.Mesh3D(t,new u(e)),this.scene.add(this.quad)},e.prototype.init=function(){var e=this;this.gl=this.renderer.gl,this.initQuad(this._target.depthTexture),this.api3d.addEventListener("fileloader_geomallloadend",function(){e.raycasyerColor.clear();var t=1;e.api3d.compSetForEach(function(n,r){e.raycasyerColor.set(t++,r),e.colorMap.set(r,t-1)})})},e.prototype.clear=function(){var e=s.Color3D.get().set(0);this.gl.setClearColor(e,0),this.gl.clearTarget(this._target),this.gl.clearTarget(this._depthTarget),this.renderInfos.length=0,this.renderFinished=!1,s.Color3D.back(e),this.renderInfoSet.clear()},e.prototype.resize=function(e,t){e*=this.frameBufferMultiple,t*=this.frameBufferMultiple,this._target.setSize(e,t),this._depthTarget.setSize(e,t),this.colorBuffer=new p(e,t),this.depthBuffer=new p(e,t)},e.prototype.dispose=function(){this.raycasyerColor.clear(),this._target.dispose(),this.renderInfos.length=0,this.idMap.clear(),this.renderInfoSet.clear()},e.prototype.render=function(){if(this.enable){var e=performance,t=e.now();this.gl.setRenderTarget(this._target);var n=this.api3d.getBenchCamera();this.scene.remove(this.quad),this.gl.render(this.scene,n,this._target);var r=s.Component3D.entity,i=void 0;for(this._time=this.renderTime;(i=this.renderInfos.pop())&&(this.api3d.getModelEntity(i.hr,i.fragId,r),this.setRaycasterMaterial(i.hr,r),r.code!==s.CodeType3D.Text&&this.gl.gumRenderObject(r,n,r.geometry,r.material,null),this._time-=e.now()-t,t=e.now(),!(this._time<0)););0!==this.renderInfos.length||this.renderFinished||(this.scene.add(this.quad),this.gl.render(this.scene,this.camera,this._depthTarget),this.renderFinished=!0,this.readPixelBuffer())}},e.prototype.readPixelBuffer=function(){if(this.colorBuffer){var e=this._target;this.gl.readRenderTargetPixels(e,0,0,e.width,e.height,this.colorBuffer.data),e=this._depthTarget,this.gl.readRenderTargetPixels(e,0,0,e.width,e.height,this.depthBuffer.data),this.colorBuffer.flipY(),this.depthBuffer.flipY()}},e.prototype.GPURaycast=function(e,t,n,r,i){if(this.renderFinished){var o=2*n+1,a=2*r+1;e-=n,t-=r;for(var c=void 0,l=void 0,u=s.Vector33D.get(),p=s.Vector23D.get(),d=this.api3d.getBenchCamera(),h=void 0,f=0;f<o;++f)for(var m=0;m<a;++m){var g=f+e,y=m+t;c=this.getPixelColor(g,y),h=this.getPixelDepth(g,y),this.api3d.setProjectScreenMouse(e,t,p),u.set(p.x,p.y,h).unproject(d),void 0!==(l=this.raycasyerColor.get(c))&&i.push({compId:l,point:u.clone(),indexDistance:Math.sqrt(Math.pow(g-e+n,2)+Math.pow(y-t+r,2))})}return i.sort(function(e,t){return e.indexDistance-t.indexDistance}),s.Vector33D.back(u),s.Vector23D.back(p),this.colorBuffer}},e.prototype.getPixelDepth=function(e,t){var n=this.depthBuffer.getPixelColor(e,t);return(n[0]<<16|n[1]<<8|n[2])/16777215*2-1},e.prototype.getPixelColor=function(e,t){var n=this.colorBuffer.getPixelColor(e,t);return n[0]<<16|n[1]<<8|n[2]},e.prototype.setRaycasterMaterial=function(e,t){this.colorMap.has(e)&&(t.material=this.getRaycasterMaterial(e))},e.prototype.getRaycasterMaterial=function(e){var t=this.idMap.get(e);return void 0===t&&(t=s.Material3D.materialId++,this.idMap.set(e,t)),this.gl.materialInfos.remove(this._material),this._material.setColor(this.colorMap.get(e)),this._material.id=t,this._material.needsUpdate=!0,this._material},e.prototype.InputRenderInfo=function(e){var t=this;e.forEach(function(e){t.renderInfoSet.has(e.hr+e.fragId)||(t.renderInfos.push(e),t.renderInfoSet.add(e.hr+e.fragId))})},o([a.ParamExport("rr_enable",!0)],e.prototype,"enable",void 0),o([a.ParamExport("rr_renderFinished",!1)],e.prototype,"renderFinished",void 0),o([a.ParamExport("rr_renderTime",60)],e.prototype,"renderTime",void 0),e=o([a.ApiExport(["GPURaycast"],"3D")],e)}();t.RaycasterRenderer=c;var l=function(e){function t(){var t=e.call(this)||this;return t.uniforms={color:{value:new s.Color3D}},t.vertexShader="\n            void main() {\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        ",t.fragmentShader="\n            uniform vec3 color;\n\n            void main() {\n                gl_FragColor = vec4(color, 1.0);\n            }\n            ",t}return i(t,e),t.prototype.setColor=function(e){this.uniforms.color.value.set(e)},t}(s.ShaderMaterial3D),u=function(e){function t(t){var n=e.call(this)||this;return n.uniforms={diffuse:{value:t}},n.vertexShader="\n            varying vec2 vUv;\n\n            void main() {\n                vUv = uv;\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        ",n.fragmentShader="\n            varying vec2 vUv;\n            uniform sampler2D diffuse;\n\n            void main() {\n                float depth = texture2D(diffuse, vUv).r * 16777215.;\n                gl_FragColor.r = floor (depth / (256. * 256.)) / 255.;\n                gl_FragColor.g = mod(floor(depth / (256.)), 256.) / 255.;\n                gl_FragColor.b = mod(floor(depth), 256.) / 255.;\n                gl_FragColor.a = 1.;\n                // gl_FragColor = texture2D(diffuse, vUv);\n            }\n        ",n}return i(t,e),t}(s.ShaderMaterial3D),p=function(){function e(e,t){this.width=e,this.height=t,this.data=new Uint8Array(4*e*t),this.tempArray=new Uint8Array(4),this.tempArray1=new Uint8Array(4)}return e.prototype.getPixelColors=function(e,t,n,r,i){for(var o=this.tempArray,a=0;a<n;a++)for(var s=0;s<r;s++)i.setPixelColor(a,s,this.getPixelColor(a+e,s+t,o));return i},e.prototype.getPixelColor=function(e,t,n){var r=this.data,i=4*(t*this.width+e);return(!n||n.length<4)&&(n=this.tempArray),n[0]=r[i],n[1]=r[i+1],n[2]=r[i+2],n[3]=r[i+3],n},e.prototype.setPixelColor=function(e,t,n){if(n.length>=4){var r=this.data,i=4*(t*this.width+e);r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}return this},e.prototype.flipY=function(){for(var e=this.width,t=this.height,n=Math.floor(t/2),r=0;r<n;r++)for(var i=0;i<e;i++)this.swapPixelColor(i,r,i,t-1-r);return this},e.prototype.swapPixelColor=function(e,t,n,r){var i=this.getPixelColor(e,t,this.tempArray),o=this.getPixelColor(n,r,this.tempArray1);this.setPixelColor(e,t,o),this.setPixelColor(n,r,i)},e}();t.ColorBuffer=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(21),a=function(){function e(e,t){this.renderer=e,this.api=t,this.api3d=t["3D"],this.minorScene=new i.Scene3D,this.scenes=[],this.fog=new i.Fog3D(this.fogColor)}return e.prototype.init=function(){var e=this;this.gl=this.renderer.gl;var t=this.api.UI.getSize();this.minorRenderTarget=new i.WebGLRenderTarget(t.width*this.api.PARAMS.eg_frameBufferMultiple,t.height*this.api.PARAMS.eg_frameBufferMultiple,{minFilter:i.Constant.LinearFilter,magFilter:i.Constant.LinearFilter,format:i.Constant.RGBAFormat,stencilBuffer:!1,depthBuffer:!0,depthTexture:new i.DepthTexture}),this.minorRenderTarget.depthTexture.type=i.Constant.UnsignedIntType,o.BindParam("mr_fogColor",function(t){e.fog.color.set(t),e.api.PARAMS.rd_minorRefresh=!0},this.api.handle),o.BindParam("ng_navigateSize",function(t){e.fog.near=1,e.fog.far=t},this.api.handle)},e.prototype.resize=function(e,t){this.minorRenderTarget.setSize(e*this.api.PARAMS.eg_frameBufferMultiple,t*this.api.PARAMS.eg_frameBufferMultiple)},e.prototype.render=function(){var e=this,t=this.gl,n=this.renderer,r=this.api3d.getBenchCamera();if(n.minorRefresh){n.minorRefresh=!1;var i=t.localClippingEnabled;t.localClippingEnabled=!1,t.render(this.minorScene,r,this.minorRenderTarget),this.scenes.map(function(n){return t.render(n,n.camera,e.minorRenderTarget)}),t.localClippingEnabled=i}},e.prototype.clear=function(){var e=i.Color3D.get().setHex(0);this.gl.setClearColor(e,0),this.gl.clearTarget(this.minorRenderTarget),i.Color3D.back(e)},e.prototype.addObject=function(e){this.minorScene.add(e)},e.prototype.removeObject=function(e){this.minorScene.remove(e)},e.prototype.addMinorScene=function(e,t){void 0===t&&(t=!0),t&&(e.fog=this.fog),this.scenes.push(e)},e.prototype.dispose=function(){this.minorScene.dispose(),this.scenes.map(function(e){return e.dispose()})},r([o.ParamExport("mr_fogColor",14935011)],e.prototype,"fogColor",void 0),e=r([o.ApiExport(["addMinorScene"],"3D")],e)}();t.MinorRenderer=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),a=n(386),s=function(){function e(e,t,n,r,i,a){this.mainRenderTarget=e,this.mainAnimationRenderTarget=t,this.minorRenderTarget=n,this.textRenderTarget=r,this.gl=i,this.frameBufferMultipe=a,this.scene=new o.Scene3D,this.camera=new o.OrthographicCamera3D(-1,1,1,-1,0,1);var s=i.getDrawingBufferSize();this.colorRenderTarget=new o.WebGLRenderTarget(s.width*a,s.height*a,{minFilter:o.Constant.LinearFilter,magFilter:o.Constant.LinearFilter,format:o.Constant.RGBAFormat,stencilBuffer:!1}),this.edgeRenderTarget=new o.WebGLRenderTarget(s.width*a,s.height*a,{minFilter:o.Constant.LinearFilter,magFilter:o.Constant.LinearFilter,format:o.Constant.RGBAFormat,stencilBuffer:!1}),this.weightRenderTarget=new o.WebGLRenderTarget(s.width*a,s.height*a,{minFilter:o.Constant.LinearFilter,magFilter:o.Constant.LinearFilter,format:o.Constant.RGBAFormat,stencilBuffer:!1}),this.initQuad(),this.initMaterials(),this.scene.add(this.quad)}return e.prototype.initMaterials=function(){this.blendMaterial=new c(this.mainRenderTarget,this.mainAnimationRenderTarget,this.minorRenderTarget,this.textRenderTarget),this.blendMaterial.defines.BLEND_DEPTH=this.gl.extensions.get("WEBGL_depth_texture")?1:0,this.smaaEdgeMaterial=new u(this.colorRenderTarget),this.smaaWeightMaterial=new d(this.edgeRenderTarget),this.smaaBlendMaterial=new f(this.colorRenderTarget,this.weightRenderTarget)},e.prototype.initQuad=function(){var e=new o.BufferGeometry3D;e.addAttribute("position",new o.BufferAttribute3D(new Float32Array([-1,3,0,-1,-1,0,3,-1,0]),3)),e.addAttribute("uv",new o.BufferAttribute3D(new Float32Array([0,2,0,0,2,0]),2)),e.setIndex([0,1,2]),this.quad=new o.Mesh3D(e)},e.prototype.render=function(){this.quad.material=this.blendMaterial,this.gl.render(this.scene,this.camera,this.colorRenderTarget),this.quad.material=this.smaaEdgeMaterial,this.gl.render(this.scene,this.camera,this.edgeRenderTarget),this.quad.material=this.smaaWeightMaterial,this.gl.render(this.scene,this.camera,this.weightRenderTarget),this.quad.material=this.smaaBlendMaterial,this.gl.render(this.scene,this.camera)},e.prototype.resize=function(e,t){e*=this.frameBufferMultipe,t*=this.frameBufferMultipe,this.colorRenderTarget.setSize(e,t),this.edgeRenderTarget.setSize(e,t),this.weightRenderTarget.setSize(e,t),this.smaaEdgeMaterial.uniforms.resolution.value.set(1/e,1/t),this.smaaWeightMaterial.uniforms.resolution.value.set(1/e,1/t),this.smaaBlendMaterial.uniforms.resolution.value.set(1/e,1/t)},e}();t.BlendRenderer=s;var c=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.mainRenderTarget=t,o.mainAnimationRenderTarget=n,o.minorRenderTarget=r,o.textRenderTargte=i,o.shader=new l,o.setShader(),o.name="blendmaterial",o}return i(t,e),t.prototype.setShader=function(){return this.mainRenderTarget&&this.minorRenderTarget&&(this.uniforms=this.shader.uniforms,this.uniforms.tMainDiffuse.value=this.mainRenderTarget.texture,this.uniforms.tDepthMainDiffuse.value=this.mainRenderTarget.depthTexture,this.uniforms.tAniMainDiffuse.value=this.mainAnimationRenderTarget.texture,this.uniforms.tAniDepthMainDiffuse.value=this.mainAnimationRenderTarget.depthTexture,this.uniforms.tMinorDiffuse.value=this.minorRenderTarget.texture,this.uniforms.tDepthMinorDiffuse.value=this.minorRenderTarget.depthTexture,this.uniforms.tTextDiffuse.value=this.textRenderTargte.texture,this.vertexShader=this.shader.vertexShader,this.fragmentShader=this.shader.fragmentShader,this.defines={BLEND_DEPTH:0}),this},t}(o.ShaderMaterial3D),l=function(e){function t(){var t=e.call(this)||this;return t.defines={},t.uniforms={},t.uniforms.tMainDiffuse={value:{}},t.uniforms.tDepthMainDiffuse={value:{}},t.uniforms.tAniMainDiffuse={value:{}},t.uniforms.tAniDepthMainDiffuse={value:{}},t.uniforms.tMinorDiffuse={value:{}},t.uniforms.tDepthMinorDiffuse={value:{}},t.uniforms.tTextDiffuse={value:{}},t.vertexShader=["varying vec2 vUv;","void main() {","   vUv = uv;","   gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),t.fragmentShader="\n            varying vec2 vUv;\n            uniform sampler2D tMainDiffuse;\n            uniform sampler2D tDepthMainDiffuse;\n            uniform sampler2D tAniMainDiffuse;\n            uniform sampler2D tAniDepthMainDiffuse;\n            uniform sampler2D tMinorDiffuse;\n            // uniform sampler2D tDepthMinorDiffuse;\n            uniform sampler2D tTextDiffuse;\n\n            void main() {\n\n                vec4 diffuse = texture2D(tMainDiffuse, vUv).rgba;\n                vec4 diffuseAni = texture2D(tAniMainDiffuse, vUv).rgba;\n\n                float diffuseAniDepth = texture2D(tAniDepthMainDiffuse, vUv).r;\n                float diffuseDepth = texture2D(tDepthMainDiffuse, vUv).r;\n\n                vec4 diffuse1 = texture2D(tMinorDiffuse, vUv).rgba;\n                // float diffuseDepth1 = texture2D(tDepthMinorDiffuse, vUv).r;\n\n                vec4 diffuse2 = texture2D(tTextDiffuse, vUv).rgba;\n\n                if (BLEND_DEPTH == 1) {\n                    if (diffuseDepth <= diffuseAniDepth) {\n                        gl_FragColor = diffuse;\n                    } else {\n                        gl_FragColor = (1.0 - diffuseAni.a) * diffuse + diffuseAni.a * diffuseAni;\n                    }\n                } else {\n                    gl_FragColor = diffuse;\n                    gl_FragColor = (1.0 - diffuseAni.a) * diffuse + diffuseAni.a * diffuseAni;\n                }\n\n                gl_FragColor = (1.0 - diffuse1.a) * gl_FragColor + diffuse1;\n\n                if (diffuse2.r != 0. || diffuse2.g != 0. || diffuse2.b != 0.) {\n\n                    gl_FragColor = (1.0 - diffuse2.a) * gl_FragColor + diffuse2.a * diffuse2;\n\n                }\n\n            }",t}return i(t,e),t}(a.GUMShader),u=function(e){function t(t){var n=e.call(this)||this;return n.shader=new p,n.shader.uniforms.tDiffuse.value=t.texture,n.shader.uniforms.resolution.value.set(1/512,1/1024),n.needsUpdate=!0,n.uniforms=n.shader.uniforms,n.vertexShader=n.shader.vertexShader,n.fragmentShader=n.shader.fragmentShader,n.defines=n.shader.defines,n}return i(t,e),t}(o.ShaderMaterial3D),p=function(e){function t(){var t=e.call(this)||this;return t.defines={},t.uniforms={},t.defines.SMAA_THRESHOLD="0.1",t.uniforms.tDiffuse={value:{}},t.uniforms.resolution={value:new o.Vector23D},t.vertexShader=["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","void SMAAEdgeDetectionVS( vec2 texcoord ) {","   vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 );","   vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 );","   vOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 );","}","void main() {","   vUv = uv;","   SMAAEdgeDetectionVS( vUv );","   gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),t.fragmentShader=["uniform sampler2D tDiffuse;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {","   vec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );","   vec4 delta;","   vec3 C = texture2D( colorTex, texcoord ).rgb;","   vec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;","   vec3 t = abs( C - Cleft );","   delta.x = max( max( t.r, t.g ), t.b );","   vec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;","   t = abs( C - Ctop );","   delta.y = max( max( t.r, t.g ), t.b );","   vec2 edges = step( threshold, delta.xy );","   if ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )","       discard;","   vec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;","   t = abs( C - Cright );","   delta.z = max( max( t.r, t.g ), t.b );","   vec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;","   t = abs( C - Cbottom );","   delta.w = max( max( t.r, t.g ), t.b );","   float maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );","   vec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;","   t = abs( C - Cleftleft );","   delta.z = max( max( t.r, t.g ), t.b );","   vec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;","   t = abs( C - Ctoptop );","   delta.w = max( max( t.r, t.g ), t.b );","   maxDelta = max( max( maxDelta, delta.z ), delta.w );","   edges.xy *= step( 0.5 * maxDelta, delta.xy );","   return vec4( edges, 0.0, 0.0 );","}","void main() {","   gl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );","}"].join("\n"),t}return i(t,e),t}(a.GUMShader),d=function(e){function t(t){var n=e.call(this)||this;n.shader=new h,n.shader.uniforms.tDiffuse.value=t.texture,n.shader.uniforms.resolution.value.set(1/t.width,1/t.height);var r=new Image;r.src=n.getAreaTexture();var i=new o.Texture;i.name="SMAAPass.area",i.image=r,i.format=o.Constant.RGBAFormat,i.minFilter=o.Constant.LinearFilter,i.generateMipmaps=!1,i.needsUpdate=!0,i.flipY=!1,n.shader.uniforms.tArea.value=i;var a=new Image;a.src=n.getSearchTexture();var s=new o.Texture;return s.name="SMAAPass.search",s.image=a,s.magFilter=o.Constant.NearestFilter,s.minFilter=o.Constant.NearestFilter,s.generateMipmaps=!1,s.needsUpdate=!0,s.flipY=!1,n.shader.uniforms.tSearch.value=s,n.uniforms=n.shader.uniforms,n.defines=n.shader.defines,n.vertexShader=n.shader.vertexShader,n.fragmentShader=n.shader.fragmentShader,n}return i(t,e),t.prototype.getAreaTexture=function(){return"data:image/png;base64,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"},t.prototype.getSearchTexture=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="},t}(o.ShaderMaterial3D),h=function(e){function t(){var t=e.call(this)||this;return t.defines={SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},t.uniforms={tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new o.Vector23D(1/1024,1/512)}},t.vertexShader=["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","varying vec2 vPixcoord;","void SMAABlendingWeightCalculationVS( vec2 texcoord ) {","   vPixcoord = texcoord / resolution;","   vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 );","   vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 );","   vOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );","}","void main() {","   vUv = uv;","   SMAABlendingWeightCalculationVS( vUv );","   gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),t.fragmentShader=["#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )","uniform sampler2D tDiffuse;","uniform sampler2D tArea;","uniform sampler2D tSearch;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[3];","varying vec2 vPixcoord;","vec2 round( vec2 x ) {","return sign( x ) * floor( abs( x ) + 0.5 );","}","float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {","   e.r = bias + e.r * scale;","   return 255.0 * texture2D( searchTex, e, 0.0 ).r;","}","float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","   vec2 e = vec2( 0.0, 1.0 );","   for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","       e = texture2D( edgesTex, texcoord, 0.0 ).rg;","       texcoord -= vec2( 2.0, 0.0 ) * resolution;","       if ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;","   }","   texcoord.x += 0.25 * resolution.x;","   texcoord.x += resolution.x;","   texcoord.x += 2.0 * resolution.x;","   texcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);","   return texcoord.x;","}","float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","   vec2 e = vec2( 0.0, 1.0 );","   for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","       e = texture2D( edgesTex, texcoord, 0.0 ).rg;","       texcoord += vec2( 2.0, 0.0 ) * resolution;","       if ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;","   }","   texcoord.x -= 0.25 * resolution.x;","   texcoord.x -= resolution.x;","   texcoord.x -= 2.0 * resolution.x;","   texcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );","   return texcoord.x;","}","float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","   vec2 e = vec2( 1.0, 0.0 );","   for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","       e = texture2D( edgesTex, texcoord, 0.0 ).rg;","       texcoord += vec2( 0.0, 2.0 ) * resolution;","       if ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;","   }","   texcoord.y -= 0.25 * resolution.y;","   texcoord.y -= resolution.y;","   texcoord.y -= 2.0 * resolution.y;","   texcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 );","   return texcoord.y;","}","float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","   vec2 e = vec2( 1.0, 0.0 );","   for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","       e = texture2D( edgesTex, texcoord, 0.0 ).rg;","       texcoord -= vec2( 0.0, 2.0 ) * resolution;","       if ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;","   }","   texcoord.y += 0.25 * resolution.y;","   texcoord.y += resolution.y;","   texcoord.y += 2.0 * resolution.y;","   texcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 );","   return texcoord.y;","}","vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {","   vec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;","   texcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );","   texcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;","   return texture2D( areaTex, texcoord, 0.0 ).rg;","}","vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {","   vec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );","   vec2 e = texture2D( edgesTex, texcoord ).rg;","   if ( e.g > 0.0 ) {","       vec2 d;","       vec2 coords;","       coords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );","       coords.y = offset[ 1 ].y;","       d.x = coords.x;","       float e1 = texture2D( edgesTex, coords, 0.0 ).r;","       coords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );","       d.y = coords.x;","       d = d / resolution.x - pixcoord.x;","       vec2 sqrt_d = sqrt( abs( d ) );","       coords.y -= 1.0 * resolution.y;","       float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;","       weights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );","   }","   if ( e.r > 0.0 ) {","       vec2 d;","       vec2 coords;","       coords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );","       coords.x = offset[ 0 ].x;","       d.x = coords.y;","       float e1 = texture2D( edgesTex, coords, 0.0 ).g;","       coords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );","       d.y = coords.y;","       d = d / resolution.y - pixcoord.y;","       vec2 sqrt_d = sqrt( abs( d ) );","       coords.y -= 1.0 * resolution.y;","       float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;","       weights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );","   }","   return weights;","}","void main() {","   gl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );","}"].join("\n"),t}return i(t,e),t}(a.GUMShader),f=function(e){function t(t,n){var r=e.call(this)||this;return r.shader=new m,r.shader.uniforms.tDiffuse.value=n.texture,r.shader.uniforms.tColor.value=t.texture,r.shader.uniforms.resolution.value.set(1/t.width,1/t.height),r.uniforms=r.shader.uniforms,r.vertexShader=r.shader.vertexShader,r.fragmentShader=r.shader.fragmentShader,r.needsUpdate=!0,r}return i(t,e),t}(o.ShaderMaterial3D),m=function(e){function t(){var t=e.call(this)||this;return t.defines={},t.uniforms={tDiffuse:{value:null},tColor:{value:null},resolution:{value:new o.Vector23D(1/1024,1/512)}},t.vertexShader=["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","void SMAANeighborhoodBlendingVS( vec2 texcoord ) {","   vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 );","   vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 );","}","void main() {","   vUv = uv;","   SMAANeighborhoodBlendingVS( vUv );","   gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),t.fragmentShader=["uniform sampler2D tDiffuse;","uniform sampler2D tColor;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {","   vec4 a;","   a.xz = texture2D( blendTex, texcoord ).xz;","   a.y = texture2D( blendTex, offset[ 1 ].zw ).g;","   a.w = texture2D( blendTex, offset[ 1 ].xy ).a;","   if ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {","       return texture2D( colorTex, texcoord, 0.0 );","   } else {","       vec2 offset;","       offset.x = a.a > a.b ? a.a : -a.b;","       offset.y = a.g > a.r ? -a.g : a.r;","       if ( abs( offset.x ) > abs( offset.y )) {","           offset.y = 0.0;","       } else {","           offset.x = 0.0;","       }","       vec4 C = texture2D( colorTex, texcoord, 0.0 );","       texcoord += sign( offset ) * resolution;","       vec4 Cop = texture2D( colorTex, texcoord, 0.0 );","       float s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );","       C.xyz = pow(C.xyz, vec3(2.2));","       Cop.xyz = pow(Cop.xyz, vec3(2.2));","       vec4 mixed = mix(C, Cop, s);","       mixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));","       return mixed;","   }","}","void main() {","   gl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );","}"].join("\n"),t}return i(t,e),t}(a.GUMShader)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),a=function(){function e(e){this.scene=new o.Scene3D,this.camera=new o.OrthographicCamera3D(-1,1,1,-1,0,1),this.setScene()}return e.prototype.setScene=function(){var e=new o.BufferGeometry3D;e.addAttribute("position",new o.BufferAttribute3D(new Float32Array([-1,3,0,-1,-1,0,3,-1,0]),3)),e.addAttribute("uv",new o.BufferAttribute3D(new Float32Array([0,2,0,0,2,0]),2)),e.setIndex([0,1,2]),this.quad=new o.Mesh3D(e,null),this.scene.add(this.quad)},e.prototype.setRenderBuffer=function(e){this.readBuffer=e},e}();t.RendererPass=a;var s=function(e){function t(t){var n=e.call(this)||this;return n.shader=t,n.uniforms=t.uniforms,n.defines=t.defines,n.vertexShader=t.vertexShader,n.fragmentShader=t.fragmentShader,n}return i(t,e),t.prototype.setReadBuffer=function(e,t){},t}(o.ShaderMaterial3D);t.GUMShaderMaterial=s;var c=function(){return function(){this.defines={},this.uniforms={}}}();t.GUMShader=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(328),l=function(e){function t(t){var r,i=e.call(this)||this,o=i,a=new Set,s=new Set;function c(e){return e=r.canvas.width/2*(e+1)}function l(e){return e=r.canvas.height/2*(1-e)}function u(e,i,o){r.strokeStyle=t.getColorStyle(void 0===o?n.StrokStyle:o),r.lineWidth=void 0===i?n.LineWidth:i,r.setLineDash([void 0===e?n.LineDash:e])}return o.init=function(e){r=o.ctx=e.getMarker()},i.canvas2DDrawLine=function(e,t,n,i,o,a,s){r.beginPath(),u(s,o,a),r.moveTo(e,t),r.lineTo(n,i),r.stroke()},i.canvas2DDrawPoint=function(e,t,i,o,a){a||(e=c(e),t=l(t)),r.beginPath(),r.fillStyle=o||n.FillStyle,r.strokeStyle=o||n.StrokStyle,r.moveTo(e,t),r.arc(e,t,i,0,2*Math.PI),r.stroke(),r.fill()},i.canvas2DDrawText=function(e,t,i,o,a,s){return t=c(t),i=l(i),a*=r.canvas.height/2,r.font=a+"px "+o,r.fillStyle=s||n.StrokStyle,r.fillText(e,t,i),r.measureText(e).width/r.canvas.width*2},i.clearMarkerCanvas2D=function(e,t,n,i){void 0===e?r.clearRect(0,0,r.canvas.width,r.canvas.height):void 0!==e&&void 0!==t&&void 0!==n&&void 0!==i&&(e=c(e),t=l(t),r.clearRect(e,t,n,i))},i.canvas2DDrawPath=function(e,t,n,i,o){r.beginPath(),u(i,t,n),e.map(function(e){o||(e.x=c(e.x),e.y=l(e.y)),r.lineTo(e.x,e.y)}),r.stroke()},i.canvas2DDrawRect=function(e,t,n,i,o,a,s,p,d,h){d||(e=c(e),t=l(t)),n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),r.beginPath(),u(s,p,h),r.arc(e+o,t+o,o,Math.PI,3*Math.PI/2),r.lineTo(n-a+e,t),r.arc(n-a+e,a+t,a,3*Math.PI/2,2*Math.PI),r.lineTo(n+e,i+t-a),r.arc(n-a+e,i-a+t,a,0,1*Math.PI/2),r.lineTo(o+e,i+t),r.arc(o+e,i-o+t,o,1*Math.PI/2,Math.PI),r.closePath(),r.stroke()},i.canvas2DDrawCrux=function(e,t,n,i,o,a,s,p){s||(e=c(e),t=l(t)),r.beginPath(),u(o,a,p),r.moveTo(e-n/2,t),r.lineTo(e+n/2,t),r.moveTo(e,t-i/2),r.lineTo(e,t+i/2),r.stroke()},i.addMarkerUpdateContext=function(e){return a.has(e)?(console.warn("spdengine.CORE addUpdateContext "),!1):(a.add(e),!0)},i.removeMarkerUpdateContext=function(e){a.delete(e)},i.clearMarkerUpdateContext=function(){a.clear()},i.addMarkerAnimateContext=function(e){return s.has(e)?(console.warn("spdengine.CORE addAnimateContext "),!1):(s.add(e),!0)},i.removeMarkerAnimateContext=function(e){return s.delete(e)},i.clearMarkerAnimateContext=function(){s.clear()},i.animate=function(){s.forEach(function(e){return e()})},i.render=function(){a.forEach(function(e){return e()})},i.dispose=function(){a.clear(),s.clear()},i.getCanvas2DBoundingBoxRect=function(){return r.canvas.getBoundingClientRect()},i.getCanvas2DSizeX=c,i.getCanvas2DSizeY=l,i}var n;return i(t,e),n=t,t.StrokStyle="black",t.FillStyle="black",t.LineWidth=1,t.LineDash=0,t=n=o([c.Sealed(),s.ApiExport(["canvas2DDrawPoint","canvas2DDrawLine","canvas2DDrawText","canvas2DDrawRect","clearMarkerCanvas2D","addMarkerUpdateContext","removeMarkerUpdateContext","clearMarkerUpdateContext","canvas2DDrawPath","getCanvas2DSizeX","getCanvas2DSizeY","canvas2DDrawCrux","getCanvas2DBoundingBoxRect","addMarkerAnimateContext","removeMarkerAnimateContext","animate"],"3D")],t)}(a.EventDispatcher3D);t.MarkerRenderer=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(328),l=n(17),u=function(e){function t(t){var r=e.call(this)||this;r.api=t;var i=r,o=t["3D"],c=t.UI.getSize(),u=o.getBenchCamera(),p=document.createElement("canvas");i.frameBufferMultipe=t.PARAMS.eg_frameBufferMultiple,p.width=c.width*i.frameBufferMultipe,p.height=c.height*i.frameBufferMultipe;var d=p.getContext("2d",{alpha:!0}),h=new Image;function f(e){return n.fontSize/e}h.src=l.Icon.SPDLOGO,s.BindParam("mk_watermarkenable",function(){return t.PARAMS.rd_minorRefresh=!0},t.handle),s.BindParam("mk_textContext",function(){return t.PARAMS.rd_minorRefresh=!0},t.handle),s.BindParam("mk_textColor",function(){return t.PARAMS.rd_minorRefresh=!0},t.handle),s.BindParam("mk_textSize",function(){return t.PARAMS.rd_minorRefresh=!0},t.handle),i.textRenderTarget=new a.WebGLRenderTarget(c.width*i.frameBufferMultipe,c.height*i.frameBufferMultipe),i.textRenderTarget.texture=new a.CanvasTexture(p),i.textRenderTarget.texture.minFilter=a.Constant.NearestFilter,i.textRenderTarget.texture.generateMipmaps=!0,s.BindParam("eg_frameBufferMultiple",function(e){i.frameBufferMultipe=e},t.handle),i.resize=function(e,t){p.width=e*i.frameBufferMultipe,p.height=t*i.frameBufferMultipe},i.clear=function(){d.save(),d.fillStyle="#00000000",d.clearRect(0,0,p.width,p.height),g(),m(),i.textRenderTarget.texture.needsUpdate=!0,d.restore()},i.render=function(e){var t;t=e,d.save(),function(e){0===e.material.color.r&&0===e.material.color.g&&0===e.material.color.b&&e.material.color.set(65793),d.fillStyle="#"+e.material.color.getHexString(),d.font="normal "+n.fontSize+"px "+e.material.fontName,function(e){switch(e.material.verticalAlignment){case a.VerticalAlignment.Buttom:d.textBaseline="bottom";break;case a.VerticalAlignment.Top:d.textBaseline="top";break;case a.VerticalAlignment.Middle:d.textBaseline="middle"}switch(e.material.horizontalAlignment){case a.HorizontalAlignment.Left:d.textAlign="left";break;case a.HorizontalAlignment.Right:d.textAlign="right";break;case a.HorizontalAlignment.Center:d.textAlign="center"}}(e)}(t),function(e){(function(e){var t=a.Vector33D.get(),n=a.Euler3D.get().setFromRotationMatrix(e.matrixWorld),r=a.Vector33D.get().setFromMatrixScale(e.matrixWorld),s=a.Matrix33D.get().getAffineRotationAndScale(u,o.getCanvas2DSizeX,o.getCanvas2DSizeY);t.setFromMatrixPosition(e.matrixWorld).project(u),d.translate(o.getCanvas2DSizeX(t.x)*i.frameBufferMultipe,o.getCanvas2DSizeY(t.y)*i.frameBufferMultipe),d.transform(s.elements[0]/f(e.material.fontHeight)*i.frameBufferMultipe,s.elements[1]/f(e.material.fontHeight)*i.frameBufferMultipe,s.elements[2]/f(e.material.fontHeight)*i.frameBufferMultipe,s.elements[3]/f(e.material.fontHeight)*i.frameBufferMultipe,0,0),d.rotate(-n.z+Math.PI/2),d.scale(r.x,r.y),a.Euler3D.back(n),a.Vector33D.back(t),a.Matrix33D.back(s),a.Vector33D.back(r)})(e),d.fillText(e.geometry.textContext,0,0),d.fill()}(t),d.restore(),i.textRenderTarget.texture.needsUpdate=!0},i.getCanvas=function(){return p},i.addWaterMarkText=function(e,t,n){this.waterMarkText=e,this.waterMarkTextSize=t?t/window.devicePixelRatio:120/window.devicePixelRatio,this.waterMarkTextColor=n||"#aaccbb88"};var m=function(){if(r.waterMarkeEnabke){d.save();var e=p.width,t=p.height,n=3*r.waterMarkTextSize;d.font="normal "+r.waterMarkTextSize+"px Times New Roman",d.strokeStyle=o.getColorStyle(r.waterMarkTextColor);var i=d.measureText(r.waterMarkText).width,a=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))/2;d.rotate(Math.PI/4);for(var s=0;s<e/i+10;++s){d.translate(0,(s%2==1?1:-1)*n/2);for(var c=-a/n-s;c<a/n+s;++c)d.strokeText(r.waterMarkText,s*i,c*n)}d.stroke(),d.restore()}},g=function(){if(r.logoEnable){d.save();var e=d.canvas.width,t=d.canvas.height;d.globalAlpha=1,d.translate(.5*e-h.width/(6/r.frameBufferMultipe),l.BrowserInfo.isAndroid?t-r.frameBufferMultipe/2*150:t-r.frameBufferMultipe/2*56),d.scale(1/(3/r.frameBufferMultipe),1/(3/r.frameBufferMultipe)),d.drawImage(h,0,0),d.restore()}};return r}var n;return i(t,e),n=t,t.fontSize=12,o([s.ParamExport("mk_watermarkenable",!1)],t.prototype,"waterMarkeEnabke",void 0),o([s.ParamExport("mk_textContext","spdView")],t.prototype,"waterMarkText",void 0),o([s.ParamExport("mk_textSize",100/window.devicePixelRatio)],t.prototype,"waterMarkTextSize",void 0),o([s.ParamExport("mk_textColor",l.BrowserInfo.isMobile?"#445566":"#22334488")],t.prototype,"waterMarkTextColor",void 0),o([s.ParamExport("spd_logoEnable",!0)],t.prototype,"logoEnable",void 0),t=n=o([c.Sealed(),s.ApiExport(["addWaterMarkText"],"3D")],t)}(a.EventDispatcher3D);t.TextRenderer=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(1),c=n(328),l=n(21),u=n(390),p=n(17),d=function(e){function t(t){var r,i,o=e.call(this)||this;o.api=t,o.__zoom=1,o.getProjectSize=function(e){return r||(r=new a.Box23D,i=new a.Vector23D),e.project(this.__computeOrthCamera,r),r.getSize(i),i},o.initBenchCamera=function(e,t){o.setBenchCameraPostion(e),o.setBenchCameraFar(e),o.setBenchCameraZoom(e,t),o.initProjectSpatial(e,t),o.dispatchEvent({type:"targetChange"})};var s=o,c=n.defaultUp;return s.api3d=t["3D"],s.__benchOrthCamera=new a.OrthographicCamera3D(1,-1,-1,1,0,5e3),s.__benchOrthCamera.up.copy(c),s.__computeOrthCamera=(new a.OrthographicCamera3D).copy(s.__benchOrthCamera),s.__computeOrthCamera.up.copy(c),s.__benchPersCamera=new a.PerspectiveCamera3D(50,1,.1,1e3),s.__benchPersCamera.up.copy(c),s.__computePersCamera=(new a.PerspectiveCamera3D).copy(s.__benchPersCamera),s.__benchPersCamera.up.copy(c),s.__benchCamera=s.__benchOrthCamera,s.__cameraHomePostion=new a.Vector33D,s.__cameraHomeTarget=new a.Vector33D,s.__homeProCenter=new a.Vector33D,s.__homeProPosition=new a.Vector33D,s.__homeProRotation=new a.Euler3D,o.__controls=new u.BaseControl(o.api),s.addCamera3DEventListener=s.addEventListener,s.removeCamera3DEventListener=s.removeEventListener,s.dispatchCamera3DEvent=s.dispatchEvent,o}var n;return i(t,e),n=t,t.prototype.getBenchCamera=function(){return this.__benchCamera},t.prototype.updateBenchCamera=function(){this.__benchOrthCamera.updateMatrixWorld(),this.__benchOrthCamera.updateProjectionMatrix(),this.__computeOrthCamera.zoom=this.__benchCamera.zoom,this.__computeOrthCamera.updateProjectionMatrix(),this.__benchPersCamera.updateMatrixWorld(),this.__benchPersCamera.updateProjectionMatrix(),this.__computePersCamera.updateProjectionMatrix()},t.prototype.resize=function(e,t){var n=this.__benchOrthCamera,r=this.__benchPersCamera;n.left=e/-2,n.right=e/2,n.top=t/2,n.bottom=t/-2,r.aspect=e/t;var i=this.__computeOrthCamera,o=this.__computePersCamera;i.left=e/-2,i.right=e/2,i.top=t/2,i.bottom=t/-2,o.aspect=e/t,this.updateBenchCamera()},t.prototype.setBenchCameraZoom=function(e,t){var n=this.computeBenchCameraZoom(e);(isNaN(n)||n<0)&&(n=1),t&&!1===t.changeZoom||(this.__zoom=n),(t&&t.resetZoom||!t)&&(this.__benchOrthCamera.zoom=n,this.updateBenchCamera())},t.prototype.computeBenchCameraZoom=function(e){var t=this.getProjectSize(e);return 1.5/Math.max(Math.abs(t.x),Math.abs(t.y))*this.__computeOrthCamera.zoom},t.prototype.setBenchCameraPostion=function(e){var t=a.Vector33D.get(),n=a.Vector33D.get(),r=a.Vector33D.get(),i=e.getCenter(a.Vector33D.get());t.copy(r.set(0,0,.5).multiplyScalar(e.max.distanceTo(e.min))).add(i),n.copy(r.set(1,1,1).multiplyScalar(e.max.distanceTo(e.min))).add(i),this.__benchOrthCamera.position.copy(t),this.__benchOrthCamera.lookAt(i),this.__computeOrthCamera.position.copy(n),this.__computeOrthCamera.lookAt(i),this.__benchPersCamera.position.copy(t),this.__benchPersCamera.lookAt(i),this.updateBenchCamera(),this.__cameraHomePostion.copy(t),this.__cameraHomeTarget.copy(i),this.update=this.updateBenchCamera,a.Vector33D.back(i),a.Vector33D.back(t),a.Vector33D.back(n),a.Vector33D.back(r)},t.prototype.setBenchCameraFar=function(e){var t=4*e.getSize(a.Vector33D.back(a.Vector33D.get())).length()+1;this.__benchOrthCamera.far=t,this.__benchOrthCamera.near=0,this.__benchPersCamera.far=t,this.__benchPersCamera.near=1,this.updateBenchCamera()},t.prototype.initProjectSpatial=function(e,t){var n=e.getCenter(new a.Vector33D),r=this.api3d.getProjectRotationRef();this.api3d.getProjectRotationRef().set(0,0,0);var i=a.Euler3D.get().copy(r);r.set(0,0,0);var o=this.api3d.getProjectPositionRef(),c=a.Vector33D.get().copy(o).sub(this.__homeProPosition);o.set(0,0,0);var l=this.api3d.getProjectRotationCenterRef(),u=a.Vector33D.get().copy(l);l.set(0,0,0),this.api3d.setProjectRotateCenter(this.__homeProCenter.copy(n)),o.z=e.min.z,this.api.UI.getSystemType()===s.SystemType.ST_3D?this.__homeProRotation.set(0,-Math.PI/4,3*Math.PI/4):this.api.UI.getSystemType()===s.SystemType.ST_2D&&this.__homeProRotation.set(0,0,Math.PI/2),t&&t.resetEuler||!t?(r.copy(this.__homeProRotation),i.copy(r)):r.copy(i),this.__homeProPosition.copy(o),t&&t.animate&&this.api3d.setAnimation(i,this.__homeProPosition,t.resetZoom?this.__zoom:void 0),this.__controls.controlUpdate(),a.Vector33D.back(c),a.Euler3D.back(i),a.Vector33D.back(u)},t.prototype.dispose=function(){this.__benchOrthCamera=null,this.__controls.dispose(),this.__controls=null},t.prototype.getBenchCameraZoom=function(){return this.__zoom},t.prototype.setBenchCameraLookAt=function(e){var t=new a.Vector33D;return e instanceof a.Box33D?e.getCenter(t):e instanceof a.Vector33D?t.copy(e):this.api3d.getComponentBoundingBox(e).getCenter(t),this.__benchCamera.lookAt(t),this.__controls.controlUpdate(),t},t.prototype.backBenchCameraView=function(){this.api3d.setProjectRotateCenter(this.__homeProCenter),this.api3d.setAnimation(this.__homeProRotation,this.__homeProPosition,this.__zoom)},t.prototype.init=function(){var e=this.api.UI.getSize();this.resize(e.width,e.height),this.__controls.init()},t.prototype.getHomePosition=function(e){return e.copy(this.__cameraHomePostion),e},t.prototype.setHomeLook=function(e){this.api3d.setCurrentLook(e),this.__homeProCenter.copy(this.api3d.getProjectRotationCenterRef()),this.__homeProPosition.copy(this.api3d.getProjectPositionRef()),this.__homeProRotation.copy(this.api3d.getProjectRotationRef()),this.__zoom=this.__benchCamera.zoom},t.prototype.checkBenchCamera=function(e){switch(e){case"pers":this.__benchCamera!==this.__benchPersCamera&&(this.__benchCamera=this.__benchPersCamera,this.dispatchEvent({type:"checkbenchcamera",camera:this.__benchCamera}),p.BrowserInfo.isMobile||this.api3d.setFps(60));break;case"orth":this.__benchCamera!==this.__benchOrthCamera&&(this.__benchCamera=this.__benchOrthCamera,this.dispatchEvent({type:"checkbenchcamera",camera:this.__benchCamera}),p.BrowserInfo.isMobile||this.api3d.setFps(33))}this.updateBenchCamera()},t.prototype.setBenchCameraPositionByScale=function(e){var t=a.Vector33D.back(a.Vector33D.get());t.copy(this.__cameraHomePostion).sub(this.__cameraHomeTarget);var n=this.__benchCamera.position.sub(this.__cameraHomeTarget).divide(t).z;(n+=e)>2&&(n=2),n<0&&(n=0),this.__benchCamera.position.copy(this.__cameraHomeTarget).add(t.multiplyScalar(n))},t.prototype.setProjectScreenMouse=function(e,t,n){var r=this.api.UI.getSize();return n.x=e/r.width*2-1,n.y=-t/r.height*2+1,n},t.defaultUp=new a.Vector33D(0,0,1),t=n=o([c.Sealed(),l.ApiExport(["getBenchCamera","updateBenchCamera","getBenchCameraZoom","setBenchCameraZoom","computeBenchCameraZoom","setBenchCameraLookAt","getProjectSize","backBenchCameraView","getHomePosition","initBenchCamera","checkBenchCamera","addCamera3DEventListener","removeCamera3DEventListener","dispatchCamera3DEvent","setBenchCameraPositionByScale","setProjectScreenMouse"],"3D")],t)}(a.EventDispatcher3D);t.Cameras3D=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(391),a=n(23),s=n(1),c=function(){function e(e){this._api=e;var t=this,n=t.api=e["3D"],r=new a.Vector33D,i=!1,c={type:"control_change"};e.UI.getSystemType()===s.SystemType.ST_2D&&(t.rotateEnable=!1);var l=new o.ProjectSpatial(e),u=n.getProjectRotationRef(),p=n.getProjectRotationCenterRef(),d=n.getProjectPositionRef(),h=new a.Vector33D,f=new a.Euler3D,m=new a.Vector33D,g=n.getBenchCamera(),y=new a.Raycaster3D;function v(e,o){g.isOrthographicCamera?o?(y.setFromCamera(o,g),r.copy(y.ray.origin.applyMatrix4(n.getProjectMatrix())),g.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,e)),g.updateProjectionMatrix(),y.setFromCamera(o,g),r.subVectors(y.ray.origin.applyMatrix4(n.getProjectMatrix()),r).z=0,d.add(r)):g.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,e)):n.setBenchCameraPositionByScale(e),i=!0}function x(){}t.rotateLeft=function(e){u.z+=e},t.controlUpdate=function(e){return!(!(i||m.distanceTo(d)>1e-6||h.distanceTo(p)>1e-6)&&f.equals(u))&&(n.projectUpdate(),n.dispatchEvent(c),i=!1,m.copy(d),h.copy(p),f.copy(u),!1!==e&&t.api.dispatchEvent({type:"control_update"}),!0)},t.rotateUp=function(e){u.y+=e},t.pan=function(e,t){var i=n.getBenchCamera();i.isOrthographicCamera?d.add(r.set(t/i.zoom,e/i.zoom,0)):d.add(r.set(t,e,0))},t.getZoomScale=function(){return Math.pow(.95,t.zoomSpeed)},t.dollyIn=function(e,t){g.isOrthographicCamera?v(g.zoom*e,t):v(.1,t)},t.dollyOut=function(e,t){g.isOrthographicCamera?v(g.zoom/e,t):v(-.1,t)},t.getRotationCenter=function(){return p},t.setProjectRotateCenter=function(e){var t=a.Vector33D.get();t.subVectors(p,e.negate()),t.applyEuler(u).z=0,p.copy(e),d.add(t),e.negate(),a.Vector33D.back(t)},t.setFocusPosition=function(e){var i=a.Vector23D.get();e.project(g),y.setFromCamera(i.set(0,0),g),r.copy(y.ray.origin.applyMatrix4(n.getProjectMatrix())),y.setFromCamera(i.set(e.x,e.y),g),r.subVectors(y.ray.origin.applyMatrix4(n.getProjectMatrix()),r).z=0,d.add(r.negate()),t.controlUpdate(),a.Vector23D.back(i)},t.setZoomWindow=function(e,o){var s=a.Box23D.get(),c=a.Vector23D.get();y.setFromCamera(c.set(0,0),g),r.copy(y.ray.origin.applyMatrix4(n.getProjectMatrix())),s.setFromPoints([e,o]),y.setFromCamera(s.getCenter(c),g),r.subVectors(y.ray.origin.applyMatrix4(n.getProjectMatrix()),r).z=0,d.add(r.negate()),c.subVectors(e,o);var l=Math.abs(Math.max(2/c.x,2/c.y));l!==1/0&&(g.zoom*=l,i=!0,t.controlUpdate()),a.Vector23D.back(c),a.Box23D.back(s)},t.getCurrentLook=function(){var t={pos:[d.x,d.y,d.z],center:[p.x,p.y,p.z],rotate:[u.x,u.y,u.z],zoom:g.zoom,min:[1],max:[1],sys:e.UI.getSystemType()};return btoa(JSON.stringify(t))},t.setCurrentLook=function(r,o,s){var c=JSON.parse(atob(r));if(c.sys&&c.sys!=e.UI.getSystemType())console.warn("look system not equal.");else if(o){p.fromArray(c.center);var l=a.Vector23D.get(),h=a.Vector33D.get(),f=a.Euler3D.get();n.setAnimation(f.fromArray(c.rotate),h.fromArray(c.pos),c.zoom,l.set(0,0)),a.Vector23D.back(l),a.Vector33D.back(h),a.Euler3D.back(f)}else d.fromArray(c.pos),p.fromArray(c.center),u.fromArray(c.rotate),g.zoom=c.zoom,i=!0,t.controlUpdate(s)},t.dispose=function(){u=null,p=null,d=null,h=null,f=null,m=null,g=null,y=null,l.dispose(),l=null,n.removeCamera3DEventListener("checkbenchcamera",x)},t.dispatchControlEvent=function(e){console.warn("dispatchControlEventdispatchEventapi"),e.type="control_"+e.type,n.dispatchEvent(e)},t.addControlEventListener=function(e,t){console.warn("addControlEventListeneraddEventListenerapi"),e="control_"+e,n.addEventListener(e,t)},t.removeControlEventListener=function(e,t){console.warn("removeControlEventListenerremoveEventListenerapi"),e="control_"+e,n.removeEventListener(e,t)},t.init=function(){n.addCamera3DEventListener("checkbenchcamera",x),l.init()}}return r([i.ParamExport("bc_panEnable",!0,!0)],e.prototype,"panEnable",void 0),r([i.ParamExport("bc_panSpeed",1)],e.prototype,"panSpeed",void 0),r([i.ParamExport("bc_enable",!0,!0)],e.prototype,"enable",void 0),r([i.ParamExport("bc_rotateEnable",!0,!0)],e.prototype,"rotateEnable",void 0),r([i.ParamExport("bc_rotateSpeed",1)],e.prototype,"rotateSpeed",void 0),r([i.ParamExport("bc_zoomEnable",!0,!0)],e.prototype,"zoomEnable",void 0),r([i.ParamExport("bc_zoomSpeed",2)],e.prototype,"zoomSpeed",void 0),r([i.ParamExport("bc_keyPanSpeed",7)],e.prototype,"keyPanSpeed",void 0),r([i.ParamExport("bc_minZoom",0)],e.prototype,"minZoom",void 0),r([i.ParamExport("bc_maxZoom",1/0)],e.prototype,"maxZoom",void 0),r([i.ParamExport("bc_scaleEnable",!0,!0)],e.prototype,"scaleEnable",void 0),e=r([i.ApiExport(["pan","getZoomScale","dollyIn","dollyOut","rotateLeft","rotateUp","addControlEventListener","removeControlEventListener","dispatchControlEvent","controlUpdate","getRotationCenter","setProjectRotateCenter","setZoomWindow","getCurrentLook","setCurrentLook","setFocusPosition"],"3D")],e)}();t.BaseControl=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=n(23),c=function(e){function t(t){var n,r,i=e.call(this)||this,o=i,c=t["3D"],l=new s.Vector33D,u=new s.Euler3D,p=new s.Vector33D,d=new s.Matrix43D,h=0,f=Math.PI,m=new s.Matrix43D;function g(){u.y=-Math.max(h,Math.min(f,-u.y))}function y(){}return c.getBenchCamera().projectMatrix=d,o.getProjectMatrix=function(){return d},o.getProjectRotationEuler=function(){n||(n=new s.Euler3D);var e=s.Matrix43D.get(),t=s.Matrix43D.get();return n.setFromRotationMatrix(e.makeRotationY(u.y).multiply(t.makeRotationZ(u.z))),s.Matrix43D.back(e),s.Matrix43D.back(t),n},o.getProjectRotatioQuaternion=function(){r||(r=new s.Quaternion3D);var e=s.Matrix43D.get(),t=s.Matrix43D.get();return r.setFromRotationMatrix(e.makeRotationY(u.y).multiply(t.makeRotationZ(u.z))),s.Matrix43D.back(e),s.Matrix43D.back(t),r},o.getProjectPositionRef=function(){return p},o.getProjectRotationCenterRef=function(){return l},o.getProjectRotationRef=function(){return u},o.makeProjectRotationSafe=function(){g(),u.z%=2*Math.PI,u.z=u.z>Math.PI?u.z-2*Math.PI:u.z<-Math.PI?u.z+2*Math.PI:u.z},o.dispose=function(){l=null,u=null,p=null,d=null,c.removeCamera3DEventListener("checkbenchcamera",y)},o.projectUpdate=function(){var e=s.Matrix43D.get();g(),d.identity().setPosition(p).multiply(e.makeRotationY(u.y)).multiply(e.makeRotationZ(u.z)).multiply(e.identity().setPosition(l)).multiply(m),s.Matrix43D.back(e)},o.init=function(){c.addCamera3DEventListener("checkbenchcamera",y)},a.BindParam("cameraUp",function(e){if(i.up!==e){switch(e){case"z":m.identity();break;case"y":m.makeRotationX(Math.PI/2)}i.projectUpdate(),t.PARAMS.sr_enable=!0,c.update()}},t.handle),i}return i(t,e),o([a.ParamExport("cameraUp","z")],t.prototype,"up",void 0),t=o([a.ApiExport(["getProjectRotatioQuaternion","getProjectRotationEuler","getProjectRotationCenterRef","getProjectRotationRef","getProjectPositionRef","projectUpdate","getProjectMatrix","makeProjectRotationSafe"],"3D")],t)}(s.EventDispatcher3D);t.ProjectSpatial=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(328),c=n(21),l=n(17),u=function(e){function t(t,n){var r=e.call(this)||this;return r.basePlane=t,r.matrix=n,r.update(),r}return i(t,e),t.prototype.update=function(){return a.Plane3D.prototype.copy.call(this,this.basePlane.clone().applyMatrix4(this.matrix)),this},t.prototype.clone=function(){return new this.constructor(this.basePlane,this.matrix)},t.prototype.copy=function(e){return this.basePlane.copy(e.basePlane),this.matrix=e.matrix,this.update()},t}(a.Plane3D),p=function(e){function t(n,r){var i=e.call(this)||this;switch(i.clippingPlane=n,i.name=r,i.arrow=t.createArrow(),i.arrow.material.side=a.Constant.DoubleSide,i.arrowLine=t.createArrowLine(),r){case"maxx":case"minx":i.arrow.rotateZ(Math.PI/2),i.arrowLine.rotateZ(Math.PI/2);break;case"minz":case"maxz":i.arrow.rotateX(Math.PI/2),i.arrowLine.rotateX(Math.PI/2)}return i.add(i.arrow,i.arrowLine),i}return i(t,e),t.prototype.pan=function(e){if(this.clippingPlane&&this.arrow){var t=this.clippingPlane.basePlane.normal;this.clippingPlane.basePlane.constant+=e.dot(t)}},t.prototype.setArrowPos=function(e){this.position.copy(e)},t.prototype.applyMatrix=function(e){this.position.applyMatrix4(e)},t.createArrow=function(){var e,t;return function(){return(e=new a.BufferGeometry3D).addAttribute("position",new a.Float32BufferAttribute([.5,.125,0,-.5,.125,0,0,Math.sqrt(3)/2+.25,0,.5,-.125,0,-.5,-.125,0,0,-Math.sqrt(3)/2-.25,0],3,!1)),t=new a.MeshBasicMaterial3D({color:255}),new a.Mesh3D(e,t)}}(),t.createArrowLine=function(){var e;return function(){return new a.LineSegments3D(((t=new a.BufferGeometry3D).addAttribute("position",new a.Float32BufferAttribute([.5,.125,0,-.5,.125,0,-.5,.125,0,0,Math.sqrt(3)/2+.25,0,0,Math.sqrt(3)/2+.25,0,.5,.125,0,.5,-.125,0,-.5,-.125,0,-.5,-.125,0,0,-Math.sqrt(3)/2-.25,0,0,-Math.sqrt(3)/2-.25,0,.5,-.125,0],3,!1)),e||(e=new a.LineBasicMaterial3D({color:45237})),t),e);var t}}(),t}(a.Object3D),d=function(e){function t(t,n){var r=e.call(this)||this;r.clippingPlanes=t,r.isBoxHelper=!0,r._ints=[],void 0===n&&(n=16776960),t&&(r.clippingMatrix=t[0].matrix);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new a.BufferGeometry3D;return s.setIndex(new a.BufferAttribute3D(i,1)),s.addAttribute("position",new a.BufferAttribute3D(o,3)),a.LineSegments3D.call(r,s,new a.LineBasicMaterial3D({color:n})),r.matrixAutoUpdate=!1,t&&r.update(),r}return i(t,e),t.prototype.update=function(){var e=a.Vector33D.get(),t=a.Vector33D.get(),n=a.Vector33D.get();e.set(this.clippingPlanes[0].basePlane.constant,this.clippingPlanes[1].basePlane.constant,this.clippingPlanes[2].basePlane.constant),t.set(-this.clippingPlanes[3].basePlane.constant,-this.clippingPlanes[4].basePlane.constant,-this.clippingPlanes[5].basePlane.constant);var r=this.clippingMatrix,i=this.geometry.attributes.get("position"),o=i.array;n.set(e.x,e.y,e.z).applyMatrix4(r),o[0]=n.x,o[1]=n.y,o[2]=n.z,n.set(t.x,e.y,e.z).applyMatrix4(r),o[3]=n.x,o[4]=n.y,o[5]=n.z,n.set(t.x,t.y,e.z).applyMatrix4(r),o[6]=n.x,o[7]=n.y,o[8]=n.z,n.set(e.x,t.y,e.z).applyMatrix4(r),o[9]=n.x,o[10]=n.y,o[11]=n.z,n.set(e.x,e.y,t.z).applyMatrix4(r),o[12]=n.x,o[13]=n.y,o[14]=n.z,n.set(t.x,e.y,t.z).applyMatrix4(r),o[15]=n.x,o[16]=n.y,o[17]=n.z,n.set(t.x,t.y,t.z).applyMatrix4(r),o[18]=n.x,o[19]=n.y,o[20]=n.z,n.set(e.x,t.y,t.z).applyMatrix4(r),o[21]=n.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere(),this.geometry.computeBoundingBox(),this._cube&&(this._cube.geometry.update(e.x-t.x,e.y-t.y,e.z-t.z),this._cube.position.lerpVectors(t,e,.5),this._cube.updateMatrixWorld(),this._cube.geometry.computeBoundingBox(),this._cube.geometry.computeBoundingSphere()),a.Vector33D.back(e),a.Vector33D.back(t),a.Vector33D.back(n)},t.prototype.set=function(e,t){this.clippingPlanes=e,this.clippingMatrix=e[0].matrix,this.material.color.set(t),this.update()},t.prototype.raycast=function(t,n,r){if(void 0===r&&(r=!1),r)t.linePrecision=0,this.clippingPlanes.forEach(function(e){return t.linePrecision+=e.basePlane.constant}),l.BrowserInfo.isMobile?t.linePrecision/=100:t.linePrecision/=200,e.prototype.raycast.call(this,t,n),t.linePrecision=1;else{this.initCube();var i=this._ints;t.intersectObject(this._cube,!1,i),i.length>0&&(i[0].object=this,i.push.apply(n,i),i.length=0)}return n},t.prototype.initCube=function(){if(void 0===this._cube){var e=this._cube=new a.Mesh3D,t=a.Box33D.get().makeEmpty();if(t.copy(this.geometry.boundingBox),t.isEmpty())return void a.Box33D.back(t);t.getCenter(e.position),e.geometry=new a.BoxBufferGeometry3D(t.max.x-t.min.x,t.max.y-t.min.y,t.max.z-t.min.z),e.material=new a.MeshBasicMaterial3D({color:16711680}),e.updateMatrixWorld(),e.geometry.computeBoundingBox(),e.geometry.computeBoundingSphere(),a.Box33D.back(t)}},t}(a.LineSegments3D),h=function(e){function t(t){var n,r,i,o,s,c=e.call(this)||this;c.api=t,c.getClippingArrows=function(){return n||(n=[]),n.length=0,c.triArrows.forEach(function(e){return n.push(e.arrow)}),n},c.setArrowPosition=function(e){var t=this;r||(r=new a.Vector33D,s=new a.Vector33D),r.set(0,0,0),i=this.posParams[e%3],o=this.triArrows[e],i.forEach(function(e){r.add(s.copy(t.clippingPlanes[e].basePlane.normal).multiplyScalar(t.clippingPlanes[e].basePlane.constant))}),r.multiplyScalar(-.5),r.add(s.copy(o.clippingPlane.basePlane.normal).multiplyScalar(-o.clippingPlane.basePlane.constant)),o.setArrowPos(r),o.applyMatrix(this.clippingMatrix)},c.setFromBox3=function(){var e,t;return function(n){n.isEmpty()&&c.api3d.getBenchBox(n),function(n){e||(e=new a.Box33D,t=new a.Vector33D),e.copy(n),n.getSize(t),e.expandByScalar((t.x+t.y+t.z)/30)}(n),c.ClippingPlanX.constant=e.max.x,c.ClippingPlanY.constant=e.max.y,c.ClippingPlanZ.constant=e.max.z,c.ClippingPlanXN.constant=-e.min.x,c.ClippingPlanYN.constant=-e.min.y,c.ClippingPlanZN.constant=-e.min.z,c.identity(),c.updateClippingPlanes(),c.clippingPlanes.forEach(function(e,t){c.clippintPlanes0[t].copy(e)}),c.boxHelper.update()}}(),c.api3d=t["3D"],c.clippingMatrix=c.matrix;var l=c.clippingArrowsAndLines=new a.Object3D;c.clippingPlanes=[new u(new a.Plane3D(new a.Vector33D(-1,0,0)),c.clippingMatrix),new u(new a.Plane3D(new a.Vector33D(0,-1,0)),c.clippingMatrix),new u(new a.Plane3D(new a.Vector33D(0,0,-1)),c.clippingMatrix),new u(new a.Plane3D(new a.Vector33D(1,0,0)),c.clippingMatrix),new u(new a.Plane3D(new a.Vector33D(0,1,0)),c.clippingMatrix),new u(new a.Plane3D(new a.Vector33D(0,0,1)),c.clippingMatrix)],c.triArrows=[new p(c.clippingPlanes[0],"maxx"),new p(c.clippingPlanes[1],"maxy"),new p(c.clippingPlanes[2],"maxz"),new p(c.clippingPlanes[3],"minx"),new p(c.clippingPlanes[4],"miny"),new p(c.clippingPlanes[5],"minz")],c.initTriArrows();var h=c.clippintPlanes0=[];return c.clippingPlanes.forEach(function(e){return h.push(e.clone())}),c.boxHelper=new d,c.boxHelper.set(c.clippingPlanes,255),c.boxHelper.name="boxhelper",c.arrowMap=new Map,c.triArrows.forEach(function(e){l.add(e),c.arrowMap.set(e.arrow,e)}),c.boxHelper.visible=!1,c.clippingArrowsAndLines.visible=!1,c.rotationEuler=new a.Euler3D,c}return i(t,e),t.prototype.dispose=function(){this.arrowMap.clear(),this.triArrows.length=0},t.prototype.update=function(){!0===this.gl.localClippingEnabled&&(this.updateArrowsRotation(),this.updateArrowsScale())},t.prototype.init=function(){var e=this;(this.gl=this.api.PARAMS.eg_gumRenderer).clippingPlanes.push.apply(this.gl.clippingPlanes,this.clippingPlanes),this.boxHelper.material.color.set(this.boxColor),this.triArrows.forEach(function(t){t.arrow.material.color.set(e.arrowColor)}),this.api3d.addObject3D(this.boxHelper,3),this.api3d.addObject3D(this.clippingArrowsAndLines,3),this.gl.localClippingEnabled=!1,c.BindParam("cp_boxColor",function(t){e.boxHelper.material.color.set(t),e.api.PARAMS.rd_minorRefresh=!0},this.api.handle),c.BindParam("cp_arrowColor",function(t){e.triArrows.forEach(function(e){e.arrow.material.color.set(t)}),e.api.PARAMS.rd_minorRefresh=!0},this.api.handle),c.BindParam("cp_arrowSize",function(t){e.arrowSize=t,e.updateArrowsScale(),e.api.PARAMS.rd_minorRefresh=!0},this.api.handle),c.BindParam("cp_arrowVisitable",function(t){e.clippingArrowsAndLines&&e.clippingArrowsAndLines.visible!==t&&(e.clippingArrowsAndLines.visible=t,e.api.PARAMS.rd_minorRefresh=!0)},this.api.handle),c.BindParam("cp_enable",function(t){e.gl.localClippingEnabled=t,!0===t?(e.boxHelper.visible=!0,e.setFromBox3(e.api3d.getBoxByRenderState())):!1===t&&(e.boxHelper.visible=!1),e.update()},this.api.handle)},t.prototype.initPosParams=function(){this.posParams=[],this.posParams.push([1,2,4,5],[0,2,3,5],[0,1,3,4])},t.prototype.initTriArrows=function(){var e=this;e.initPosParams(),this.triArrows.forEach(function(t,n){e.setArrowPosition(n)})},Object.defineProperty(t.prototype,"ClippingPlanX",{get:function(){return this.clippingPlanes[0].basePlane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClippingPlanY",{get:function(){return this.clippingPlanes[1].basePlane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClippingPlanZ",{get:function(){return this.clippingPlanes[2].basePlane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClippingPlanXN",{get:function(){return this.clippingPlanes[3].basePlane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClippingPlanYN",{get:function(){return this.clippingPlanes[4].basePlane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClippingPlanZN",{get:function(){return this.clippingPlanes[5].basePlane},enumerable:!0,configurable:!0}),t.prototype.updateClippingPlanes=function(){var e=this;this.clippingPlanes.forEach(function(e){return e.update()}),this.triArrows.forEach(function(t,n){return e.setArrowPosition(n)})},t.prototype.updateArrowsRotation=function(){var e=this;this.projectRotationEuler||(this.projectRotationEuler=this.api3d.getProjectRotationRef()),this.rotationEuler.copy(this.projectRotationEuler),this.rotationEuler.z%=2*Math.PI,this.rotationEuler.z=this.rotationEuler.z>Math.PI?this.rotationEuler.z-2*Math.PI:this.rotationEuler.z<-Math.PI?this.rotationEuler.z+2*Math.PI:this.rotationEuler.z,this.triArrows.forEach(function(t){switch(t.name){case"minz":case"maxz":t.rotation.z=-e.rotationEuler.z+Math.PI/2;break;case"minx":case"maxx":e.rotationEuler.z<0?t.rotation.x=e.rotationEuler.y:t.rotation.x=-Math.PI-e.rotationEuler.y;break;case"miny":case"maxy":Math.abs(e.rotationEuler.z/Math.PI)>.5?t.rotation.y=e.rotationEuler.y:t.rotation.y=-Math.PI-e.rotationEuler.y}})},t.prototype.updateArrowsScale=function(){var e=this.triArrows[0].arrow.geometry,t=this.arrowSize/(50*this.getArrowProjectSize(e));this.triArrows.forEach(function(e){e.arrow.scale.set(t,t,t),e.arrowLine.scale.set(t,t,t)})},t.prototype.getArrowProjectSize=function(e){e.boundingBox||e.computeBoundingBox();var t=this.api3d.getProjectSize(e.boundingBox);return t.x<t.y?t.x:t.y},t.prototype.identity=function(){this.position.set(0,0,0),this.rotation.set(0,0,0),this.scale.set(1,1,1),this.clippingMatrix.identity()},t.prototype.reset=function(){var e=this;this.identity(),this.clippingPlans0.forEach(function(t,n){e.clippingPlanes[n].copy(t)})},t.prototype.moveClippingPlan=function(e,t){var n=this.arrowMap.get(t);n&&(n.pan(e.negate()),this.updateClippingPlanes(),this.boxHelper.update(),this.api3d.update())},t.prototype.getClippingBoxAndMatrix=function(e,t){e.max.set(this.clippingPlanes[0].basePlane.constant,this.clippingPlanes[1].basePlane.constant,this.clippingPlanes[2].basePlane.constant),e.min.set(-this.clippingPlanes[3].basePlane.constant,-this.clippingPlanes[4].basePlane.constant,-this.clippingPlanes[5].basePlane.constant),t.copy(this.clippingMatrix)},t.prototype.intersectClippingBox=function(e,t){var n=a.Box33D.get(),r=a.Matrix43D.get(),i=!0;if(!0===this.gl.localClippingEnabled)if(this.getClippingBoxAndMatrix(n,r),r.getInverse(r),e.isVector3){var o=a.Vector33D.get().copy(e).applyMatrix4(r);i=n.containsPoint(o),a.Vector33D.back(o)}else{var s=a.Box33D.get().copy(e).applyMatrix4(r);i=!0===t?n.containsBox(s):n.intersectsBox(s),a.Box33D.back(s)}return a.Box33D.back(n),a.Matrix43D.back(r),i},o([c.ParamExport("cp_boxMesh",null)],t.prototype,"boxHelper",void 0),o([c.ParamExport("cp_arrowSize",l.BrowserInfo.isMobile?5:1)],t.prototype,"arrowSize",void 0),o([c.ParamExport("cp_boxColor",8251370)],t.prototype,"boxColor",void 0),o([c.ParamExport("cp_arrowColor",8251370)],t.prototype,"arrowColor",void 0),o([c.ParamExport("cp_arrowVisitable",!1)],t.prototype,"arrowVisiable",void 0),o([c.ParamExport("cp_enable",!1)],t.prototype,"enable",void 0),t=o([s.Sealed(),c.ApiExport(["getClippingArrows","moveClippingPlan","intersectClippingBox"],"3D")],t)}(a.Object3D);t.Clipping3D=h},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=function(e){function t(t){var n=e.call(this)||this,r=n,i=new Map,o=t["3D"];function s(e,n,a){a?i.has(e)||i.set(e,a):(a=i.get(e))&&!1!==t.PARAMS.fs_saveLookInfo||(a=r.getFocusLookInfoByBox(n),i.set(e,a)),o.setCurrentLook(a,!0)}function c(e){var t=r.precision;return e.max.x.toFixed(t)+e.max.y.toFixed(t)+e.max.z.toFixed(t)+e.min.x.toFixed(t)+e.min.y.toFixed(t)+e.min.z.toFixed(t)}function l(e){var t=r.precision;return e.radius.toFixed(t)+e.center.x.toFixed(t)+e.center.y.toFixed(t)+e.center.z.toFixed(t)}return r.focusByComponent=function(e,t){s(e,o.getComponentBoundingBox(e,a.Box33D.back(a.Box33D.get()).makeEmpty()),t)},r.focusByBoundingBox=function(e,t){s(c(e),e,t)},r.focusByBoundingSphere=function(e,t){s(l(e),a.Box33D.back(a.Box33D.get()).setFromCenterAndSize(e.center,a.Vector33D.back(a.Vector33D.get()).setScalar(2*e.radius)),t)},r.getFocusLookInfoByBox=function(e){o.setFocusPosition(e.getCenter(a.Vector33D.back(a.Vector33D.get())));var n={pos:o.getProjectPositionRef().toArray([]),center:o.getProjectRotationCenterRef().toArray([]),rotate:o.getProjectRotationRef().toArray([]),zoom:o.computeBenchCameraZoom(e),sys:t.UI.getSystemType()};return btoa(JSON.stringify(n))},r.focus=function(e){var t=e.lookInfo;t&&(e.compId?r.focusByComponent(e.compId,t):e.box?r.focusByBoundingBox(e.box,t):e.sphere&&r.focusByBoundingSphere(e.sphere,t))},r.setFocusLookInfo=function(e){var t=e.lookInfo;t&&(e.compId?i.set(e.compId,t):e.box?i.set(c(e.box),t):e.sphere&&i.set(l(e.sphere),t))},r.getFocusLookInfo=function(e){return e.compId?i.get(e.compId):e.box?i.get(c(e.box)):e.sphere?i.get(l(e.sphere)):void 0},r.dispose=function(){i.clear()},n}return i(t,e),o([s.ParamExport("fs_precision",2)],t.prototype,"precision",void 0),t=o([s.ApiExport(["focusByComponent","focusByBoundingBox","focusByBoundingSphere","focus","setFocusLookInfo","getFocusLookInfo"],"3D")],t)}(a.EventDispatcher3D);t.Focus3D=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(328),c=n(21),l=function(e){function t(t){var n,r,i,o=e.call(this)||this,s=o,c=t["3D"],l=new u,p=new Set,d=new Map,h=new Set;return s.backHighlight=function(){p.forEach(function(e){c.setRenderState(e,a.RenderState.VISIBLE),l.push(e),p.delete(e)})},s.dispose=function(){p.clear(),d.clear()},s.highlightComponent=function(e,t){p.has(e)||(t=void 0===t?2517686:t,d.set(e,t),c.setRenderState(e,a.RenderState.HIGHLIGHT),l.push(e),p.add(e))},s.transparentComponent=function(e,t){p.has(e)||(t=void 0===t?.5:t,d.set(e,t),c.setRenderState(e,a.RenderState.TRANSPARENCY),l.push(e),p.add(e))},s.isolationComponent=function(e,t,n){var r;e.forEach(function(e){return h.add(e)}),c.compSetForEach(function(e,n){h.has(n)||(r=c.getRenderState(n))!==a.RenderState.VISIBLE&&r!==a.RenderState.HIGHLIGHT?c.setRenderState(n,a.RenderState.VISIBLE):s.transparentComponent(n,t)}),h.clear(),c.update()},s.renderHighlight=(r=0,function(){var e=l.noEmpty();for(n=33.3,r=performance.now();l.noEmpty();){var t=l.pop(),i=c.getComponent(t);if(c.renderComponent(i),(n-=performance.now()-r)<0)break;r=performance.now()}return e}),s.update=function(){l.clear()},s.getSelected=(i=[],function(){return i.length=0,p.forEach(function(e){return i.push(e)}),i}),s.clearHighlight=function(e){!0===e?s.backHighlight():(p.clear(),l.clear(),c.update())},s.getHighlightColor=function(e){return d.get(e)},s.addSelectEventListener=s.addEventListener,s.removeSelectEventListener=s.removeEventListener,s.dispatchSelectEvent=s.dispatchEvent,o}return i(t,e),o([c.ParamExport("df_enable",!0)],t.prototype,"de_enable",void 0),o([c.ParamExport("fs_saveLookInfo",!1)],t.prototype,"saveLookInfo",void 0),o([c.ParamExport("hl_enableClick",!0)],t.prototype,"enableClick",void 0),o([c.ParamExport("hl_enableRegion",!0)],t.prototype,"enableRegion",void 0),o([c.ParamExport("hl_regonBoxColor","#02d6dccc")],t.prototype,"wireColor",void 0),t=o([s.Sealed(),c.ApiExport(["highlightComponent","transparentComponent","isolationComponent","backHighlight","setHighlightMaterial","getHighlightMaterial","renderHighlight","getSelected","clearHighlight","addSelectEventListener","removeSelectEventListener","dispatchSelectEvent","getHighlightColor"],"3D")],t)}(a.EventDispatcher3D);t.HighLight3d=l;var u=function(){return function(){this.handlers=[],this.set=new Set;var e,t=this;t.push=(e=[],function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.length=0,e.push.apply(e,arguments),e.forEach(function(e){t.set.has(e)||(t.set.add(e),t.handlers.push(e))})}),t.pop=function(){var e=t.handlers.pop();return t.set.delete(e),e},t.clear=function(){t.set.clear(),t.handlers.length=0},t.noEmpty=function(){return t.handlers.length>0},t.has=function(e){return t.set.has(e)},t.forEach=function(e){t.handlers.forEach(e)}}}()},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(17),l=function(e){function t(t){var n=e.call(this)||this;n.api=t;var r=t["3D"],i=new Map,o=new Map,l=r.getBenchCamera(),u=new Map,p=.001,d=n;function h(e){var t=u.get(e);void 0===t&&(t=new Map,u.set(e,t)),t.clear(),o.forEach(function(n,r){e===r&&n.forEach(function(e){e.ReAxiss.map(function(e){if(e.Data&&e.Data.length>=6)switch(e.statrPoint&&e.statrPoint.isVector3||(e.statrPoint=(new a.Vector33D).fromArray(e.Data,0)),e.endPoint&&e.endPoint.isVector3||(e.endPoint=(new a.Vector33D).fromArray(e.Data,3)),e.Type){case 0:!function(e,t,n){var r=!1,i=!1;if(Math.abs(e.x-t.x)<p){var o=n.get("x");o||n.set("x",o=new Map),o.forEach(function(n,o){r||Math.abs(o-e.x)<p&&(n.push((new a.Vector33D).copy(e).lerp(t,.1)),r=!0),i||Math.abs(o-t.x)<p&&(n.push((new a.Vector33D).copy(t).lerp(e,.1)),i=!0)}),r||o.set(e.x,[e]),i||o.set(t.x,[t])}else if(Math.abs(e.y-t.y)<p){var o=n.get("y");o||n.set("y",o=new Map),o.forEach(function(n,o){r||Math.abs(o-e.y)<p&&(n.push(e),r=!0),i||Math.abs(o-t.y)<p&&(n.push(t),i=!0)}),i||o.set(e.y,[e]),r||o.set(t.y,[t])}else console.warn("Not support this grid")}(e.statrPoint,e.endPoint,t)}else console.warn("Axis data illegality!")})})}),function(e){u.forEach(function(t,n){e===n&&t.forEach(function(e,t){e.forEach(function(e){e.sort(function(e,n){return"x"===t?e.y-n.y:e.x-n.y})})})})}(e)}var f=function(e,t,n){var i=t.getSize(a.Vector33D.get()),o=a.Vector33D.get().set(n.min.x,n.min.y,e.Height),s=a.Vector33D.get().set(n.max.x===n.min.x?n.min.x:n.min.x-i.x/10,n.max.x===n.min.x?n.min.y-i.y/10:n.min.y,e.Height),c=a.Vector33D.get().set(n.max.x,n.max.y,e.Height),u=a.Vector33D.get().set(n.max.x===n.min.x?n.max.x:n.max.x+i.x/10,n.max.x===n.min.x?n.max.y+i.y/10:n.max.y,e.Height),p=a.Vector33D.get().copy(u).lerp(c,5/6);p.z-=c.distanceTo(u)/6;var d=a.Vector33D.get().copy(u).lerp(c,2/3),h=a.Vector33D.get().copy(c).lerp(u,7/6),f=a.Vector33D.get().copy(s).lerp(o,5/6);f.z-=o.distanceTo(s)/6;var m=a.Vector33D.get().copy(s).lerp(o,2/3),g=a.Vector33D.get().copy(o).lerp(s,7/6);x(o.project(l)),x(s.project(l)),x(c.project(l)),x(u.project(l)),x(p.project(l)),x(d.project(l)),x(h.project(l)),x(f.project(l)),x(m.project(l)),x(g.project(l)),r.canvas2DDrawPath([s,o,f,m],1,"red",0,!0),r.canvas2DDrawPath([u,c,p,d],1,"red",0,!0),y(e.Name,e.Height,i,s,g,"red",12,"left","right"),y(e.Name,e.Height,i,u,h,"red",12,"right","left"),a.Vector33D.back(i),a.Vector33D.back(o),a.Vector33D.back(s),a.Vector33D.back(f),a.Vector33D.back(m),a.Vector33D.back(g),a.Vector33D.back(c),a.Vector33D.back(u),a.Vector33D.back(p),a.Vector33D.back(d),a.Vector33D.back(h)},m=function(e,t){var i=t.getSize(a.Vector33D.get()),o=a.Vector33D.get().copy(e.statrPoint).project(l),s=a.Vector33D.get().copy(e.endPoint).project(l);x(o),x(s),n.ctx.save(),r.canvas2DDrawPath([o,s],1,"red",5,!0),n.ctx.restore(),g(e.Name,"red",36,o,i),g(e.Name,"red",36,s,i),a.Vector33D.back(o),a.Vector33D.back(s),a.Vector33D.back(i)},g=function(e,t,r,i,o){n.ctx.save(),n.ctx.fillStyle=t,n.ctx.font="normal "+r+"pt Microsoft YaHei",n.ctx.textAlign="center",n.ctx.textBaseline="middle",n.ctx.translate(i.x,i.y),n.ctx.scale(l.zoom*Math.max(o.x,o.y)/40/24,l.zoom*Math.max(o.x,o.y)/40/24),n.ctx.fillText(e,0,0),n.ctx.restore()},y=function(e,t,r,i,o,a,s,c,u){var p=t.toFixed(2);"0.00"==p&&(p=""+p),n.ctx.save(),n.ctx.fillStyle=a,n.ctx.font="normal "+s+"pt Microsoft YaHei",n.ctx.textAlign=c,n.ctx.textBaseline="bottom",n.ctx.translate(i.x,i.y),n.ctx.scale(l.zoom*Math.max(r.x,r.y)/40/24,l.zoom*Math.max(r.x,r.y)/40/24),n.ctx.fillText(p,0,0),n.ctx.restore(),n.ctx.save(),n.ctx.fillStyle=a,n.ctx.font="normal "+s+"pt Microsoft YaHei",n.ctx.textAlign=u,n.ctx.textBaseline="middle",n.ctx.translate(o.x,o.y),n.ctx.scale(l.zoom*Math.max(r.x,r.y)/40/24,l.zoom*Math.max(r.x,r.y)/40/24),n.ctx.fillText(e,0,0),n.ctx.restore()};function v(e,t,n,r){var i=t.get(e);i||(i=new Map,t.set(e,i)),c.Util.isArray(n)?n.map(function(e){return r(i,e)}):r(i,n)}r.addMarkerUpdateContext(function(){d.enableLevel&&i.forEach(function(e,t){var n=r.getModelBoundingBox(t),i=function(e){var t=e.getCenter(a.Vector33D.get()),n=e.getSize(a.Vector33D.get());return n.x<n.y?(e.max.x=t.x,e.min.x=t.x):(e.max.y=t.y,e.min.y=t.y),a.Vector33D.back(t),a.Vector33D.back(n),e}(a.Box33D.get().copy(n));e.forEach(function(e){return f(e,n,i)}),a.Box33D.back(n),a.Box33D.back(i)}),d.enableGrid&&o.forEach(function(e,t){var n=r.getModelBoundingBox(t);e.forEach(function(e){e.ReAxiss.forEach(function(e){return m(e,n)})}),a.Box33D.back(n)})}),n.init=function(){n.ctx=r.getContext().getMarker(),s.BindParam("lg_enableLevel",function(e){d.enableLevel!==e&&r.enableMarkerRefresh()},n.api.handle),s.BindParam("lg_enableGrid",function(e){d.enableGrid!==e&&r.enableMarkerRefresh()},n.api.handle)},n.addLevel=function(e,t){v(e,i,t,function(e,t){return e.set(t.Name,t)})},n.addGrid=function(e,t){v(e,o,t,function(e,t){return e.set(t.Guid,t)}),h(e)},n.removeLevel=function(e,t){v(e,i,t,function(e,t){return e.delete(t.Name)})},n.removeGrid=function(e,t){v(e,o,t,function(e,t){return e.delete(t.Guid)}),h(e)},n.dispose=function(){i.clear(),o.clear()};var x=function(e){var t=n.ctx.canvas.width,r=n.ctx.canvas.height;return e.x=t/2*(e.x+1),e.y=r/2*(1-e.y),e};return n}return i(t,e),o([s.ParamExport("lg_enableLevel",!1)],t.prototype,"enableLevel",void 0),o([s.ParamExport("lg_enableGrid",!1)],t.prototype,"enableGrid",void 0),t=o([s.ApiExport(["addLevel","addGrid","removeLevel","removeGrid"],"3D")],t)}(a.EventDispatcher3D);t.LevelAndGrid3D=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(1),l=n(17),u=function(e){function t(t){var r=e.call(this)||this,i=r;i.measureIds=[];var o,u,p=t["3D"],d=t.PARAMS,h=p.getBenchCamera(),f=new Map;r.unitName=c.GUMUnitName.get(r.unit),r.dispose=function(){f.clear()},r.init=function(){o=p.getContext().getMarker(),s.BindParam("ms_enable",function(e){r.enable!==e&&(r.enable=e,r.display=!0,p.enableMarkerRefresh(),p.dispatchMeasureEvent({type:e?"enable":"disable",param:null}),!1===e?d.pp_enable=!1:r.state==c.MEASURESTATE.POINT&&(d.pp_enable=!0))},t.handle),s.BindParam("ms_state",function(e){e!==r.state&&(d.hl_enableClick=e==c.MEASURESTATE.AREA||e==c.MEASURESTATE.VOL,d.pp_enable=e==c.MEASURESTATE.POINT,r.state===c.MEASURESTATE.PSENCLOSEAREA&&(p.setPSEnClosedComplete()||r._info&&p.removeMeasureInfo(r._info.id)),r.state=e,r.dispatchMeasureEvent({type:"stateChanged",param:e}),p.enableMarkerRefresh())},t.handle),s.BindParam("ms_unit",function(e){r.unitName=c.GUMUnitName.get(e),r.unit=e,p.enableMarkerRefresh()},t.handle),s.BindParam("eg_clearColor",function(e){d.ms_mea2DFontColor="#02d6dc",p.enableMarkerRefresh()},t.handle),s.BindParam("ms_display",function(e){e!==r.display&&(r.display=e,p.enableMarkerRefresh())},t.handle),d.ms_unit=t.UI.getSystemType()===c.SystemType.ST_3D?c.GUMUNIT.UNIT_FOOT:c.GUMUNIT.UNIT_MM},r.addMeasureInfo=function(e){e.sys=t.UI.getSystemType(),e.box=new a.Box23D,e.result={},e.createTime=Date.now(),e.display=!0,e.color=i.measureColor,e.state===c.MEASURESTATE.PSENCLOSEAREA&&(r._info=e),f.set(e.id,e),i.measureIds.push(e.id),p.enableMarkerRefresh()},r.drawMensureResults=function(){var e=a.Vector33D.get();f.forEach(function(t){if(!0===t.display)switch(u=t.check,t.box.makeEmpty(),t.pInfos.map(function(n){A(e.copy(n.p).project(h)),n.c.center.set(e.x,e.y),n.c.z=e.z,t.box.expandByPoint(n.c.center)}),t.box.expandByScalar(1.2),t.state){case c.MEASURESTATE.DIS:t.sys===c.SystemType.ST_3D||void 0===t.sys?x(t):t.sys===c.SystemType.ST_2D&&M(t);break;case c.MEASURESTATE.ANH:b(t);break;case c.MEASURESTATE.AREA:t.sys===c.SystemType.ST_2D&&y(t);break;case c.MEASURESTATE.POINT:t.sys===c.SystemType.ST_2D&&v(t);break;case c.MEASURESTATE.PSENCLOSEAREA:t.sys===c.SystemType.ST_2D&&m(t)}}),a.Vector33D.back(e)};var m=function(e){o.save();var t=function(e){var t=!1,n=e.pInfos,r=n.length;r>=3&&n[r-1]==n[0]&&(t=!0);return t}(e),n=e.pInfos;o.lineWidth=2;var s=0,c=0;if(n.forEach(function(t,n){var i=a.Vector33D.get().copy(t.p).project(h);i.x=p.getCanvas2DSizeX(i.x),i.y=p.getCanvas2DSizeY(i.y),r.canvas2DDrawPoint(i,r.pSize,g(e.color,u,"88")),n>0&&(s+=i.x,c+=i.y),a.Vector33D.back(i)}),s/=n.length-1,c/=n.length-1,o.beginPath(),n.forEach(function(e){var t=a.Vector33D.get().copy(e.p).project(h);t.x=p.getCanvas2DSizeX(t.x),t.y=p.getCanvas2DSizeY(t.y),o.lineTo(t.x,t.y),a.Vector33D.back(t)}),t){var l=a.Vector33D.get().copy(n[0].p).project(h);l.x=p.getCanvas2DSizeX(l.x),l.y=p.getCanvas2DSizeY(l.y),o.lineTo(l.x,l.y),a.Vector33D.back(l),o.fillStyle=i.getColorStyle(g(e.color,!1,"11")),o.fill();var d=function(e){for(var t=0,n=a.Vector33D.get(),r=a.Vector33D.get(),i=a.Vector33D.get(),o=0,s=e.pInfos.length;o<s-1;++o)n.copy(e.pInfos[0].p),r.copy(e.pInfos[o].p),i.copy(e.pInfos[o+1].p),t+=((n.x-r.x)*(n.y-i.y)-(n.x-i.x)*(n.y-r.y))/2;return a.Vector33D.back(n),a.Vector33D.back(r),_(Math.abs(t))}(e);e.result.area=d,0!==d&&(o.font="normal 12pt Microsoft YaHei",o.globalAlpha=1,o.fillStyle=i.getColorStyle(g(e.color,u,"88")),o.textAlign="center",o.textBaseline="middle",o.fillText(d.toFixed(2)+" "+r.unitName+"",s,c))}o.strokeStyle=r.getColorStyle(g(e.color,u,"88")),o.stroke(),o.restore()};function g(e,t,n){return t?e:e+n}var y=function(e){var t=e.pInfos[0].p,s=e.pInfos[1].p,c=A(a.Vector33D.get().copy(t).project(h)),l=A(a.Vector33D.get().copy(s).project(h));o.save(),p.canvas2DDrawRect(c.x,c.y,l.x-c.x,l.y-c.y,0,0,0,2,!0,g(e.color,u,"88")),o.fillStyle=i.getColorStyle(n.cfColor),o.fill(),r.canvas2DDrawPoint(c,5,g(e.color,u,"88")),r.canvas2DDrawPoint(l,5,g(e.color,u,"88"));var d=_(Math.abs(t.x-s.x))*_(Math.abs(t.y-s.y));e.result.area=d,0!==d&&(o.font="normal 12pt Microsoft YaHei",o.globalAlpha=1,o.fillStyle=i.getColorStyle(g(e.color,u,"88")),o.textAlign="center",o.textBaseline="middle",o.fillText(d.toFixed(2)+" "+r.unitName+"",(c.x+l.x)/2,(c.y+l.y)/2)),a.Vector33D.back(l),a.Vector33D.back(c),o.restore()},v=function(e){var t=e.pInfos[0].p,n=A(a.Vector33D.get().copy(t).project(h)),i=a.Vector23D.get(),s=a.Vector23D.get(),c=a.Vector23D.get(),l=a.Vector23D.get();s.set(n.x,n.y),i.set(s.x+40*Math.SQRT2,s.y+40*Math.SQRT2),c.set(s.x+10*Math.sin(Math.PI/12),s.y+10*Math.cos(Math.PI/12)),l.set(s.x+10*Math.cos(Math.PI/12),s.y+10*Math.sin(Math.PI/12)),p.pickPoint(Math.floor(s.x),Math.floor(s.y)),d.pp_enable||(d.pp_enable=!0),o.save(),o.beginPath(),o.moveTo(i.x,i.y),o.strokeStyle="#02d6dc",o.fillStyle="#02d6dc",o.arc(i.x,i.y,r.pointSize,0,2*Math.PI),o.fill(),o.beginPath(),o.moveTo(i.x,i.y),o.lineWidth=3,o.lineTo((c.x+l.x)/2-.707,(c.y+l.y)/2-.707),o.stroke(),o.beginPath(),o.moveTo(s.x,s.y),o.lineTo(c.x,c.y),o.lineTo(l.x,l.y),o.lineTo(s.x,s.y),o.fill(),n.set(s.x,s.y,0).unproject(h);var u=d.pp_pick.point;u&&(o.font="normal 12pt Microsoft YaHei",o.fillStyle="#b7a613",o.fillText("x: "+u.x.toFixed(2),s.x+40,s.y-20),o.fillText("y: "+u.y.toFixed(2),s.x+40,s.y),e.result.x=u.x,e.result.y=u.y),o.restore(),e.box.makeEmpty(),e.box.expandByPoint(i),e.box.expandByPoint(s),e.box.expandByPoint(c),e.pInfos[0].c.center.set(i.x,i.y),e.pInfos[0].c.radius=r.pointSize,a.Vector33D.back(n),a.Vector23D.back(i),a.Vector23D.back(s),a.Vector23D.back(c),a.Vector23D.back(l)},x=function(e){var t=e.pInfos[0].p,n=e.pInfos[1].p,i=a.Vector33D.get().copy(t),o=a.Vector33D.get().copy(n),s=a.Vector33D.get().set(t.x,t.y,n.z),c=a.Vector33D.get().set(t.x,n.y,n.z),l=a.Vector43D.get();l.x=Math.abs(o.distanceTo(c)),l.y=Math.abs(c.distanceTo(s)),l.z=Math.abs(s.distanceTo(i)),l.w=Math.abs(i.distanceTo(o)),e.result.dx=l.x,e.result.dy=l.y,e.result.dz=l.z,e.result.d=l.w,r.canvas2DDraw3DDis(A(i.project(h)),A(o.project(h)),A(s.project(h)),A(c.project(h)),l,e.color),a.Vector33D.back(s),a.Vector33D.back(o),a.Vector33D.back(i),a.Vector33D.back(c),a.Vector43D.back(l)},M=function(e){w(e.pInfos[0].p,e.pInfos[1].p,e)},b=function(e){var t=a.Vector33D.get().copy(e.pInfos[0].p),s=a.Vector33D.get().copy(e.pInfos[1].p);if(A(t.project(h)),A(s.project(h)),r.canvas2DDrawPoint(t,r.pSize,g(e.color,u,"88")),r.canvas2DDrawLine(t.x,t.y,s.x,s.y,2,g(e.color,u,"88"),l.BrowserInfo.isMobile?0:void 0),r.canvas2DDrawPoint(s,r.pSize,g(e.color,u,"88")),3===e.pInfos.length){var p=a.Vector33D.get().copy(e.pInfos[2].p);A(p.project(h)),r.canvas2DDrawLine(s.x,s.y,p.x,p.y,3,g(e.color,u,"88"),l.BrowserInfo.isMobile?0:void 0),r.canvas2DDrawPoint(p,r.pSize,g(e.color,u,"88")),t.copy(e.pInfos[0].p),s.copy(e.pInfos[1].p),p.copy(e.pInfos[2].p);var d=a.Vector33D.get(),f=a.Vector33D.get();s.distanceTo(t)>s.distanceTo(p)?(d.lerpVectors(s,p,.25),f.lerpVectors(s,t,d.distanceTo(s)/t.distanceTo(s))):(d.lerpVectors(s,t,.25),f.lerpVectors(s,p,d.distanceTo(s)/p.distanceTo(s))),function(e,t,n,r,s){var c=a.Vector33D.get();o.save(),o.beginPath(),o.lineWidth=1,o.strokeStyle=i.getColorStyle(s),A(c.copy(e).project(h)),o.moveTo(c.x,c.y);for(var l=0;l<r+1;l++)c.copy(t).lerpArc(e,n,l/r),c.project(h),A(c),o.lineTo(c.x,c.y);o.closePath(),o.stroke(),o.fillStyle=i.getColorStyle(s),o.fill(),o.restore(),a.Vector33D.back(c)}(s,d,f,n.arcSegment,g(e.color,!1,"30")),d.x=(t.x+s.x+p.x)/3,d.y=(t.y+s.y+p.y)/3,d.z=(t.z+s.z+p.z)/3,A(d.project(h));var m=180*t.calcAngle(s,p)/Math.PI;e.result.angle=m,e.sys===c.SystemType.ST_3D||void 0===e.sys?r.drawMensureFont("R",d.x,d.y,m,r.fontSize,g(e.color,u,"88")):e.sys!==c.SystemType.ST_2D||isNaN(m)||(o.font="normal 12pt Microsoft YaHei",o.fillStyle=i.getColorStyle(g(e.color,u,"88")),o.textAlign="center",o.textBaseline="middle",o.fillText(m.toFixed(2)+" ",d.x,d.y)),a.Vector33D.back(p),a.Vector33D.back(d),a.Vector33D.back(f)}a.Vector33D.back(s),a.Vector33D.back(t)};r.canvas2DDraw3DDis=function(e,t,n,i,o,s){r.canvas2DDrawPoint(e,r.pSize,g(s,u,"88")),r.canvas2DDrawLine(e.x,e.y,t.x,t.y,2,g(s,u,"88"),0),r.canvas2DDrawPoint(t,r.pSize,g(s,u,"88")),r.canvas2DDrawLine(i.x,i.y,t.x,t.y,3,u?"#539453cc":"#53945380",0),r.canvas2DDrawLine(i.x,i.y,n.x,n.y,3,u?"#5757dacc":"#5757da80",0),r.canvas2DDrawLine(e.x,e.y,n.x,n.y,3,u?"#ec4545CC":"#ec454580",0),r.drawMensureFont("Z",a._Math.lerp(e.x,n.x,.5),a._Math.lerp(e.y,n.y,.5),o.z,r.fontSize,u?"#ec4545":"#ec454580"),r.drawMensureFont("Y",a._Math.lerp(n.x,i.x,.5),a._Math.lerp(n.y,i.y,.5),o.y,r.fontSize,u?"#5757da":"#5757da80"),r.drawMensureFont("X",a._Math.lerp(i.x,t.x,.5),a._Math.lerp(i.y,t.y,.5),o.x,r.fontSize,u?"#539453":"#53945380"),r.drawMensureFont("D",a._Math.lerp(e.x,t.x,.5),a._Math.lerp(e.y,t.y,.5),o.w,r.fontSize,u?"#00B0B5":"#00B0B580")};var w=function(e,t,n){var s=_(e.distanceTo(t));n.result.dx=_(Math.abs(e.x-t.x)),n.result.dy=_(Math.abs(e.y-t.y)),n.result.dz=0,n.result.d=s;var c=A(a.Vector33D.get().copy(e).project(h)),p=A(a.Vector33D.get().copy(t).project(h));r.canvas2DDrawPoint(c,r.pSize,g(n.color,u,"88")),r.canvas2DDrawLine(c.x,c.y,p.x,p.y,2,g(n.color,u,"88"),l.BrowserInfo.isMobile?0:void 0),r.canvas2DDrawPoint(p,r.pSize,g(n.color,u,"88")),0!==s&&(o.font="normal 12pt Microsoft YaHei",o.fillStyle=i.getColorStyle(g(n.color,!0)),o.textAlign="center",o.textBaseline="middle",o.fillText(s.toFixed(2)+" "+r.unitName,(c.x+p.x)/2,(c.y+p.y)/2)),a.Vector33D.back(c),a.Vector33D.back(p)};function A(e){var t=o.canvas.width,n=o.canvas.height;return e.x=t/2*(e.x+1),e.y=n/2*(1-e.y),e}r.canvas2DDrawLine=function(e,t,n,r,a,s,c){o.save(),o.beginPath(),o.lineWidth=void 0===a?1:a,o.strokeStyle=i.getColorStyle(void 0===s?"black":s),o.setLineDash([void 0===c?1:c]),o.moveTo(e,t),o.lineTo(n,r),o.stroke(),o.restore()},r.canvas2DDrawPoint=function(e,t,n){o.save(),o.shadowOffsetX=0,o.shadowOffsetY=3,o.shadowBlur=6,o.shadowColor=i.getColorStyle(u?"#00000099":"#00000055"),o.beginPath(),o.moveTo(e.x,e.y),o.arc(e.x,e.y,this.wirePSize,0,2*Math.PI,!0),o.fillStyle=i.getColorStyle(u?"#ffffff":"#ffffff88"),o.fill(),o.restore(),o.save(),o.shadowOffsetX=0,o.shadowOffsetY=3,o.shadowBlur=6,o.shadowColor=i.getColorStyle(u?"#00000099":"#00000055"),o.beginPath(),o.moveTo(e.x,e.y),o.arc(e.x,e.y,t,0,2*Math.PI,!0),o.fillStyle=i.getColorStyle(n),o.fill(),o.restore()},r.drawMensureFont=function(e,t,n,r,a,s){o.save(),o.shadowOffsetX=0,o.shadowOffsetY=3,o.shadowBlur=6,o.shadowColor=i.getColorStyle(u?"#00000099":"#00000055");var c=r.toFixed(3);o.font="normal "+a+"px Microsoft YaHei";var l=o.measureText(c).width;o.fillStyle=i.getColorStyle(u?"#ffffff":"#ffffff80"),p.canvas2DDrawRect(t-l/2,n-a-8,l+5+4,24,0,5,0,1,!0,o.fillStyle),o.fill();var d=o.measureText(e).width,h=t-l/2-d-16-1,f=n-a-8;o.fillStyle=i.getColorStyle(s),p.canvas2DDrawRect(h,f,d+16,24,5,0,0,1,!0,o.fillStyle),o.fill(),o.restore(),o.save(),o.font="normal "+a+"px Microsoft YaHei",o.textAlign="center",o.fillStyle=i.getColorStyle(s),o.fillText(c,t+5,n-6),o.textAlign="end",o.fillStyle=i.getColorStyle(u?"#ffffff":"#ffffff80"),o.fillText(e,t-l/2-8-1,n-6),o.restore()},r.updateMensure=function(){!0===r.display&&r.drawMensureResults()},p.addMarkerUpdateContext(r.updateMensure),r.raycastMeasureInfo=function(e,t,n,r){var i,o=a.Vector23D.get().set(e,t);return f.forEach(function(e){!1!==r?e.pInfos.map(function(t){var r=t.c.radius;l.BrowserInfo.isMobile&&(t.c.radius=30),t.c.containPoint(o)&&n.push({info:e,pi:t}),l.BrowserInfo.isMobile&&(t.c.radius=r)}):i||(e.box.containsPoint(o)?(e.check=!0,i=e.id):e.check=!1)}),p.enableMarkerRefresh(),i&&p.dispatchEvent({type:"measure_check",params:{checkId:i}}),n.sort(function(e,t){return e.pi.c.z-t.pi.c.z}),a.Vector23D.back(o),n},r.removeMeasureInfo=function(e){f.delete(e),a.arrayRemove(i.measureIds,e),p.enableMarkerRefresh()},r.getMeasureResult=function(){return f},r.getSerializedMeasureInfos=function(){var e=this,t={};return f.forEach(function(n,r){t[r]=e.serializedObject(n)}),JSON.stringify(t)},r.addSerializedMeasureInfos=function(e){for(var t in"string"==typeof e&&(e=JSON.parse(e)),e)f.set(t,this.deSerializedObject(e[t]));p.enableMarkerRefresh()},r.addMeasureEventListener=r.addEventListener,r.removeMeasureEventListener=r.removeEventListener,r.dispatchMeasureEvent=r.dispatchEvent;var _=function(e){return e/d.model_unit*r.unit};return r.serializedObject=function(e){var t=this;switch(typeof e){case"object":if(e instanceof a.Vector33D)return[e.x,e.y,e.z,"vector3"];if(e instanceof a.Circle3D)return[e.radius,e.z,e.center.x,e.center.y,"circle"];if(e instanceof a.Box23D)return[e.min.x,e.min.y,e.max.x,e.max.y,"box2"];if(e instanceof Array){var n=[];return e.forEach(function(e){return n.push(t.serializedObject(e))}),n}var r={};for(var i in e){var o=e[i];void 0!==o&&(r[i]=this.serializedObject(o))}return r;default:return e}},r.deSerializedObject=function(e){var t=this;switch(typeof e){case"object":if(!(e instanceof Array)){var n={};for(var r in e){var i=e[r];n[r]=this.deSerializedObject(i)}return n}if(!(e.length>0))return{};if("number"!=typeof e[0]){var o=[];return e.forEach(function(e){return o.push(t.deSerializedObject(e))}),o}switch(e.pop()){case"vector3":return(new a.Vector33D).fromArray(e);case"box2":var s=new a.Box23D;return s.min.set(e[0],e[1]),s.max.set(e[2],e[3]),s;case"circle":var c=new a.Circle3D;return c.radius=e[0],c.z=e[1],c.center.set(e[2],e[3]),c;default:return{}}break;default:return e}},i.getColorStyle=function(e){if(l.BrowserInfo.isAndroid&&9===e.length){var t=parseInt(e.slice(7,9),16)/255;return o.globalAlpha=t,e.slice(0,7)}return e},r.getMeasureInfo=function(){var e=[];return f.forEach(function(t){e.push({id:t.id,createTime:t.createTime,check:t.check,state:t.state,result:t.result,display:t.display,color:t.color})}),JSON.stringify(e)},r.setMeaureInfoAttri=function(e,t,n){var r=f.get(e);r&&void 0!==r[t]&&(r[t]=n,p.enableMarkerRefresh())},r.clearAllMeasureInfos=function(){f.clear(),p.enableMarkerRefresh()},r.setPSEnClosedComplete=function(){var e=!1;return r._info&&r._info.pInfos.length&&r._info.pInfos.length>3&&(e=!0,r._info.pInfos.pop(),r._info.pInfos.push(r._info.pInfos[0]),r._info.check=!1,p.enableMarkerRefresh(),r._info=null),e},r.backMeasureInfo=function(){if(i.measureIds.length){var e=i.measureIds.pop();t.PARAMS.ms_PSEnClosedComplete=!0,i.removeMeasureInfo(e)}},r}var n;return i(t,e),n=t,t.arcSegment=100,t.pColor="#02d6dc88",t.lColor="#02d6dc80",t.aColor="#02d6dc55",t.cfColor="#02d6dc11",t.pcColor="#02d6dc",t.lcColor="#02d6dc",t.acColor="blue",o([s.ParamExport("ms_color","#02d6dc")],t.prototype,"measureColor",void 0),o([s.ParamExport("ms_enable",!1)],t.prototype,"enable",void 0),o([s.ParamExport("ms_state",l.BrowserInfo.isMobile?null:c.MEASURESTATE.DIS)],t.prototype,"state",void 0),o([s.ParamExport("ms_pSize",l.BrowserInfo.isMobile?3:6)],t.prototype,"pSize",void 0),o([s.ParamExport("ms_wirePSize",l.BrowserInfo.isMobile?5:10)],t.prototype,"wirePSize",void 0),o([s.ParamExport("ms_action",1)],t.prototype,"action",void 0),o([s.ParamExport("ms_fontSize",16)],t.prototype,"fontSize",void 0),o([s.ParamExport("ms_mea2DFontColor","#ffffff")],t.prototype,"font2Dcolor",void 0),o([s.ParamExport("ms_pointSize",20)],t.prototype,"pointSize",void 0),o([s.ParamExport("ms_unit",c.GUMUNIT.UNIT_MM)],t.prototype,"unit",void 0),o([s.ParamExport("ms_display",!0)],t.prototype,"display",void 0),o([s.ParamExport("ms_PSEnClosedComplete",!1)],t.prototype,"PSEnClosedComplete",void 0),t=n=o([s.ApiExport(["addMeasureInfo","removeMeasureInfo","raycastMeasureInfo","getMeasureResult","addMeasureEventListener","removeMeasureEventListener","dispatchMeasureEvent","getSerializedMeasureInfos","addSerializedMeasureInfos","serializedObject","deSerializedObject","getColorStyle","getMeasureInfo","setMeaureInfoAttri","clearAllMeasureInfos","setPSEnClosedComplete","backMeasureInfo"],"3D")],t)}(a.EventDispatcher3D);t.Measure=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(17),l=function(e){function t(t){var n=e.call(this)||this,r=t["3D"],i=!1,o=0,s=null;n.valueColor=new a.Color3D("green"),n.wireColor=new a.Color3D(0),n.init=function(){n.ctx=r.getContext().getMarker(),r.addEventListener("fileloader_envloadend",l),r.addEventListener("fileloader_geomallloadend",u),r.addEventListener("fileloader_geomloadend",d),r.addMarkerUpdateContext(p)};var l=function(){n.enable&&(null!==s&&clearTimeout(s),o=0,i=!0,r.enableMarkerRefresh())},u=function(){n.enable&&(null!==s&&clearTimeout(s),o=1,s=setTimeout(function(){i=!1,r.enableMarkerRefresh(),s=null},500))},p=function(){if(i){var e=n.ctx.canvas.width/4,t=n.ctx.canvas.height,r=n.posX,a=n.posY,s=n.width,l=n.height;void 0===r&&(c.BrowserInfo.isMobile,r=5),void 0===a&&(a=c.BrowserInfo.isMobile?1:t-8),void 0===s&&(s=c.BrowserInfo.isMobile?4*e-10:Math.max(100,Math.min(500,e))),void 0===l&&(l=5/window.devicePixelRatio),n.ctx.strokeStyle="#"+n.wireColor.getHexString(),n.ctx.strokeRect(r,a,s,l),n.ctx.fillStyle="#"+n.valueColor.getHexString(),n.ctx.fillRect(r,a,s*o,l)}};function d(e){o=e.params.current/e.params.totial,r.enableMarkerRefresh(),e=null}return n.dispose=function(){r.removeEventListener("fileloader_envloadend",l),r.removeEventListener("fileloader_geomallloadend",u),r.removeEventListener("fileloader_geomloadned",d)},n.setProcessViewPosAndSize=function(e,t,r,i){n.posX=e,n.posY=t,n.width=r,n.height=i},n}return i(t,e),o([s.ParamExport("pv_valueColor",null)],t.prototype,"valueColor",void 0),o([s.ParamExport("pv_wireColor",null)],t.prototype,"wireColor",void 0),o([s.ParamExport("pv_enable",!1)],t.prototype,"enable",void 0),o([s.ParamExport("pv_width",void 0)],t.prototype,"width",void 0),o([s.ParamExport("pv_height",void 0)],t.prototype,"height",void 0),o([s.ParamExport("pv_posX",void 0)],t.prototype,"posX",void 0),o([s.ParamExport("pv_posY",void 0)],t.prototype,"posY",void 0),t=o([s.ApiExport(["setProcessViewPosAndSize"],"3D")],t)}(a.EventDispatcher3D);t.ProcessView3D=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(17),l=n(389),u=n(328),p=function(e){function t(t){var n=e.call(this)||this;n.api=t,n.scene=new a.MinorScene3D;var r=n.camera=new a.OrthographicCamera3D(1,-1,-1,1,-5e3,5e3);return n.scene.camera=r,r.up.copy(l.Cameras3D.defaultUp),r.position.set(0,0,1),r.lookAt(0,0,0),r.viewport=new a.Vector43D,n.navAmbientLight=new a.AmbientLight3D(16777215,.8),n.scene.add(n.navAmbientLight),s.BindParam("ng_navigateSize",function(e){n.size=e;var r=t.PARAMS.eg_frameBufferMultiple;e*=r;var i=n.camera;i.left=-e/2,i.right=e/2,i.top=e/2,i.bottom=-e/2,i.viewport.set(-e-n.right*r,-e-n.top*r,e,e),i.updateProjectionMatrix(),t.PARAMS.rd_minorRefresh=!0},t.handle),s.BindParam("ng_enable",function(e){var t=n.scene;!0===e?!0!==t.visible&&(n.api3d.update(),t.visible=!0):!1!==t.visible&&(n.api3d.update(),t.visible=!1)},t.handle),s.BindParam("ng_right",function(e){var r=t.PARAMS.eg_frameBufferMultiple,i=n.size*r,o=n.camera;o.viewport.set(-i-e*r,-i-n.top*r,i,i),o.updateProjectionMatrix(),t.PARAMS.rd_minorRefresh=!0},t.handle),s.BindParam("ng_top",function(e){var r=t.PARAMS.eg_frameBufferMultiple,i=n.size*r,o=n.camera;o.viewport.set(-i-n.right*r,-i-e*r,i,i),o.updateProjectionMatrix(),t.PARAMS.rd_minorRefresh=!0},t.handle),n}return i(t,e),t.prototype.dispose=function(){u.noop()},t.prototype.init=function(){var e=this.api3d=this.api["3D"];this.api.PARAMS.ng_navigateSize=this.size,e.addMinorScene(this.scene)},t.prototype.getNavigateScene=function(){return this.scene},t.prototype.getNavigateCamera=function(){return this.camera},o([s.ParamExport("ng_navigateSize",c.BrowserInfo.isMobile?100:134)],t.prototype,"size",void 0),o([s.ParamExport("ng_enable",!0)],t.prototype,"enable",void 0),o([s.ParamExport("ng_right",20)],t.prototype,"right",void 0),o([s.ParamExport("ng_top",20)],t.prototype,"top",void 0),o([s.ParamExport("ng_cubeColor",16777215)],t.prototype,"cubeColor",void 0),o([s.ParamExport("ng_triColor",186076)],t.prototype,"triColor",void 0),o([s.ParamExport("ng_circleColor",186076)],t.prototype,"circleColor",void 0),o([s.ParamExport("ng_arrowColor",186076)],t.prototype,"arrowColor",void 0),o([s.ParamExport("ng_checkColor",11793396)],t.prototype,"checkColor",void 0),o([s.ParamExport("ng_fontSize",50)],t.prototype,"fontSize",void 0),o([s.ParamExport("ng_fontColor","#000000")],t.prototype,"fontColor",void 0),o([s.ParamExport("ng_fontFamily"," ")],t.prototype,"fontFamily",void 0),o([s.ParamExport("ng_controlState",!0)],t.prototype,"controlState",void 0),t=o([s.ApiExport(["getNavigateCamera","getNavigateScene"],"3D")],t)}(a.EventDispatcher3D);t.Navigate3D=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(21),a=n(366),s=function(){function e(e){this._api=e,this._circleNames=["yawCircle","pitchCircle","rollCircle"],this._arrowNames=["yawArrow_1","yawArrow_0","pitchArrow_1","pitchArrow_0","rollArrow_0","rollArrow_1","posXArrow","posYArrow","posZArrow","negXArrow","negYArrow","negZArrow"],this._circleLineNames=["yawCircleLine","pitchCircleLine","rollCircleLine"],this.circleSegment=2e3,this.circlePrecision=20,this._api3d=this._api["3D"],this._modelInfoMap=new Map,this._arrows=[],this.initArrow(),this._preVec=new i.Vector33D,this._posVec=new i.Vector33D,this._benchSceneInfo={enable:!1,checkedModel:null,benchId:e.handle,models:this._modelInfoMap},this._enable=!1;var t=this;Object.defineProperty(this._benchSceneInfo,"enable",{set:function(e){t.setBenchSceneLayoutEnable(e)},get:function(){return t._enable}}),this._lineMMap=new Map,this._lineDMap=new Map}var t;return t=e,e.prototype.setBenchSceneLayoutEnable=function(e){if(this._enable!==e){this._enable=e;var t=this._api3d;!0===this._enable?(this._api.UI.enableToolBars(!1),this.active(),t.dispatchEvent({type:"benchscenelayout_enable"})):(this._api.UI.enableToolBars(!0),this.deActive(),t.dispatchEvent({type:"benchscenelayout_disable"}))}},e.prototype.getBenchSceneLayoutEnable=function(){return this._enable},e.prototype.dispose=function(){this._modelInfoMap.clear(),this._arrows.length=0},e.prototype.initArrow=function(){var e=new i.BufferGeometry3D;e.addAttribute("position",new i.Float32BufferAttribute([-20,0,0,-10,-5.5,0,-10,5.5,0,-10,-2,0,-10,2,0,10,-2,0,10,2,0,10,-5.5,0,10,5.5,0,20,0,0],3)),e.setIndex([0,2,1,3,4,5,4,6,5,8,9,7]),e.computeBoundingBox();var t=new i.MeshBasicMaterial3D({color:this.rotationArrowOC,side:i.Constant.DoubleSide});this._arrow=new i.Mesh3D(e,t),this._arrow.name="arrow"},e.prototype.initCircleObject=function(e){var t=this,n=e.radius,r=new i.CircleLineBufferGeometry3D(n/2,1024),a=new i.CircleBufferGeometry3D(4*n/10,this.circleSegment),s=new i.LineBasicMaterial3D({color:this.rotationArrowOC,transparent:!0,opacity:this.originLineOpacity}),c=new i.MeshBasicMaterial3D({color:this.circleColor,transparent:!0,opacity:this.circleOpacity,side:i.Constant.DoubleSide}),l=new i.LineDashedMaterial3D({color:this.rotationArrowOC,transparent:!0,opacity:this.originOpacity});l.dashSize=Math.PI*n/512,l.gapSize=Math.PI*n/512;var u=this._lineMMap,p=this._lineDMap,d=new i.Line3D(r,s);d.name="yawCircleLine",d.computeLineDistances();var h=new i.Mesh3D(a,c);h.name="yawCircle",h.visible=!1,u.set("yawCircleLine",s),p.set("yawCircleLine",l);var f=d.clone();f.rotation.set(0,Math.PI/2,0),f.name="pitchCircleLine",f.material=s.clone();var m=h.clone();m.geometry=a.clone(),m.rotation.set(0,Math.PI/2,0),m.name="pitchCircle",m.visible=!1,u.set("pitchCircleLine",s.clone()),p.set("pitchCircleLine",l.clone());var g=d.clone();g.rotation.set(Math.PI/2,0,0),g.name="rollCircleLine",g.material=s.clone();var y=h.clone();y.geometry=a.clone(),y.rotation.set(Math.PI/2,0,0),y.name="rollCircle",y.visible=!1,u.set("rollCircleLine",s.clone()),p.set("rollCircleLine",l.clone()),e.object.add(d),e.object.add(f),e.object.add(g),e.object.add(h),e.object.add(m),e.object.add(y),o.BindParam("bs_circleColor",function(e){c.color.set(e)},this._api.handle),o.BindParam("bs_circleOpacity",function(e){c.opacity=e},this._api.handle),o.BindParam("bs_rotationArrowOC",function(e){s.color.set(e),f.material.color.set(e),g.material.color.set(e),t._api.PARAMS.rd_minorRefresh=!0},this._api.handle)},e.prototype.initArrowObject=function(e){var t=this,n=1.1*e.radius,r=this._arrow.clone();r.material=new i.MeshBasicMaterial3D({color:this.rotationArrowOC,side:i.Constant.DoubleSide,transparent:!0,opacity:this.originArrowOpacity}),r.name="yawArrow_1",r.position.x-=n/2,r.rotation.set(0,0,Math.PI/2);var a=r.clone();a.name="yawArrow_0",a.position.x+=n;var s=this._arrow.clone();s.material=r.material.clone(),s.name="pitchArrow_0",s.position.y-=n/2,s.rotation.set(Math.PI/2,Math.PI/2,Math.PI/2);var c=s.clone();c.name="pitchArrow_1",s.position.y+=n;var l=this._arrow.clone();l.material=r.material.clone(),l.name="rollArrow_0",l.position.z+=n/2,l.rotation.x=Math.PI/2;var u=l.clone();u.name="rollArrow_1",l.position.z-=n,this._arrows.push(r,s,l,a,c,u),e.object.add(r,s,l,a,c,u);var p=this._arrow.clone();p.material=new i.MeshBasicMaterial3D({color:this.transformArrowOC,side:i.Constant.DoubleSide,transparent:!0,opacity:this.originArrowOpacity}),p.name="posXArrow";var d=this._arrow.clone();d.material=p.material.clone(),d.name="negXArrow";var h=this._arrow.clone();h.material=p.material.clone(),h.name="posYArrow",h.rotation.z=Math.PI/2;var f=this._arrow.clone();f.material=p.material.clone(),f.name="negYArrow",f.rotation.z=Math.PI/2;var m=this._arrow.clone();m.material=p.material.clone(),m.name="posZArrow",m.rotation.y=Math.PI/2;var g=this._arrow.clone();g.material=p.material.clone(),g.name="negZArrow",g.rotation.y=Math.PI/2,this._arrows.push(p,d,h,f,m,g),e.transformObject.add(p,d,h,f,m,g),this.setTransformArrowPosition(e),this.update(),o.BindParam("bs_rotationArrowOC",function(e){r.material.color.set(e),s.material.color.set(e),l.material.color.set(e),t._api.PARAMS.rd_minorRefresh=!0},this._api.handle),o.BindParam("bs_transformArrowOC",function(e){p.material.color.set(e),d.material.color.set(e),h.material.color.set(e),f.material.color.set(e),m.material.color.set(e),g.material.color.set(e),t._api.PARAMS.rd_minorRefresh=!0},this._api.handle)},e.prototype.setTransformArrowPosition=function(e){var t=1.1*e.radius,n=e.box.getCenter(i.Vector33D.get());e.transformObject.children.map(function(e){switch(e.name){case"posXArrow":e.position.copy(n).x+=t/2;break;case"negXArrow":e.position.copy(n).x-=t/2;break;case"posYArrow":e.position.copy(n).y+=t/2;break;case"negYArrow":e.position.copy(n).y-=t/2;break;case"posZArrow":e.position.copy(n).z+=t/2;break;case"negZArrow":e.position.copy(n).z-=t/2}}),i.Vector33D.back(n)},e.prototype.initBoxObject=function(e){var t=this;e.boxMesh=new i.BoxHelper3D(e.box);var n=e.box.getSize(i.Vector33D.get());e.boxMesh.name="modelBox",e.boxMesh.material.color.set(this.boxOC),e.boxMesh.material.transparent=!0,e.boxMesh.material.opacity=this.originOpacity,e.transformObject.add(e.boxMesh),i.Vector33D.back(n),o.BindParam("bs_boxOC",function(n){e.boxMesh.material.color.set(n),t._api.PARAMS.rd_minorRefresh=!0},this._api.handle)},e.prototype.init=function(){var e=this;this._api3d.addEventListener("model_initenv",function(t){var n=t.params;n.box=(new i.Box33D).copy(n.initBox).applyMatrix4(n.matrix);var r=n.box.getSize(i.Vector33D.get());n.geometryCenter=n.initBox.getCenter(new i.Vector33D);var o=i.Matrix43D.get().makeTranslation(n.geometryCenter.x,n.geometryCenter.y,n.geometryCenter.z);n.object=new i.Object3D,o.premultiply(n.matrix).decompose(n.object.position,n.object.quaternion,n.object.scale),n.object.name=n.benchModelId,n.transformObject=new i.Object3D,n.transformObject.name=n.benchModelId,n.radius=1.3*Math.max(r.x,Math.max(r.y,r.z)),n.eulerX=0,n.eulerY=0,n.eulerZ=0,e._modelInfoMap.set(t.params.benchModelId,n);var a=e._api3d;e.initCircleObject(n),e.initBoxObject(n),e.initArrowObject(n),!0===e._enable&&(a.addObject3D(n.object,3),a.addObject3D(n.transformObject,3),e._api.PARAMS.rd_minorRefresh=!0),i.Vector33D.back(r),i.Matrix43D.back(o)}),this._api3d.addEventListener("benchmodel_removemodel",function(t){var n=e._modelInfoMap.get(t.params.benchModelId);n&&(e._modelInfoMap.delete(t.params.benchModelId),e._api3d.removeObject3D(n.object,3),e._api3d.removeObject3D(n.transformObject,3),n.object.children.forEach(function(t){i.arrayRemove(e._arrows,t)}),n.transformObject.children.forEach(function(t){i.arrayRemove(e._arrows,t)}))}),o.BindParam("bs_arrowSize",function(t){e.arrowSize=t,e.updateArrowSize(),e._api.PARAMS.rd_minorRefresh=!0},this._api.handle),o.BindParam("bs_originOpacity",function(t){e._modelInfoMap.forEach(function(n){return e.changeObjectsOpacity(n.benchModelId,t)}),e._api.PARAMS.rd_minorRefresh=!0},this._api.handle)},e.prototype.getBenchSceneInfo=function(){return this._benchSceneInfo},e.prototype.active=function(){var e=this;this._modelInfoMap.forEach(function(t){e._api3d.addObject3D(t.object,3),e._api3d.addObject3D(t.transformObject,3)}),this.update(),this._api3d.update()},e.prototype.deActive=function(){var e=this;this._modelInfoMap.forEach(function(t){e._api3d.removeObject3D(t.object,3),e._api3d.removeObject3D(t.transformObject,3)}),this._api3d.update()},e.prototype.update=function(){this._enable&&this.updateArrowSize()},e.prototype.updateArrowSize=function(){if(this.canUpdateArrowSize()){var e=this._api3d.getProjectSize(this._arrow.geometry.boundingBox),t=this.arrowSize/(35*Math.min(e.x,e.y));this._arrows.map(function(e){"string"==typeof e.name&&e.scale.setScalar(t)})}},e.prototype.canUpdateArrowSize=function(){var e=i.Box33D.get(),t=this._api3d.getProjectSize(this._api3d.getBenchBox());return i.Box33D.back(e),t.x*t.y>.001},e.prototype.changeObjectAttribute=function(e,t,n,r){switch(t){case"pitchArrow_0":case"pitchArrow_1":r(this.getObjectByIdAndName(e,"pitchCircleLine"),n),r(this.getObjectByIdAndName(e,"pitchArrow_0"),n),r(this.getObjectByIdAndName(e,"pitchArrow_1"),n);break;case"yawArrow_0":case"yawArrow_1":r(this.getObjectByIdAndName(e,"yawCircleLine"),n),r(this.getObjectByIdAndName(e,"yawArrow_0"),n),r(this.getObjectByIdAndName(e,"yawArrow_1"),n);break;case"rollArrow_0":case"rollArrow_1":r(this.getObjectByIdAndName(e,"rollCircleLine"),n),r(this.getObjectByIdAndName(e,"rollArrow_0"),n),r(this.getObjectByIdAndName(e,"rollArrow_1"),n);break;default:this._intsObject&&this._intsObject.material&&(this._intsObject.material.opacity=n)}},e.prototype.setObjectOpacity=function(e,t){e&&e.material&&(e.material.opacity=t)},e.prototype.changeObjectsOpacity=function(e,t,n){var r=this,o=this._modelInfoMap.get(e);o&&(o.object.children.forEach(function(e){e&&e.material&&!i.arrayHas(r._circleNames,e.name)&&(i.arrayHas(r._circleLineNames,e.name)?e.material.opacity=void 0===n?r.originLineOpacity:r.highlightOpacity:i.arrayHas(r._arrowNames,e.name)?e.material.opacity=void 0===n?r.originArrowOpacity:r.highlightOpacity:e.material.opacity=t)}),o.transformObject.children.forEach(function(e){e&&e.material&&(i.arrayHas(r._arrowNames,e.name)?e.material.opacity=void 0===n?r.originArrowOpacity:r.highlightOpacity:e.material.opacity=t)}),void 0!==n&&this.changeObjectAttribute(e,this._intsObject.name,n,this.setObjectOpacity))},e.prototype.benchSceneRaycast=function(e,n){if(this._enable){var r=this._api3d,o=this._api3d.setProjectScreenMouse(e,n,i.Vector23D.get());t.raycaster.setFromCamera(o,r.getBenchCamera()),(this._intsObject||this._circleLine)&&(this._intsObject.material.color.setHex(this._originArrowColor),this._circleLine&&this._circleLine.material.color.setHex(this._originArrowColor),this._api.PARAMS.rd_minorRefresh=!0,this.changeObjectsOpacity(this._intsObject.parent.name,this.originOpacity)),this._circleLine=null,this._intsObject=null,this._intsPoint=null;var a=t.intersects;return a.length=0,this._arrows.map(function(e){return e.updateMatrixWorld()}),t.raycaster.intersectObjects(this._arrows,!1,a),a.length>0&&(this._intsObject=a[0].object,this._intsPoint=a[0].point,this.highlightArrowAndCircleLine(this._intsObject.name),this.checkModel(this._intsObject.parent.name),this.changeObjectsOpacity(this._intsObject.parent.name,this.highlightOpacity,this.checkOpacity)),this._intsObject}},e.prototype.benchSceneDragArrowOrModel=function(e,t){if(this._enable&&this._intsObject){var n=2*Math.PI,r=this._modelInfoMap.get(this._intsObject.parent.name),o=r.object,a=this._api3d.getBenchCamera(),s=r.box.getCenter(i.Vector33D.get()),c=i.Vector33D.get().set(0,0,0),l=i.Vector33D.get().set(0,0,0);s.project(a);var u=i.Vector23D.get().set(s.x,s.y);void 0===this._preOffsetX&&(this._preOffsetX=e,this._preOffsetY=t);var p=this._api3d.setProjectScreenMouse(this._preOffsetX,this._preOffsetY,i.Vector23D.get()).sub(u).normalize(),d=this._api3d.setProjectScreenMouse(e,t,i.Vector23D.get()).sub(u).normalize(),h=p.cross(d),f=i.Matrix43D.get();switch(this._intsObject.name){case"yawArrow_0":case"yawArrow_1":c.x+=r.radius/2,l.y+=r.radius/2,h*=this.getRotationDelta(c,l,r),r.eulerZ=(r.eulerZ+h)%n,r.eulerZ<0&&(r.eulerZ+=n);var m=this.setCircleRange(r.eulerZ,h,"yawCircle");o.rotateZ(m-r.eulerZ+h),r.eulerZ=m,this.updateModelMatrix(r,f);break;case"pitchArrow_0":case"pitchArrow_1":c.y+=r.radius,l.z+=r.radius,h*=this.getRotationDelta(c,l,r),r.eulerX=(r.eulerX+h)%n,r.eulerX<0&&(r.eulerX+=n);var g=this.setCircleRange(r.eulerX,h,"pitchCircle");o.rotateX(g-r.eulerX+h),r.eulerX=g,this.updateModelMatrix(r,f);break;case"rollArrow_0":case"rollArrow_1":c.x+=r.radius/2,l.z+=r.radius/2,h*=-1*this.getRotationDelta(c,l,r),r.eulerY=(r.eulerY+h)%n,r.eulerY<0&&(r.eulerY+=n);var y=this.setCircleRange(r.eulerY,h,"rollCircle");o.rotateY(y-r.eulerY+h),r.eulerY=y,this.updateModelMatrix(r,f);break;case"posXArrow":case"negXArrow":this._api3d.setProjectScreenMouse(e,t,p),this._posVec.copy(this._intsPoint).project(a),this._posVec.set(p.x,p.y,this._posVec.z).unproject(a);var v=i.Vector33D.get().subVectors(this._posVec,this._preVec);this._preVec.copy(this._posVec),r.object.position.x+=v.x,r.matrix.elements[12]+=v.x,i.Vector33D.back(v);break;case"posYArrow":case"negYArrow":this._api3d.setProjectScreenMouse(e,t,p),this._posVec.copy(this._intsPoint).project(a),this._posVec.set(p.x,p.y,this._posVec.z).unproject(a);v=i.Vector33D.get().subVectors(this._posVec,this._preVec);this._preVec.copy(this._posVec),r.object.position.y+=v.y,r.matrix.elements[13]+=v.y,i.Vector33D.back(v);break;case"posZArrow":case"negZArrow":this._api3d.setProjectScreenMouse(e,t,p),this._posVec.copy(this._intsPoint).project(a),this._posVec.set(p.x,p.y,this._posVec.z).unproject(a);v=i.Vector33D.get().subVectors(this._posVec,this._preVec);this._preVec.copy(this._posVec),r.object.position.z+=v.z,r.matrix.elements[14]+=v.z,i.Vector33D.back(v)}i.Vector33D.back(s),i.Vector23D.back(p),i.Vector23D.back(d),i.Vector23D.back(u),i.Vector33D.back(c),i.Vector33D.back(l),i.Matrix43D.back(f),r.box.copy(r.initBox).applyMatrix4(r.matrix),r.boxMesh.setFromObject(r.box),this.setTransformArrowPosition(r),this._api3d.update()}this._preOffsetX=e,this._preOffsetY=t},e.prototype.setBenchSceneParams=function(e){var n;if(e)for(var r in n=e,e){var i=e[r];if("object"!=typeof i)t[r]=i;else for(var o in i)t[r][o]=e[r][o]}else n={};return["arrowSize","originColor_rotationArrow","originColor_transformArrow","originColor_box","originColor_opacity","highlightColor_rotationArrow","highlightColor_transformArrow","highlightColor_box","highlightColor_opacity","circleSegment","circlePrecision","circleAdhesionPointCount","circleOpacity"].map(function(e){var r=e.split("_");if(1===r.length)Object.defineProperty(n,e,{set:function(n){t[e]=n},get:function(){return t[e]}});else if(2===r.length){var i=t[r[0]];"object"!=typeof i&&(i={},t[r[0]]=i),Object.defineProperty(i,r[1],{set:function(e){i[r[1]]=e},get:function(){return i[r[1]]}})}}),n},e.prototype.checkModel=function(e){var t=this._modelInfoMap.get(e);t&&(this._benchSceneInfo.checkedModel=t.modelId)},e.prototype.getRotationDelta=function(e,t,n){var r=this._api3d.getBenchCamera(),o=i.Vector23D.get(),a=i.Vector23D.get(),s=i.Vector33D.get().setFromMatrixPosition(n.object.matrixWorld).project(r);e.applyMatrix4(n.object.matrixWorld).project(r),t.applyMatrix4(n.object.matrixWorld).project(r),o.set(e.x-s.x,e.y-s.y),a.set(t.x-s.x,t.y-s.y);var c=o.cross(a)>0?1:-1;return i.Vector23D.back(o),i.Vector23D.back(a),i.Vector33D.back(s),c},e.prototype.updateModelMatrix=function(e,t){e.object.updateMatrixWorld(),t.makeTranslation(-e.geometryCenter.x,-e.geometryCenter.y,-e.geometryCenter.z),e.matrix.copy(e.object.matrixWorld).multiply(t)},e.prototype.setCircleRange=function(e,t,n){var r=3*this.circleSegment,i=Math.floor(r*e/(2*Math.PI));i=3*Math.floor(i/3);for(var o=this.circleAdhesionPointCount,a=0;a<o;++a)if(Math.abs(i-a*r/o)<this.circlePrecision){i=a*r/o;break}var s=this.getObjectByIdAndName(this._intsObject.parent.name,n);return"rollCircle"===n?s.geometry.setDrawRange(0,i):s.geometry.setDrawRange(r-i,i),i/r*(2*Math.PI)},e.prototype.benchSceneShowCircle=function(){if(this._enable&&this._intsObject){this._api.PARAMS.bc_rotateEnable=!1;var e=void 0;switch(this._intsObject.name){case"yawArrow_0":case"yawArrow_1":(e=this.getObjectByIdAndName(this._intsObject.parent.name,"yawCircle")).rotateZ(parseInt(this._intsObject.name[this._intsObject.name.length-1])*Math.PI);break;case"pitchArrow_0":case"pitchArrow_1":(e=this.getObjectByIdAndName(this._intsObject.parent.name,"pitchCircle")).rotateZ(parseInt(this._intsObject.name[this._intsObject.name.length-1])*Math.PI+Math.PI/2);break;case"rollArrow_0":case"rollArrow_1":(e=this.getObjectByIdAndName(this._intsObject.parent.name,"rollCircle")).rotateZ(parseInt(this._intsObject.name[this._intsObject.name.length-1])*Math.PI-Math.PI/2)}this._preOffsetX=void 0,this._preOffsetY=void 0,this._preVec.copy(this._intsPoint),e&&(e.visible=!0)}},e.prototype.benhSceneHiddenCircle=function(){if(this._enable&&this._intsObject){this._api.PARAMS.bc_rotateEnable=!0;var e=void 0,t=this._modelInfoMap.get(this._intsObject.parent.name);switch(this._intsObject.name){case"yawArrow_0":case"yawArrow_1":(e=this.getObjectByIdAndName(this._intsObject.parent.name,"yawCircle")).rotateZ(-parseInt(this._intsObject.name[this._intsObject.name.length-1])*Math.PI),t.eulerX=t.object.rotation.x,t.eulerY=t.object.rotation.y,this.setCircleRange(t.eulerY,0,"rollCircle"),this.setCircleRange(t.eulerX,0,"pitchCircle");break;case"pitchArrow_0":case"pitchArrow_1":(e=this.getObjectByIdAndName(this._intsObject.parent.name,"pitchCircle")).rotateZ(-parseInt(this._intsObject.name[this._intsObject.name.length-1])*Math.PI-Math.PI/2),t.eulerY=t.object.rotation.y,t.eulerZ=t.object.rotation.z,this.setCircleRange(t.eulerY,0,"rollCircle"),this.setCircleRange(t.eulerZ,0,"yawCircle");break;case"rollArrow_0":case"rollArrow_1":(e=this.getObjectByIdAndName(this._intsObject.parent.name,"rollCircle")).rotateZ(-parseInt(this._intsObject.name[this._intsObject.name.length-1])*Math.PI+Math.PI/2),t.eulerX=t.object.rotation.x,t.eulerZ=t.object.rotation.z,this.setCircleRange(t.eulerX,0,"pitchCircle"),this.setCircleRange(t.eulerZ,0,"yawCircle")}e&&(e.visible=!1),this._benchSceneInfo.checkedModel=null,a.BenchCore.dispatchInnerEvent(this._api.handle,{type:"resetboundingbox"})}},e.prototype.highlightArrowAndCircleLine=function(e){var t=0;switch(e){case"yawArrow_0":case"yawArrow_1":e="yawCircleLine",t=this.rotationArrowHL;break;case"pitchArrow_0":case"pitchArrow_1":e="pitchCircleLine",t=this.rotationArrowHL;break;case"rollArrow_0":case"rollArrow_1":e="rollCircleLine",t=this.rotationArrowHL;break;default:e=null,t=this.transformArrowHL}this._originArrowColor=this._intsObject.material.color.getHex(),this._intsObject.material.color.setHex(t),e&&(this._circleLine=this.getObjectByIdAndName(this._intsObject.parent.name,e),this._circleLine.material.color.setHex(t)),this._api.PARAMS.rd_minorRefresh=!0},e.prototype.getObjectByIdAndName=function(e,t){var n,r=this._modelInfoMap.get(e);return r&&r.object&&r.object.children.map(function(e){e.name===t&&(n=e)}),n},e.raycaster=new i.Raycaster3D,e.intersects=[],r([o.ParamExport("bs_arrowSize",.8)],e.prototype,"arrowSize",void 0),r([o.ParamExport("bs_circleAdhesionPointCount",4)],e.prototype,"circleAdhesionPointCount",void 0),r([o.ParamExport("bs_circleOpacity",.3)],e.prototype,"circleOpacity",void 0),r([o.ParamExport("bs_circleColor",45237)],e.prototype,"circleColor",void 0),r([o.ParamExport("bs_rotationArrowOC",45237)],e.prototype,"rotationArrowOC",void 0),r([o.ParamExport("bs_transformArrowOC",45237)],e.prototype,"transformArrowOC",void 0),r([o.ParamExport("bs_boxOC",16777215)],e.prototype,"boxOC",void 0),r([o.ParamExport("bs_originOpacity",.3)],e.prototype,"originOpacity",void 0),r([o.ParamExport("bs_originArrowOpacity",.4)],e.prototype,"originArrowOpacity",void 0),r([o.ParamExport("bs_originLineOpacity",.4)],e.prototype,"originLineOpacity",void 0),r([o.ParamExport("bs_rotationArrowHL",45237)],e.prototype,"rotationArrowHL",void 0),r([o.ParamExport("bs_transformArrowHL",45237)],e.prototype,"transformArrowHL",void 0),r([o.ParamExport("bs_boxHL",8453952)],e.prototype,"boxHL",void 0),r([o.ParamExport("bs_highlightOpacity",.4)],e.prototype,"highlightOpacity",void 0),r([o.ParamExport("bs_checkOpacity",1)],e.prototype,"checkOpacity",void 0),e=t=r([o.ApiExport(["setBenchSceneLayoutEnable","getBenchSceneLayoutEnable","benchSceneRaycast","benchSceneShowCircle","benhSceneHiddenCircle","benchSceneDragArrowOrModel","getBenchSceneInfo","setBenchSceneParams"],"3D")],e)}();t.BenchSceneLayout=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(23),a=n(17),s=function(){function e(e){var t=this;this.api=e,this.api3d=e["3D"],this.infos=new Map,this.marker2dIds=[],this.renderContext=function(){if(t.display){var e=t.api3d.getBenchCamera();t.infos.forEach(function(n){var r=null;if(!1===n.check&&(n.newComplete=!0),!1!==n.display)switch(n.type){case o.MARKERTYPE.RECT:var i=n.data.points[0],a=n.data.points[1],s=o.Vector33D.get().copy(i).project(e),c=o.Vector33D.get().copy(a).project(e);s.x=t.api3d.getCanvas2DSizeX(s.x),s.y=t.api3d.getCanvas2DSizeY(s.y),c.x=t.api3d.getCanvas2DSizeX(c.x),c.y=t.api3d.getCanvas2DSizeY(c.y),r=n.check?n.color:n.color+t.opacity,t.api3d.canvas2DDrawRect(s.x,s.y,c.x-s.x,c.y-s.y,0,0,n.lineDash,n.lineWidth,!0,r),n.box.makeEmpty(),n.box.expandByPoint(s),n.box.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c);break;case o.MARKERTYPE.ELLIPSE:var l=t.ctx;i=n.data.points[0],a=n.data.points[1],s=o.Vector33D.get().copy(i).project(e),c=o.Vector33D.get().copy(a).project(e);s.x=t.api3d.getCanvas2DSizeX(s.x),s.y=t.api3d.getCanvas2DSizeY(s.y),c.x=t.api3d.getCanvas2DSizeX(c.x),c.y=t.api3d.getCanvas2DSizeY(c.y),r=n.check?n.color:n.color+t.opacity,l.save(),l.beginPath(),l.lineWidth=n.lineWidth,l.setLineDash([n.lineDash]),l.strokeStyle=t.api3d.getColorStyle(r),l.ellipse((s.x+c.x)/2,(s.y+c.y)/2,Math.abs(s.x-c.x)/2,Math.abs(s.y-c.y)/2,0,0,2*Math.PI),l.closePath(),l.stroke(),l.restore(),n.box.makeEmpty(),n.box.expandByPoint(s),n.box.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c);break;case o.MARKERTYPE.CURVES:var u=t.ctx,p=t.api3d;r=n.check?n.color:n.color+t.opacity,u.save(),u.strokeStyle=t.api3d.getColorStyle(r),u.lineWidth=n.lineWidth,u.setLineDash([n.lineDash]),u.beginPath(),n.box.makeEmpty(),n.data.points.forEach(function(t){var r=o.Vector33D.get().copy(t).project(e);r.x=p.getCanvas2DSizeX(r.x),r.y=p.getCanvas2DSizeY(r.y),u.lineTo(r.x,r.y),n.box.expandByPoint(r),o.Vector33D.back(r)}),u.stroke(),u.restore();break;case o.MARKERTYPE.TEXT:t.ctx.save();var d=n.data,h=d.fontPos,f=d.fontSize,m=d.text,g=o.Vector33D.get().copy(h).project(e);g.x=t.api3d.getCanvas2DSizeX(g.x),g.y=t.api3d.getCanvas2DSizeY(g.y),r=n.check?n.color:n.color+t.opacity,t.ctx.fillStyle=t.api3d.getColorStyle(r),t.ctx.font="normal 12px Microsoft YaHei",t.ctx.textAlign=d.textAlign?d.textAlign:"center",t.ctx.textBaseline=d.textBaseline?d.textBaseline:"middle",t.ctx.translate(g.x,g.y),t.ctx.scale(e.zoom*f/12,e.zoom*f/12),t.ctx.fillText(m,0,0),t.ctx.restore(),t.updateTextBox(g,e.zoom*f*1.2,1.2*t.ctx.measureText(m).width*e.zoom*f/12,n.box,d.textAlign?d.textAlign:"center",d.textBaseline?d.textBaseline:"middle"),o.Vector33D.back(g);break;case o.MARKERTYPE.LINES:break;case o.MARKERTYPE.ARROW:i=n.data.points[0],a=n.data.points[1],s=o.Vector33D.get().copy(i).project(e),c=o.Vector33D.get().copy(a).project(e);var y=o.Vector33D.get(),v=o.Vector33D.get(),x=o.Vector33D.get(),M=o.Vector33D.get(),b=o.Vector33D.get(),w=o.Vector33D.get();s.x=t.api3d.getCanvas2DSizeX(s.x),s.y=t.api3d.getCanvas2DSizeY(s.y),c.x=t.api3d.getCanvas2DSizeX(c.x),c.y=t.api3d.getCanvas2DSizeY(c.y);f=10;b.copy(c).lerp(s,f/s.distanceTo(c)),w.set(c.y-s.y,s.x-c.x,0).normalize(),y.copy(b).addScaledVector(w,f/4),v.copy(b).addScaledVector(w,-f/4),x.copy(b).addScaledVector(w,3*-f/4),M.copy(b).addScaledVector(w,3*f/4),r=n.check?n.color:n.color+t.opacity,t.ctx.save(),t.ctx.beginPath(),t.ctx.fillStyle=t.api3d.getColorStyle(r),t.ctx.lineWidth=n.lineWidth,t.ctx.setLineDash([n.lineDash]),t.ctx.moveTo(s.x,s.y),t.ctx.lineTo(v.x,v.y),t.ctx.lineTo(x.x,x.y),t.ctx.lineTo(c.x,c.y),t.ctx.lineTo(M.x,M.y),t.ctx.lineTo(y.x,y.y),t.ctx.closePath(),t.ctx.fill(),t.ctx.restore(),n.box.makeEmpty(),n.box.expandByPoint(s),n.box.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c),o.Vector33D.back(y),o.Vector33D.back(v),o.Vector33D.back(x),o.Vector33D.back(M),o.Vector33D.back(b);break;case o.MARKERTYPE.CLOUDLINE:i=n.data.points[0],a=n.data.points[1],s=o.Vector33D.get().copy(i).project(e),c=o.Vector33D.get().copy(a).project(e);s.x=t.api3d.getCanvas2DSizeX(s.x),s.y=t.api3d.getCanvas2DSizeY(s.y),c.x=t.api3d.getCanvas2DSizeX(c.x),c.y=t.api3d.getCanvas2DSizeY(c.y);b=0;s.x>c.x&&(b=s.x,s.x=c.x,c.x=b),s.y>c.y&&(b=s.y,s.y=c.y,c.y=b),r=n.check?n.color:n.color+t.opacity,t.ctx.save(),t.ctx.beginPath(),t.ctx.lineWidth=n.lineWidth,t.ctx.setLineDash([n.lineDash]),t.ctx.strokeStyle=t.api3d.getColorStyle(r);f=40;for(var A=(s.x-c.x)/Math.floor((s.x-c.x)/f),_=(s.y-c.y)/Math.floor((s.y-c.y)/f),E=0,D=Math.abs(Math.floor((s.x-c.x)/f));E<D;++E)t.ctx.moveTo(s.x+A*E,s.y),t.ctx.arc(s.x+A*(2*E+1)/2,s.y+A/(2*Math.sqrt(3)),A/Math.sqrt(3),-5*Math.PI/6,-Math.PI/6,!1),t.ctx.moveTo(s.x+A*(E+1),c.y),t.ctx.arc(s.x+A*(2*E+1)/2,c.y-A/(2*Math.sqrt(3)),A/Math.sqrt(3),Math.PI/6,5*Math.PI/6,!1);E=0;for(var S=Math.abs(Math.floor((s.y-c.y)/f));E<S;++E)t.ctx.moveTo(s.x,s.y+_*(E+1)),t.ctx.arc(s.x+_/(2*Math.sqrt(3)),s.y+_*(2*E+1)/2,_/Math.sqrt(3),2*Math.PI/3,4*Math.PI/3,!1),t.ctx.moveTo(c.x,s.y+_*(E+1)),t.ctx.arc(c.x-_/(2*Math.sqrt(3)),s.y+_*(2*E+1)/2,_/Math.sqrt(3),Math.PI/3,-Math.PI/3,!0);t.ctx.stroke(),t.ctx.restore(),n.box.makeEmpty(),n.box.expandByPoint(s),n.box.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c);break;case o.MARKERTYPE.TRIANGLE:i=n.data.points[0],a=n.data.points[1],s=o.Vector33D.get().copy(i).project(e),c=o.Vector33D.get().copy(a).project(e);s.x=t.api3d.getCanvas2DSizeX(s.x),s.y=t.api3d.getCanvas2DSizeY(s.y),c.x=t.api3d.getCanvas2DSizeX(c.x),c.y=t.api3d.getCanvas2DSizeY(c.y),r=n.check?n.color:n.color+t.opacity,t.ctx.save(),t.ctx.beginPath(),t.ctx.strokeStyle=t.api3d.getColorStyle(r),t.ctx.moveTo((s.x+c.x)/2,Math.min(s.y,c.y)),t.ctx.lineTo(s.x,Math.max(s.y,c.y)),t.ctx.lineTo(c.x,Math.max(s.y,c.y)),t.ctx.closePath(),t.ctx.lineWidth=n.lineWidth,t.ctx.setLineDash([n.lineDash]),t.ctx.stroke(),t.ctx.restore(),n.box.makeEmpty(),n.box.expandByPoint(s),n.box.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c)}})}}}return e.prototype.updateTextBox=function(e,t,n,r,i,a){var s=o.Vector33D.get().copy(e),c=o.Vector33D.get().copy(e);switch(i){case"center":s.x-=n/2,c.x+=n/2;break;case"start":case"left":c.x+=n;break;case"end":case"right":s.x-=n}switch(a){case"middle":s.y-=t/2,c.y+=t/2;break;case"top":c.y+=t;break;case"bottom":s.y-=t}r.makeEmpty(),r.expandByPoint(s),r.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c)},e.prototype.init=function(){var e=this,t=this.api3d.getContext();this.ctx=t.getMarker(),this.api3d.addMarkerUpdateContext(this.renderContext),i.BindParam("mk2_state",function(t){t!==e.state&&(1===t&&e.infos.forEach(function(e){return e.check=!1}),e.api3d.enableMarkerRefresh())},this.api.handle),i.BindParam("mk2_display",function(t){t!==e.display&&(e.display=t,e.api3d.enableMarkerRefresh())},this.api.handle),i.BindParam("mk2_color",function(t){t!==e.color&&e.api3d.enableMarkerRefresh()},this.api.handle),i.BindParam("mk2_enable",function(t){t!==e.enable&&(e.enable=t,e.display=!0,e.api3d.enableMarkerRefresh())},this.api.handle)},e.prototype.dispose=function(){this.api3d.removeMarkerUpdateContext(this.renderContext),this.infos.clear()},e.prototype.raycastMarker2D=function(e,t,n,r){var i=o.Vector23D.get().set(e,t);return this.infos.forEach(function(e){e.circle.containPoint(i)&&e.check&&n.push(e.id)}),n.reverse(),n.length=0,this.infos.forEach(function(e){e.box.containsPoint(i)&&r.push(e.id)}),r.reverse()},e.prototype.addMarker2DText=function(e){a.BrowserInfo.isMobile&&"string"==typeof e&&(e=JSON.parse(e));var t={id:o._Math.generateUUID(),type:o.MARKERTYPE.TEXT,data:null,display:!0,box:new o.Box23D,check:!1,circle:new o.Circle3D,color:this.color,newComplete:!0,createTime:Date.now()},n=o.Vector23D.get(),r=o.Vector33D.get();r.set(e.x,e.y,0),t.data={fontPos:(new o.Vector33D).copy(r),text:e.text,fontSize:e.size,textAlign:e.align,textBaseline:e.baseLine,fontColor:e.color},this.infos.set(t.id,t),this.api3d.dispatchEvent({type:"marker2d_addinfo",params:{info:t}}),this.api3d.enableMarkerRefresh(),this.marker2dIds.push(t.id),o.Vector23D.back(n),o.Vector33D.back(r)},e.prototype.addMarker2DInfo=function(e){e&&this.enable&&this.display&&(this.infos.has(e.id)&&console.warn("Marker2DID, "+e.id+""),e.color=this.color,e.lineWidth=this.lineWidth,e.lineDash=this.lineDash,this.infos.set(e.id,e),e.createTime=Date.now(),this.api3d.dispatchEvent({type:"marker2d_addinfo",params:{info:e}}),this.marker2dIds.push(e.id))},e.prototype.removeMarker2DInfo=function(e){if(this.infos.has(e)){var t=this.infos.get(e);this.infos.delete(e),this.api3d.enableMarkerRefresh(),this.api3d.dispatchEvent({type:"marker2d_removeinfo",params:{info:t}}),o.arrayRemove(this.marker2dIds,e)}},e.prototype.backMarker2dInfo=function(){var e=this.marker2dIds.pop();e&&this.removeMarker2DInfo(e)},e.prototype.addSerializedMarker2DInfos=function(e){for(var t in"string"==typeof e&&(e=JSON.parse(e)),e)this.infos.set(t,this.api3d.deSerializedObject(e[t]));this.api3d.enableMarkerRefresh()},e.prototype.getSerializedMarker2DInfos=function(){var e=this,t={};return this.infos.forEach(function(n,r){t[r]=e.api3d.serializedObject(n)}),JSON.stringify(t)},e.prototype.getMarker2dInfo=function(){var e=[];return this.infos.forEach(function(t){e.push({id:t.id,display:t.display,type:t.type,createTime:t.createTime,text:t.data.text})}),JSON.stringify(e)},e.prototype.setMaker2dInfoAttri=function(e,t,n){var r=this.infos.get(e);r&&void 0!==r[t]&&(r[t]=n,this.api3d.enableMarkerRefresh())},e.prototype.clearAllMarker2dInfos=function(){this.infos.clear(),this.api3d.enableMarkerRefresh()},r([i.ParamExport("mk2_enable",!1)],e.prototype,"enable",void 0),r([i.ParamExport("mk2_infos",null)],e.prototype,"infos",void 0),r([i.ParamExport("mk2_type",a.BrowserInfo.isMobile?null:o.MARKERTYPE.RECT)],e.prototype,"type",void 0),r([i.ParamExport("mk2_state",1)],e.prototype,"state",void 0),r([i.ParamExport("mk2_display",!0)],e.prototype,"display",void 0),r([i.ParamExport("mk2_color","#ff0000")],e.prototype,"color",void 0),r([i.ParamExport("mk2_lineDash",0)],e.prototype,"lineDash",void 0),r([i.ParamExport("mk2_lineWidth",2)],e.prototype,"lineWidth",void 0),r([i.ParamExport("mk2_opacity","ff")],e.prototype,"opacity",void 0),e=r([i.ApiExport(["raycastMarker2D","addMarker2DText","addMarker2DInfo","removeMarker2DInfo","addSerializedMarker2DInfos","getSerializedMarker2DInfos","getMarker2dInfo","setMaker2dInfoAttri","clearAllMarker2dInfos","backMarker2dInfo"],"3D")],e)}();t.Marker2D=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(21),a=function(){function e(e){this.api=e,this.matches=new Map,this.api3d=e["3D"],this.keySet1=[],this.keySet2=[]}return e.prototype.matchText=function(e,t){var n=this;return this.matches.has(e)||(this.api3d.compSetForEach(function(t,r){n.api3d.getComponent(r).forEach(function(t){t.code===i.CodeType3D.Text&&t.geometry&&t.geometry.textContext&&n.kmpMatch(t.geometry.textContext,e)&&n.pushMathes(e,n.api3d.getFragBox(t.fragid,new i.Box33D,r),r,t.geometry.textContext)})}),this.api.PARAMS.mk2_infos.forEach(function(t){t.type===i.MARKERTYPE.TEXT&&n.kmpMatch(t.data.text,e)&&n.pushMathes(e,n.computeMarker2DTextBox(t,new i.Box33D),t.id,t.data.text)})),this.focus=this.matches.get(e),this.index=-1,t||this.nextTextFocus(),this.focus?this.focus.length:0},e.prototype.init=function(){var e=this;function t(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].id===t)return!0===n&&delete e[r],!0;return!1}this.api3d.addEventListener("marker2d_addinfo",function(n){var r=n.params?n.params.info:null;if(r&&r.data&&r.type===i.MARKERTYPE.TEXT){var o=r.id,a=r.data.text;e.matches.forEach(function(n,s){e.kmpMatch(a,s)&&(t(n,o)||e.pushMathes(s,e.computeMarker2DTextBox(r,new i.Box33D),r.id))})}}),this.api3d.addEventListener("marker2d_removeinfo",function(n){var r=n.params?n.params.info:null;if(r&&r.data&&r.type===i.MARKERTYPE.TEXT){var o=r.id,a=r.data.text;e.matches.forEach(function(n,r){e.kmpMatch(a,r)&&t(n,o,!0)})}})},e.prototype.computeMarker2DTextBox=function(e,t){var n=e.data.fontPos,r=e.data.fontSize,o=e.data.text.length*r,a=i.Vector33D.get().copy(n),s=i.Vector33D.get().copy(n);switch(e.data.textAlign?e.data.textAlign:"center"){case"center":a.x-=o/2,s.x+=o/2;break;case"start":case"left":s.x+=o;break;case"end":case"right":a.x-=o}switch(e.data.textBaseline?e.data.textBaseline:"center"){case"middle":a.y-=r/2,s.y+=r/2;break;case"top":s.y+=r;break;case"bottom":a.y-=r}return t.makeEmpty(),t.expandByPoint(a.multiplyScalar(1/3)),t.expandByPoint(s.multiplyScalar(1/3)),i.Vector33D.back(a),i.Vector33D.back(s),t},e.prototype.kmpMatch=function(e,t){for(var n,r=this.calcPartMatch(t),i=e.length,o=t.length,a=0;a<i;a++){for(var s=0;s<o;s++){if(t.charAt(s)!=e.charAt(a)){s>1&&r[s-1]>0?a+=a-s-r[s-1]:a-=s;break}if(s==o-1){n=a-s;break}a++}if(n||0==n)break}return!(!n&&0!=n)},e.prototype.calcPartMatch=function(e){for(var t=[],n=0;n<e.length;++n)if(0!==n){var r=e.substring(0,n+1);this.keySet1.length=0,this.keySet2.length=0;for(var i=0;i<n;++i)this.keySet1[i]=r.slice(0,i+1),this.keySet2[i]=r.slice(-i-1),this.keySet1[i]===this.keySet2[i]&&(t[n]=this.keySet1[i].length);t[n]||(t[n]=0)}else t.push(0);return t},e.prototype.pushMathes=function(e,t,n,r){var i=this.matches.get(e);i||(i=[],this.matches.set(e,i)),i.push({id:n,box:t,context:r})},e.prototype.focusText=function(e){var t=i.Vector33D.get();this.api3d.setFocusPosition(e.getCenter(t)),this.api3d.setBenchCameraZoom(e,{changeZoom:!1,resetZoom:!0}),this.api3d.update(),i.Vector33D.back(t)},e.prototype.preIndex=function(){return this.index--,this.index<0&&(this.index=this.focus.length-1),this.index},e.prototype.nextIndex=function(){return this.index++,this.index===this.focus.length&&(this.index=0),this.index},e.prototype.previousTextFocus=function(){return this.focus&&this.focusText(this.focus[this.preIndex()].box),this.index},e.prototype.nextTextFocus=function(){return this.focus&&this.focusText(this.focus[this.nextIndex()].box),this.index},e.prototype.dispose=function(){this.matches.clear(),this.focus=null},r([o.ParamExport("matches",null)],e.prototype,"matches",void 0),e=r([o.ApiExport(["matchText","previousTextFocus","nextTextFocus"],"3D")],e)}();t.TextMaching=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(1),a=n(23),s=n(387),c=n(17),l=function(){function e(e){var t=this;this.api=e,this.setMeshes=function(e,n){switch(e){case o.PanoramaModel.DEG720:var r=new a.SphereBufferGeometry3D(t.size,120,80);r.scale(-1,1,1),t.scene.add(new a.Mesh3D(r,new a.MeshBasicMaterial3D({map:t.imageLoader.load(n[0])})));break;case o.PanoramaModel.CUBE:n.forEach(function(e){var n=t.createMesh(e);t.scene.add(n)})}},this.logoRenderContext=function(){var e=new Image;e.src=c.Icon.BIGSPDLOGO;var n=t.api3d.getContext().getMarker(),r=c.BrowserInfo.isMobile?.49:.7,i=n.canvas.width/2-e.width*r/2,o=n.canvas.height/2-e.height*r/2-(c.BrowserInfo.isMobile?30:0);n.save(),n.translate(i,o),n.scale(r,r),n.drawImage(e,0,0),n.restore(),n.save(),n.translate(c.BrowserInfo.isMobile?n.canvas.width/2-7:n.canvas.width/2-10,c.BrowserInfo.isMobile?n.canvas.height/2+0:n.canvas.height/2+100),n.textBaseline="middle",n.textAlign="center",n.font="normal "+(c.BrowserInfo.isMobile?15:20)+"px Verdana",n.fillStyle="#02d6dc",n.fillText("New  soon",0,0),n.restore()},this.setMaterialMap=function(e){if(e.length>0)switch(t.scene.dispose(),e.length){case 1:t.setMeshes(o.PanoramaModel.DEG720,e);break;default:t.setMeshes(o.PanoramaModel.CUBE,e)}},i.BindParam("pr_imageUrls",this.setMaterialMap,e.handle);var n=this.scene=new a.Scene3D,r=this.mesh=new a.Mesh3D;this.api3d=this.api["3D"],this.imageUrls=["http://192.168.0.21:3000/build/image/b_0.jpg","http://192.168.0.21:3000/build/image/b_1.jpg","http://192.168.0.21:3000/build/image/b_2.jpg","http://192.168.0.21:3000/build/image/b_3.jpg","http://192.168.0.21:3000/build/image/b_4.jpg","http://192.168.0.21:3000/build/image/b_5.jpg","http://192.168.0.21:3000/build/image/b_6.jpg","http://192.168.0.21:3000/build/image/b_7.jpg","http://192.168.0.21:3000/build/image/b_8.jpg","http://192.168.0.21:3000/build/image/f_0.jpg","http://192.168.0.21:3000/build/image/f_1.jpg","http://192.168.0.21:3000/build/image/f_2.jpg","http://192.168.0.21:3000/build/image/f_3.jpg","http://192.168.0.21:3000/build/image/f_4.jpg","http://192.168.0.21:3000/build/image/f_5.jpg","http://192.168.0.21:3000/build/image/f_6.jpg","http://192.168.0.21:3000/build/image/f_7.jpg","http://192.168.0.21:3000/build/image/f_8.jpg","http://192.168.0.21:3000/build/image/l_0.jpg","http://192.168.0.21:3000/build/image/l_1.jpg","http://192.168.0.21:3000/build/image/l_2.jpg","http://192.168.0.21:3000/build/image/l_3.jpg","http://192.168.0.21:3000/build/image/l_4.jpg","http://192.168.0.21:3000/build/image/l_5.jpg","http://192.168.0.21:3000/build/image/l_6.jpg","http://192.168.0.21:3000/build/image/l_7.jpg","http://192.168.0.21:3000/build/image/l_8.jpg","http://192.168.0.21:3000/build/image/r_0.jpg","http://192.168.0.21:3000/build/image/r_1.jpg","http://192.168.0.21:3000/build/image/r_2.jpg","http://192.168.0.21:3000/build/image/r_3.jpg","http://192.168.0.21:3000/build/image/r_4.jpg","http://192.168.0.21:3000/build/image/r_5.jpg","http://192.168.0.21:3000/build/image/r_6.jpg","http://192.168.0.21:3000/build/image/r_7.jpg","http://192.168.0.21:3000/build/image/r_8.jpg","http://192.168.0.21:3000/build/image/d_0.jpg","http://192.168.0.21:3000/build/image/d_1.jpg","http://192.168.0.21:3000/build/image/d_2.jpg","http://192.168.0.21:3000/build/image/d_3.jpg","http://192.168.0.21:3000/build/image/d_4.jpg","http://192.168.0.21:3000/build/image/d_5.jpg","http://192.168.0.21:3000/build/image/d_6.jpg","http://192.168.0.21:3000/build/image/d_7.jpg","http://192.168.0.21:3000/build/image/d_8.jpg","http://192.168.0.21:3000/build/image/u_0.jpg","http://192.168.0.21:3000/build/image/u_1.jpg","http://192.168.0.21:3000/build/image/u_2.jpg","http://192.168.0.21:3000/build/image/u_3.jpg","http://192.168.0.21:3000/build/image/u_4.jpg","http://192.168.0.21:3000/build/image/u_5.jpg","http://192.168.0.21:3000/build/image/u_6.jpg","http://192.168.0.21:3000/build/image/u_7.jpg","http://192.168.0.21:3000/build/image/u_8.jpg"],this.imageLoader=new a.TextureLoader3D,this.setMaterialMap(this.imageUrls),this.markerRenderer=new s.MarkerRenderer(e["3D"]),n.add(r)}return e.prototype.init=function(){this.gl=this.api.PARAMS.eg_gumRenderer;var e=this.api.UI.getSize();this.camera=new a.PerspectiveCamera3D(75,e.width/e.height,1,1100),this.camera.lookAt(new a.Vector33D(1,0,0)),this.markerRenderer.init(this.api3d.getContext()),this.api3d.addMarkerUpdateContext(this.logoRenderContext),this.api.UI.enableToolBars(!1)},e.prototype.getImageNameSplits=function(e){var t=e.split("/");return t&&t.length&&(e=t.pop()),t=e.split("."),(e=t.shift()).split("_")},e.prototype.createMesh=function(e){var t=this.getImageNameSplits(e),n=new a.Mesh3D(new a.PlaneBufferGeometry3D(1,1),new a.MeshBasicMaterial3D({color:16777215,map:this.imageLoader.load(e)}));if(1===t.length)return n.scale.set(this.size,this.size,1),this.setDirection(t[0],n),n;if(2===t.length){var r=t[0],i=t[1];return n.scale.set(this.size/3,this.size/3,1),this.setDirection(r,n),this.setPosition(r,i,n),n}},e.prototype.setDirection=function(e,t){switch(e){case"l":t.rotateY(-Math.PI/2),t.position.set(this.size/2,0,0);break;case"r":t.rotateY(Math.PI/2),t.position.set(-this.size/2,0,0);break;case"f":t.position.set(0,0,-this.size/2);break;case"b":t.rotateY(Math.PI),t.position.set(0,0,this.size/2);break;case"u":t.rotateX(Math.PI/2),t.position.set(0,this.size/2,0);break;case"d":t.rotateX(-Math.PI/2),t.position.set(0,-this.size/2,0)}},e.prototype.setPosition=function(e,t,n){var r=parseInt(t);switch(e){case"r":n.position.y+=(Math.floor(r/3)-1)*this.size/3,n.position.z-=(Math.floor(r%3)-1)*this.size/3;break;case"l":n.position.y+=(Math.floor(r/3)-1)*this.size/3,n.position.z+=(Math.floor(r%3)-1)*this.size/3;break;case"f":n.position.y+=(Math.floor(r/3)-1)*this.size/3,n.position.x+=(Math.floor(r%3)-1)*this.size/3;break;case"b":n.position.y+=(Math.floor(r/3)-1)*this.size/3,n.position.x-=(Math.floor(r%3)-1)*this.size/3;break;case"u":n.position.z+=(Math.floor(r/3)-1)*this.size/3,n.position.x+=(Math.floor(r%3)-1)*this.size/3;break;case"d":n.position.z-=(Math.floor(r/3)-1)*this.size/3,n.position.x+=(Math.floor(r%3)-1)*this.size/3}},e.prototype.render=function(){this.clear(),this.enableMarkerRefresh(),this.markerRenderer.animate(),this.gl.render(this.scene,this.camera)},e.prototype.clear=function(){this.gl.clear()},e.prototype.enableMarkerRefresh=function(){this.markerRenderer.clearMarkerCanvas2D(),this.markerRenderer.render()},e.prototype.resize=function(e,t){this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.gl.setSize(e,t)},e.prototype.dispose=function(){this.mesh.dispose(),this.markerRenderer.dispose()},e.prototype.addObject3D=function(e){this.scene.add(e)},e.prototype.getBenchCamera=function(){return this.camera},r([i.ParamExport("pr_imageUrls",null)],e.prototype,"imageUrls",void 0),r([i.ParamExport("pr_camera",null)],e.prototype,"camera",void 0),r([i.ParamExport("pr_size",500)],e.prototype,"size",void 0),e=r([i.ApiExport(["enableMarkerRefresh","getBenchCamera","addObject3D"],"3D")],e)}();t.PanoramaRenderer=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(328),a=n(1),s=n(23),c=function(){function e(e){var t=this;this.api=e,this.renderPickTools=function(){if(t.enable&&t.pick.point){var e=t.ctx,n=t.api3d.getBenchCamera();e.save();var r=s.Vector33D.get().copy(t.pick.point);r.project(n),r.x=t.api3d.getCanvas2DSizeX(r.x),r.y=t.api3d.getCanvas2DSizeY(r.y);var i=t.color;switch(t.pick.pointType){case s.PICKPOINT.MIDDLEPOINT:t.drawTriangle(r.x,r.y,i,e);break;case s.PICKPOINT.TERMINALPOINT:t.drawRect(r.x,r.y,i,e);break;case s.PICKPOINT.EDGEPOINT:t.drawCross(r.x,r.y,i,e)}e.restore(),s.Vector33D.back(r)}},this.api3d=e["3D"],this.params=e.PARAMS,this.raycaster=new s.Raycaster3D,this.picks=[],this.intersects=[],this.pick={}}return e.prototype.dispose=function(){o.noop()},e.prototype.init=function(){this.api3d.addMarkerUpdateContext(this.renderPickTools),this.ctx=this.api3d.getContext().getMarker()},e.prototype.drawRect=function(e,t,n,r){r.strokeStyle=n,r.beginPath(),r.strokeRect(e-this.size/2,t-this.size/2,this.size,this.size),r.stroke()},e.prototype.drawTriangle=function(e,t,n,r){r.strokeStyle=n,r.beginPath(),r.moveTo(e-this.size/2,t+this.size/6*Math.sqrt(3)),r.lineTo(e,t-this.size/3*Math.sqrt(3)),r.lineTo(e+this.size/2,t+this.size/6*Math.sqrt(3)),r.closePath(),r.stroke()},e.prototype.drawCross=function(e,t,n,r){r.beginPath(),r.strokeStyle=n;var i=this.size/4;r.moveTo(e-i*Math.sqrt(2),t-i*Math.sqrt(2)),r.lineTo(e+i*Math.sqrt(2),t+i*Math.sqrt(2)),r.moveTo(e-i*Math.sqrt(2),t+i*Math.sqrt(2)),r.lineTo(e+i*Math.sqrt(2),t-i*Math.sqrt(2)),r.stroke()},e.prototype.drawPlus=function(e,t,n,r){r.beginPath(),r.strokeStyle=n;var i=this.size;r.moveTo(e,t-i/2),r.lineTo(e,t+i/2),r.moveTo(e-i/2,t),r.lineTo(e+i/2,t),r.stroke()},e.prototype.pickPoint=function(e,t){if(this.enable&&(this.picks.length=0,this.intersects.length=0,this.pick.point=void 0,this.api3d.GPURaycast(e,t,this.scalar,this.scalar,this.picks),this.picks&&this.picks.length>0)){for(var n=0,r=this.picks.length;n<r&&n<10;++n){var i=this.picks[n],o=this.api3d.getComponent(i.compId);o&&o.getIntersectPoint(i.point,10/this.api3d.getBenchCamera().zoom,this.intersects,this.api.UI.getSystemType()===a.SystemType.ST_2D)}this.intersects.length&&(this.pick.point=this.intersects[0].point,this.pick.pointType=this.intersects[0].pointType)}},e.prototype.drawDebug=function(e,t,n){if(this.ctx.save(),this.ctx.strokeStyle=this.color,this.ctx.beginPath(),this.ctx.strokeRect(e-this.scalar,t-this.scalar,2*this.scalar+1,2*this.scalar+1),n){var r=new ImageData(new Uint8ClampedArray(n.data),this.ctx.canvas.width,this.ctx.canvas.height);this.ctx.putImageData(r,0,0)}this.ctx.closePath(),this.ctx.stroke(),this.ctx.restore()},r([i.ParamExport("pp_enable",!1)],e.prototype,"enable",void 0),r([i.ParamExport("pp_scalar",5)],e.prototype,"scalar",void 0),r([i.ParamExport("pp_size",20)],e.prototype,"size",void 0),r([i.ParamExport("pp_color","#02d6dc")],e.prototype,"color",void 0),r([i.ParamExport("pp_pick",null)],e.prototype,"pick",void 0),e=r([i.ApiExport(["pickPoint"],"3D")],e)}();t.PickPoint=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(21),a=n(17);!function(e){e.UNLOAD="unload",e.LOADENV="loadenv",e.LOADGEOMETRY="loadgeometry",e.ERROR="loaderror",e.END="loadend"}(i||(i={})),t.MODELLOADDES=i;var s=function(){function e(e){var t=this;this.api=e,this.renderProcess=function(){if(t.enable){var e=t.api3d.getContext().getMarker(),n=e.canvas.width,r=e.canvas.height,i=a.BrowserInfo.isMobile?690*n/1e3:790*n/1920,o=(n-i)/2,s=(a.BrowserInfo.isMobile,1*r/2);t.renderRect(e,o,s,i,8,4,"#ebe9e9"),t.renderRect(e,o,s,i*t.percent/100,8,4,"#02d6dc"),t.renderImage(e,o+i*t.percent/100,s,8),t.renderText(e,o+i+14,s+8)}},this.api3d=this.api["3D"],this.models=new Map,this.circle=new Image,this.circle.src=a.Icon.CIRCLE,this.spider=new Image,this.spider.src=a.Icon.SPD}return e.prototype.init=function(){var e=this;this.api3d.addEventListener("model_add",function(t){var n=t.params.newId;e.models.size,e.models.has(n)||(e.models.set(n,{percent:0,des:i.UNLOAD,time:0,preTIme:performance.now()}),e.updatePrecent())}),this.api3d.addEventListener("benchmodel_removemodel",function(t){var n=t.params.benchModelId;e.models.has(n)&&(e.models.delete(n),e.updatePrecent())}),this.api3d.addEventListener("model_beginload",function(t){var n=t.params.newId,r=e.models.get(n);r?(r.percent=10,r.des=i.LOADENV,r.time+=performance.now()-r.preTIme,r.preTIme=performance.now()):e.models.set(n,{percent:10,des:i.LOADENV,time:0,preTIme:performance.now()}),e.updatePrecent()}),this.api3d.addEventListener("fileloader_geomloadend",function(t){var n=t.params.newModelId,r=e.models.get(n);r?(r.percent=20+t.params.current/t.params.totial*80,r.des=i.LOADGEOMETRY,r.time+=performance.now()-r.preTIme,r.preTIme=performance.now()):e.models.set(n,{percent:20+t.params.current/t.params.totial*80,des:i.LOADGEOMETRY,time:0,preTIme:performance.now()}),e.updatePrecent()}),this.api3d.addEventListener("fileloader_geomallloadend",function(t){var n=t.params.newModelId,r=e.models.get(n);r?(r.percent=100,r.des=i.END,r.time+=performance.now()-r.preTIme,r.preTIme=performance.now()):e.models.set(n,{percent:100,des:i.END}),e.updatePrecent()}),this.api3d.addEventListener("fileloader_geomloaderror",function(t){var n=t.params.newModelId,r=e.models.get(n);r?(r.percent=20+t.params.current/t.params.totial*80,r.des=i.LOADGEOMETRY,r.time+=performance.now()-r.preTIme,r.preTIme=performance.now()):e.models.set(n,{percent:20+t.params.current/t.params.totial*80,des:i.LOADGEOMETRY,time:0,preTIme:performance.now()}),e.updatePrecent()}),this.api3d.addEventListener("model_initenv",function(t){var n=t.params.benchModelId,r=e.models.get(n);r?(r.percent=20,r.des=i.LOADGEOMETRY,r.time+=performance.now()-r.preTIme,r.preTIme=performance.now()):e.models.set(n,{percent:20,des:i.LOADGEOMETRY,time:0,preTIme:performance.now()}),e.updatePrecent()}),this.api3d.addMarkerUpdateContext(this.renderProcess)},e.prototype.updatePrecent=function(){var e=this,t=0;this.models.forEach(function(e){t+=e.percent}),100===(t/=this.models.size)&&(this.models.clear(),setTimeout(function(){e.enable=!1,e.api3d.enableMarkerRefresh()},500)),this.percent=t,this.api3d.dispatchEvent({type:"updateloadpercent",params:{percent:this.percent}}),this.api3d.enableMarkerRefresh()},e.prototype.renderRect=function(e,t,n,r,i,o,a){e.save(),e.beginPath(),e.moveTo(t,n),e.lineTo(t+r,n),e.arc(t+r,n+i/2,o,-Math.PI/2,Math.PI/2),e.moveTo(t+r,n+i),e.lineTo(t,n+i),e.arc(t,n+i/2,o,Math.PI/2,-Math.PI/2),e.closePath(),e.fillStyle=a,e.fill(),e.restore()},e.prototype.renderImage=function(e,t,n,r){e.save(),e.drawImage(this.circle,t-this.circle.width/2,n-this.circle.height/2+r/2),e.restore()},e.prototype.renderText=function(e,t,n){e.save(),e.font="normal 16px SimHei",e.fillStyle="#02d6dc",e.fillText(Math.floor(this.percent)+"%",t,n),e.restore()},e.prototype.dispose=function(){this.models.clear()},r([o.ParamExport("lp_enable",!1)],e.prototype,"enable",void 0),e=r([o.ApiExport([])],e)}();t.LoadProcess=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(23),a=n(21),s=function(){function e(e){this.api=e,this.api3d=e["3D"],this.path=[],this.map=new Map,this.matchPoints=[],this.arraws=[]}return e.prototype.init=function(){var e=this;this.ctx=this.api3d.getContext().getMarker(),this.api.UI.getSystemType()===i.SystemType.ST_2D&&this.api3d.addEventListener("fileloader_geomallloadend",function(){e.api3d.matchText("",!0),e.api3d.matchText("",!0);var t=e.api.PARAMS.matches.get(""),n=e.api.PARAMS.matches.get("");t&&t.forEach(function(t){e.api3d.setRenderState(t.id,o.RenderState.HIDDEN)}),n&&n.forEach(function(t){e.api3d.setRenderState(t.id,o.RenderState.HIDDEN)}),e.rootInit(),e.mapInit(),e.setMarkerPoint(-27775.40895397429,2457.720513916738,0,"start"),e.getBestPath()}),this.api3d.addMarkerUpdateContext(function(){})},e.prototype.rootInit=function(){var e=new c("1").set(-27775.331723785846,2458.2159132166516,0),t=[void 0,e,new c("2").set(-27775.231232727543,11380.142125423095,0),new c("3").set(-22895.22172619619,2257.0731952557585,0),new c("4").set(-22895.141758976,2457.6397878589873,0),new c("5").set(-22895.136536677528,-13355.183554771957,0),new c("6").set(-5018.220817069277,-13354.176849111856,0),new c("7").set(21250.602015031538,-13289.389158630427,0),new c("8").set(21250.68137247116,-645.5123867235727,0),new c("9").set(21250.701246697787,-77.75726232243498,0),new c("10").set(25706.895807971432,-77.82670963691706,0),new c("11").set(25706.9470456006,-11234.443803282385,0),new c("11").set(6269.763639901904,-645.478574626159,0),new c("11").set(6269.731625311705,2272.052660763072,0),new c("11").set(4242.797734466537,2272.113567654149,0),new c("11").set(-5017.289170865742,2256.967631174811,0),new c("11").set(4242.882528736081,12775.971036009803,0),new c("11").set(-22895.141307387745,12775.939971762218,0)];this.addAdjoinNodes(1,[2,4],t),this.addAdjoinNodes(2,[1],t),this.addAdjoinNodes(3,[4,15,5],t),this.addAdjoinNodes(4,[1,3,17],t),this.addAdjoinNodes(5,[3,6],t),this.addAdjoinNodes(6,[5,7,15],t),this.addAdjoinNodes(7,[6,8],t),this.addAdjoinNodes(8,[7,9,12],t),this.addAdjoinNodes(9,[8,10],t),this.addAdjoinNodes(10,[9,11],t),this.addAdjoinNodes(11,[10],t),this.addAdjoinNodes(12,[13,8],t),this.addAdjoinNodes(13,[14,12],t),this.addAdjoinNodes(14,[13,15,16],t),this.addAdjoinNodes(15,[3,6,14],t),this.addAdjoinNodes(16,[14,17],t),this.addAdjoinNodes(17,[4,16],t),this.root=e},e.prototype.mapInit=function(){this.map.set("1",[new o.Vector33D(-27778.68640193977,10730.949235176891,0)]),this.map.set("2",[new o.Vector33D(25703.557863369013,-11219.709930718338,0)]),this.map.set("1",[new o.Vector33D(-17736.95173196761,12778.858161790398,0),new o.Vector33D(-17216.996386224826,2257.9953420949255,0)]),this.map.set("2",[new o.Vector33D(-6724.498404463108,2274.0881136458056,0),new o.Vector33D(-5130.041022373451,12780.260796966275,0)]),this.map.set("3",[new o.Vector33D(4240.52596573157,11626.704004260668,0)]),this.map.set("4",[new o.Vector33D(13974.298801997562,-627.8122818835716,0),new o.Vector33D(4242.7978766469805,3512.803236140934,0)]),this.map.set("5",[new o.Vector33D(16270.206610986002,-637.960437868403,0),new o.Vector33D(21248.482628961734,-6739.50980298394,0),new o.Vector33D(15680.264813758387,-13288.999671455396,0)]),this.map.set("6",[new o.Vector33D(8082.354489898307,-13289.246671223444,0),new o.Vector33D(8245.435501218142,-645.3367126300054,0)]),this.map.set("7",[new o.Vector33D(230.89196712941688,2272.2242702241915,0),new o.Vector33D(6269.445164909291,-118.1515849080389,0),new o.Vector33D(462.11695186539987,-13289.360823977206,0)]),this.map.set("8",[new o.Vector33D(-13664.550190911494,2257.053390554114,0),new o.Vector33D(-22895.189485556562,-2082.5597536103587,0),new o.Vector33D(-5017.471540402064,-2164.554719821921,0)]),this.map.set("9",[new o.Vector33D(-22895.22129957251,-9950.120653286918,0),new o.Vector33D(-14354.02810302059,-13355.981636152985,0),new o.Vector33D(-5017.27014519953,-10153.514971109,0)]),this.map.set("",[new o.Vector33D(-27775.40895397429,2457.720513916738,0)]),this.map.set("",[new o.Vector33D(25706.867584161468,-77.81631984793162,0)])},e.prototype.addAdjoinNodes=function(e,t,n){t.forEach(function(t){n[e].addAdjoinNode([n[t]])})},e.prototype.guid=function(e){var t=this,n=this.map.get(e);if(n){var r=-1,i=1/0;if(n.forEach(function(e,n){t.setMarkerPoint(e.x,e.y,e.z,"end"),t.getBestPath();var o=t.getBestPathLength();i>o&&(r=n,i=o)}),-1!==r&&i!==1/0){var o=n[r];return this.setMarkerPoint(o.x,o.y,o.z,"end"),this.getBestPath(),this.api3d.enableMarkerRefresh(),i/1e3}}return-1},e.prototype.getBestPath=function(){var e=this.path;if(e.length=0,this.arraws.length=0,this.startPoint&&this.endPoint){var t=this.root.getNearestNode(this.startPoint),n=this.root.getNearestNode(this.endPoint);if(t&&n){var r=t.getBestPath(n);if(r&&r.path.length)if(1===r.path.length)e.push(this.startPoint,this.endPoint);else{var i=o.Line33D.get(),a=!1,s=!1;r.getLine(i,0),i.containsPoint(this.startPoint,100)&&(a=!0),r.getLine(i),i.containsPoint(this.endPoint,100)&&(s=!0),o.Line33D.back(i),a&&r.path.shift(),s&&r.path.pop(),r.path.forEach(function(t){e.push(t.point)})}}}for(var c=0,l=0,u=e.length;l<u;++l)if(l+1<u){var p=e[l],d=e[l+1],h=p.distanceTo(d);if(c+h>1e4){var f=new o.Vector33D;f.copy(p).lerp(d,(1e4-c)/h),this.arraws.push({start:p,end:d,p:f}),c=c+h-1e4}}},e.prototype.getBestPathLength=function(){if(this.path&&this.path.length){for(var e=0,t=0,n=this.path.length;t<n;++t)t+1<n&&(e+=this.path[t].distanceTo(this.path[t+1]));return e}return 1/0},e.prototype.dispose=function(){},e.prototype.setMarkerPoint=function(e,t,n,r){var i;switch(r){case"start":this.startPoint||(this.startPoint=new o.Vector33D),i=this.startPoint;break;case"end":this.endPoint||(this.endPoint=new o.Vector33D),i=this.endPoint}i.set(e,t,n)},e.prototype.matchGuidText=function(e){var t=this;this.api3d.matchText(e,!0);var n=this.map,r=this.startPoint,i=this.api.PARAMS.matches.get(e);this.matchPoints.length=0;var a=o.Vector33D.get();return i&&i.forEach(function(e){n.has(e.context)&&(e.box.getCenter(a),a.z=0,t.matchPoints.push({name:e.context,distance:r.distanceTo(a)/1e3,v:a.clone()}))}),o.Vector33D.back(a),this.matchPoints},e.prototype.clearMatchesPoint=function(){this.matchPoints.length=0,this.api3d.enableMarkerRefresh()},e.prototype.clearGuid=function(){this.endPoint=void 0,this.path.length=0,this.api3d.enableMarkerRefresh()},e.prototype._render=function(){var e=this,t=this.api3d.getBenchCamera(),n=o.Vector33D.get();if(this.matchPoints.forEach(function(r,i){n.copy(r.v).project(t),e.api3d.canvas2DDrawPoint(n.x,n.y,10,"#ffff00"),e.getCanvasPos(n),e.ctx.save(),e.ctx.fillStyle="#ff0000",e.ctx.font="bold 20px Times New Roman",e.ctx.textBaseline="middle",e.ctx.textAlign="center",e.ctx.fillText(String(i+1),n.x,n.y),e.ctx.restore()}),o.Vector33D.back(n),this.startPoint||this.endPoint){n=o.Vector33D.get(),this.startPoint&&this.endPoint&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle="#02d6dc",this.ctx.setLineDash([10]),this.ctx.lineWidth=3,this.getCanvasPos(n.copy(this.startPoint).project(t)),this.ctx.moveTo(n.x,n.y),this.path.forEach(function(r){e.getCanvasPos(n.copy(r).project(t)),e.ctx.lineTo(n.x,n.y)}),this.getCanvasPos(n.copy(this.endPoint).project(t)),this.ctx.lineTo(n.x,n.y),this.ctx.stroke(),this.ctx.restore());var r=o.Vector33D.get(),i=o.Vector33D.get(),a=o.Vector33D.get();this.arraws.forEach(function(o){r.subVectors(o.start,o.end).normalize();var s=r.x;r.x=r.y,r.y=-s,r.z=0;var c=(o.p.distanceTo(o.start)-500)/o.start.distanceTo(o.end);n.copy(o.start).lerp(o.end,c),i.copy(n).add(r.multiplyScalar(500)),r.normalize(),a.copy(n).add(r.multiplyScalar(-500)),e.ctx.save(),e.ctx.strokeStyle="#02d6dc",e.ctx.lineWidth=3,e.ctx.beginPath(),e.getCanvasPos(n.copy(i).project(t)),e.ctx.moveTo(n.x,n.y),e.getCanvasPos(n.copy(o.p).project(t)),e.ctx.lineTo(n.x,n.y),e.getCanvasPos(n.copy(a).project(t)),e.ctx.lineTo(n.x,n.y),e.ctx.stroke(),e.ctx.restore()}),this.ctx.save(),n.copy(this.startPoint).project(t),this.api3d.canvas2DDrawPoint(n.x,n.y,10,"#ff0000"),this.endPoint&&(n.copy(this.endPoint).project(t),this.api3d.canvas2DDrawPoint(n.x,n.y,10,"#00ff00")),this.ctx.restore(),o.Vector33D.back(n),o.Vector33D.back(i),o.Vector33D.back(a),o.Vector33D.back(r)}},e.prototype.getCanvasPos=function(e){e.x=this.api3d.getCanvas2DSizeX(e.x),e.y=this.api3d.getCanvas2DSizeY(e.y)},r([a.ParamExport("guid_startPoint",null)],e.prototype,"startPoint",void 0),r([a.ParamExport("guid_map",null)],e.prototype,"map",void 0),e=r([a.ApiExport(["guid","setMarkerPoint","matchGuidText","clearMatchesPoint","clearGuid"],"3D")],e)}();t.Guid=s;var c=function(){function e(e){this.name=e,this.adjoinNode=[],this.point=new o.Vector33D}return e.prototype.set=function(e,t,n){return this.point.set(e,t,n),this},e.prototype.onNode=function(e,t){var n=this,r=o.Line33D.get(),i=!1;return this.adjoinNode.forEach(function(o){r.set(n.point,o.point),!i&&r.containsPoint(e,100)&&(i=!0,n.point.distanceTo(e)<=o.point.distanceTo(e)?t.n=n:t.n=o)}),o.Line33D.back(r),i},e.prototype.getNearest=function(t,n){if(!n.n&&!e.nodeSet.has(this)){if(e.nodeSet.add(this),this.onNode(t,n))return n;for(var r=0;r<this.adjoinNode.length&&(this.adjoinNode[r].getNearest(t,n),void 0===n.n);++r);return n}},e.prototype.getNearestNode=function(t){e.nodeSet.clear();return this.getNearest(t,{}).n},e.prototype.getPaths=function(t,n){if(n.addNode(this)){if(this===t)return void e.paths.push(n);for(var r=0,i=this.adjoinNode.length;r<i;r++)this.adjoinNode[r].getPaths(t,n.clone())}},e.prototype.getBestPath=function(t){return e.paths.length=0,this.getPaths(t,new l),e.paths.sort(function(e,t){return e.getLegth()-t.getLegth()}),e.paths[0]},e.prototype.addAdjoinNode=function(e){this.adjoinNode.push.apply(this.adjoinNode,e)},e.nodeSet=new Set,e.paths=[],e}(),l=function(){function e(){this.nodeSet=new Set,this.path=[]}return e.prototype.addNode=function(e){return!this.nodeSet.has(e)&&(this.nodeSet.add(e),this.path.push(e),!0)},e.prototype.getLegth=function(){for(var e=0,t=0,n=this.path.length;t<n;++t)t+1<n&&(e+=this.path[t].point.distanceTo(this.path[t+1].point));return e},e.prototype.getLine=function(e,t){if(void 0===t){var n=this.path.length;e.set(this.path[n-2].point,this.path[n-1].point)}else t>=0&&t<this.path.length&&e.set(this.path[t].point,this.path[t+1].point)},e.prototype.clone=function(){var t=new e;return this.path.forEach(function(e){t.nodeSet.add(e),t.path.push(e)}),t},e}()},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(328),c=n(21),l=n(1),u=n(17),p=n(407),d=n(372),h=n(366),f=function(e){function t(t,n){var r=e.call(this)||this;r.api=t,n.gisOptions&&n.gisOptions.defaultViewRectangle?Cesium.Camera.DEFAULT_VIEW_RECTANGLE=n.gisOptions.defaultViewRectangle:Cesium.Camera.DEFAULT_VIEW_RECTANGLE=Cesium.Rectangle.fromDegrees(89.5,20.4,110.4,61.2),n.gisOptions&&n.gisOptions.defaultViewFator&&(Cesium.camera.DEFAULT_VIEW_FACTOR=n.gisOptions.defaultViewFator);var i,o=new Cesium.Viewer(n.container,{useDefaultRenderLoop:!1,timeline:!1,sceneModePicker:!1,animation:!1,baseLayerPicker:!0,imageryProviderViewModels:(i=function(){var e=new Map;return e.set(l.GISLayer.BAIDUMAP,[]),e.set(l.GISLayer.AMAP,[new Cesium.UrlTemplateImageryProvider({url:"https://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",maximumLevel:18,enablePickFeatures:!1}),new Cesium.UrlTemplateImageryProvider({url:"https://wprd02.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&lang=zh_cn&size=1&scl=2&style=8&ltype=11",maximumLevel:18,enablePickFeatures:!1})]),e.set(l.GISLayer.QQMAP,[new Cesium.UrlTemplateImageryProvider({url:"https://p2.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{reverseY}.jpg?version=229",customTags:{sx:function(e,t,n,r){return t>>4},sy:function(e,t,n,r){return(1<<r)-n>>4}},maximumLevel:18,enablePickFeatures:!1}),new Cesium.UrlTemplateImageryProvider({url:"https://rt3.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid=2&version=297",maximumLevel:18,enablePickFeatures:!1})]),e.set(l.GISLayer.GOOGLEMAP,[new Cesium.UrlTemplateImageryProvider({url:"http://mt1.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&y={y}&z={z}&s=Gali",enablePickFeatures:!1})]),e.set(l.GISLayer.ARCGIS,[new Cesium.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",enablePickFeatures:!1})]),e.set(l.GISLayer.TIANDIMAP,[new Cesium.WebMapTileServiceImageryProvider({url:"http://t0.tianditu.com/img_w/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=img&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default&format=tiles&tk=daef30de6fd45a083ed65cbad38076ef",layer:"tiandituImg",style:"default",format:"image/jpeg",tileMatrixSetID:"tiandituImg",show:!0,maximumLevel:18}),new Cesium.WebMapTileServiceImageryProvider({url:"http://t0.tianditu.com/cia_w/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=cia&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default&format=tiles&tk=daef30de6fd45a083ed65cbad38076ef",layer:"tdtImgAnnoLayer",style:"default",format:"image/jpeg",tileMatrixSetID:"GoogleMapsCompatible",show:!0,maximumLevel:18})]),e}(),[new Cesium.ProviderViewModel({name:"",tooltip:"",iconUrl:u.Icon.googleMap,creationFunction:function(){return i.get(l.GISLayer.GOOGLEMAP)}}),new Cesium.ProviderViewModel({name:"",tooltip:"",iconUrl:u.Icon.aMap,creationFunction:function(){return i.get(l.GISLayer.AMAP)}}),new Cesium.ProviderViewModel({name:"",tooltip:"",iconUrl:u.Icon.baiduMap,creationFunction:function(){return i.get(l.GISLayer.BAIDUMAP)}}),new Cesium.ProviderViewModel({name:"",tooltip:"",iconUrl:u.Icon.QQMap,creationFunction:function(){return i.get(l.GISLayer.QQMAP)}}),new Cesium.ProviderViewModel({name:"ARC",tooltip:"ARC",iconUrl:u.Icon.arcMap,creationFunction:function(){return i.get(l.GISLayer.ARCGIS)}}),new Cesium.ProviderViewModel({name:"",tooltip:"",iconUrl:u.Icon.TDMAP,creationFunction:function(){return i.get(l.GISLayer.TIANDIMAP)}})]),terrainProviderViewModels:[new Cesium.ProviderViewModel({name:"",tooltip:"WGS84",iconUrl:u.Icon.EllipsoidTerrain,creationFunction:function(){return new Cesium.EllipsoidTerrainProvider({ellipsoid:Cesium.Ellipsoid.WGS84})}}),new Cesium.ProviderViewModel({name:"",tooltip:" Cesium ",iconUrl:u.Icon.STKTerrain,creationFunction:function(){return new Cesium.CesiumTerrainProvider({url:Cesium.IonResource.fromAssetId(1),requestWaterMask:!0,requestVertexNormals:!0})}})],fullscreenButton:!1,requestRenderMode:!1});o.scene.globe.depthTestAgainstTerrain=!0,t.PARAMS.gis_viewer=o,o.scene.globe.enableLighting=!0;var c=new Map,f=[new p.GISSceneLayout3D(t)],m=new d.BenchModel3d(t);return o.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),r.resize=function(){u.BrowserInfo.isMobile||(o.resolutionScale=window.devicePixelRatio),o.resize()},r.render=function(){o.render()},r.update=s.noop,r.clear=s.noop,r.setViewport=s.noop,r.dispose=function(){o.destroy(),f.map(function(e){e.dispose&&e.dispose()}),m.dispose()},r.setGISCameraView=function(e){o.scene.camera.setView(e)},r.setGISCameraLookAt=function(e,t,n,r){var i=Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2]),a=Cesium.Math.toRadians(t),s=Cesium.Math.toRadians(n),c=r;o.camera.lookAt(i,new Cesium.HeadingPitchRange(a,s,c))},r.init=function(){f.map(function(e){e.init&&e.init()}),m.init(),h.BenchCore.addInnerEventListener(t.handle,"fileloader_envloadend",function(){m.modelLoadOver()})},r.getCesiumViewer=function(){return o},r.load=function(e){var t=this;c.has(e.viewId)?console.warn("GIS: ID: "+e.viewId+", name: "+e.viewName):(e.models&&e.models.forEach(function(n){var r=new a.FileLoader3D(t.api,n.url,n.orgModelId,n.workerUrl,e.viewId,n.newModelId);m.modelInitLoader(r,a.reverseModelId(n.newModelId),n.modelMatrix)}),e.location||(e.location=new a.Vector33D),c.set(e.viewId,e))},r.getGISViewParams=function(e){return c.get(e)},r.load3DTile=function(e,t,n,r){var i=Cesium.Transforms.eastNorthUpToFixedFrame(Cesium.Cartesian3.fromDegrees(t.x,t.y,t.z));if(n&&(i=Cesium.Matrix4.multiplyByScale(i,new Cesium.Cartesian3(n.x,n.y,n.z),new Cesium.Matrix4)),r){var s=(new a.Matrix43D).makeRotationFromEuler(r),c=new Cesium.Matrix3(s.elements[0],s.elements[4],s.elements[8],s.elements[1],s.elements[5],s.elements[9],s.elements[2],s.elements[6],s.elements[10]);i=Cesium.Matrix4.multiplyByMatrix3(i,c,new Cesium.Matrix4)}var l=o.scene.primitives.add(new Cesium.Cesium3DTileset({url:e+"tileset.json"}));return l.readyPromise.then(function(e){var n=e.boundingSphere,r=Cesium.Cartographic.fromCartesian(n.center),i=Cesium.Cartesian3.fromRadians(r.longitude,r.latitude,0),o=Cesium.Cartesian3.fromRadians(r.longitude,r.latitude,t.z),a=Cesium.Cartesian3.subtract(o,i,new Cesium.Cartesian3);e.modelMatrix=Cesium.Matrix4.fromTranslation(a)}),l},r.loadGLTFModel=function(e,t,n,r,i){var s=Cesium.Transforms.eastNorthUpToFixedFrame(Cesium.Cartesian3.fromDegrees(t.x,t.y,t.z));if(n&&(s=Cesium.Matrix4.multiplyByScale(s,new Cesium.Cartesian3(n.x,n.y,n.z),new Cesium.Matrix4)),r){var c=(new a.Matrix43D).makeRotationFromEuler(r),l=new Cesium.Matrix3(c.elements[0],c.elements[4],c.elements[8],c.elements[1],c.elements[5],c.elements[9],c.elements[2],c.elements[6],c.elements[10]);s=Cesium.Matrix4.multiplyByMatrix3(s,l,new Cesium.Matrix4)}var u=Cesium.Model.fromGltf({id:"1",url:e,name:"gltf",upAxis:Cesium.Axis.Z,forwardAxis:Cesium.Axis.X,modelMatrix:s,show:!0===i});return o.scene.primitives.add(u),this.gltfModel.set(u.id,u),u},r.removeGISModel=function(e){o.scene.primitives.remove(e)},r.removeBIMModel=function(e){t.PARAMS.gis_bimModel.get(e).forEach(function(e){o.scene.primitives.remove(e)}),t.PARAMS.gis_bimModel.delete(e)},r.removeGISViewParams=function(e){var n=c.get(e);n&&(n.models.forEach(function(e){t["3D"].removeModel3D(e.newModelId)}),c.delete(e))},r.gisCameraFlyTo=function(e){o.camera.flyTo(e)},r}return i(t,e),o([c.ParamExport("gis_viewer",null)],t.prototype,"gisViewer",void 0),o([c.ParamExport("gis_gltfModel",new Map)],t.prototype,"gltfModel",void 0),t=o([c.ApiExport(["load3DTile","setGISCameraView","setGISCameraLookAt","getCesiumViewer","getGISViewParams","gisCameraFlyTo","loadGLTFModel","removeGISModel","removeBIMModel","removeGISViewParams"],"GIS")],t)}(a.EventDispatcher3D);t.GisEngine=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(328),o=n(23),a=n(21),s=n(366),c=function(){function e(e){this.api=e,this._enable=!1,this._views=new Map,this.gisModel=new Map,this._gisSeneInfo={enable:!1,checkView:null,benchId:e.handle,state:"add",mousePos:new o.Vector33D,views:this._views},this._state="add";var t=this;Object.defineProperty(this._gisSeneInfo,"enable",{get:function(){return t._enable},set:function(e){t.setGISSceneLayoutEnable(e)}}),Object.defineProperty(this._gisSeneInfo,"state",{get:function(){return t._state},set:function(e){t.setGISSceneLayOutState(e)}}),this._flyTarget=[]}return e.prototype.init=function(){var e=this,t=this.api,n=this.viewer=t.GIS.getCesiumViewer(),r=new Cesium.ScreenSpaceEventHandler(n.scene.canvas),i=n.entities.add({label:{show:!1,showBackground:!0,font:"14px monospace",horizontalOrigin:Cesium.HorizontalOrigin.LEFT,verticalOrigin:Cesium.VerticalOrigin.TOP,pixelOffset:new Cesium.Cartesian2(15,0)}});r.setInputAction(function(t){if(e.getGeographicalLocation(t.endPosition,e._gisSeneInfo.mousePos),e.api.GIS.dispatchEvent({type:"gis_move",params:{location:e._gisSeneInfo.mousePos}}),e._enable){var r=n.camera.pickEllipsoid(t.endPosition,n.scene.globe.ellipsoid);i.position=r,i.label.show=!0,i.label.text=": "+("   "+e._gisSeneInfo.mousePos.x.toFixed(6)).slice(-11)+"\n: "+("   "+e._gisSeneInfo.mousePos.y.toFixed(6)).slice(-11)+"",n.scene.requestRender()}else i.label.show=!1},Cesium.ScreenSpaceEventType.MOUSE_MOVE),r.setInputAction(function(t){if(e._enable){if("remove"===e._state){var r=n.scene.pick(t.position);Cesium.defined(r)&&e.removePickedGISViewModel(parseInt(r.id.id))}else if("add"===e._state&&null!==e._gisSeneInfo.checkView){var i=e._views.get(e._gisSeneInfo.checkView);i?(i.location.x=e._gisSeneInfo.mousePos.x,i.location.y=e._gisSeneInfo.mousePos.y,i.location.z=(i.box.max.z-i.box.min.z)/2,e.addGISViewModel(i.viewId)):console.error("spdengine-GIS: GIS"),e._gisSeneInfo.checkView=null}n.scene.requestRender()}e.api.GIS.dispatchEvent({type:"gis_leftclick",params:{location:e._gisSeneInfo.mousePos}})},Cesium.ScreenSpaceEventType.LEFT_CLICK),r.setInputAction(function(){e.api.GIS.dispatchEvent({type:"gis_rightclick",params:{location:e._gisSeneInfo.mousePos}})},Cesium.ScreenSpaceEventType.RIGHT_CLICK),r.setInputAction(function(t){if(!e._enable){var r=n.scene.pick(t.position);Cesium.defined(r)&&e.skipToGum3D(parseInt(r.id.id))}},Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),s.BenchCore.addInnerEventListener(t.handle,"fileloader_envloadend",function(n){var r=n.params,i=t.GIS.getGISViewParams(r.viewId),a=e._views.get(r.viewId);if(i){if(a){var s=o.Box33D.get().copy(r.data.boundingBox).applyMatrix4(r.matrix);a.box.union(s);var c=a.box.getSize(o.Vector33D.get());a.location.z=c.z/2,a.loadModels.push(r.newModelId),o.Box33D.back(s),o.Vector33D.back(c)}else a={viewId:r.viewId,viewName:i.viewName,show:i.show,modelId:i.modelId,box:(new o.Box33D).copy(r.data.boundingBox).applyMatrix4(r.matrix),location:i.location,des:i.des,rotation:i.rotation,scale:i.scale,loadModels:[r.newModelId]},e._views.set(r.viewId,a);if(i&&"create"!==i.state){if(e.canAddGISViewModel(a.loadModels,i.models))n.params.loader.loadGeometries(n.params.data.packages)}else e._gisSeneInfo.checkView=a.viewId}}),s.BenchCore.addInnerEventListener(t.handle,"fileloader_geomloadend",function(n){var r=n.params,i=t.GIS.getGISViewParams(r.viewId),o=null;i.models.forEach(function(e){e.newModelId==r.newModelId&&(o=e.url)});var a=e._views.get(r.viewId);if(i&&a){var s=[];if(r.data.vbo.forEach(function(e){for(var t=new Float64Array(3*e.vertexCount),n=new Float32Array(2*e.vertexCount),r=0;r<e.vertexCount;++r)t[3*r]=e.vb[r*e.strides],t[3*r+1]=e.vb[r*e.strides+1],t[3*r+2]=e.vb[r*e.strides+2],n[2*r]=e.vb[r*e.strides+6],n[2*r+1]=e.vb[r*e.strides+7];s.push({position:t,indices:e.indices,uv:n})}),null!=o)for(var c=[o+"Texc/front.png",o+"Texc/back.png",o+"Texc/left.png",o+"Texc/right.png",o+"Texc/top.png",o+"Texc/bottom.png"],l=0;l<s.length;++l)s[l].url=c[l];e.addGISViewModel(a.viewId,i.modelId,s)}}),this.viewer.scene.requestRender()},e.prototype.canAddGISViewModel=function(e,t){for(var n=0;n<t.length;++n)if(!o.arrayHas(e,t[n].newModelId))return!1;return!0},e.prototype.getGeographicalLocation=function(e,t){var n=this.viewer.scene.globe.ellipsoid,r=this.viewer.camera.pickEllipsoid(e,n);if(r){var i=n.cartesianToCartographic(r);t.x=Cesium.Math.toDegrees(i.longitude),t.y=Cesium.Math.toDegrees(i.latitude)}},e.prototype.dispose=function(){i.noop()},e.prototype.setGISSceneLayoutEnable=function(e){this._enable!==e&&(this._enable=e)},e.prototype.getGISSceneLayoutInfo=function(){return this._gisSeneInfo},e.prototype.createPrimitiveTextureAppearance=function(e){return new Cesium.Appearance({material:new Cesium.Material({fabric:{uniforms:{image:e},source:"czm_material czm_getMaterial(czm_materialInput materialInput, vec2 v_st)                    {                        vec4 color = texture2D(image, v_st);                        czm_material material = czm_getDefaultMaterial(materialInput);                        material.diffuse = color.rgb;                        material.alpha = color.a;                        return material;                    }                    "},translucent:!1,strict:!0}),translucent:!1,renderState:{blending:Cesium.BlendingState.DISABLED,depthTest:{enabled:!0},depthMask:!0},fragmentShaderSource:"varying vec2 v_st;\n\n            void main()\n\n            {\n\n                czm_materialInput materialInput;\n\n                czm_material material = czm_getMaterial(materialInput, v_st);\n\n                material.alpha = 1.0;\n\n                vec4 color = vec4(material.diffuse + material.emission, material.alpha);\n\n                gl_FragColor = color;\n\n            }\n\n            ",vertexShaderSource:"attribute vec3 position3DHigh;            attribute vec3 position3DLow;            attribute vec2 uvcoord;            attribute float batchId;            varying vec2 v_st;            void main()            {                vec4 p = czm_computePosition();                v_st = uvcoord;                p = czm_modelViewProjectionRelativeToEye * p;                gl_Position = p;            }            "})},e.prototype.setGisModelInfo=function(e){var t=this,n=new Cesium.BoundingSphere;this.gisModel.get(e).forEach(function(e){t.unionSphere(n,e.geometryInstances.geometry.boundingSphere)}),this.gisModelSphere.set(e,n)},e.prototype.unionSphere=function(e,t){var n=e.center.x-t.center.x,r=e.center.y-t.center.y,i=e.center.z-t.center.z,o=Math.sqrt(n*n+r*r+i*i);return e.radius+o<t.radius?(e.center.clone(t.center),e.radius=t.radius,e):t.radius+o<e.radius?e:(e.center.x=.5*(e.center.x+t.center.x),e.center.y=.5*(e.center.y+t.center.y),e.center.z=.5*(e.center.z+t.center.z),e.radius=.5*(e.radius+t.radius+o),e)},e.prototype.getModelTransformMatrix=function(e,t){var n=Math.cos(t.x),r=Math.sin(t.x),i=Math.cos(t.y),o=Math.sin(t.y),a=Math.cos(t.z),s=Math.sin(t.z),c=i*a,l=-i*s,u=o,p=n*s+r*a*o,d=n*a-r*s*o,h=-r*i,f=r*s-n*a*o,m=r*a+n*s*o,g=n*i,y=this.gisModelSphere.get(e).center,v=this.gisModel.get(e)[0].geometryInstances.modelMatrix;Cesium.Matrix4.multiplyByPoint(v,y,y);
//! pos
var x=c*-y.x+l*-y.y+u*-y.z,M=p*-y.x+d*-y.y+h*-y.z,b=f*-y.x+m*-y.y+g*-y.z,w=x+y.x,A=M+y.y,_=b+y.z;return new Cesium.Matrix4(c,l,u,w,p,d,h,A,f,m,g,_,0,0,0,1)},e.prototype.addGISViewModel=function(e,t,n){var r=this,i=this.viewer,a=this._views.get(e),s=a.box.getSize(o.Vector33D.get()),c=a.location,l=a.rotation,u=a.show,p=a.scale,d=[];if(a){n&&n.forEach(function(e){var n=new Cesium.Geometry({attributes:{position:new Cesium.GeometryAttribute({componentDatatype:Cesium.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:e.position}),uvcoord:new Cesium.GeometryAttribute({componentDatatype:Cesium.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:e.uv})},indices:e.indices,primitiveType:Cesium.PrimitiveType.TRIANGLES,boundingSphere:Cesium.BoundingSphere.fromVertices(e.position)}),a=Cesium.Transforms.eastNorthUpToFixedFrame(Cesium.Cartesian3.fromDegrees(c.x,c.y,c.z));if(p&&(a=Cesium.Matrix4.multiplyByScale(a,new Cesium.Cartesian3(p.x,p.y,p.z),new Cesium.Matrix4)),l){var s=(new o.Matrix43D).makeRotationFromEuler(l),h=new Cesium.Matrix3(s.elements[0],s.elements[4],s.elements[8],s.elements[1],s.elements[5],s.elements[9],s.elements[2],s.elements[6],s.elements[10]);a=Cesium.Matrix4.multiplyByMatrix3(a,h,new Cesium.Matrix4)}var f=e.url.lastIndexOf("/")+1,m=e.url.lastIndexOf("."),g=e.url.substr(f,m-f)+t,y=new Cesium.GeometryInstance({geometry:n,modelMatrix:a,id:g}),v=new Cesium.Primitive({geometryInstances:y,releaseGeometryInstances:!1,appearance:r.createPrimitiveTextureAppearance(e.url),show:!0===u,compressVertices:!1,asynchronous:!1,interleave:!1,vertexCacheOptimize:!1});i.scene.primitives.add(v),d.push(v)}),t&&(this.gisModel.has(t)&&console.error("ID"),this.gisModel.set(t,d),this.setGisModelInfo(t)),a.viewLabel=i.entities.add({id:String(a.viewId)+"_label",name:a.viewName,description:a.des,position:Cesium.Cartesian3.fromDegrees(c.x,c.y,c.z+s.z+50),label:{text:a.viewName,font:"14pt monospace",style:Cesium.LabelStyle.FILL,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,showBackground:!0,show:!0}});var h=this.api.GIS.getGISViewParams(e);h&&(h.state="add")}o.Vector33D.back(s)},e.prototype.removePickedGISViewModel=function(e){var t=this._views.get(e);t.viewModel.show=!1,t.viewLabel.show=!1,this.viewer.entities.removeById(e+"_label"),this.viewer.entities.removeById(e+"_model"),this._views.delete(e),delete this._flyTarget[e],this.api.GIS.removeGISViewParams(e)},e.prototype.setGISSceneLayOutState=function(e){this._state=e},e.prototype.skipToGum3D=function(e){var t=this.api.GIS.getGISViewParams(e);t.doubleClickCallBack&&t.doubleClickCallBack()},r([a.ParamExport("gis_enable",!1)],e.prototype,"_enable",void 0),r([a.ParamExport("gis_sceneLayout",!1)],e.prototype,"sceneLayout",void 0),r([a.ParamExport("gis_Model",new Map)],e.prototype,"gisModel",void 0),r([a.ParamExport("gis_ModelSphere",new Map)],e.prototype,"gisModelSphere",void 0),e=r([a.ApiExport(["getGISSceneLayoutInfo","setGISSceneLayOutState","setGISSceneLayoutEnable","getModelTransformMatrix","removePickedGISViewModel"],"GIS")],e)}();t.GISSceneLayout3D=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(1),a=n(21),s=n(409),c=n(410),l=n(413),u=n(414),p=n(415),d=n(416),h=n(417),f=n(418),m=n(419),g=n(420),y=n(17),v=n(421),x=n(422),M=n(423),b=n(424),w=n(383),A=n(425),_=n(393),E=n(426),D=n(428),S=n(429),P=n(430),T=n(431),C=n(432),R=new Set,I=new Set;t.Core3D=function(){return function(e){return R.add(e),e}},t.Tool3D=function(){return function(e){return I.add(e),e}};var O={animation_end:"animation_end",animation_start:"animation_start",animation_allend:"animation_allend",fileloader_geomloadend:"fileloader_geomloadend",fileloader_geomallloadend:"fileloader_geomallloadend",fileloader_envloadend:"fileloader_envloadend",mainview_frameend:"mainview_frameend",model_add:"model_add",model_remove:"benchmodel_removemodel",model_add_MakerFile:"model_add_MakerFile",model_beginload:"model_beginload",fileloader_geomloaderror:"fileloader_geomloaderror",js_meshforeach:"js_meshforeach",js_textforeach:"js_textforeach",mainview_renderfinish:"renderfinish",hidden_elements:"hidden_elements",show_elements:"show_elements",show_all:"cm_showAll",hidden_all:"cm_hiddenAll"},L={eg_clearColor:"MainView_ClearColor",eg_frameBufferMultiple:"eg_frameBufferMulipe",eg_transparentColor:"MainView_TransparentColor",sr_enable:"FloorShadow_Enable",material_state:"material_state",preShadow_enable:"PreShadow_Enable",eg_enableOutline:"MainView_EnableOutline",rd_extendUpdate:"MainView_UpdateExtend",hl_highlightoutlineColor:"MainView_HighlightOutlineColor",hl_outlineColor:"MainView_OutlineColor",hl_highlightColor:"MainView_HighlightColor",rd_continue:"mainView_continue",ani_enable:"animate_enable",ani_run:"animate_runEnable",ani_runTime:"animate_runTime",mk_markModelID:"marker_modelID",eg_pureColor:"MainView_PureColor",eg_wireframeColor:"MainView_WireframeColor",hl_transparentColor:"MainView_TransparentColor",hl_transparentOutlineColor:"MainView_TransparentOutlineColor",view_FirstFrameMustRenderTriangleCount:"MainView_FFMRTCount",tools_bloomStrength:"BloomView_Strength",tools_bloomRadius:"BloomView_Radius",tools_bloomThreshold:"BloomView_Threshold"},k=function(){function e(e,t){var n=this;this.api=e,this.isDispose=!1,this.backgroundImageDataPtr=0,this.hasLoadShxCache=!1,this.textCache=[],this.modelLoadParams=new Map,this.wasmBuffer=null,this.wasmBufferSize=4194304,this.firstFrame=!1,this.currentTime=0,this.triangleCountPerFrame=y.BrowserInfo.isMobile?2e6:15e6,this._hiddenElementClearHandle=null,this._showElementClearHandle=null,this._hiddenElements=[],this._showElements=[],this._updateHandle=null,this.benchBoxCB=[],this.frame=0,this.api3d=this.api["3D"],this.markerRender=new u.MarkerRenderer(e["3D"]),this.benchBox=new i.Box33D,this.enableAlpha=t.alpha,this.useWasmMemory=!1!==t.useWasmMemory,this.contextType=t.contextType,y.Util.isNil(this.contextType)&&(this.contextType=y.BrowserInfo.supportWebGL2?"webgl2":"webgl"),this.cores=[new s.Animate3d(e),new c.Cameras3D(e),new g.MinorRenderer(e)],this.tools=[new l.HighLight3d(e),new m.Clipping3D(e),new p.Marker2D(e),new d.MarkerDevice3D(e),new h.Measure(e),new f.Wander3D(e),new v.Navigate3D(e),new x.LoadProcess(e),new M.TextMaching(e),new A.LevelAndGrid3D(e),new _.Focus3D(e),new E.BenchLink(e),new D.DirectoryTree3D(e),new S.FuzzySearch3D(e),new P.ProcessView3D(e),new T.PickPoint(e),new C.Marker3D(e)],this.gl=new i.GUMWebGLRenderer({alpha:!1,depth:!0,stencil:!0,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!0,powerPreference:y.BrowserInfo.isMobile?"low-power":"high-performance"}),this.minorRender=this.cores[2],this.clippingState=!1,this.textRender=new b.TextRenderer(this.api),Object.defineProperty(this.gl,"localClippingEnabled",{set:function(e){n.clippingState=e,n.engineApi.setClippingsState(e)},get:function(){return n.clippingState}}),a.BindParam("tools_bloomStrength",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPF32[t/4]=e;var r=n.engineApi.stringToUTF8(L.tools_bloomStrength);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("tools_bloomRadius",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPF32[t/4]=e;var r=n.engineApi.stringToUTF8(L.tools_bloomRadius);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("tools_bloomThreshold",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPF32[t/4]=e;var r=n.engineApi.stringToUTF8(L.tools_bloomThreshold);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("eg_pureColor",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=e;var r=n.engineApi.stringToUTF8(L.eg_pureColor);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("view_FirstFrameMustRenderTriangleCount",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=e;var r=n.engineApi.stringToUTF8(L.view_FirstFrameMustRenderTriangleCount);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("eg_wireframeColor",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=e;var r=n.engineApi.stringToUTF8(L.eg_wireframeColor);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("hl_highlightColor",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=e;var r=n.engineApi.stringToUTF8(L.hl_highlightColor);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("hl_transparentColor",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=e;var r=n.engineApi.stringToUTF8(L.hl_transparentColor);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("hl_transparentOutlineColor",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=e;var r=n.engineApi.stringToUTF8(L.hl_transparentOutlineColor);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("eg_clearColor",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=e;var r=n.engineApi.stringToUTF8(L.eg_clearColor);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r),n.setBackgroundImageData(new Uint8Array([e>>24&255,e>>16&255,e>>8&255,255&e]),1,1)},this.api.handle),a.BindParam("eg_enableOutline",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=e?1:0;var r=n.engineApi.stringToUTF8(L.eg_enableOutline);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("rd_extendUpdate",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=e?1:0;var r=n.engineApi.stringToUTF8(L.rd_extendUpdate);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("hl_highlightoutlineColor",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=e;var r=n.engineApi.stringToUTF8(L.hl_highlightoutlineColor);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r),n.api3d.update()},this.api.handle),a.BindParam("hl_outlineColor",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=e;var r=n.engineApi.stringToUTF8(L.hl_outlineColor);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r),n.api3d.update()},this.api.handle),a.BindParam("sr_enable",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=1==e?1:0;var r=n.engineApi.stringToUTF8(L.sr_enable);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("preShadow_enable",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=1==e?1:0;var r=n.engineApi.stringToUTF8(L.preShadow_enable);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("material_state",function(e){var t=n.engineApi.malloc(4);switch(e){case"gray":n.wasmModule.HEAPU32[t/4]=1;break;case"wireframe":n.wasmModule.HEAPU32[t/4]=2;break;case"purecolor":case"solidColor":n.wasmModule.HEAPU32[t/4]=3;break;default:n.wasmModule.HEAPU32[t/4]=0}var r=n.engineApi.stringToUTF8(L.material_state);n.engineApi.setParams(r,t),n.engineApi.free(t)},e.handle),a.BindParam("rd_continue",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=1==e?1:0;var r=n.engineApi.stringToUTF8(L.rd_continue);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("ani_enable",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=1==e?1:0;var r=n.engineApi.stringToUTF8(L.ani_enable);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("ani_run",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPU32[t/4]=1==e?1:0;var r=n.engineApi.stringToUTF8(L.ani_run);n.engineApi.setParams(r,t),n.engineApi.free(t),n.engineApi.free(r)},this.api.handle),a.BindParam("ani_runTime",function(e){var t=n.engineApi.malloc(4);n.wasmModule.HEAPF32[t/4]=e;var r=n.engineApi.stringToUTF8(L.ani_runTime);n.engineApi.setParams(r,t),n.engineApi.free(r),n.engineApi.free(t)},this.api.handle),this.entity=new i.Entity3D(i.CodeType3D.Text,new i.BufferGeometry3D,new i.GUMBaseMaterial3D(0)),this.hasDispatchRenderFinishEvent=!1}return e.prototype.getSpaceNames=function(){var e=this.engineApi.malloc(4),t=this.engineApi.getSpaceNames(e),n=this.engineApi.UTF8ToString(t).split("&");return this.engineApi.free(e),this.engineApi.free(t),n},e.prototype.setSpaceByName=function(e){var t=this.engineApi.stringToUTF8(e);this.engineApi.setSpaceByName(t),this.engineApi.free(t),this.api3d.update(),this.api3d.controlUpdate()},e.prototype.getBuffer=function(e){return null===this.wasmBuffer&&(this.wasmBuffer=this.engineApi.malloc(this.wasmBufferSize)),e>this.wasmBufferSize&&(this.wasmBufferSize=e,this.engineApi.free(this.wasmBuffer),this.wasmBuffer=this.engineApi.malloc(this.wasmBufferSize)),this.wasmBuffer},e.prototype.JS_XHRGet=function(e,t,n,r,i){var o=this;if(0==r||1==r){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType=t,a.url=e,a.wrap_cb=n,a.onreadystatechange=function(){if(4===a.readyState)if(200==a.status){var t=new FileReader;t.readAsArrayBuffer(a.response),t.onload=function(t){for(var n=o.engineApi.stringToUTF8(e),r=new Uint8Array(t.target.result),s=r.length,c=o.getBuffer(s),l=0;l<s;l++)o.wasmModule.HEAPU8[c+l]=r[l];o.wasmModule._OnMessage(i,n,c,s,a.wrap_cb),o.engineApi.free(n)}}else{var r=o.engineApi.stringToUTF8(e);o.wasmModule._OnError(0,r,a.status,n),o.engineApi.free(r)}},a.send()}else if(2===r){var s=new Image,c=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");s.setAttribute("crossOrigin","anonymous"),s.src=e,s.onload=function(){if(!o.isDispose){var t=s.width,r=s.height;c.width=t,c.height=r;var a=c.getContext("2d");a.drawImage(s,0,0,c.width,c.height);for(var l=a.getImageData(0,0,c.width,c.height),u=l.data.length,p=o.getBuffer(u),d=0;d<u;++d)o.wasmModule.HEAPU8[p+d]=l.data[d];var h=o.engineApi.stringToUTF8(e);o.wasmModule._OnMessageImage(i,h,p,u,t,r,n),o.engineApi.free(h)}},s.onerror=function(){if(!o.isDispose){var t=o.engineApi.stringToUTF8(e);o.wasmModule._OnImageError(i,t,404,n),o.engineApi.free(t)}}}},e.prototype.getModelBoundingBox=function(e){return this.getModelBoundBox(e,new i.Box33D)},e.prototype.getModelTransform=function(e){var t=this.engineApi.getModelTransform(e);return(new i.Matrix43D).fromArray(this.wasmModule.HEAPF32,t/4)},e.prototype.getIntersectedElementByBox=function(e,t){var n=this,r=new i.Box33D,o=[];return this.compSetForEach(function(a,s){n.api3d.getElementBoundingBox(s,r.makeEmpty()),e.containsBox(r)&&o.push(i.btoa3D(s)),t||e.intersectsBox(r)&&o.push(i.btoa3D(s))}),o},e.prototype.GPURaycast=function(e,t,n,r,o){e*=this.frameBufferMultiple,t*=this.frameBufferMultiple,e=Math.floor(e),t=Math.floor(t),n|=0,r|=0;var a=this.api.UI.getBenchSize();a.width*=this.frameBufferMultiple,a.height*=this.frameBufferMultiple;for(var s=Math.max(0,e-n),c=Math.min(0|a.width,e+n),l=Math.max(0,t-r),u=Math.min(0|a.height,t+r),p=this.engineApi.malloc(8),d=this.engineApi.malloc(12),h=this.engineApi.malloc(12),f=this.engineApi.malloc(12),m=this.engineApi.malloc(12),g=this.engineApi.malloc(4),y=i.Vector23D.get(),v=this.api3d.getBenchCamera(),x=Math.max(1e-4,15/v.zoom),M=s;M<=c;++M)for(var b=l;b<=u;++b){var w=this.engineApi.gpuRaycast(M,b,p,d,h,f,m,g,x);if(0!=w){this.api3d.setProjectScreenMouse(M/this.frameBufferMultiple,b/this.frameBufferMultiple,y);var A=(new i.Vector33D).fromArray(this.wasmModule.HEAPF32,h/4),_=(new i.Vector33D).fromArray(this.wasmModule.HEAPF32,f/4),E=(new i.Vector33D).fromArray(this.wasmModule.HEAPF32,m/4),D=(new i.Vector33D).fromArray(this.wasmModule.HEAPF32,d/4).normalize();o.push({compId:this.fromUint8ToUUID(w),point:A,indexDistance:0,normal:D.normalize(),pointType:this.wasmModule.HEAP32[g/4],start:_,end:E})}}this.engineApi.free(p,d,h,f,m,g),i.Vector23D.back(y)},e.prototype.createWireframeBoxByElement=function(e,t){e=this.getBinaryElementGuid(e);var n=this.api3d.getElementBoundingBox(e);return this.createWireframeBoxByBox(n,t)},e.prototype.createWireframeBoxByBox=function(e,t){var n=e.max,r=e.min,o={points:[new i.Vector33D(r.x,r.y,r.z),new i.Vector33D(r.x,r.y,n.z),new i.Vector33D(r.x,n.y,r.z),new i.Vector33D(r.x,n.y,n.z),new i.Vector33D(n.x,r.y,r.z),new i.Vector33D(n.x,r.y,n.z),new i.Vector33D(n.x,n.y,r.z),new i.Vector33D(n.x,n.y,n.z)],color:t,indices:[0,1,1,3,3,2,2,0,4,5,5,7,7,6,6,4,1,5,0,4,2,6,3,7]};return this.createMeshLine(o)},e.prototype.createMeshLine=function(e){var t=this;if(!e||!e.points||e.points.length<2||!e.indices||e.indices.length<2)throw new Error("createMeshLine");var n=this.engineApi.malloc(16),r=this.engineApi.malloc(12*e.points.length),i=this.engineApi.malloc(2*e.indices.length);this.wasmModule.HEAPU32[n/4]=e.points.length,this.wasmModule.HEAPU32[n/4+1]=r,this.wasmModule.HEAPU32[n/4+2]=e.indices.length,this.wasmModule.HEAPU32[n/4+3]=i,e.points.forEach(function(e,n){var i=r+12*n;t.wasmModule.HEAPF32[i/4]=e.x,t.wasmModule.HEAPF32[i/4+1]=e.y,t.wasmModule.HEAPF32[i/4+2]=e.z}),e.indices.forEach(function(e,n){var r=i+2*n;t.wasmModule.HEAPU16[r/2]=e});var o=this.engineApi.createMeshLine(n,e.color);return this.engineApi.free(n,r,i),o},e.prototype.setSelectorParams=function(e){var t=this;y.Util.isNil(e)&&console.error("setSelectorParams"),this.api.PARAMS.hl_enableClick=!1!==e.clickEnable,y.Util.isNumber(e.canSelectedState)&&this.api.engine.setRenderElementCanSelectedState(e.canSelectedState),y.Util.isArray(e.needToAddSelectedClickListeners)&&e.needToAddSelectedClickListeners.forEach(function(e){y.Util.isFunction(e)&&t.api3d.addSelectEventListener("click",e)}),y.Util.isArray(e.needToAddSelectedClickListeners)&&e.needToRmoveSelectedClickListeners.forEach(function(e){y.Util.isFunction(e)&&t.api3d.removeSelectEventListener("click",e)}),y.Util.isArray(e.needToAddSelectedClickListeners)&&e.needToAddSelectedRegionListeners.forEach(function(e){y.Util.isFunction(e)&&t.api3d.addSelectEventListener("region",e)}),y.Util.isArray(e.needToAddSelectedClickListeners)&&e.needToRmoveSelectedRegionListeners.forEach(function(e){y.Util.isFunction(e)&&t.api3d.removeSelectEventListener("region",e)}),this.api.PARAMS.bc_isChangeRotateCenter=!1!==e.isChangeRotateCenter,y.Util.isNil(e.rotationCenterModel)&&e.rotationCenterModel>=0&&e.rotationCenterModel<=3&&(this.api.PARAMS.bc_rotationCenterMode=e.rotationCenterModel)},e.prototype.getSelectorParams=function(){return{canSelectedState:this.engineApi.getRenderElementCanSelectedState(),clickEnable:this.api.PARAMS.hl_enableClick}},e.prototype.addGUMRenderEventListener=function(e,t){console.warn("addGUMRenderEventListener4.4.2addEventListener"),this.api3d.addEventListener(e,t)},e.prototype.getComponentArea=function(e){return this.getElementArea(e)},e.prototype.getElementArea=function(e){e=this.getBinaryElementGuid(e);var t=this.engineApi.malloc(18);this.compIdToUint8T(t,e);var n=this.engineApi.getMeshArea(t);return this.engineApi.free(t),n},e.prototype.createLine=function(e){var t=this.engineApi.malloc(24);this.lineToEngineLine(e.line,t);var n=this.engineApi.createLine(t,null==e.lineWeight?-1:e.lineWeight,e.color);return this.engineApi.free(t),n},e.prototype.getBinaryElementGuid=function(e){if(9!=e.length&&9!=(e=i.atob3D(e)).length)throw Error("element guid illegality.");return e},e.prototype.setElemntAnimationParams=function(e){var t=this;if(y.Util.assert(function(e){return!y.Util.isNil(e)},e,"animationParams",0)){if(this.api.PARAMS.ani_enable=!0===e.enable,y.Util.assert(function(e){return y.Util.isArray(e)},e.datas,"aniamationParams.datas",0)){var n=[];e.datas.forEach(function(e){var r,i,a=e.sort,s=t.getBinaryElementGuid(e.guid),c=e.chunkid,l=e.totalTime,u=[];switch(e.aniType){case o.AnimationType.BASE:r=0;break;case o.AnimationType.CONSTRUCTION:r=1;break;case o.AnimationType.LOOP:r=2}switch(e.transType){case o.TransformationType.PAN:i=0,e.panValue?u.push(e.panValue.x,e.panValue.y,e.panValue.z):(u.push(0,0,0),console.warn("Check Your PAN value Please !"));break;case o.TransformationType.ROTATION:switch(i=1,e.rotationValue?u.push(e.rotationValue.x,e.rotationValue.y,e.rotationValue.z):(u.push(0,0,0),console.warn("Check Your ROTATION Value Please !")),e.centerType){case o.CenterType.BASEPOINT:u.push(0);break;case o.CenterType.SELFPOINT:u.push(1);break;case o.CenterType.SPECIFYPOINT:u.push(2),e.center?u.push(e.center.x,e.center.y,e.center.z):(u.push(0,0,0),console.warn("Check Your CENTER Value Please !"));break;default:u.push(0)}break;case o.TransformationType.TRANSFORMATION:switch(i=2,e.panValue?u.push(e.panValue.x,e.panValue.y,e.panValue.z):(u.push(0,0,0),console.warn("Check Your PAN value Please !")),e.rotationValue?u.push(e.rotationValue.x,e.rotationValue.y,e.rotationValue.z):(u.push(0,0,0),console.warn("Check Your ROTATION Value Please !")),e.centerType){case o.CenterType.BASEPOINT:u.push(0);break;case o.CenterType.SELFPOINT:u.push(1);break;case o.CenterType.SPECIFYPOINT:u.push(2),e.center?u.push(e.center.x,e.center.y,e.center.z):(u.push(0,0,0),console.warn("Check Your CENTER Value Please !"));break;default:u.push(0)}break;case o.TransformationType.DEFORMATION:switch(i=3,e.deformationValue?u.push(e.deformationValue.x,e.deformationValue.y,e.deformationValue.z):(u.push(0,0,0),console.warn("Check Your DEFORMATION Value Please !")),e.defomationType){case o.DeformationType.ENLARGE:u.push(0);break;case o.DeformationType.NARROW:u.push(1);break;default:u.push(0)}}var p={guid:s,aniType:r,transType:i,value:u,totalTime:l,sort:a,chunkid:c};n.push(p)}),this.setAnimateData(n)}switch(e.action){case"run":this.api.PARAMS.ani_run=!0;break;default:this.api.PARAMS.ani_run=!1}}},e.prototype.getAnimationParams=function(){return{enable:this.api.PARAMS.ani_enable,action:this.api.PARAMS.ani_run?"run":"stop"}},e.prototype.getEngineParams=function(){return{elementHighlightColor:this.api.PARAMS.hl_highlightColor,elementHighlightOutlineColor:this.api.PARAMS.hl_highlightoutlineColor,elementTransparentColor:this.api.PARAMS.hl_transparentColor,elementTransparentOutlineColor:this.api.PARAMS.hl_transparentOutlineColor,elementWireframeColor:this.api.PARAMS.eg_wireframeColor,elementSolidColor:this.api.PARAMS.eg_pureColor,renderMode:this.api.PARAMS.rd_continue?"overallRendering":"batchRendering",backgroundColor:this.api.PARAMS.eg_clearColor,elementOutlineRenderEnable:this.api.PARAMS.eg_enableOutline,floorShadowEnable:this.api.PARAMS.sr_enable,elementMaterialRenderState:this.api.PARAMS.material_state,unit:this.api.PARAMS.model_unit}},e.prototype.setEngineParams=function(e){if(y.Util.isNil(e))console.warn("engineParams, nullundefined");else{if(y.Util.assert(y.Util.isNumber,e.elementHighlightColor,"engineParamselementHighlightColor",0)&&(this.api.PARAMS.hl_highlightColor=e.elementHighlightColor),y.Util.assert(y.Util.isNumber,e.elementHighlightOutlineColor,"engineParamselementHighlightOutlineColor",0)&&(this.api.PARAMS.hl_highlightoutlineColor=e.elementHighlightOutlineColor),y.Util.assert(y.Util.isNumber,e.elementTransparentColor,"engineParamselementTransparentColor",0)&&(this.api.PARAMS.hl_transparentColor=e.elementTransparentColor),y.Util.assert(y.Util.isNumber,e.elementTransparentOutlineColor,"engineParamselementTransparentOutlineColor",0)&&(this.api.PARAMS.hl_transparentOutlineColor=e.elementTransparentOutlineColor),y.Util.assert(y.Util.isNumber,e.elementWireframeColor,"engineParamselementHighlightOutlineColor",0)&&(this.api.PARAMS.eg_wireframeColor=e.elementWireframeColor),y.Util.assert(y.Util.isNumber,e.elementSolidColor,"engineParamselementWireframeColor",0)&&(this.api.PARAMS.eg_pureColor=e.elementSolidColor),y.Util.assert(function(e){return"overallRendering"==e||"batchRendering"==e},e.renderMode,"engineParamsrenderMode",0))switch(e.renderMode){case"overallRendering":this.api.PARAMS.rd_continue=!0;break;default:this.api.PARAMS.rd_continue=!1}y.Util.assert(y.Util.isNumber,e.backgroundColor,"engineParamsbackgroundColor",0)&&(this.api.PARAMS.eg_clearColor=e.backgroundColor),y.Util.assert(y.Util.isNumber,e.elementOutlineRenderEnable,"engineParamselementOutlineRenderEnable",0)&&(this.api.PARAMS.eg_enableOutline=e.elementOutlineRenderEnable),y.Util.assert(y.Util.isNumber,e.floorShadowEnable,"engineParamsfloorShadowEnable",0)&&(this.api.PARAMS.sr_enable=e.floorShadowEnable),y.Util.assert(function(e){return"normal"==e||"wireframe"==e||"solidColor"==e||"gray"==e},e.elementMaterialRenderState,"engineParamselementMaterialRenderState",0)&&(this.api.PARAMS.material_state=e.elementMaterialRenderState),y.Util.assert(function(e){return!y.Util.isNil(e)},e.unit,"engineParamsunit",0)&&(this.api.PARAMS.model_unit=e.unit)}},e.prototype.createArc=function(e){var t=this.engineApi.malloc(48);this.arcToEngineArc(this.getArc(e.arc),t);var n=this.engineApi.createArc(t,e.color);return this.engineApi.free(t),n},e.prototype.bloomRenderElement=function(e,t,n){t=this.getBinaryElementGuid(t);var r=this.engineApi.malloc(18);this.compIdToUint8T(r,t),!0===e?this.engineApi.changeRenderElementBloomColor(r,n):this.engineApi.restoreRenderElementBloomColor(r),this.engineApi.free(r)},e.prototype.bloomElement=function(e,t,n){t=this.getBinaryElementGuid(t);var r=this.engineApi.malloc(18);this.compIdToUint8T(r,t),!0===e?this.engineApi.changeRenderElementBloomColor(r,n):this.engineApi.restoreRenderElementBloomColor(r),this.engineApi.free(r)},e.prototype.setBloomParams=function(e){y.Util.assert(function(e){return y.Util.isNil(e)},e,"",0)&&(y.Util.assert(y.Util.isNumber,e.bloomRadius,"",0)&&(this.api.PARAMS.tools_bloomRadius=e.bloomRadius),y.Util.assert(y.Util.isNumber,e.bloomStrength,"",0)&&(this.api.PARAMS.tools_bloolStrength=e.bloomStrength),y.Util.assert(y.Util.isNumber,e.bloomThreshold,"",0)&&(this.api.PARAMS.tools_bloomThreshold=e.bloomThreshold))},e.prototype.getBloomParams=function(){return{bloomRadius:this.api.PARAMS.tools_bloomRadius,bloomStrength:this.api.PARAMS.tools_bloolStrength,bloomThreshold:this.api.PARAMS.tools_bloomThreshold}},e.prototype.createHelixRebar=function(e){var t=this.engineApi.malloc(60);this.placementToEnginePlacement(e.location,t),this.wasmModule.HEAPF32[t/4+9]=e.sectionDiameter,this.wasmModule.HEAPF32[t/4+10]=e.baseArcRadius,this.wasmModule.HEAPF32[t/4+11]=e.height,this.wasmModule.HEAPF32[t/4+12]=e.pitch,this.wasmModule.HEAPU32[t/4+13]=e.topTurns,this.wasmModule.HEAPU32[t/4+14]=e.bottomTurns;var n=this.engineApi.createHelixRebar(t,e.color);return this.engineApi.free(t),n},e.prototype.removeRenderElement=function(e){this.engineApi.removeRenderElementByHandle(e),this.update()},e.prototype.loadShxCache=function(e,t){var n=this.engineApi.stringToUTF8(e),r=this.engineApi.stringToUTF8(t);this.engineApi.loadShxCache(n,r),this.engineApi.free(n),this.engineApi.free(r)},e.prototype.createPolygon=function(e){if(!e||!e.points||e.points.length<3)throw Error("createPolygon");var t=this.engineApi.malloc(8),n=this.engineApi.malloc(12*e.points.length);this.wasmModule.HEAPU32[t/4]=n;for(var r=0,i=e.points.length;r<i;++r){var o=e.points[r];this.wasmModule.HEAPF32[n/4+3*r]=o.x,this.wasmModule.HEAPF32[n/4+3*r+1]=o.y,this.wasmModule.HEAPF32[n/4+3*r+2]=o.z}this.wasmModule.HEAPU32[t/4+1]=e.points.length,this.engineApi.createPolygon(t,e.color),this.engineApi.free(t),this.engineApi.free(n)},e.prototype.createPolygon2d=function(e){if(!e||!e.points||e.points.length<3)throw Error("createPolygon2d");var t=this.engineApi.malloc(8),n=this.engineApi.malloc(8*e.points.length);this.wasmModule.HEAPU32[t/4]=n;for(var r=0,i=e.points.length;r<i;++r){var o=e.points[r];this.wasmModule.HEAPF32[n/4+2*r]=o.x,this.wasmModule.HEAPF32[n/4+2*r+1]=o.y}this.wasmModule.HEAPU32[t/4+1]=e.points.length,this.engineApi.createPolygon2d(t,e.color),this.engineApi.free(n),this.engineApi.free(t)},e.prototype.textMoulding=function(e){var t=this;if(!e||!e.text||""==e.text)throw Error(", text");null==e.alignment&&(e.alignment=0),null==e.height&&(e.height=1);var n=[],r=this.engineApi.malloc(52);n.push(r),this.wasmModule.HEAPU32[r/4]=e.text.length;var o=this.engineApi.malloc(4*e.text.length);n.push(o),this.wasmModule.HEAPU32[r/4+1]=o;for(var a=0;a<e.text.length;++a){var s=e.text.charCodeAt(a),c=i.unicodeToGB18030(s);this.wasmModule.HEAPU32[o/4+a]=null==c?s:c}this.placementToEnginePlacement(e.loc,r+8),this.wasmModule.HEAPU32[r/4+11]=e.alignment,this.wasmModule.HEAPF32[r/4+12]=e.height,this.engineApi.createText(r,e.color),this.engineApi.free(r),n.forEach(function(e){return t.engineApi.free(e)})},e.prototype.createText=function(e){this.hasLoadShxCache?this.textMoulding(e):this.textCache.push(e)},e.prototype.createRebar=function(e){var t=this;if(!e.paths||0==e.paths.length)throw Error("paths");var n=this.engineApi.malloc(32),r=this.engineApi.malloc(8*e.paths.length),i=[];this.wasmModule.HEAPF32[n/4]=e.diameter,this.wasmModule.HEAPF32[n/4+1]=e.normal.x,this.wasmModule.HEAPF32[n/4+2]=e.normal.y,this.wasmModule.HEAPF32[n/4+3]=e.normal.z,this.wasmModule.HEAPU32[n/4+4]=e.quantity,this.wasmModule.HEAPF32[n/4+5]=e.spacing,this.wasmModule.HEAPU32[n/4+6]=e.paths.length,this.wasmModule.HEAPU32[n/4+7]=r;for(var o=0;o<e.paths.length;++o){var a=e.paths[o],s=2*o,c=a.shape;if(0==c){var l=this.engineApi.malloc(48);this.wasmModule.HEAPU32[r/4+s]=0,this.wasmModule.HEAPU32[r/4+s+1]=l,this.arcToEngineArc(this.getArc(a.segment),l),i.push(l)}else if(1==c){var u=this.engineApi.malloc(24);this.wasmModule.HEAPU32[r/4+s]=1,this.wasmModule.HEAPU32[r/4+s+1]=u,this.lineToEngineLine(a.segment,u),i.push(u)}}var p=this.engineApi.createRebar(n,e.color);return this.engineApi.free(n),this.engineApi.free(r),i.forEach(function(e){return t.engineApi.free(e)}),p},e.prototype.getArc=function(e){var t=i.threePointArcToArc(e);return t||e},e.prototype.createDiscreteRebar=function(e){var t=this;if(!e)throw Error("createDiscreteRebar");var n=[],r=this.engineApi.malloc(40);n.push(r),this.wasmModule.HEAPF32[r/4]=e.diameter,this.wasmModule.HEAPU32[r/4+1]=e.locationPath.shape;var i=e.locationPath.shape;if(0==i){var o=this.engineApi.malloc(48);this.wasmModule.HEAPU32[r/4+2]=o,this.arcToEngineArc(this.getArc(e.locationPath.segment),o),n.push(o)}else if(1==i){var a=this.engineApi.malloc(24);this.wasmModule.HEAPU32[r/4+2]=a,this.lineToEngineLine(e.locationPath.segment,a),n.push(a)}this.wasmModule.HEAPF32[r/4+3]=e.normal.x,this.wasmModule.HEAPF32[r/4+4]=e.normal.y,this.wasmModule.HEAPF32[r/4+5]=e.normal.z;var s=e.discreteParts.length;this.wasmModule.HEAPU32[r/4+6]=s;var c=this.engineApi.malloc(12*s);this.wasmModule.HEAPU32[r/4+7]=c,n.push(c);for(var l=0;l<s;++l){var u=e.discreteParts[l],p=3*l;this.wasmModule.HEAPF32[c/4+p]=null==u.offset?0:u.offset,this.wasmModule.HEAPF32[c/4+p+1]=u.spacing,this.wasmModule.HEAPU32[c/4+p+2]=u.quantity}var d=e.paths.length;this.wasmModule.HEAPU32[r/4+8]=d;var h=this.engineApi.malloc(8*d);this.wasmModule.HEAPU32[r/4+9]=h,n.push(h);for(l=0;l<d;++l){var f=e.paths[l],m=(p=2*l,f.shape);if(0==m){o=this.engineApi.malloc(48);this.wasmModule.HEAPU32[h/4+p]=0,this.wasmModule.HEAPU32[h/4+p+1]=o;var g=this.getArc(f.segment);this.arcToEngineArc(g,o),n.push(o)}else if(1==m){a=this.engineApi.malloc(24);this.wasmModule.HEAPU32[h/4+p]=1,this.wasmModule.HEAPU32[h/4+p+1]=a;var y=f.segment;this.lineToEngineLine(y,a),n.push(a)}}var v=this.engineApi.createDiscreteRebar(r,e.color);return n.forEach(function(e){return t.engineApi.free(e)}),v},e.prototype.createDiscreteHelixRebar=function(e){var t=this;if(!e)throw Error("createDiscreteHelixRebar");var n=[],r=this.engineApi.malloc(52);n.push(r),this.placementToEnginePlacement(e.location,r),this.wasmModule.HEAPF32[r/4+9]=e.sectionDiameter,this.wasmModule.HEAPF32[r/4+10]=e.baseArcRadius;var i=e.discreteParts.length;this.wasmModule.HEAPU32[r/4+11]=i;var o=this.engineApi.malloc(12*i);this.wasmModule.HEAPU32[r/4+12]=o,n.push(o);for(var a=0;a<i;++a){var s=e.discreteParts[a],c=3*a;this.wasmModule.HEAPF32[o/4+c]=null==s.offset?0:s.offset,this.wasmModule.HEAPF32[o/4+c+1]=s.height,this.wasmModule.HEAPF32[o/4+c+2]=s.pitch}var l=this.engineApi.createDiscreteHelixRebar(r,e.color);return n.forEach(function(e){return t.engineApi.free(e)}),l},e.prototype.changeComponentColor=function(e,t){e=this.getBinaryElementGuid(e);var n=this.engineApi.malloc(18);this.compIdToUint8T(n,e),this.engineApi.changeMeshColor(n,t),this.engineApi.free(n)},e.prototype.changeComponentEmissiveColor=function(e,t){e=this.getBinaryElementGuid(e);var n=this.engineApi.malloc(18);this.compIdToUint8T(n,e),this.engineApi.changeRenderElementEmissiveColor(n,t),this.engineApi.free(n)},e.prototype.backComponentEmissiveColor=function(e){e=this.getBinaryElementGuid(e);var t=this.engineApi.malloc(18);this.compIdToUint8T(t,e),this.engineApi.backRenderElementEmissiveColor(t),this.engineApi.free(t)},e.prototype.setBackgroundImageData=function(e,t,n){this.engineApi.free(this.backgroundImageDataPtr),this.backgroundImageDataPtr=this.engineApi.malloc(t*n*4),this.wasmModule.HEAPU8.set(e,this.backgroundImageDataPtr),this.engineApi.setBackgroundTextureData(this.backgroundImageDataPtr,t,n)},e.prototype.backComponentColor=function(e){e=this.getBinaryElementGuid(e);var t=this.engineApi.malloc(18);this.compIdToUint8T(t,e),this.engineApi.backMeshColor(t),this.engineApi.free(t)},e.prototype.backAllComponentColor=function(){var e=this;this.api3d.compSetForEach(function(t,n){n=e.getBinaryElementGuid(n),e.api3d.backComponentColor(n)})},e.prototype.hiddenRenderElementByHandle=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){t.engineApi.hiddenRenderElementByHandle(e)}):this.engineApi.hiddenRenderElementByHandle(e)},e.prototype.visiableRenderElementByHandle=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){t.engineApi.visiableRenderElementByHandle(e)}):this.engineApi.visiableRenderElementByHandle(e)},e.prototype.hiddenComponent=function(e){if(this.api3d.dispatchEvent({type:"directoryData_hidden",params:{uuid:e}}),Array.isArray(e)){for(var t=this.engineApi.malloc(4*e.length),n=[],r=0;r<e.length;r++){var i=this.getBinaryElementGuid(e[r]),o=this.api.engine.malloc(18);this.compIdToUint8T(o,i),n.push(o),this.wasmModule.HEAPU32[t/4+r]=o}this.engineApi.hiddenComponents(t,e.length);for(r=0;r<e.length;r++)this.api.engine.free(n[r]);this.api.engine.free(t)}else{e=this.getBinaryElementGuid(e);i=this.api.engine.malloc(18);this.compIdToUint8T(i,e),this.api.engine.hiddenComponent(i),this.api.engine.free(i)}this.engineApi.updateView(0)},e.prototype.changeComponentScale=function(e,t){e=this.getBinaryElementGuid(e);var n=this.engineApi.malloc(18);this.compIdToUint8T(n,e),this.engineApi.changeMeshScale(n,t.x,t.y,t.z),this.engineApi.free(n)},e.prototype.changeComponentAngle=function(e,t,n){e=this.getBinaryElementGuid(e);var r=this.engineApi.malloc(18);this.compIdToUint8T(r,e),this.engineApi.changeMeshAngle(r,t.x,t.y,t.z,n.x,n.y,n.z),this.engineApi.free(r)},e.prototype.changeComponentPosition=function(e,t){e=this.getBinaryElementGuid(e);var n=this.engineApi.malloc(18);this.compIdToUint8T(n,e),this.engineApi.changeMeshPosition(n,t.x,t.y,t.z),this.engineApi.free(n)},e.prototype.backComponentPosition=function(e){e=this.getBinaryElementGuid(e);var t=this.engineApi.malloc(18);this.compIdToUint8T(t,e),this.engineApi.backMeshPosition(t),this.engineApi.free(t)},e.prototype.backComponentScale=function(e){e=this.getBinaryElementGuid(e);var t=this.engineApi.malloc(18);this.compIdToUint8T(t,e),this.engineApi.backMeshScale(t),this.engineApi.free(t)},e.prototype.setUrlParam=function(e){var t=this.engineApi.stringToUTF8(e);this.engineApi.setUrlParams(t),this.engineApi.free(t)},e.prototype.getComponentVolume=function(e){var t=this.getBinaryElementGuid(e),n=this.engineApi.malloc(18);this.compIdToUint8T(n,t);var r=this.engineApi.getMeshVolume(n);return this.engineApi.free(n),r<0&&(r=0,console.error("")),r},e.prototype.getElementVolume=function(e){var t=this.getBinaryElementGuid(e),n=this.engineApi.malloc(18);this.compIdToUint8T(n,t);var r=this.engineApi.getMeshVolume(n);return this.engineApi.free(n),r<0&&(r=0,console.error("")),r},e.prototype.peelElements=function(e){this.showComponents(e)},e.prototype.showComponents=function(e){var t=this;Array.isArray(e)?e.length>0&&(this.hiddenAll(),e.forEach(function(e){Number.isInteger(e)?t.engineApi.visiableRenderElementByHandle(e):(9!==e.length&&(e=i.atob3D(e)),t.wsmVisiableComponent(e))})):y.Util.isString(e)?void 0!==e&&(this.hiddenAll(),9!==e.length&&(e=i.atob3D(e)),this.wsmVisiableComponent(e)):Number.isInteger(e)&&(this.hiddenAll(),this.engineApi.visiableRenderElementByHandle(e)),this.update(),this.engineApi.updateView(0)},e.prototype.removeGUMRenderEventListener=function(e,t){console.warn("removeGUMRenderEventListener4.4.2removeEventListener"),this.api3d.removeEventListener(e,t)},e.prototype.compSetForEach=function(e){var t=[];this._swapEvent("js_meshforeach","wsm_meshforeach",function(n){e(t,n.params.id)})},e.prototype.setExplosionEnable=function(e,t,n){this.setExplosionParams(e,t,n)},e.prototype.setExplosionParams=function(e,t,n){this.api3d.getCurrentLook();this.api.PARAMS.exp_state=e;var r=this.api3d.getCurrentLook();null==n&&(n=this.api3d.getBenchBox().getCenter(new i.Vector33D));var o=new i.Vector33D;null!=t?(e?(this.exp_preValue=this.exp_currentValue,this.exp_currentValue=o,o="number"==typeof t?new i.Vector33D(t,t,t):t):(this.exp_preValue=this.exp_currentValue,this.exp_currentValue=new i.Vector33D(0,0,0),o.set(1,1,1)),this.engineApi.setExplosionState(e,n.x,n.y,n.z,o.x,o.y,o.z)):(e?(this.exp_preValue=this.exp_currentValue,this.exp_currentValue=new i.Vector33D(1,1,1),o.set(2,2,2)):(this.exp_preValue=this.exp_currentValue,this.exp_currentValue=new i.Vector33D(0,0,0),o.set(1,1,1)),this.engineApi.setExplosionState(e,n.x,n.y,n.z,1,1,1)),this.api3d.setCurrentLook(r,!1)},e.prototype.removeModel3D=function(e){this.engineApi.removeModel(e),this.api.UI.getSystemType()!==o.SystemType.ST_3D_WSM&&this.api.UI.getSystemType()!==o.SystemType.ST_2D_WSM||(this.api3d.home3D(),this.api3d.backBenchCameraView(),this.api3d.dispatchEvent({type:"benchmodel_removemodel",params:{benchModelId:i.reverseModelId(e)}}))},e.prototype.wsmTextForeach=function(e){this._swapEvent("js_textforeach","wsm_textforeach",function(t){e(t.params.id,t.params.text,t.params.box)})},e.prototype._swapEvent=function(e,t,n){this.api3d.addEventListener(e,n);var r=this.engineApi.stringToUTF8(t);this.api.engine.dispatchEvent(r,0),this.engineApi.free(r),this.api3d.removeEventListener(e,n)},e.prototype.hiddenAll=function(){this.api3d.dispatchEvent({type:"directoryData_hiddenAll",params:{}}),this.engineApi.hiddenAll()},e.prototype.setRenderState=function(e,t){this.setElementRenderState(e,t)},e.prototype.setElementRenderState=function(e,t){var n=this,r=e;if(y.Util.isArray(r))r.forEach(function(r){e=n.getBinaryElementGuid(r);var i=n.engineApi.malloc(18);n.compIdToUint8T(i,e),n.engineApi.setRenderState(i,t),n.engineApi.free(i)});else{e=this.getBinaryElementGuid(r);var i=this.engineApi.malloc(18);this.compIdToUint8T(i,e),this.engineApi.setRenderState(i,t),this.engineApi.free(i)}},e.prototype.getRenderState=function(e){return this.getElementRenderState(e)},e.prototype.getElementRenderState=function(e){e=this.getBinaryElementGuid(e);var t=this.engineApi.malloc(18);this.compIdToUint8T(t,e);var n=this.engineApi.getRenderState(t);return this.engineApi.free(t),n},e.prototype.wsmDispatchEvent=function(e,t){var n={};switch(e){case"model_add_MakerFile":n.newId=this.wasmModule.HEAPU32[t/4];break;case"model_add":n.newId=this.wasmModule.HEAPU16[t/2],n.modelHandle=this.wasmModule.HEAPU16[t/2];break;case"model_remove":n.benchModelId=this.wasmModule.HEAPU16[t/2],n.modelHandle=this.wasmModule.HEAPU16[t/2];break;case"model_beginload":n.newId=this.wasmModule.HEAPU16[t/2],n.modelHandle=this.wasmModule.HEAPU16[t/2];break;case"fileloader_envloadend":n.benchModelId=this.wasmModule.HEAPU16[t/2],n.modelHandle=this.wasmModule.HEAPU16[t/2];break;case"fileloader_triangleCount":n.triangleCount=this.wasmModule.HEAPU32[t/4];break;case"animation_start":case"animation_end":n.chunkId=this.wasmModule.HEAPU32[t/4],n.desId=this.wasmModule.HEAPU32[t/4+1];break;case"fileloader_geomallloadend":n.newModelId=this.wasmModule.HEAPU16[t/2],n.modelHandle=this.wasmModule.HEAPU16[t/2];break;case"fileloader_geomloadend":case"fileloader_geomloaderror":n.newModelId=this.wasmModule.HEAPU32[t/4],n.modelHandle=this.wasmModule.HEAPU32[t/4],n.current=this.wasmModule.HEAPU32[t/4+1],n.totial=this.wasmModule.HEAPU32[t/4+2];break;case"js_meshforeach":n.id=this.fromUint8ToUUID(t);break;case"js_textforeach":n.id=this.fromUint8ToUUID(this.wasmModule.HEAPU32[t/4]),n.text=this.engineApi.UTF8ToString(this.wasmModule.HEAPU32[t/4+1]),n.box=i.Box33D.get().makeEmpty().setFromBuffer(this.wasmModule.HEAPF32,this.wasmModule.HEAPU32[t/4+2]/4);break;case"mainview_renderfinish":return void(this.hasDispatchRenderFinishEvent||(this.hasDispatchRenderFinishEvent=!0,n.linesCount=this.wasmModule.HEAPU32[t/4],n.renderMeshCount=this.wasmModule.HEAPU32[t/4+1],n.triangleCount=this.wasmModule.HEAPU32[t/4+2],n.frameCount=this.wasmModule.HEAPU32[t/4+3],this.api3d.dispatchEvent({type:O[e],params:n})))}this.api3d.dispatchEvent({type:O[e]?O[e]:e,params:n}),n.box&&i.Box33D.back(n.box)},e.prototype.setBenchKey=function(e,t,n){var r="";e&&(r+="&a="+e),t&&(r+="&t="+t),n&&(r+="&at="+n),this.setUrlParam(r)},e.prototype.setModelRenderState=function(e,t){this.engineApi.setModelRenderState(e,t)},e.prototype.setModelTranslate=function(e,t){this.engineApi.setModelTranslate(e,t.x,t.y,t.z)},e.prototype.setModelTransform=function(e,t){this.engineApi.setModelTransform(e,t.x,t.y,t.z)},e.prototype.getTransformMatrix=function(e,t){var n=this.engineApi.getTransformMatrix(e.x,e.y,e.z,t.x,t.y,t.z);return(new i.Matrix43D).fromArray(this.wasmModule.HEAPF32,n/4)},e.prototype.setModelScale=function(e,t){this.engineApi.setModelScale(e,t.x,t.y,t.z)},e.prototype.setHeaderValues=function(e){var t=this.engineApi.stringToUTF8(e);this.engineApi.setHeaders(t),this.engineApi.free(t)},e.prototype.setModelMatrix=function(e,t){var n=this.SetWasmMatrix4ByJSMatrix4(t);this.engineApi.setModelMatrix(e,n),this.engineApi.free(n)},e.prototype.SetWasmMatrix4ByJSMatrix4=function(e){var t,n=this.engineApi.malloc(64);t=e&&e.elements&&16===e.elements.length?e:new i.Matrix43D;for(var r=0;r<16;++r)this.wasmModule.HEAPF32[n+r]=t.elements[r];return n},e.prototype.SetTextEntity=function(e,t,n){var r=this.entity.material;switch(t){case"simplex":t="Arial";break;case"":t="SimHei";break;case"complex":case"Font Creator Program":default:t="Arial"}return this.entity.geometry.textContext=e,this.entity.material.fontName=t,r.color.r=this.wasmModule.HEAPF32[n/4],r.color.g=this.wasmModule.HEAPF32[n/4+1],r.color.b=this.wasmModule.HEAPF32[n/4+2],this.entity.matrixWorld.fromArray(this.wasmModule.HEAPF32,n/4+3),r.fontHeight=this.wasmModule.HEAPF32[n/4+19],r.height=this.wasmModule.HEAPF32[n/4+20],r.textSize=this.wasmModule.HEAPF32[n/4+21],r.horizontalAlignment=this.wasmModule.HEAPU32[n/4+23],r.verticalAlignment=this.wasmModule.HEAPU32[n/4+24],r.isBold=Boolean(this.wasmModule.HEAPU32[n/4+25]),r.isItalic=Boolean(this.wasmModule.HEAPU32[n/4+26]),r.isTransparent=Boolean(this.wasmModule.HEAPU32[n/4+27]),r.isUnderlined=Boolean(this.wasmModule.HEAPU32[n/4+28]),this.entity},e.prototype.wsmRenderText=function(e,t,n){this.textRender.render(this.SetTextEntity(e,t,n))},e.prototype.getBoxByRenderState=function(e,t){return this.getBoundingBoxByRenderState(e,t)},e.prototype.getBoundingBoxByRenderState=function(e,t){void 0===e&&(e=i.RenderState.VISIBLE),void 0===t&&(t=new i.Box33D);var n=i.Box33D.get(),r=this.engineApi.malloc(24);return this.engineApi.getBoxByRenderState(e,r),n.setFromBuffer(this.wasmModule.HEAPF32,r/4),t.union(n),this.engineApi.free(r),i.Box33D.back(n),t},e.prototype.getElementIdByHandle=function(e){var t=this.engineApi.malloc(18);t=this.engineApi.getElementGuidByteDataByHandle(e);var n=this.fromUint8ToUUID(t);return this.engineApi.free(t),n},e.prototype.enableMarkerRefresh=function(){this.isDispose||(this.markerRender.clearMarkerCanvas2D(),this.markerRender.render())},e.prototype.clear=function(){this.textRender.clear()},e.prototype.updateView=function(){this.clear(),this.engineApi.update(),this.enableMarkerRefresh(),this.minorRender.clear(),this.textRender.clear(),this.tools.forEach(function(e){e.update&&e.update()}),this.cores.forEach(function(e){e.update&&e.update()}),this.api3d.dispatchEvent({type:"update"}),this.hasDispatchRenderFinishEvent=!1},e.prototype.getContextType=function(){return this.contextType},e.prototype.update=function(e,t){var n=this,r=function(){n.firstFrame=!0,n.currentTime=performance.now(),n._updateHandle=null,n.clear(),n.engineApi.update(),n.enableMarkerRefresh(),n.minorRender.clear(),n.textRender.clear(),n.tools.forEach(function(e){e.update&&e.update()}),n.cores.forEach(function(e){e.update&&e.update()}),n.api3d.dispatchEvent({type:"update"}),n.hasDispatchRenderFinishEvent=!1};!0===this.rd_continue?(null!=this._updateHandle&&!0===this.rd_continue&&clearTimeout(this._updateHandle),this._updateHandle=setTimeout(r,0)):r()},e.prototype.render=function(e){this.cores.forEach(function(e){e.render&&e.render()}),this.tools.forEach(function(e){e.render&&e.render()}),this.markerRender.animate(),this.engineApi.draw(),this.frame++,this.api3d.dispatchEvent({type:"frame_end"}),this.firstFrame=!1},e.prototype.getRenderElementNumber=function(e){return this.engineApi.getRenderElementNumber(e)},e.prototype.getRenderElementIDsByModelID=function(e){this.getRenderElementNumber(e)},e.prototype.getRenderElementTransform=function(e){e=this.getBinaryElementGuid(e);var t=this.engineApi.malloc(18);this.compIdToUint8T(t,e);var n=this.engineApi.getRenderElementTransform(t),r=(new i.Matrix43D).fromArray(this.wasmModule.HEAPF32,n/4);return this.engineApi.free(t),this.engineApi.free(n),r},e.prototype.getFrameNumber=function(){return this.frame},e.prototype.getBenchBox=function(e){return e||(e=new i.Box33D),e.copy(this.benchBox),e},e.prototype.getBenchBoundingBox=function(){return this.benchBox.clone()},e.prototype.resize=function(){y.BrowserInfo.isMobile||(this.frameBufferMultiple=window.devicePixelRatio);var e=this.api.UI.getSize(),t=e.width,n=e.height;t*=this.api.PARAMS.eg_frameBufferMultiple,n*=this.api.PARAMS.eg_frameBufferMultiple,this.engineApi.resize(t,n),this.gl.setSize(t,n,!0),this.cores.forEach(function(e){e.resize&&e.resize(t,n)}),this.tools.forEach(function(e){e.resize&&e.resize(t,n)}),this.wsmControlUpdate(),this.textRender.resize(t,n)},e.prototype.getCanRenderMesh=function(e,t){var n=this;e.geometry&&t.push(e),e.children.forEach(function(e){return n.getCanRenderMesh(e,t)})},e.prototype.addObject3D=function(e,t){3===t&&this.minorRender.addObject(e)},e.prototype.setViewport=function(e,t,n,r){this.gl.setViewport(e,t,n,r)},e.prototype.getBenchType=function(){return this.api.UI.getSystemType()==o.SystemType.ST_3D_WSM?y.BrowserInfo.isMobile?16:2:1},e.prototype.init=function(){var e=this,t=this.engineApi=this.api.engine;this.api3d=this.api["3D"],this.wasmModule=this.api3d.getWasmModule();var n=t.stringToUTF8("#eglcanvas_"+this.api.handle),r=this.api.UI.getSize(),i=this.api.UI.getSystemType();switch(t.createBench(n,r.width,r.height,this.getBenchType(),"webgl2"==this.contextType?2:1,!!this.enableAlpha,this.useWasmMemory,60),t.free(n),this.api3d.dispatchEvent({type:"resize",params:{width:r.width,height:r.height}}),this.markerRender.init(this.api3d.getContext()),this.textRender.init(),this.tools.forEach(function(e){e.init&&e.init()}),this.cores.forEach(function(e){e.init&&e.init()}),this.api3d.addEventListener("updateloadpercent",function(t){100==t.params.percent&&setTimeout(function(){e.wsmControlUpdate(),e.resize()},10)}),this.api3d.addEventListener("fileloader_envloadend",function(t){if(t&&t.params&&t.params.modelHandle){var n=t.params.modelHandle;if(e.modelLoadParams.has(n)){var r=e.modelLoadParams.get(n);e.api3d.restoreCameraView({isAnimation:!0,isRestoreCameraPostion:r.isRestoreCameraPostion,isRestoreCameraRollAngle:r.isRestoreCameraRollAngle,isRestoreCameraRoatateCenter:r.isRestoreCameraRoatateCenter,isRestoreCameraYawAngle:r.isRestoreCameraYawAngle,isRestoreCameraZomm:r.isRestoreCameraZomm})}else e.api3d.restoreCameraView({isAnimation:!0})}}),i===o.SystemType.ST_2D_WSM&&this.api3d.addEventListener("JSFunction_restoreCameraView",function(t){e.api3d.restoreCameraView({isAnimation:!1})}),this.api.PARAMS.eg_clearColor=(o.SystemType.ST_2D_WSM,255),this.api.PARAMS.sr_enable=i===o.SystemType.ST_3D_WSM,i){case o.SystemType.ST_2D:this.api.PARAMS.eg_clearColor=0;break;case o.SystemType.ST_2D_WSM:this.api.PARAMS.eg_clearColor=255;break;case o.SystemType.ST_3D_WSM:var a=this.getDefaultBg();this.setBackgroundImageData(a.data,a.width,a.height)}this.api3d.addEventListener("ShxCacheOnLoad",function(t){e.hasLoadShxCache=!0,e.textCache.forEach(function(t){return e.textMoulding(t)}),e.textCache.length=0}),this.resize(),this.api.PARAMS.view_FirstFrameMustRenderTriangleCount=this.triangleCountPerFrame,this.api3d.addEventListener("mainview_frameend",function(){if(e.firstFrame)performance.now(),e.currentTime,y.BrowserInfo.isMobile})},e.prototype.getDefaultBg=function(){var e=document.createElement("canvas");e.setAttribute("width",1920..toString()),e.setAttribute("height",1080..toString());for(var t=e.getContext("2d"),n=t.createLinearGradient(0,0,0,1080),r=0,i=[{stop:0,color:"#d8f0fa"},{stop:.4,color:"#e6f5fa"},{stop:1,color:"#ffffff"}];r<i.length;r++){var o=i[r];n.addColorStop(o.stop,o.color)}return t.fillStyle=n,t.fillRect(0,0,1920,1080),t.getImageData(0,0,1920,1080)},e.prototype.dispose=function(){this.minorRender&&this.minorRender.dispose(),this.api.engine.destoryBench(),this.textRender&&this.textRender.dispose(),this.isDispose=!0,this.wasmModule=null,this.wasmBuffer&&this.engineApi.free(this.wasmBuffer),this.gl.dispose(),this.gl.context.getExtension("WEBGL_lose_context").loseContext(),this.gl.domElement=null,this.gl.context=null,this.gl=null},e.prototype.loadParams=function(e,t,n,r,i,o){var a=this,s=new XMLHttpRequest;s.open("GET",e+"p/project.jdx",!0),s.onreadystatechange=function(){if(4===s.readyState)if(200==s.status){if(a.isDispose)return;var i=a.engineApi.stringToUTF8(e+"p/"),c=a.wsmCopyMatrix(r);a.engineApi.loadModel(i,y.Util.isNil(o)?5:o,0,t,n,c),a.engineApi.free(i),a.engineApi.free(c)}else{if(a.isDispose)return;i=a.engineApi.stringToUTF8(e),c=a.wsmCopyMatrix(r);a.engineApi.loadModel(i,y.Util.isNil(o)?5:o,0,t,n,c),a.engineApi.free(i),a.engineApi.free(c)}},s.send()},e.prototype.addModel=function(e,t,n,r,i,o){this.loadParams(e,t,n,r,i,o)},e.prototype.loadModel=function(e){this.modelLoadParams.has(e.modelHandle)&&console.error(""+e.modelHandle+""),e.modelTransform||(e.modelTransform=new i.Matrix43D),this.modelLoadParams.set(e.modelHandle,e),this.loadParams(e.modelUrl,0,e.modelHandle,e.modelTransform.elements,0)},e.prototype.unloadModel=function(e){this.engineApi.removeModel(e),this.modelLoadParams.delete(e),this.api.UI.getSystemType()!==o.SystemType.ST_3D_WSM&&this.api.UI.getSystemType()!==o.SystemType.ST_2D_WSM||(this.api3d.home3D(),this.api3d.dispatchEvent({type:"benchmodel_removemodel",params:{benchModelId:i.reverseModelId(e)}}))},e.prototype.wsmControlUpdate=function(){var e=this.api3d.getBenchCamera();this.api3d.updateBenchCamera();var t=this.wsmCopyMatrix(e.matrixWorld.elements),n=this.wsmCopyMatrix(e.projectionMatrix.elements);this.engineApi.controlUpdate(t,n,!!e.isOrthographicCamera,e.zoom,this.api3d.getBenchCameraZoom()),this.engineApi.free(t),this.engineApi.free(n),this.update()},e.prototype.addWsmBenchBoxUpdateCB=function(e){this.benchBoxCB.push(e)},e.prototype.getSelectedElementGuids=function(){var e=[],t=this.engineApi.getSelectedElementCount();if(0!=t){var n=this.engineApi.malloc(18*t);this.engineApi.getSelectedElementGuids(n);for(var r=0;r<t;++r)e.push(this.fromUint8ToUUID(n+18*r))}return e},e.prototype.wsmUpdateBenchBox=function(e){var t=this,n=i.Box33D.get();n.setFromBuffer(this.wasmModule.HEAPF32,e/4),this.benchBox.copy(n),this.api3d.updateCameraDefaultView(),this.benchBoxCB.forEach(function(e){return e(n)}),this.api3d.restoreCameraView({isAnimation:!1}),setTimeout(function(){t.resize()},100),i.Box33D.back(n)},e.prototype.wsmHighLightComponent=function(e,t){e=this.getBinaryElementGuid(e);var n=this.engineApi.malloc(18);this.engineApi.highLightComponent(this.compIdToUint8T(n,e),t),this.engineApi.free(n)},e.prototype.wsmTransparentMesh=function(e,t){e=this.getBinaryElementGuid(e);var n=this.engineApi.malloc(18);this.engineApi.transparentMesh(this.compIdToUint8T(n,e),t),this.engineApi.free(n)},e.prototype.wsmChangeTransparent=function(e,t){e=this.getBinaryElementGuid(e);var n=this.engineApi.malloc(18);this.engineApi.changeTransparent(this.compIdToUint8T(n,e),t),this.engineApi.free(n)},
//! 
e.prototype.restoreRenderElementTransparent=function(e){e=this.getBinaryElementGuid(e);var t=this.engineApi.malloc(18);this.engineApi.restoreRenderElementTransparent(this.compIdToUint8T(t,e)),this.engineApi.free(t)},
//! 
e.prototype.restoreElementTransparent=function(e){e=this.getBinaryElementGuid(e);var t=this.engineApi.malloc(18);this.engineApi.restoreRenderElementTransparent(this.compIdToUint8T(t,e)),this.engineApi.free(t)},
//! 
e.prototype.changeRenderElementOutlineColor=function(e,t){e=this.getBinaryElementGuid(e);var n=this.engineApi.malloc(18);this.engineApi.changeRenderElementOutlineColor(this.compIdToUint8T(n,e),t),this.engineApi.free(n)},
//! 
e.prototype.restoreRenderElementOutlineColor=function(e){e=this.getBinaryElementGuid(e);var t=this.engineApi.malloc(18);this.engineApi.restoreRenderElementOutlineColor(this.compIdToUint8T(t,e)),this.engineApi.free(t)},
//! 
e.prototype.openRenderElementGlow=function(e,t){e=this.getBinaryElementGuid(e);var n=this.engineApi.malloc(18);this.engineApi.openRenderElementGlow(this.compIdToUint8T(n,e),t),this.engineApi.free(n)},
//! 
e.prototype.closeRenderElementGlow=function(e){e=this.getBinaryElementGuid(e);var t=this.engineApi.malloc(18);this.engineApi.closeRenderElementGlow(this.compIdToUint8T(t,e)),this.engineApi.free(t)},e.prototype.regionCast=function(e,t,n,r,i){for(var o=this.engineApi.malloc(4),a=this.engineApi.regionCast(e,t,n,r,o),s=this.wasmModule.HEAPU32[o/4],c=0;c<s;++c)i.push(this.fromUint8ToUUID(a+18*c));this.engineApi.free(o),this.engineApi.free(a)},e.prototype.raycast=function(e,t,n){var r=i.Vector33D.get();e instanceof i.Raycaster3D?r.copy(e.ray.origin).project(this.api3d.getBenchCamera()):(r.x=e.x,r.y=e.y);for(var o=this.engineApi.malloc(4),a=this.engineApi.raycast(r.x,r.y,o),s=this.wasmModule.HEAPU32[o/4],c=0;c<s;++c){var l=a+52*c;t.push({objectHandle:this.wasmModule.HEAPU32[l/4],point:new i.Vector33D(this.wasmModule.HEAPF32[l/4+1],this.wasmModule.HEAPF32[l/4+2],this.wasmModule.HEAPF32[l/4+3]),normal:new i.Vector33D(this.wasmModule.HEAPF32[l/4+4],this.wasmModule.HEAPF32[l/4+5],this.wasmModule.HEAPF32[l/4+6]),distance:this.wasmModule.HEAPF32[l/4+7],compid:this.fromUint8ToUUID(l+32),face:{normal:new i.Vector33D(this.wasmModule.HEAPF32[l/4+4],this.wasmModule.HEAPF32[l/4+5],this.wasmModule.HEAPF32[l/4+6])}})}return i.Vector33D.back(r),this.engineApi.free(o),this.engineApi.free(a),t},e.prototype.wsmAnimationRenderElements=function(e){if(y.Util.isArray(e)){for(var t=this.engineApi.malloc(4*e.length),n=[],r=0;r<e.length;r++){var i=this.getBinaryElementGuid(e[r]),o=this.api.engine.malloc(18);this.compIdToUint8T(o,i),n.push(o),this.wasmModule.HEAPU32[t/4+r]=o}this.engineApi.animationElements(t,e.length),this.api.engine.free(t);for(r=0;r<e.length;r++)this.api.engine.free(n[r])}else{var a=this.getBinaryElementGuid(e),s=this.engineApi.malloc(18);this.compIdToUint8T(s,a),this.engineApi.animationElement(s),this.engineApi.free(s)}},e.prototype.wsmVisiableComponent=function(e){if(this.api3d.dispatchEvent({type:"directoryData_show",params:{uuid:e}}),y.Util.isArray(e)){for(var t=this.engineApi.malloc(4*e.length),n=[],r=0;r<e.length;r++){var i=this.getBinaryElementGuid(e[r]),o=this.api.engine.malloc(18);this.compIdToUint8T(o,i),n.push(o),this.wasmModule.HEAPU32[t/4+r]=o}this.engineApi.visiableComponents(t,e.length),this.engineApi.free(t);for(r=0;r<e.length;r++)this.engineApi.free(n[r])}else{var a=this.getBinaryElementGuid(e),s=this.engineApi.malloc(18);this.compIdToUint8T(s,a),this.engineApi.visiableComponent(s),this.engineApi.free(s)}},e.prototype.getComponentBoundingBox=function(e,t){return this.getElementBoundingBox(e,t)},e.prototype.getElementBoundingBox=function(e,t){e=this.getBinaryElementGuid(e),t||(t=new i.Box33D);var n=this.engineApi.malloc(24),r=i.Box33D.get(),o=this.engineApi.malloc(18);return this.compIdToUint8T(o,e),this.engineApi.getBoundingBox(o,n)&&(r.setFromBuffer(this.wasmModule.HEAPF32,n/4),t.union(r)),this.engineApi.free(n),this.engineApi.free(o),i.Box33D.back(r),t},e.prototype.getElementCount=function(){var e=0;return this.compSetForEach(function(){e++}),e},e.prototype.getModelBoundBox=function(e,t){var n=this.engineApi.malloc(24),r=i.Box33D.get();return this.engineApi.getModelBox(e,n),r.setFromBuffer(this.wasmModule.HEAPF32,n/4),t.union(r),this.engineApi.free(n),i.Box33D.back(r),t},e.prototype.getModelInitBoundingBox=function(e){var t=new i.Box33D,n=this.engineApi.malloc(64),r=i.Box33D.get();return this.engineApi.getModelInitBoundBox(e,n),r.setFromBuffer(this.wasmModule.HEAPF32,n/4),t.union(r),this.engineApi.free(n),i.Box33D.back(r),t},e.prototype.getModelCurrentBoundingBox=function(e){var t=new i.Box33D,n=this.engineApi.malloc(64),r=i.Box33D.get();return this.engineApi.getModelCurrentBoundBox(e,n),r.setFromBuffer(this.wasmModule.HEAPF32,n/4),t.union(r),this.engineApi.free(n),i.Box33D.back(r),t},e.prototype.home3D=function(){this.goCameraDefaultView()},e.prototype.goCameraDefaultView=function(e){this.api3d.stopAnimation(),this.api3d.backBenchCameraView(),!1!==e&&(this.api3d.backHighlight(),this.engineApi.showAll()),this.api3d.update()},e.prototype.SetAllRenderElementRenderState=function(e){var t=this;switch(e){case i.RenderState.VISIBLE:this.engineApi.showAll();break;case i.RenderState.HIDDEN:this.engineApi.hiddenAll();break;case i.RenderState.TRANSPARENCY:this.compSetForEach(function(e,n){t.setRenderState(n,i.RenderState.TRANSPARENCY)}),this.update();break;default:console.warn("not support this render state")}},e.prototype.showAll=function(){this.api3d.dispatchEvent({type:"directoryData_showAll",params:{}}),this.engineApi.showAll()},e.prototype.getScreenShotImage=function(e){var t=this;return new Promise(function(n){if(!1===e){t.api.PARAMS.spd_logoEnable=!1,t.api3d.update();var r=function(){n(t.enginePrintScreen()),t.api.PARAMS.spd_logoEnable=!0,t.api3d.update(),t.api3d.removeEventListener("renderfinish",r)};t.api3d.addEventListener("renderfinish",r)}else n(t.enginePrintScreen())})},e.prototype.enginePrintScreen=function(){var e=this.api3d.getContext().getMarker(),t=this.wasmModule.ctx,n=t.drawingBufferWidth,r=t.drawingBufferHeight,i=new w.ColorBuffer(n,r);t.readPixels(0,0,n,r,t.RGBA,t.UNSIGNED_BYTE,i.data),i.flipY();var o=document.createElement("canvas");o.width=n,o.height=r;var a=o.getContext("2d");a.fillStyle="#000000",a.globalAlpha=0,a.clearRect(0,0,n,r),a.fill();for(var s=e.getImageData(0,0,n,r),c=s.data,l=new Uint8ClampedArray(c),u=0;u<r;++u)for(var p=0;p<n;++p){var d=4*(u*n+p),h=4*(Math.floor(u/this.frameBufferMultiple)*n+Math.floor(p/this.frameBufferMultiple)),f=l[h+3]/255;c[d]=f*l[h]+(1-f)*i.data[d],c[d+1]=f*l[h+1]+(1-f)*i.data[d+1],c[d+2]=f*l[h+2]+(1-f)*i.data[d+2],c[d+3]=255}return a.putImageData(s,0,0),a.stroke(),o.toDataURL("image/jpeg")},e.prototype.animateReset=function(){this.engineApi.animationReset()},e.prototype.compIdToUint8T=function(e,t){for(var n=0;n<9;++n){var r=0|t.charCodeAt(n);this.wasmModule.HEAPU8[e+2*n]=(65280&r)>>8,this.wasmModule.HEAPU8[e+2*n+1]=255&r}return e},e.prototype.getBenchTransform=function(){var e=this.engineApi.getBenchTransform();return(new i.Matrix43D).fromArray(this.wasmModule.HEAPF32,e/4)},e.prototype.setBenchTransform=function(e){var t=this.engineApi.malloc(64);e.toArray(this.wasmModule.HEAPF32,t/4),this.engineApi.setBenchTransform(t),this.engineApi.free(t)},e.prototype.setAnimateData=function(e){var t=this;e.forEach(function(e){var n=e.value.length,r=t.engineApi.malloc(18),i=t.engineApi.malloc(4*n),o=t.engineApi.malloc(28),a=t.getBinaryElementGuid(e.guid);t.compIdToUint8T(r,a);for(var s=0;s<e.value.length;++s)t.wasmModule.HEAPF32[i/4+s]=e.value[s];t.wasmModule.HEAP32[o/4]=r,t.wasmModule.HEAP32[o/4+1]=e.aniType,t.wasmModule.HEAP32[o/4+2]=e.transType,t.wasmModule.HEAP32[o/4+3]=i,t.wasmModule.HEAPF32[o/4+4]=e.totalTime,t.wasmModule.HEAP32[o/4+5]=e.sort,t.wasmModule.HEAP32[o/4+6]=e.chunkid,t.engineApi.setAnimationData(o),t.engineApi.free(r),t.engineApi.free(i),t.engineApi.free(o)})},e.prototype.fromUint8ToUUID=function(e){for(var t="",n=0;n<18;n+=2){var r=this.wasmModule.HEAPU8[e+n],i=this.wasmModule.HEAPU8[e+n+1];t+=String.fromCharCode(256*r+i)}return t},e.prototype.wsmCopyMatrix=function(e){for(var t=this.engineApi.malloc(64),n=0;n<16;++n)this.wasmModule.HEAPF32[t/4+n]=e[n];return t},e.prototype.lineToEngineLine=function(e,t){return this.wasmModule.HEAPF32[t/4]=e.startPoint.x,this.wasmModule.HEAPF32[t/4+1]=e.startPoint.y,this.wasmModule.HEAPF32[t/4+2]=e.startPoint.z,this.wasmModule.HEAPF32[t/4+3]=e.endPoint.x,this.wasmModule.HEAPF32[t/4+4]=e.endPoint.y,this.wasmModule.HEAPF32[t/4+5]=e.endPoint.z,24},e.prototype.arcToEngineArc=function(e,t){return this.placementToEnginePlacement(e.location,t),this.wasmModule.HEAPF32[t/4+9]=e.radius,this.wasmModule.HEAPF32[t/4+10]=e.startAngle,this.wasmModule.HEAPF32[t/4+11]=e.endAngle,48},e.prototype.placementToEnginePlacement=function(e,t){return this.wasmModule.HEAPF32[t/4]=e.origin.x,this.wasmModule.HEAPF32[t/4+1]=e.origin.y,this.wasmModule.HEAPF32[t/4+2]=e.origin.z,this.wasmModule.HEAPF32[t/4+3]=e.nDirection.x,this.wasmModule.HEAPF32[t/4+4]=e.nDirection.y,this.wasmModule.HEAPF32[t/4+5]=e.nDirection.z,this.wasmModule.HEAPF32[t/4+6]=e.xDirection.x,this.wasmModule.HEAPF32[t/4+7]=e.xDirection.y,this.wasmModule.HEAPF32[t/4+8]=e.xDirection.z,36},r([a.ParamExport("exp_state",!1)],e.prototype,"exp_state",void 0),r([a.ParamExport("exp_currentValue",0)],e.prototype,"exp_currentValue",void 0),r([a.ParamExport("exp_preValue",0)],e.prototype,"exp_preValue",void 0),r([a.ParamExport("eg_gumRenderer",null)],e.prototype,"gl",void 0),r([a.ParamExport("eg_frameBufferMultiple",(y.BrowserInfo.isMobile,window.devicePixelRatio))],e.prototype,"frameBufferMultiple",void 0),r([a.ParamExport("eg_clearColor",2290649184)],e.prototype,"clearColor",void 0),r([a.ParamExport("eg_transparentColor",4294967168)],e.prototype,"transparentColor",void 0),r([a.ParamExport("sr_enable",!0)],e.prototype,"shdowEnable",void 0),r([a.ParamExport("preShadow_enable",!1)],e.prototype,"preShadowEnable",void 0),r([a.ParamExport("model_unit",o.GUMUNIT.UNIT_M)],e.prototype,"unit",void 0),r([a.ParamExport("material_state","normal")],e.prototype,"material_state",void 0),r([a.ParamExport("eg_enableOutline",!0)],e.prototype,"enableOutline",void 0),r([a.ParamExport("rd_extendUpdate",!1)],e.prototype,"rd_extendUpdate",void 0),r([a.ParamExport("rd_continue",!1)],e.prototype,"rd_continue",void 0),r([a.ParamExport("ani_enable",!1)],e.prototype,"ani_enable",void 0),r([a.ParamExport("ani_run",!1)],e.prototype,"ani_run",void 0),r([a.ParamExport("ani_runTime",0)],e.prototype,"ani_runTime",void 0),r([a.ParamExport("mk_markModelID",65533)],e.prototype,"markerModelID",void 0),r([a.ParamExport("eg_maxContinueRenderTriangle",y.BrowserInfo.isMobile?2e6:2e7)],e.prototype,"maxContinueRenderTriangle",void 0),r([a.ParamExport("eg_pureColor",1050408831)],e.prototype,"pureColor",void 0),r([a.ParamExport("eg_wireframeColor",1050408908)],e.prototype,"wireframeColor",void 0),r([a.ParamExport("view_FirstFrameMustRenderTriangleCount",2e6)],e.prototype,"mFFMRRMCount",void 0),r([a.ParamExport("tools_bloomStrength",1.5)],e.prototype,"bloomStrength",void 0),r([a.ParamExport("tools_bloomRadius",0)],e.prototype,"bloomRadius",void 0),r([a.ParamExport("tools_bloomThreshold",0)],e.prototype,"bloomThreshold",void 0),r([a.ParamExport("mr_state",i.ModelRenderState.NORMAL)],e.prototype,"state",void 0),r([a.ParamExport("rd_maxTextureSize",256)],e.prototype,"maxTextureSize",void 0),e=r([a.ApiExport(["home3D","update","raycast","showAll","addModel","hiddenAll","JS_XHRGet","createArc","createLine","createText","GPURaycast","updateView","regionCast","getBenchBox","createRebar","setBenchKey","setUrlParam","addObject3D","peelElements","animateReset","loadShxCache","bloomElement","removeModel3D","wsmRenderText","createPolygon","setModelScale","createMeshLine","setBloomParams","getBloomParams","getRenderState","compSetForEach","showComponents","getElementArea","setRenderState","wsmTextForeach","getFrameNumber","compIdToUint8T","setAnimateData","setEngineParams","getEngineParams","createPolygon2d","hiddenComponent","setHeaderValues","getElementCount","createHelixRebar","getModelBoundBox","wsmDispatchEvent","wsmControlUpdate","getComponentArea","getElementVolume","setSelectorParams","setModelTranslate","setModelTransform","getSelectorParams","getModelTransform","wsmUpdateBenchBox","enginePrintScreen","getBenchTransform","setBenchTransform","getAnimationParams","bloomRenderElement","setExploExplosionParams","wsmTransparentMesh","setExplosionEnable","getComponentVolume","backComponentScale","backComponentColor","getTransformMatrix","setModelRenderState","createDiscreteRebar","removeRenderElement","getModelBoundingBox","getBenchBoundingBox","goCameraDefaultView","getBoxByRenderState","enableMarkerRefresh","wsmVisiableComponent","wsmChangeTransparent","changeComponentColor","changeComponentAngle","changeComponentScale","backComponentOpacity","getElementRenderState","openRenderElementGlow","backAllComponentColor","getElementBoundingBox","backComponentPosition","wsmHighLightComponent","setElementRenderState","addWsmBenchBoxUpdateCB","changeComponentOpacity","setBackgroundImageData","closeRenderElementGlow","getRenderElementNumber","getComponentBoundingBox","changeComponentPosition","getModelInitBoundingBox","getSelectedElementGuids","createWireframeBoxByBox","createDiscreteHelixRebar","setElemntAnimationParams","addGUMRenderEventListener","restoreElementTransparent","getRenderElementTransform","getModelCurrentBoundingBox","getIntersectedElementByBox","hiddenRenderElementByHandle","getBoundingBoxByRenderState","createWireframeBoxByElement","changeComponentEmissiveColor","removeGUMRenderEventListener","getRenderElementIDsByModelID","visiableRenderElementByHandle","SetAllRenderElementRenderState","changeRenderElementOutlineColor","restoreRenderElementTransparent","restoreRenderElementOutlineColor","getScreenShotImage","getSpaceNames","setSpaceByName","backComponentEmissiveColor","getContextType","getElementIdByHandle","wsmAnimationRenderElements"],"3D")],e)}();t.WsmEngine=k},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(328),o=n(21),a=n(23),s=n(1),c=function(){function e(e){this.loopEnable=!1,this.cacheRotationSpeed=0;var t,n=this,r=!1,o=!1,c=!1,l=e["3D"];n.init=function(){t=l.getBenchCamera(),l.addCamera3DEventListener("checkbenchcamera",h)};var u=.05,p=12,d=4;function h(){t=l.getBenchCamera()}n.setLoopRotationAnimation=function(e,t){var r=0,i=l.getProjectRotationEuler();switch(t){case s.ICameraAnimationLoopDir.CLOCKWISE:r=-Math.PI/2;break;case s.ICameraAnimationLoopDir.COUNTERCLOCKWISE:r=Math.PI/2}var o=function(){i=l.getProjectRotationEuler(),n.loopEnable&&(l.makeProjectRotationSafe(),i.z+=r),l.setAnimation(i,void 0,void 0,void 0,o,function(){})};i.z+=r,l.setAnimation(i,void 0,void 0,void 0,o,function(){}),void 0!==e&&(n.cacheRotationSpeed=u,u=e)},n.runLoopRotationAnimation=function(e,t){n.loopEnable=!0,n.setLoopRotationAnimation(t,e)},n.stopLoopRotationAnimation=function(){n.loopEnable=!1},n.setAnimationRotationSpeed=function(e){u=e},n.setAnimationPanSpeed=function(e){p=e},n.setAnimationZoomSpeed=function(e){d=e},n.setAnimationSpeed=function(e,t,n){u=e,p=t,d=n},n.stopAnimation=function(){r=!1,c=!1,o=!1},n.setAnimation=function(){var e,s,h,f,m=new a.Euler3D,g=new a.Vector33D,y=0,v=!1,x=Math.PI,M=function(){},b=function(){},w={value:0},A={value:0},_={value:0};function E(e,t,n,r){
//! 
return t.value<n&&Math.abs(e-r)>2*n&&(t.value+=.1*n),Math.abs(e-r)<2*n&&(t.value=Math.max(.5*t.value,.15*n)),e>r?Math.min(r+t.value,e):Math.max(r-t.value,e)}n.animate=function(){if(v=!1,r||c){if(r&&(Math.abs(m.y-h.y)>1e-5||Math.abs(m.z-h.z)>1e-5?(h.y=E(m.y,A,u,h.y),h.z=E(m.z,A,u,h.z),v=!0):(r=!1,l.makeProjectRotationSafe())),c){var e=a.Vector23D.back(a.Vector23D.get()),n=a.Box33D.back(a.Box33D.get()),i=a.Vector33D.back(a.Vector33D.get());f?e.copy(f):y<t.zoom?e.set(0,0):(l.getBenchBox(n).getCenter(i),i.project(t),e.set(i.x,i.y)),Math.abs(y-t.zoom)>1e-5?(y>t.zoom?(l.dollyOut(Math.max(t.zoom/y,S(_)),e),t.zoom>=y&&(c=!1,t.zoom=y)):(l.dollyIn(Math.max(y/t.zoom,S(_)),e),t.zoom<=y&&(c=!1,t.zoom=y)),v=!0):c=!1}}else o&&(Math.abs(g.x-s.x)>1e-5||Math.abs(g.y-s.y)>1e-5?(s.x=E(g.x,w,p,s.x),s.y=E(g.y,w,p,s.y),v=!0):o=!1);v?(l.controlUpdate(),M()):(b(),M=function(){},b=function(){})};var D=function(){function e(){m.copy(h),g.copy(s),y=t.zoom,w.value=.2*p,A.value=.2*u,_.value=d}s=l.getProjectPositionRef(),h=l.getProjectRotationRef(),u=.25,d=4,p=l.getBenchBox().getBoundingSphere(a.Sphere3D.back(a.Sphere3D.get())).radius/5,e(),D=e};function S(e){return e.value=Math.max(Math.pow(.95,e.value),.15*d),e.value}return function(n,a,s,l,u,p){D(),f=l,function(n,i,a){m.copy(n),m.equals(h)||((e=m.z-h.z)>x?m.z-=2*x:e<-x&&(m.z+=2*x),r=!0),void 0!==i&&g.copy(i),o=!0,void 0!==a&&(y=a),y!==t.zoom&&(c=!0)}(n,a,s),M=void 0===u?i.noop:u,b=void 0===p?i.noop:u}}(),n.setCameraAnimationParams=function(e){l.setAnimation(e.eulerEnd,e.targetEnd,e.zoomEnd,e.zoomMouse,e.frameHandle,e.endHandle)},n.dispose=function(){l.removeCamera3DEventListener("checkbenchcamera",h)},n.render=n.animate}return e=r([i.Sealed(),o.ApiExport(["setAnimation","runLoopRotationAnimation","stopLoopRotationAnimation","setAnimationSpeed","setAnimationPanSpeed","setAnimationZoomSpeed","setAnimationRotationSpeed","stopAnimation"],"3D")],e)}();t.Animate3d=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(1),c=n(328),l=n(21),u=n(411),p=n(17),d=function(e){function t(t){var r,i,o=e.call(this)||this;o.api=t,o.__homeHeight=1e4,o.getProjectSize=function(e){return r||(r=new a.Box23D,i=new a.Vector23D),e.project(this.__benchOrthCamera,r),r.getSize(i),i},o.initBenchCamera=function(e,t){if(o.setBenchCameraFar(e),o.api.PARAMS.exp_state||0!=o.api.PARAMS.exp_preValue&&0==o.api.PARAMS.exp_currentValue){o.api3d.controlUpdate();var n=o.api.PARAMS.exp_preValue,r=o.api.PARAMS.exp_currentValue,i=o.api3d.getProjectRotationCenterRef().clone().negate(),s=o.api3d.getBoxByRenderState().getCenter(new a.Vector33D),c=(new a.Vector33D).subVectors(i,s).multiply(new a.Vector33D((1+r.x)/(1+n.x),(1+r.y)/(1+n.y),(1+r.z)/(1+n.z)));return s.sub(c),o.api3d.setProjectRotateCenter(s),o.api.PARAMS.exp_state||(o.api.PARAMS.exp_preValue=0),void o.api3d.controlUpdate()}o.setBenchCameraPostion(e),o.setBenchCameraZoom(e,t),o.initProjectSpatial(e,t),o.dispatchEvent({type:"targetChange"})};var s=o,c=n.defaultUp;return s.api3d=t["3D"],s.__benchOrthCamera=new a.OrthographicCamera3D(1,-1,-1,1,0,5e3),s.__benchOrthCamera.up.copy(c),s.__benchOrthCamera.lookAt(0,0,0),s.__benchPersCamera=new a.PerspectiveCamera3D(50,1,.1,1e3),s.__benchPersCamera.up.copy(c),s.__benchPersCamera.lookAt(0,0,0),s.__benchCamera=s.__benchOrthCamera,s.__cameraHomePostion=new a.Vector33D,s.__cameraHomeTarget=new a.Vector33D,s.__homeProCenter=new a.Vector33D,s.__homeProRotation=new a.Euler3D,s.addCamera3DEventListener=s.addEventListener,s.removeCamera3DEventListener=s.removeEventListener,s.dispatchCamera3DEvent=s.dispatchEvent,o.__controls=new u.BaseControl(o.api),o}var n;return i(t,e),n=t,t.prototype.getBenchCamera=function(){return this.__benchCamera},t.prototype.updateBenchCamera=function(){this.__benchOrthCamera.updateMatrixWorld(),this.__benchOrthCamera.updateProjectionMatrix(),this.__benchPersCamera.updateMatrixWorld(),this.__benchPersCamera.updateProjectionMatrix()},t.prototype.resize=function(e,t){var n=this.__benchOrthCamera,r=this.__benchPersCamera;n.left=e/-2,n.right=e/2,n.top=t/2,n.bottom=t/-2,r.aspect=e/t,this.updateBenchCamera()},t.prototype.setBenchCameraZoom=function(e,t){var n=this.computeBenchCameraZoom(e);(isNaN(n)||n<0)&&(n=1),t&&!1===t.changeZoom||(this.__homeZoom=n),(t&&t.resetZoom||!t)&&(this.__benchOrthCamera.zoom=n,this.updateBenchCamera())},t.prototype.computeBenchCameraZoom=function(e){var t=e.getSize(new a.Vector33D),n=Math.max(t.x,t.y,t.z),r=e.clone();r.setFromCenterAndSize(e.getCenter(new a.Vector33D),new a.Vector33D(n,n,n));var i=this.getProjectSize(r);return this.__initialSize/Math.max(Math.abs(i.x),Math.abs(i.y))*this.__benchCamera.zoom},t.prototype.setBenchCameraPostion=function(e){var t=a.Vector33D.get(),n=a.Vector33D.get(),r=e.getCenter(a.Vector33D.get());t.copy(n.set(0,0,1).multiplyScalar(e.max.distanceTo(e.min))).add(r),this.__benchOrthCamera.position.copy(t),this.__benchOrthCamera.lookAt(r),this.__benchPersCamera.position.copy(t),this.__benchPersCamera.lookAt(r),this.updateBenchCamera(),this.__cameraHomePostion.copy(t),this.__cameraHomeTarget.copy(r),this.update=this.updateBenchCamera,a.Vector33D.back(r),a.Vector33D.back(t),a.Vector33D.back(n)},t.prototype.setBenchCameraFar=function(e){var t=4*e.getSize(a.Vector33D.back(a.Vector33D.get())).length()+1e4;this.__benchOrthCamera.far=t,this.__benchOrthCamera.near=-t,this.__benchPersCamera.far=t,this.__benchPersCamera.near=.1,this.updateBenchCamera()},t.prototype.updateCameraDefaultView=function(){var e=this.api3d.getBenchBoundingBox();this.setBenchCameraFar(e),e.getCenter(this.__homeProCenter),this.api.UI.getSystemType()===s.SystemType.ST_3D_WSM?this.__homeProRotation.set(0,-Math.PI/4,3*Math.PI/4):this.__homeProRotation.set(0,0,Math.PI/2);var t=this.computeBenchCameraZoom(e);this.__homeHeight=e.max.distanceTo(e.min),(isNaN(t)||t<0)&&(t=1),this.__homeZoom=t},t.prototype.initProjectSpatial=function(e,t){var n=e.getCenter(new a.Vector33D),r=this.api3d.getProjectRotationRef(),i=a.Euler3D.get().copy(r);r.set(0,0,0);var o=this.api3d.getProjectPositionRef();o.set(0,0,0);var c=this.api3d.getProjectRotationCenterRef(),l=a.Vector33D.get().copy(c);c.set(0,0,0),this.api3d.setProjectRotateCenter(this.__homeProCenter.copy(n)),o.z=e.min.z,this.api.UI.getSystemType()===s.SystemType.ST_3D_WSM?this.__homeProRotation.set(0,-Math.PI/4,3*Math.PI/4):this.__homeProRotation.set(0,0,Math.PI/2),t&&t.resetEuler||!t?(r.copy(this.__homeProRotation),i.copy(r)):r.copy(i),t&&t.resetBenchPosition,this.__controls.controlUpdate(),a.Euler3D.back(i),a.Vector33D.back(l)},t.prototype.dispose=function(){this.__benchOrthCamera=null,this.__controls.dispose(),this.__controls=null},t.prototype.getBenchCameraZoom=function(){return this.__homeZoom},t.prototype.setBenchCameraLookAt=function(e){var t=new a.Vector33D;return e instanceof a.Box33D?e.getCenter(t):e instanceof a.Vector33D?t.copy(e):this.api3d.getComponentBoundingBox(e).getCenter(t),this.__benchCamera.lookAt(t),this.__controls.controlUpdate(),t},t.prototype.backBenchCameraView=function(){this.restoreCameraView()},t.prototype.restoreCameraView=function(e){e=e||{};var t=this.api3d.getProjectRotationEuler();0!=e.isRestoreCameraYawAngle&&(t.y=this.__homeProRotation.y),0!=e.isRestoreCameraRollAngle&&(t.z=this.__homeProRotation.z),e&&!1!==e.isAnimation?(0!=e.isRestoreCameraRoatateCenter&&this.api3d.setProjectRotateCenter(this.__homeProCenter),this.api3d.setAnimation(t,0!=e.isRestoreCameraPostion?new a.Vector33D:void 0,0!=e.isRestoreCameraZomm?this.__homeZoom:void 0)):(this.api3d.setCameraRotationAngle(t.y,t.z),0!=e.isRestoreCameraZomm&&(this.__benchOrthCamera.zoom=this.__homeZoom),0!=e.isRestoreCameraRoatateCenter&&this.api3d.setCameraRotationCenter(this.__homeProCenter),0!=e.isRestoreCameraPostion&&this.api3d.setCameraPostion(new a.Vector33D(0,0,-this.__homeHeight)),this.updateBenchCamera(),this.__controls.controlUpdate())},t.prototype.init=function(){var e=this.api.UI.getSize();this.resize(e.width,e.height)},t.prototype.getHomePosition=function(e){return e.copy(this.__cameraHomePostion),e},t.prototype.setHomeLook=function(e){},t.prototype.checkBenchCamera=function(e){switch(e){case"pers":this.__benchCamera!==this.__benchPersCamera&&(this.__benchCamera=this.__benchPersCamera,this.dispatchEvent({type:"checkbenchcamera",camera:this.__benchCamera}),p.BrowserInfo.isMobile||this.api3d.setFps(60));break;case"orth":this.__benchCamera!==this.__benchOrthCamera&&(this.__benchCamera=this.__benchOrthCamera,this.dispatchEvent({type:"checkbenchcamera",camera:this.__benchCamera}),p.BrowserInfo.isMobile||this.api3d.setFps(33))}this.updateBenchCamera()},t.prototype.setBenchCameraPositionByScale=function(e){},t.prototype.setProjectScreenMouse=function(e,t,n){var r=this.api.UI.getSize();return n.x=e/r.width*2-1,n.y=-t/r.height*2+1,n},t.defaultUp=new a.Vector33D(0,0,1),o([l.ParamExport("cm_homeZoom",1)],t.prototype,"__homeZoom",void 0),o([l.ParamExport("cm_initialSize",Math.sqrt(3)/1.5)],t.prototype,"__initialSize",void 0),t=n=o([c.Sealed(),l.ApiExport(["getBenchCamera","updateBenchCamera","getBenchCameraZoom","setBenchCameraZoom","computeBenchCameraZoom","setBenchCameraLookAt","getProjectSize","backBenchCameraView","checkBenchCamera","addCamera3DEventListener","removeCamera3DEventListener","dispatchCamera3DEvent","setBenchCameraPositionByScale","setProjectScreenMouse","restoreCameraView","updateCameraDefaultView"],"3D")],t)}(a.EventDispatcher3D);t.Cameras3D=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(412),a=n(23),s=n(1),c=function(){function e(e){var t=this;this._api=e;var n=this,r=n.api=e["3D"],i=new a.Vector33D,c=!1,l={type:"control_change"};e.UI.getSystemType()===s.SystemType.ST_2D_WSM&&(n.rotateEnable=!1);var u=new o.ProjectSpatial(e),p=r.getProjectRotationRef(),d=r.getProjectRotationCenterRef(),h=r.getProjectPositionRef(),f=new a.Vector33D,m=new a.Euler3D,g=new a.Vector33D,y=r.getBenchCamera(),v=y.Zoom,x=new a.Raycaster3D;function M(e,t){y.isOrthographicCamera?t?(x.setFromCamera(t,y),i.copy(x.ray.origin.applyMatrix4(r.getProjectMatrix())),y.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,e)),y.updateProjectionMatrix(),x.setFromCamera(t,y),i.subVectors(x.ray.origin.applyMatrix4(r.getProjectMatrix()),i).z=0,h.add(i)):y.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,e)):r.setBenchCameraPositionByScale(e),c=!0}function b(){}n.resetViewport=function(){p.set(0,0,0),d.set(0,0,0),h.set(0,0,0)},n.rotateLeft=function(e){p.z+=e},n.controlUpdate=function(e){return!(!(c||g.distanceTo(h)>1e-6||f.distanceTo(d)>1e-6)&&m.equals(p))&&(r.projectUpdate(),r.dispatchEvent(l),!1!==e&&n.api.dispatchEvent({type:"control_update",params:{posDelta:[h.x-g.x,h.y-g.y,h.z-g.z],centerDelta:[d.x-f.x,d.y-f.y,d.z-f.z],rotationDelta:[p.x-m.x,p.y-m.y,p.z-m.z],zoomDelta:y.zoom/v}}),c=!1,g.copy(h),f.copy(d),m.copy(p),v=y.zoom,!0)},n.rotateUp=function(e){p.y+=e},n.pan=function(t,n){var o=r.getBenchCamera();o.isOrthographicCamera?h.add(i.set(n/o.zoom*e.PARAMS.eg_frameBufferMultiple,t/o.zoom*e.PARAMS.eg_frameBufferMultiple,0)):h.add(i.set(n,t,0))},n.getZoomScale=function(){return Math.pow(.95,n.zoomSpeed)},n.dollyIn=function(e,t){y.isOrthographicCamera?M(y.zoom*e,t):M(.1,t)},n.dollyOut=function(e,t){y.isOrthographicCamera?M(y.zoom/e,t):M(-.1,t)},n.getRotationCenter=function(){return d},n.setProjectRotateCenter=function(e){n.setCameraRotationCenter(e)},n.setCameraRotationCenter=function(e){var t=a.Vector33D.get();t.subVectors(d,e.negate()),t.applyEuler(p).z=0,d.copy(e),h.add(t),e.negate(),a.Vector33D.back(t)},n.setFocusPosition=function(e){var t=a.Vector23D.get();e.project(y),x.setFromCamera(t.set(0,0),y),i.copy(x.ray.origin.applyMatrix4(r.getProjectMatrix())),x.setFromCamera(t.set(e.x,e.y),y),i.subVectors(x.ray.origin.applyMatrix4(r.getProjectMatrix()),i).z=0,h.add(i.negate()),n.controlUpdate(),a.Vector23D.back(t)},n.setZoomWindow=function(e,t){var o=a.Box23D.get(),s=a.Vector23D.get();x.setFromCamera(s.set(0,0),y),i.copy(x.ray.origin.applyMatrix4(r.getProjectMatrix())),o.setFromPoints([e,t]),x.setFromCamera(o.getCenter(s),y),i.subVectors(x.ray.origin.applyMatrix4(r.getProjectMatrix()),i).z=0,h.add(i.negate()),s.subVectors(e,t);var l=Math.abs(Math.max(2/s.x,2/s.y));l!==1/0&&(y.zoom*=l,c=!0,n.controlUpdate()),a.Vector23D.back(s),a.Box23D.back(o)},n.getCurrentLook=function(){var t={pos:[h.x,h.y,h.z],center:[d.x,d.y,d.z],rotate:[p.x,p.y,p.z],zoom:y.zoom,sys:e.UI.getSystemType()};return btoa(JSON.stringify(t))},n.setCurrentLook=function(t,i,o){var s=JSON.parse(atob(t));if(s.sys==e.UI.getSystemType())if(i){d.fromArray(s.center);var l=a.Vector23D.get(),u=a.Vector33D.get(),f=a.Euler3D.get();r.setAnimation(m.fromArray(s.rotate),u.fromArray(s.pos),s.zoom,l.set(0,0)),a.Vector23D.back(l),a.Vector33D.back(u),a.Euler3D.back(f)}else h.fromArray(s.pos),d.fromArray(s.center),p.fromArray(s.rotate),y.zoom=s.zoom,c=!0,n.controlUpdate(o);else console.warn("api setCurrentLook lookinfo sys not equals")},n.setCurrentViewpoint=n.setCurrentLook,n.getCurrentViewpoint=n.getCurrentLook,n.dispose=function(){p=null,d=null,h=null,f=null,m=null,g=null,y=null,x=null,u.dispose(),u=null,r.removeCamera3DEventListener("checkbenchcamera",b)},n.dispatchControlEvent=function(e){console.warn("dispatchControlEventdispatchEventapi"),e.type="control_"+e.type,r.dispatchEvent(e)},n.addControlEventListener=function(e,t){console.warn("addControlEventListeneraddEventListenerapi"),e="control_"+e,r.addEventListener(e,t)},n.removeControlEventListener=function(e,t){console.warn("removeControlEventListenerremoveEventListenerapi"),e="control_"+e,r.removeEventListener(e,t)},n.setCameraPostion=function(e){h.copy(e),t.controlUpdate()},n.setCameraRotationAngle=function(e,n){p.y=e,p.z=n,r.makeProjectRotationSafe(),t.controlUpdate()},r.addCamera3DEventListener("checkbenchcamera",b)}return r([i.ParamExport("bc_panEnable",!0,!0)],e.prototype,"panEnable",void 0),r([i.ParamExport("bc_panSpeed",1)],e.prototype,"panSpeed",void 0),r([i.ParamExport("bc_enable",!0,!0)],e.prototype,"enable",void 0),r([i.ParamExport("bc_rotateEnable",!0,!0)],e.prototype,"rotateEnable",void 0),r([i.ParamExport("bc_rotateSpeed",1)],e.prototype,"rotateSpeed",void 0),r([i.ParamExport("bc_zoomEnable",!0,!0)],e.prototype,"zoomEnable",void 0),r([i.ParamExport("bc_zoomSpeed",2)],e.prototype,"zoomSpeed",void 0),r([i.ParamExport("bc_keyPanSpeed",7)],e.prototype,"keyPanSpeed",void 0),r([i.ParamExport("bc_minZoom",0)],e.prototype,"minZoom",void 0),r([i.ParamExport("bc_maxZoom",1/0)],e.prototype,"maxZoom",void 0),r([i.ParamExport("bc_scaleEnable",!0,!0)],e.prototype,"scaleEnable",void 0),r([i.ParamExport("bc_rotationCenterMode",s.RotationCenterMode.RaycastPointMode)],e.prototype,"rotationCenterMode",void 0),r([i.ParamExport("bc_isChangeRotateCenter",!0)],e.prototype,"isChangeRoatteCenter",void 0),e=r([i.ApiExport(["pan","getZoomScale","dollyIn","dollyOut","rotateLeft","rotateUp","addControlEventListener","removeControlEventListener","dispatchControlEvent","controlUpdate","getRotationCenter","setProjectRotateCenter","setZoomWindow","setCameraRoute","getCurrentLook","setCurrentLook","setFocusPosition","setCurrentViewpoint","getCurrentViewpoint","setCameraRotationCenter","setCameraPostion","setCameraRotationAngle"],"3D")],e)}();t.BaseControl=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),s=n(23),c=function(e){function t(t){var n,r,i=e.call(this)||this,o=i,c=t["3D"],l=new s.Vector33D,u=new s.Euler3D,p=new s.Vector33D,d=new s.Matrix43D,h=new s.Matrix43D,f=null;function m(){var e=s.Matrix43D.get();g(),d.identity().setPosition(p).multiply(e.makeRotationY(u.y)).multiply(e.makeRotationZ(u.z)).multiply(e.identity().setPosition(l)).multiply(h),o.affineMatrix&&d.multiply(o.affineMatrix),t["3D"].wsmControlUpdate(),s.Matrix43D.back(e)}function g(){u.y=-Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,-u.y))}return c.getBenchCamera().projectMatrix=d,o.getProjectMatrix=function(){return d},o.getProjectRotationEuler=function(){n||(n=new s.Euler3D);var e=s.Matrix43D.get(),t=s.Matrix43D.get();return n.setFromRotationMatrix(e.makeRotationY(u.y).multiply(t.makeRotationZ(u.z))),s.Matrix43D.back(e),s.Matrix43D.back(t),n},o.getProjectRotatioQuaternion=function(){r||(r=new s.Quaternion3D);var e=s.Matrix43D.get(),t=s.Matrix43D.get();return r.setFromRotationMatrix(e.makeRotationY(u.y).multiply(t.makeRotationZ(u.z))),s.Matrix43D.back(e),s.Matrix43D.back(t),r},o.getProjectPositionRef=function(){return p},o.getProjectRotationCenterRef=function(){return l},o.getProjectRotationRef=function(){return u},o.makeProjectRotationSafe=function(){g(),u.z%=2*Math.PI,u.z=u.z>Math.PI?u.z-2*Math.PI:u.z<-Math.PI?u.z+2*Math.PI:u.z},o.dispose=function(){l=null,u=null,p=null,d=null},o.projectUpdate=m,a.BindParam("cameraUp",function(e){if(i.up!==e){switch(e){case"z":h.identity();break;case"y":h.makeRotationX(Math.PI/2)}i.projectUpdate(),t.PARAMS.sr_enable=!0,c.update()}},t.handle),i.setRotateByZAxisState=function(e,t,n,r){if(!0===e){if(0!=n){null!=f&&c.removeEventListener("frame_end",f),f=function(){u.z+=t,g(),m()},c.addEventListener("frame_end",f),r&&r(!0);var i=function(){c.removeEventListener("frame_end",f),f=null,c.removeEventListener("control_update",i),r&&r(!1)};c.addEventListener("control_update",i)}}else c.dispatchEvent({type:"control_update"})},i}return i(t,e),o([a.ParamExport("cameraUp","z")],t.prototype,"up",void 0),o([a.ParamExport("affineMatrix",null)],t.prototype,"affineMatrix",void 0),o([a.ParamExport("minPolarAngle",0)],t.prototype,"minPolarAngle",void 0),o([a.ParamExport("maxPolarAngle",Math.PI)],t.prototype,"maxPolarAngle",void 0),t=o([a.ApiExport(["getProjectRotatioQuaternion","getProjectRotationEuler","getProjectRotationCenterRef","getProjectRotationRef","getProjectPositionRef","projectUpdate","getProjectMatrix","makeProjectRotationSafe","setRotateByZAxisState"],"3D")],t)}(s.EventDispatcher3D);t.ProjectSpatial=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(328),c=n(21),l=function(e){function t(t){var n=e.call(this)||this,r=n,i=t["3D"],o=new Set;return r.backHighlight=function(){r.restoreHighlightElement()},r.init=function(){c.BindParam("hl_moveHightlightEnable",function(e){!0===e?t.PARAMS.pp_enable=!0:!1===e&&(t.PARAMS.pp_enable=!1)},t.handle)},r.restoreHighlightElement=function(){r.getSelected().forEach(function(e){i.wsmVisiableComponent(e)})},r.highlightComponent=function(e,t){t=void 0===t?r.highlightColor:t,i.wsmHighLightComponent(e,t)},r.highlightElement=function(e){i.wsmHighLightComponent(e,r.highlightColor)},r.transparentComponent=function(e,t){t=void 0===t?.5:t,i.wsmTransparentMesh(e,t)},r.isolationComponent=function(e){e.forEach(function(e){return o.add(e)}),i.compSetForEach(function(e,n){o.has(n)?t["3D"].wsmVisiableComponent(n):i.getRenderState(n)!==a.RenderState.HIDDEN&&r.transparentComponent(n,.2)}),t.PARAMS.mr_state=a.ModelRenderState.ISOLATION,o.clear(),i.update()},r.isolationElement=r.isolationComponent,r.getSelected=function(){return i.getSelectedElementGuids()},r.clearHighlight=function(e){!0===e?r.restoreHighlightElement():(r.getSelected().forEach(function(e){i.hiddenComponent(e)}),i.update())},r.addSelectEventListener=r.addEventListener,r.removeSelectEventListener=r.removeEventListener,r.dispatchSelectEvent=r.dispatchEvent,n}return i(t,e),o([c.ParamExport("df_enable",!0)],t.prototype,"df_enable",void 0),o([c.ParamExport("hl_enableClick",!0)],t.prototype,"enableClick",void 0),o([c.ParamExport("fs_saveLookInfo",!1)],t.prototype,"saveLookInfo",void 0),o([c.ParamExport("hl_enableRegion",!0,!0)],t.prototype,"enableRegion",void 0),o([c.ParamExport("hl_regonBoxColor","#02d6dccc")],t.prototype,"wireColor",void 0),o([c.ParamExport("hl_highlightColor",644527820)],t.prototype,"highlightColor",void 0),o([c.ParamExport("hl_highlightoutlineColor",2272225279)],t.prototype,"highlightOutlineColor",void 0),o([c.ParamExport("hl_transparentColor",4294967168)],t.prototype,"transparentColor",void 0),o([c.ParamExport("hl_transparentOutlineColor",2998055679)],t.prototype,"transparentOutlineColor",void 0),o([c.ParamExport("hl_moveHightlightEnable",!1)],t.prototype,"moveHighlightEnable",void 0),t=o([s.Sealed(),c.ApiExport(["highlightComponent","transparentComponent","isolationComponent","backHighlight","restoreHighlightElement","setHighlightMaterial","getHighlightMaterial","renderHighlight","getSelected","clearHighlight","addSelectEventListener","removeSelectEventListener","dispatchSelectEvent","highlightElement"],"3D")],t)}(a.EventDispatcher3D);t.HighLight3d=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(328),l=function(e){function t(t){var r,i=e.call(this)||this,o=i,a=new Set,s=new Set;function c(e){return e=r.canvas.width/2*(e+1)}function l(e){return e=r.canvas.height/2*(1-e)}function u(e,i,o){r.strokeStyle=t.getColorStyle(void 0===o?n.StrokStyle:o),r.lineWidth=void 0===i?n.LineWidth:i,r.setLineDash([void 0===e?n.LineDash:e])}return o.init=function(e){r=o.ctx=e.getMarker()},i.canvas2DDrawLine=function(e,t,n,i,o,a,s){r.beginPath(),u(s,o,a),r.moveTo(e,t),r.lineTo(n,i),r.stroke()},i.canvas2DDrawCircle=function(e,t,n,i,o,a,s){s||(e=c(e),t=l(t)),r.beginPath(),u(a,i,o),r.arc(e,t,n,0,2*Math.PI),r.stroke(),r.closePath()},i.canvas2DDrawPoint=function(e,t,i,o,a){a||(e=c(e),t=l(t)),r.beginPath(),r.fillStyle=o||n.FillStyle,r.strokeStyle=o||n.StrokStyle,r.moveTo(e,t),r.arc(e,t,i,0,2*Math.PI),r.stroke(),r.fill()},i.canvas2DDrawText=function(e,t,i,o,a,s){return t=c(t),i=l(i),a*=r.canvas.height/2,r.font=a+"px "+o,r.fillStyle=s||n.StrokStyle,r.fillText(e,t,i),r.measureText(e).width/r.canvas.width*2},i.clearMarkerCanvas2D=function(e,t,n,i){void 0===e?r.clearRect(0,0,r.canvas.width,r.canvas.height):void 0!==e&&void 0!==t&&void 0!==n&&void 0!==i&&(e=c(e),t=l(t),r.clearRect(e,t,n,i))},i.canvas2DDrawPath=function(e,t,n,i,o){r.beginPath(),u(i,t,n),e.map(function(e){o||(e.x=c(e.x),e.y=l(e.y)),r.lineTo(e.x,e.y)}),r.stroke()},i.canvas2DDrawRect=function(e,t,n,i,o,a,s,p,d,h){d||(e=c(e),t=l(t)),n<0&&(e+=n,n=-n),i<0&&(t+=i,i=-i),r.beginPath(),u(s,p,h),r.arc(e+o,t+o,o,Math.PI,3*Math.PI/2),r.lineTo(n-a+e,t),r.arc(n-a+e,a+t,a,3*Math.PI/2,2*Math.PI),r.lineTo(n+e,i+t-a),r.arc(n-a+e,i-a+t,a,0,1*Math.PI/2),r.lineTo(o+e,i+t),r.arc(o+e,i-o+t,o,1*Math.PI/2,Math.PI),r.closePath(),r.stroke()},i.canvas2DDrawCrux=function(e,t,n,i,o,a,s,p){s||(e=c(e),t=l(t)),r.beginPath(),u(o,a,p),r.moveTo(e-n/2,t),r.lineTo(e+n/2,t),r.moveTo(e,t-i/2),r.lineTo(e,t+i/2),r.stroke()},i.addMarkerUpdateContext=function(e){return a.has(e)?(console.warn("spdengine.CORE addUpdateContext "),!1):(a.add(e),!0)},i.removeMarkerUpdateContext=function(e){a.delete(e)},i.clearMarkerUpdateContext=function(){a.clear()},i.addMarkerAnimateContext=function(e){return s.has(e)?(console.warn("spdengine.CORE addAnimateContext "),!1):(s.add(e),!0)},i.removeMarkerAnimateContext=function(e){return s.delete(e)},i.clearMarkerAnimateContext=function(){s.clear()},i.animate=function(){s.forEach(function(e){return e()})},i.render=function(){a.forEach(function(e){return e()})},i.dispose=function(){a.clear(),s.clear()},i.getCanvas2DBoundingBoxRect=function(){return r.canvas.getBoundingClientRect()},i.getCanvas2DSizeX=c,i.getCanvas2DSizeY=l,i}var n;return i(t,e),n=t,t.StrokStyle="black",t.FillStyle="black",t.LineWidth=1,t.LineDash=0,t=n=o([c.Sealed(),s.ApiExport(["canvas2DDrawCircle","canvas2DDrawPoint","canvas2DDrawLine","canvas2DDrawText","canvas2DDrawRect","clearMarkerCanvas2D","addMarkerUpdateContext","removeMarkerUpdateContext","clearMarkerUpdateContext","canvas2DDrawPath","getCanvas2DSizeX","getCanvas2DSizeY","canvas2DDrawCrux","getCanvas2DBoundingBoxRect","addMarkerAnimateContext","removeMarkerAnimateContext","animate"],"3D")],t)}(a.EventDispatcher3D);t.MarkerRenderer=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(23),a=n(17),s=function(){function e(e){var t=this;this.api=e,this.api3d=e["3D"],this.infos=new Map,this.marker2dIds=[],this.renderContext=function(){if(t.display){var e=t.api3d.getBenchCamera();t.infos.forEach(function(n){var r=null;if(!1===n.check&&(n.newComplete=!0),!1!==n.display)switch(n.type){case o.MARKERTYPE.RECT:var i=n.data.points[0],a=n.data.points[1],s=o.Vector33D.get().copy(i).project(e),c=o.Vector33D.get().copy(a).project(e);s.x=t.api3d.getCanvas2DSizeX(s.x),s.y=t.api3d.getCanvas2DSizeY(s.y),c.x=t.api3d.getCanvas2DSizeX(c.x),c.y=t.api3d.getCanvas2DSizeY(c.y),r=n.check?n.color:n.color+t.opacity,t.api3d.canvas2DDrawRect(s.x,s.y,c.x-s.x,c.y-s.y,0,0,n.lineDash,n.lineWidth,!0,r),n.box.makeEmpty(),n.box.expandByPoint(s),n.box.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c);break;case o.MARKERTYPE.ELLIPSE:var l=t.ctx;i=n.data.points[0],a=n.data.points[1],s=o.Vector33D.get().copy(i).project(e),c=o.Vector33D.get().copy(a).project(e);s.x=t.api3d.getCanvas2DSizeX(s.x),s.y=t.api3d.getCanvas2DSizeY(s.y),c.x=t.api3d.getCanvas2DSizeX(c.x),c.y=t.api3d.getCanvas2DSizeY(c.y),r=n.check?n.color:n.color+t.opacity,l.save(),l.beginPath(),l.lineWidth=n.lineWidth,l.setLineDash([n.lineDash]),l.strokeStyle=t.api3d.getColorStyle(r),l.ellipse((s.x+c.x)/2,(s.y+c.y)/2,Math.abs(s.x-c.x)/2,Math.abs(s.y-c.y)/2,0,0,2*Math.PI),l.closePath(),l.stroke(),l.restore(),n.box.makeEmpty(),n.box.expandByPoint(s),n.box.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c);break;case o.MARKERTYPE.CURVES:var u=t.ctx,p=t.api3d;r=n.check?n.color:n.color+t.opacity,u.save(),u.strokeStyle=t.api3d.getColorStyle(r),u.lineWidth=n.lineWidth,u.setLineDash([n.lineDash]),u.beginPath(),n.box.makeEmpty(),n.data.points.forEach(function(t){var r=o.Vector33D.get().copy(t).project(e);r.x=p.getCanvas2DSizeX(r.x),r.y=p.getCanvas2DSizeY(r.y),u.lineTo(r.x,r.y),n.box.expandByPoint(r),o.Vector33D.back(r)}),u.stroke(),u.restore();break;case o.MARKERTYPE.TEXT:t.ctx.save();var d=n.data,h=d.fontPos,f=d.fontSize,m=d.text,g=o.Vector33D.get().copy(h).project(e);g.x=t.api3d.getCanvas2DSizeX(g.x),g.y=t.api3d.getCanvas2DSizeY(g.y),r=n.check?n.color:n.color+t.opacity,t.ctx.fillStyle=t.api3d.getColorStyle(r),t.ctx.font="normal 12px Microsoft YaHei",t.ctx.textAlign=d.textAlign?d.textAlign:"center",t.ctx.textBaseline=d.textBaseline?d.textBaseline:"middle",t.ctx.translate(g.x,g.y),t.ctx.scale(e.zoom*f/12,e.zoom*f/12),t.ctx.fillText(m,0,0),t.ctx.restore(),t.updateTextBox(g,e.zoom*f*1.2,1.2*t.ctx.measureText(m).width*e.zoom*f/12,n.box,d.textAlign?d.textAlign:"center",d.textBaseline?d.textBaseline:"middle"),o.Vector33D.back(g);break;case o.MARKERTYPE.LINES:break;case o.MARKERTYPE.ARROW:i=n.data.points[0],a=n.data.points[1],s=o.Vector33D.get().copy(i).project(e),c=o.Vector33D.get().copy(a).project(e);var y=o.Vector33D.get(),v=o.Vector33D.get(),x=o.Vector33D.get(),M=o.Vector33D.get(),b=o.Vector33D.get(),w=o.Vector33D.get();s.x=t.api3d.getCanvas2DSizeX(s.x),s.y=t.api3d.getCanvas2DSizeY(s.y),c.x=t.api3d.getCanvas2DSizeX(c.x),c.y=t.api3d.getCanvas2DSizeY(c.y);f=10;b.copy(c).lerp(s,f/s.distanceTo(c)),w.set(c.y-s.y,s.x-c.x,0).normalize(),y.copy(b).addScaledVector(w,f/4),v.copy(b).addScaledVector(w,-f/4),x.copy(b).addScaledVector(w,3*-f/4),M.copy(b).addScaledVector(w,3*f/4),r=n.check?n.color:n.color+t.opacity,t.ctx.save(),t.ctx.beginPath(),t.ctx.fillStyle=t.api3d.getColorStyle(r),t.ctx.lineWidth=n.lineWidth,t.ctx.setLineDash([n.lineDash]),t.ctx.moveTo(s.x,s.y),t.ctx.lineTo(v.x,v.y),t.ctx.lineTo(x.x,x.y),t.ctx.lineTo(c.x,c.y),t.ctx.lineTo(M.x,M.y),t.ctx.lineTo(y.x,y.y),t.ctx.closePath(),t.ctx.fill(),t.ctx.restore(),n.box.makeEmpty(),n.box.expandByPoint(s),n.box.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c),o.Vector33D.back(y),o.Vector33D.back(v),o.Vector33D.back(x),o.Vector33D.back(M),o.Vector33D.back(b);break;case o.MARKERTYPE.CLOUDLINE:i=n.data.points[0],a=n.data.points[1],s=o.Vector33D.get().copy(i).project(e),c=o.Vector33D.get().copy(a).project(e);s.x=t.api3d.getCanvas2DSizeX(s.x),s.y=t.api3d.getCanvas2DSizeY(s.y),c.x=t.api3d.getCanvas2DSizeX(c.x),c.y=t.api3d.getCanvas2DSizeY(c.y);b=0;s.x>c.x&&(b=s.x,s.x=c.x,c.x=b),s.y>c.y&&(b=s.y,s.y=c.y,c.y=b),r=n.check?n.color:n.color+t.opacity,t.ctx.save(),t.ctx.beginPath(),t.ctx.lineWidth=n.lineWidth,t.ctx.setLineDash([n.lineDash]),t.ctx.strokeStyle=t.api3d.getColorStyle(r);f=40;for(var A=(s.x-c.x)/Math.floor((s.x-c.x)/f),_=(s.y-c.y)/Math.floor((s.y-c.y)/f),E=0,D=Math.abs(Math.floor((s.x-c.x)/f));E<D;++E)t.ctx.moveTo(s.x+A*E,s.y),t.ctx.arc(s.x+A*(2*E+1)/2,s.y+A/(2*Math.sqrt(3)),A/Math.sqrt(3),-5*Math.PI/6,-Math.PI/6,!1),t.ctx.moveTo(s.x+A*(E+1),c.y),t.ctx.arc(s.x+A*(2*E+1)/2,c.y-A/(2*Math.sqrt(3)),A/Math.sqrt(3),Math.PI/6,5*Math.PI/6,!1);E=0;for(var S=Math.abs(Math.floor((s.y-c.y)/f));E<S;++E)t.ctx.moveTo(s.x,s.y+_*(E+1)),t.ctx.arc(s.x+_/(2*Math.sqrt(3)),s.y+_*(2*E+1)/2,_/Math.sqrt(3),2*Math.PI/3,4*Math.PI/3,!1),t.ctx.moveTo(c.x,s.y+_*(E+1)),t.ctx.arc(c.x-_/(2*Math.sqrt(3)),s.y+_*(2*E+1)/2,_/Math.sqrt(3),Math.PI/3,-Math.PI/3,!0);t.ctx.stroke(),t.ctx.restore(),n.box.makeEmpty(),n.box.expandByPoint(s),n.box.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c);break;case o.MARKERTYPE.TRIANGLE:i=n.data.points[0],a=n.data.points[1],s=o.Vector33D.get().copy(i).project(e),c=o.Vector33D.get().copy(a).project(e);s.x=t.api3d.getCanvas2DSizeX(s.x),s.y=t.api3d.getCanvas2DSizeY(s.y),c.x=t.api3d.getCanvas2DSizeX(c.x),c.y=t.api3d.getCanvas2DSizeY(c.y),r=n.check?n.color:n.color+t.opacity,t.ctx.save(),t.ctx.beginPath(),t.ctx.strokeStyle=t.api3d.getColorStyle(r),t.ctx.moveTo((s.x+c.x)/2,Math.min(s.y,c.y)),t.ctx.lineTo(s.x,Math.max(s.y,c.y)),t.ctx.lineTo(c.x,Math.max(s.y,c.y)),t.ctx.closePath(),t.ctx.lineWidth=n.lineWidth,t.ctx.setLineDash([n.lineDash]),t.ctx.stroke(),t.ctx.restore(),n.box.makeEmpty(),n.box.expandByPoint(s),n.box.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c)}})}}}return e.prototype.updateTextBox=function(e,t,n,r,i,a){var s=o.Vector33D.get().copy(e),c=o.Vector33D.get().copy(e);switch(i){case"center":s.x-=n/2,c.x+=n/2;break;case"start":case"left":c.x+=n;break;case"end":case"right":s.x-=n}switch(a){case"middle":s.y-=t/2,c.y+=t/2;break;case"top":c.y+=t;break;case"bottom":s.y-=t}r.makeEmpty(),r.expandByPoint(s),r.expandByPoint(c),o.Vector33D.back(s),o.Vector33D.back(c)},e.prototype.init=function(){var e=this,t=this.api3d.getContext();this.ctx=t.getMarker(),this.api3d.addMarkerUpdateContext(this.renderContext),i.BindParam("mk2_state",function(t){t!==e.state&&(1===t&&e.infos.forEach(function(e){return e.check=!1}),e.api3d.enableMarkerRefresh())},this.api.handle),i.BindParam("mk2_display",function(t){t!==e.display&&(e.display=t,e.api3d.enableMarkerRefresh())},this.api.handle),i.BindParam("mk2_color",function(t){t!==e.color&&e.api3d.enableMarkerRefresh()},this.api.handle),i.BindParam("mk2_enable",function(t){t!==e.enable&&(e.enable=t,e.display=!0,e.api3d.enableMarkerRefresh())},this.api.handle)},e.prototype.dispose=function(){this.api3d.removeMarkerUpdateContext(this.renderContext),this.infos.clear()},e.prototype.raycastMarker2D=function(e,t,n,r){var i=o.Vector23D.get().set(e,t);return this.infos.forEach(function(e){e.circle.containPoint(i)&&e.check&&n.push(e.id)}),n.reverse(),n.length=0,this.infos.forEach(function(e){e.box.containsPoint(i)&&r.push(e.id)}),r.reverse()},e.prototype.addMarker2DText=function(e){a.BrowserInfo.isMobile&&"string"==typeof e&&(e=JSON.parse(e));var t={id:o._Math.generateUUID(),type:o.MARKERTYPE.TEXT,data:null,display:!0,box:new o.Box23D,check:!1,circle:new o.Circle3D,color:this.color,newComplete:!0,createTime:Date.now()},n=o.Vector23D.get(),r=o.Vector33D.get();r.set(e.x,e.y,0),t.data={fontPos:(new o.Vector33D).copy(r),text:e.text,fontSize:e.size,textAlign:e.align,textBaseline:e.baseLine,fontColor:e.color},this.infos.set(t.id,t),this.api3d.dispatchEvent({type:"marker2d_addinfo",params:{info:t}}),this.api3d.enableMarkerRefresh(),this.marker2dIds.push(t.id),o.Vector23D.back(n),o.Vector33D.back(r)},e.prototype.addMarker2DInfo=function(e){e&&this.enable&&this.display&&(this.infos.has(e.id)&&console.warn("Marker2DID, "+e.id+""),e.color=this.color,e.lineWidth=this.lineWidth,e.lineDash=this.lineDash,this.infos.set(e.id,e),e.createTime=Date.now(),this.api3d.dispatchEvent({type:"marker2d_addinfo",params:{info:e}}),this.marker2dIds.push(e.id))},e.prototype.removeMarker2DInfo=function(e){if(this.infos.has(e)){var t=this.infos.get(e);this.infos.delete(e),this.api3d.enableMarkerRefresh(),this.api3d.dispatchEvent({type:"marker2d_removeinfo",params:{info:t}}),o.arrayRemove(this.marker2dIds,e)}},e.prototype.backMarker2dInfo=function(){var e=this.marker2dIds.pop();e&&this.removeMarker2DInfo(e)},e.prototype.addSerializedMarker2DInfos=function(e){for(var t in"string"==typeof e&&(e=JSON.parse(e)),e)this.infos.set(t,this.api3d.deSerializedObject(e[t]));this.api3d.enableMarkerRefresh()},e.prototype.getSerializedMarker2DInfos=function(){var e=this,t={};return this.infos.forEach(function(n,r){t[r]=e.api3d.serializedObject(n)}),JSON.stringify(t)},e.prototype.getMarker2dInfo=function(){var e=[];return this.infos.forEach(function(t){e.push({id:t.id,display:t.display,type:t.type,createTime:t.createTime,text:t.data.text})}),JSON.stringify(e)},e.prototype.setMaker2dInfoAttri=function(e,t,n){var r=this.infos.get(e);r&&void 0!==r[t]&&(r[t]=n,this.api3d.enableMarkerRefresh())},e.prototype.clearAllMarker2dInfos=function(){this.infos.clear(),this.api3d.enableMarkerRefresh()},e.prototype.setMarker2dParams=function(e){var t=this;a.Util.assert(function(e){return!a.Util.isNil(e)},e,"",0)&&(a.Util.assert(a.Util.isString,e.color,"",0)&&(this.api.PARAMS.mk2_color=e.color),a.Util.assert(a.Util.isString,e.opacity,"",0)&&(this.api.PARAMS.mk2_opacity=e.opacity),this.api.PARAMS.mk2_display=!0===e.visiable,a.Util.assert(a.Util.isNumber,e.lineWidth,"",0)&&(this.api.PARAMS.mk2_lineWidth=e.lineWidth),this.api.PARAMS.mk2_type=e.type,a.Util.assert(a.Util.isArray,e.needToAddMarkerAddInfoListeners,"",0)&&e.needToAddMarkerAddInfoListeners.forEach(function(e){return t.api3d.addEventListener("marker2d_addinfo",e)}),a.Util.assert(a.Util.isArray,e.needToAddMarkerRemoveInfoListeners,"",0)&&e.needToAddMarkerRemoveInfoListeners.forEach(function(e){return t.api3d.removeEventListener("marker2d_remove",e)}),a.Util.assert(a.Util.isArray,e.needToRemoveMarkerAddInfoListeners,"",0)&&e.needToRemoveMarkerAddInfoListeners.forEach(function(e){return t.api3d.addEventListener("marker2d_addinfo",e)}),a.Util.assert(a.Util.isArray,e.needToRemoveMarkerRemoveInfoListeners,"",0)&&e.needToRemoveMarkerRemoveInfoListeners.forEach(function(e){return t.api3d.removeEventListener("marker2d_remove",e)}))},e.prototype.getMarker2dParams=function(){return{color:this.api.PARAMS.mk2_color,opacity:this.api.PARAMS.mk2_opacity,visiable:this.api.PARAMS.mk2_display,lineWidth:this.api.PARAMS.mk2_lineWidth,type:this.api.PARAMS.mk2_type}},r([i.ParamExport("mk2_enable",!1)],e.prototype,"enable",void 0),r([i.ParamExport("mk2_infos",null)],e.prototype,"infos",void 0),r([i.ParamExport("mk2_type",a.BrowserInfo.isMobile?null:o.MARKERTYPE.RECT)],e.prototype,"type",void 0),r([i.ParamExport("mk2_state",1)],e.prototype,"state",void 0),r([i.ParamExport("mk2_display",!0)],e.prototype,"display",void 0),r([i.ParamExport("mk2_color","#ff0000")],e.prototype,"color",void 0),r([i.ParamExport("mk2_lineDash",0)],e.prototype,"lineDash",void 0),r([i.ParamExport("mk2_lineWidth",2)],e.prototype,"lineWidth",void 0),r([i.ParamExport("mk2_opacity","ff")],e.prototype,"opacity",void 0),e=r([i.ApiExport(["raycastMarker2D","addMarker2DText","addMarker2DInfo","removeMarker2DInfo","addSerializedMarker2DInfos","getSerializedMarker2DInfos","getMarker2dInfo","setMaker2dInfoAttri","clearAllMarker2dInfos","backMarker2dInfo","setMarker2dParams","getMarker2dParams"],"3D")],e)}();t.Marker2D=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(328),l=n(338),u=function(e){function t(t){var r=e.call(this)||this;r.api=t;var i,o,c,l,u=r,d=t["3D"],h=new Map,f=[],m=t.PARAMS,g=n.cirleMesh,y=new a.Vector33D(0,0,1),v=[],x=[],M=[];function b(e,t){var n=a.Vector33D.get(),r=a.Vector33D.back(a.Vector33D.get());return n.copy(e.pos).project(i),r.copy(t.pos).project(i),a.Vector33D.back(n),n.z-r.z}function w(e){if(e.info.state!==a.DEVICESTATE.HIDDEN){var t=a.Vector33D.back(a.Vector33D.get()),r=a.Vector33D.get().set(0,0,0);e.compId&&d.getComponentBoundingBox(e.compId,a.Box33D.back(a.Box33D.get()).makeEmpty()).getCenter(r),e.pos&&r.add(e.pos),t.copy(r).project(i);var o=function(e){if(e.customColor)return e.customColor;switch(e.state){case a.DEVICESTATE.NORMAL:return n.StateColor.normalColor;case a.DEVICESTATE.WARNING:return n.StateColor.warningColor;case a.DEVICESTATE.ERROR:return n.StateColor.errorColor}}(e.info),s=function(e){return e.lineState?e.lineState:a.MakerLineState.NORMAL}(e.info),c=function(e){return null!=e.circleNumber?e.circleNumber:10}(e.info);t.x=d.getCanvas2DSizeX(t.x),t.y=d.getCanvas2DSizeY(t.y);var p=void 0===e.info.subLineLength?u.subLineLen:e.info.subLineLength,h=void 0===e.info.subLineRadian?n.SubLineRadian:e.info.subLineRadian,f=void 0===e.info.pointOffset?new a.Vector23D(-20,-20):e.info.pointOffset;if(function(e,t,n,r,i,o,s,c){switch(s){case a.MakerLineState.NORMAL:d.canvas2DDrawPath([{x:e,y:t},{x:Math.floor(e+n/Math.tan(r)),y:t-n},{x:Math.floor(e+n/Math.tan(r))+.3*i,y:t-n}],u.subLineWidth,o,u.subLineDash,!0);break;case a.MakerLineState.STRAIGHTLINE:d.canvas2DDrawPath([{x:e,y:t},{x:e,y:t-n}],u.subLineWidth,o,u.subLineDash,!0);break;case a.MakerLineState.POLYLINE:c.x>0?d.canvas2DDrawPath([{x:e,y:t},{x:e+c.x,y:t+c.y},{x:e+c.x+n,y:t+c.y}],u.subLineWidth,o,u.subLineDash,!0):d.canvas2DDrawPath([{x:e,y:t},{x:e+c.x,y:t+c.y},{x:e+c.x-n,y:t+c.y}],u.subLineWidth,o,u.subLineDash,!0)}}(t.x,t.y,p,h,e.info.div.offsetWidth,o,s,f),10==c){E(e.info.div,Math.floor(t.x+p/Math.tan(h)),t.y,s,void 0===e.info.intersectionRatio?.5:e.info.intersectionRatio,p,f);var m=void 0===e.info.maxMarkerPointOutterRadius?n.MarkerPointOutterRadis:e.info.maxMarkerPointOutterRadius;d.canvas2DDrawPoint(t.x,t.y,!0===e.info.isFlicker||!0===e.info.isOutterFlicker?e.info.currentPointOutterRadius=A(e.info.currentPointOutterRadius,m):m,function(e){return e.slice(0,e.length-2)+Math.floor(.2*parseInt(e.slice(-2),16)).toString(16)}(o),!0);var g=void 0===e.info.maxMarkerPointInnerRadius?u.markerPointInnerRadius:e.info.maxMarkerPointInnerRadius;d.canvas2DDrawPoint(t.x,t.y,!0===e.info.isFlicker||!0===e.info.isInnerFlicker?e.info.currentPointInnerRadius=A(e.info.currentPointInnerRadius,g):g,o,!0)}else{null==e.info.currentOutterCircleRadius&&(e.info.currentOutterCircleRadius=[],e.info.circleOpacity=[]),E(e.info.div,t.x,t.y,s,void 0===e.info.intersectionRatio?.5:e.info.intersectionRatio,p,f);g=void 0===e.info.maxMarkerPointInnerRadius?u.markerPointInnerRadius:e.info.maxMarkerPointInnerRadius;d.canvas2DDrawPoint(t.x,t.y,!0===e.info.isFlicker||!0===e.info.isInnerFlicker?e.info.currentPointInnerRadius=A(e.info.currentPointInnerRadius,g):g,o,!0);for(var y=0;y<c;y++){var b=void 0===e.info.outterInsterval?2:e.info.outterInsterval,w=(m=void 0===e.info.maxMarkerPointOutterRadius?u.markerPointInnerRadius+b*(y+1):e.info.maxMarkerPointOutterRadius+b*y,u.subLineWidth/3+(c-y)/c);e.info.currentOutterCircleRadius.length<y+1&&(e.info.currentOutterCircleRadius.push(m),v.push(3*m),x.push(m),M.push(m/40),e.info.circleOpacity.push(parseInt(o.slice(-2),16)),l=parseInt(o.slice(-2),16)/80),d.canvas2DDrawCircle(t.x,t.y,!0===e.info.isFlicker||!0===e.info.isOutterFlicker?e.info.currentOutterCircleRadius[y]=_(e.info.currentOutterCircleRadius[y],y):m,w,!0===e.info.isFlicker||!0===e.info.isOutterFlicker?S(o,e.info.circleOpacity[y],y):o,u.subLineDash,!0),e.info.circleOpacity[y]=Math.round(1e4*(e.info.circleOpacity[y]-l))/1e4,e.info.circleOpacity[y]<0&&(e.info.circleOpacity[y]=parseInt(o.slice(-2),16))}}switch(s){case a.MakerLineState.NORMAL:D(t.x+p/Math.tan(h),t.y-p-8-e.info.div.offsetHeight,e.info.div.offsetWidth,e.info.div.offsetHeight,e.box);break;case a.MakerLineState.STRAIGHTLINE:D(t.x-e.info.div.offsetWidth/2,t.y-p-e.info.div.offsetHeight,e.info.div.offsetWidth,e.info.div.offsetHeight,e.box);break;case a.MakerLineState.POLYLINE:f.x<0?D(t.x-e.info.div.offsetWidth-p+f.x,t.y+f.y-e.info.div.offsetHeight/2,e.info.div.offsetWidth,e.info.div.offsetHeight,e.box):D(t.x+p+f.x,t.y+f.y-e.info.div.offsetHeight/2,e.info.div.offsetWidth,e.info.div.offsetHeight,e.box)}a.Vector33D.back(r)}else e.info.div.style.display="none"}function A(e,t){return void 0===e&&(e=0),(e+=.0125*t)>t&&(e=0),e}function _(e,t){return e>v[t]&&(e=x[t]),e=Math.round(1e3*(e+M[t]))/1e3}function E(e,t,n,r,i,s,c){n=o.height-n;var l=e.offsetHeight,u=e.offsetWidth;switch(r){case a.MakerLineState.NORMAL:e.style.left=t+"px",e.style.bottom=n+s+8+"px";break;case a.MakerLineState.STRAIGHTLINE:e.style.left=t-u/2+"px",e.style.bottom=n+s+"px";break;case a.MakerLineState.POLYLINE:c.x<0?e.style.left=t-u-s+c.x+"px":e.style.left=t+s+c.x+"px",e.style.bottom=n-l*(1-i)-c.y+"px"}e.style.display="block"}function D(e,t,n,r,i){i.max.set(e+n,t+r),i.min.set(e,t)}function S(e,t,n){return t<16?e.slice(0,e.length-2)+"0"+Math.floor(t).toString(16):e.slice(0,e.length-2)+Math.floor(t).toString(16)}function P(e){if(!e.div){var n=new p("div");e.div=n.dom,e.div.style.position="absolute",n.layer=4,t.UI.addControl(n),e.markerDiv=n}}return r.init=function(){d.addObject3D(g,3),g.visible=!1,i=d.getBenchCamera(),d.addCamera3DEventListener("checkbenchcamera",function(){i=d.getBenchCamera()}),s.BindParam("mk_enable",function(e){u.enable!==e&&(!0===e?(!function(){void 0===c&&(c=m.hl_enableClick,m.hl_enableClick=!1);g.visible=!0}(),u.hiddenAllMarker=!1):function(){void 0!==c&&(m.hl_enableClick=c,c=void 0);g.visible=!1}(),t.PARAMS.rd_minorRefresh=!0,d.enableMarkerRefresh())},u.api.handle),s.BindParam("mk_hiddenAllMarker",function(e){!0!==e||!0!==u.enable?e!==u.hiddenAllMarker&&(d.enableMarkerRefresh(),u.hiddenMarkers(e)):console.error("markermarkerinfo")},u.api.handle),s.BindParam("mk_subLineLen",function(e){u.subLineLen!==e&&d.enableMarkerRefresh()},u.api.handle),s.BindParam("mk_subLineWidth",function(e){u.subLineWidth!==e&&d.enableMarkerRefresh()},u.api.handle),s.BindParam("mk_subLineDash",function(e){u.subLineDash!==e&&d.enableMarkerRefresh()},u.api.handle),s.BindParam("mk_markerPointInnerRadius",function(e){u.markerPointInnerRadius!==e&&d.enableMarkerRefresh()},u.api.handle)},r.markerDeviceInfoByComponentId=function(e,t,n){if(t){void 0===t.lookInfo&&(t.lookInfo=d.getCurrentLook()),null==n&&(n=new a.Vector33D);var r={info:t,pos:n,box:new a.Box23D,compId:e};P(t),h.set(t.deviceId,r),u.enable&&w(r)}return t.div},r.markerDeviceInfoByPosition=function(e,t){if(e&&t){void 0===t.lookInfo&&(t.lookInfo=d.getCurrentLook());var n={info:t,pos:e,box:new a.Box23D};P(t),h.set(t.deviceId,n),u.enable&&w(n)}return t.div},r.removeMarkerDeviceInfo=function(e){var n=h.get(e);if(n){h.delete(e);var r=n.info.markerDiv;r&&t.UI.removeControl(r)}d.enableMarkerRefresh()},r.dispose=function(){h.clear(),i=null},r.changeMarherDeviceState=function(e,t){if(h.has(e)){var n=h.get(e);n.info.state=t,t!==a.DEVICESTATE.HIDDEN?w(n):d.enableMarkerRefresh()}},r.hiddenMarkers=function(e){!0===e?h.forEach(function(e){e.info.div.style.display="none"}):h.forEach(function(e){e.info.state!==a.DEVICESTATE.HIDDEN&&(e.info.div.style.display="block")})},r.raycasterMarkerDevices=function(e,t){return t||(t=[]),h.forEach(function(n){n.box.containsPoint(e)&&t.push(n)}),t.sort(b),t},r.removeAllMarkerDeviceInfo=function(){o=t.UI.getSize(),u.hiddenAllMarker||h.forEach(function(e){r.removeMarkerDeviceInfo(e.info.deviceId)})},r.addEventListener("update",function(e){e.pos&&g.position.copy(e.pos),function(){g.geometry.boundingBox||g.geometry.computeBoundingBox();var e=d.getProjectSize(g.geometry.boundingBox);g.scale.setScalar(n.cireleSize/(e.x>e.y?e.x:e.y))}(),e.normal&&g.quaternion.setFromUnitVectors(y,e.normal),t.PARAMS.rd_minorRefresh=!0}),d.addMarkerUpdateContext(function(){o=t.UI.getSize(),u.hiddenAllMarker||function(){f.length=0,h.forEach(function(e){return f.push(e)});var e=1e3;return f.sort(b),f.forEach(function(t){return t.info.div.style.zIndex=String(e--)}),f}().forEach(function(e){return w(e)})}),d.addMarkerAnimateContext(function(){!u.hiddenAllMarker&&h.size>0&&d.enableMarkerRefresh()}),r.addEventListener("click",function(e){null!=e.deviceId&&!0===h.get(e.deviceId).info.isFocus&&d.setCurrentLook(h.get(e.deviceId).info.lookInfo,!0)}),r.addMarkerDivEventListener=r.addEventListener,r.removeMarkerDivEventListener=r.removeEventListener,r.dispatchMarkerDivEvent=r.dispatchEvent,r}var n;return i(t,e),n=t,t.MarkerPointOutterRadis=12,t.SubLineRadian=Math.PI/3,t.StateColor={normalColor:"#00ff00ff",warningColor:"#ffff00ff",errorColor:"#ff0000ff"},t.cirleMesh=new a.Mesh3D(new a.CircleBufferGeometry3D(1,128),new a.MeshBasicMaterial3D({color:65280,transparent:!0,opacity:.5,side:a.Constant.DoubleSide})),t.cireleSize=.05,o([s.ParamExport("mk_enable",!1)],t.prototype,"enable",void 0),o([s.ParamExport("mk_subLineLen",85)],t.prototype,"subLineLen",void 0),o([s.ParamExport("mk_subLineWidth",1)],t.prototype,"subLineWidth",void 0),o([s.ParamExport("mk_markerPointInnerRadius",6)],t.prototype,"markerPointInnerRadius",void 0),o([s.ParamExport("mk_markerPointOutterRadis",10)],t.prototype,"markerPointOutterRadis",void 0),o([s.ParamExport("mk_circleColors",[])],t.prototype,"circleColors",void 0),o([s.ParamExport("mk_subLineRadian",Math.PI/3)],t.prototype,"subLineRadian",void 0),o([s.ParamExport("mk_subLineDash",0)],t.prototype,"subLineDash",void 0),o([s.ParamExport("mk_normalStateColor","#00ff00ff")],t.prototype,"normalStateColor",void 0),o([s.ParamExport("mk_warningStateColor","#ffff00ff")],t.prototype,"warningStateColor",void 0),o([s.ParamExport("mk_errorStateColor","#ff0000ff")],t.prototype,"errorStateColor",void 0),o([s.ParamExport("mk_hiddenAllMarker",!1)],t.prototype,"hiddenAllMarker",void 0),o([s.ParamExport("demo_deviceUuid",new a.Queue)],t.prototype,"deviceUuid",void 0),t=n=o([c.Sealed(),s.ApiExport(["markerDeviceInfoByComponentId","markerDeviceInfoByPosition","removeMarkerDeviceInfo","removeAllMarkerDeviceInfo","changeMarherDeviceState","raycasterMarkerDevices","addMarkerDivEventListener","removeMarkerDivEventListener","dispatchMarkerDivEvent","hiddenAllMarker"],"3D")],t)}(a.EventDispatcher3D);t.MarkerDevice3D=u;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(l.Control)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(1),l=n(17),u=function(e){function t(t){var r=e.call(this)||this,i=r;i.measureIds=[];var o,u,p=t["3D"],d=t.PARAMS,h=p.getBenchCamera(),f=new Map;r.unitName=c.GUMUnitName.get(r.unit),r.dispose=function(){f.clear()},r.init=function(){o=p.getContext().getMarker(),p.addCamera3DEventListener("checkbenchcamera",function(){h=p.getBenchCamera()}),s.BindParam("ms_enable",function(e){r.enable!==e&&(r.enable=e,r.display=!0,p.enableMarkerRefresh(),p.dispatchMeasureEvent({type:e?"enable":"disable",param:null}),!1===e?d.pp_enable=!1:r.state==c.MEASURESTATE.POINT&&(d.pp_enable=!0))},t.handle),s.BindParam("ms_state",function(e){e!==r.state&&(r.state===c.MEASURESTATE.PSENCLOSEAREA&&(p.setPSEnClosedComplete()||r._info&&p.removeMeasureInfo(r._info.id)),r.state=e,r.dispatchMeasureEvent({type:"stateChanged",param:e}),p.enableMarkerRefresh())},t.handle),s.BindParam("ms_unit",function(e){r.unitName=c.GUMUnitName.get(e),r.unit=e,p.enableMarkerRefresh()},t.handle),s.BindParam("eg_clearColor",function(e){d.ms_mea2DFontColor="#02d6dc",p.enableMarkerRefresh()},t.handle),s.BindParam("ms_display",function(e){e!==r.display&&(r.display=e,p.enableMarkerRefresh())},t.handle),d.ms_unit=t.UI.getSystemType()===c.SystemType.ST_3D_WSM?c.GUMUNIT.UNIT_FOOT:c.GUMUNIT.UNIT_MM},r.addMeasureInfo=function(e){e.sys=t.UI.getSystemType(),e.box=new a.Box23D,e.result={},e.createTime=Date.now(),e.display=!0,e.color=i.measureColor,e.state===c.MEASURESTATE.PSENCLOSEAREA&&(r._info=e),f.set(e.id,e),i.measureIds.push(e.id),p.enableMarkerRefresh()},r.drawMensureResults=function(){var e=a.Vector33D.get();f.forEach(function(t){if(!0===t.display)switch(u=t.check,t.box.makeEmpty(),t.pInfos.map(function(n){A(e.copy(n.p).project(h)),n.c.center.set(e.x,e.y),n.c.z=e.z,t.box.expandByPoint(n.c.center)}),t.box.expandByScalar(1.2),t.state){case c.MEASURESTATE.DIS:t.sys===c.SystemType.ST_3D_WSM||void 0===t.sys?x(t):t.sys===c.SystemType.ST_2D_WSM&&M(t);break;case c.MEASURESTATE.ANH:b(t);break;case c.MEASURESTATE.AREA:t.sys===c.SystemType.ST_2D_WSM&&y(t);break;case c.MEASURESTATE.POINT:t.sys===c.SystemType.ST_2D_WSM&&v(t);break;case c.MEASURESTATE.PSENCLOSEAREA:t.sys===c.SystemType.ST_2D_WSM&&m(t)}}),a.Vector33D.back(e)};var m=function(e){o.save();var t=function(e){var t=!1,n=e.pInfos,r=n.length;r>=3&&n[r-1]==n[0]&&(t=!0);return t}(e),n=e.pInfos;o.lineWidth=2;var s=0,c=0;if(n.forEach(function(t,n){var i=a.Vector33D.get().copy(t.p).project(h);i.x=p.getCanvas2DSizeX(i.x),i.y=p.getCanvas2DSizeY(i.y),r.canvas2DDrawPoint(i,r.pSize,g(e.color,u,"88")),n>0&&(s+=i.x,c+=i.y),a.Vector33D.back(i)}),s/=n.length-1,c/=n.length-1,o.beginPath(),n.forEach(function(e){var t=a.Vector33D.get().copy(e.p).project(h);t.x=p.getCanvas2DSizeX(t.x),t.y=p.getCanvas2DSizeY(t.y),o.lineTo(t.x,t.y),a.Vector33D.back(t)}),t){var l=a.Vector33D.get().copy(n[0].p).project(h);l.x=p.getCanvas2DSizeX(l.x),l.y=p.getCanvas2DSizeY(l.y),o.lineTo(l.x,l.y),a.Vector33D.back(l),o.fillStyle=i.getColorStyle(g(e.color,!1,"11")),o.fill();var d=function(e){for(var t=0,n=a.Vector33D.get(),r=a.Vector33D.get(),i=a.Vector33D.get(),o=0,s=e.pInfos.length;o<s-1;++o)n.copy(e.pInfos[0].p),r.copy(e.pInfos[o].p),i.copy(e.pInfos[o+1].p),t+=((n.x-r.x)*(n.y-i.y)-(n.x-i.x)*(n.y-r.y))/2;return a.Vector33D.back(n),a.Vector33D.back(r),_(_(Math.abs(t)))}(e);e.result.area=d,0!==d&&(o.font="normal 12pt Microsoft YaHei",o.globalAlpha=1,o.fillStyle=i.getColorStyle(g(e.color,u,"88")),o.textAlign="center",o.textBaseline="middle",o.fillText(d.toFixed(2)+" "+r.unitName+"",s,c))}o.strokeStyle=r.getColorStyle(g(e.color,u,"88")),o.stroke(),o.restore()};function g(e,t,n){return t?e:e+n}var y=function(e){var t=e.pInfos[0].p,s=e.pInfos[1].p,c=A(a.Vector33D.get().copy(t).project(h)),l=A(a.Vector33D.get().copy(s).project(h));o.save(),p.canvas2DDrawRect(c.x,c.y,l.x-c.x,l.y-c.y,0,0,0,2,!0,g(e.color,u,"88")),o.fillStyle=i.getColorStyle(n.cfColor),o.fill(),r.canvas2DDrawPoint(c,5,g(e.color,u,"88")),r.canvas2DDrawPoint(l,5,g(e.color,u,"88"));var d=_(Math.abs(t.x-s.x))*_(Math.abs(t.y-s.y));e.result.area=d,0!==d&&(o.font="normal 12pt Microsoft YaHei",o.globalAlpha=1,o.fillStyle=i.getColorStyle(g(e.color,u,"88")),o.textAlign="center",o.textBaseline="middle",o.fillText(d.toFixed(2)+" "+r.unitName+"",(c.x+l.x)/2,(c.y+l.y)/2)),a.Vector33D.back(l),a.Vector33D.back(c),o.restore()},v=function(e){var t=e.pInfos[0].p,n=A(a.Vector33D.get().copy(t).project(h)),i=a.Vector23D.get(),s=a.Vector23D.get(),c=a.Vector23D.get(),l=a.Vector23D.get();s.set(n.x,n.y),i.set(s.x+40*Math.SQRT2,s.y+40*Math.SQRT2),c.set(s.x+10*Math.sin(Math.PI/12),s.y+10*Math.cos(Math.PI/12)),l.set(s.x+10*Math.cos(Math.PI/12),s.y+10*Math.sin(Math.PI/12)),p.pickPoint(Math.floor(s.x),Math.floor(s.y)),d.pp_enable||(d.pp_enable=!0),o.save(),o.beginPath(),o.moveTo(i.x,i.y),o.strokeStyle="#02d6dc",o.fillStyle="#02d6dc",o.arc(i.x,i.y,r.pointSize,0,2*Math.PI),o.fill(),o.beginPath(),o.moveTo(i.x,i.y),o.lineWidth=3,o.lineTo((c.x+l.x)/2-.707,(c.y+l.y)/2-.707),o.stroke(),o.beginPath(),o.moveTo(s.x,s.y),o.lineTo(c.x,c.y),o.lineTo(l.x,l.y),o.lineTo(s.x,s.y),o.fill(),n.set(s.x,s.y,0).unproject(h);var u=d.pp_pick.point;u&&(o.font="normal 12pt Microsoft YaHei",o.fillStyle="#b7a613",o.fillText("x: "+u.x.toFixed(2),s.x+40,s.y-20),o.fillText("y: "+u.y.toFixed(2),s.x+40,s.y),e.result.x=u.x,e.result.y=u.y),o.restore(),e.box.makeEmpty(),e.box.expandByPoint(i),e.box.expandByPoint(s),e.box.expandByPoint(c),e.pInfos[0].c.center.set(i.x,i.y),e.pInfos[0].c.radius=r.pointSize,a.Vector33D.back(n),a.Vector23D.back(i),a.Vector23D.back(s),a.Vector23D.back(c),a.Vector23D.back(l)},x=function(e){var t=e.pInfos[0].p,n=e.pInfos[1].p,i=a.Vector33D.get().copy(t),o=a.Vector33D.get().copy(n),s=a.Vector33D.get().set(t.x,t.y,n.z),c=a.Vector33D.get().set(t.x,n.y,n.z),l=a.Vector43D.get();l.x=Math.abs(o.distanceTo(c)),l.y=Math.abs(c.distanceTo(s)),l.z=Math.abs(s.distanceTo(i)),l.w=Math.abs(i.distanceTo(o)),e.result.dx=l.x,e.result.dy=l.y,e.result.dz=l.z,e.result.d=l.w,i.project(h),o.project(h),s.project(h),c.project(h),i.z>1&&(i.x=-i.x,i.y=-i.y),o.z>1&&(o.x=-o.x,o.y=-o.y),s.z>1&&(s.x=-s.x,s.y=-s.y),c.z>1&&(c.x=-c.x,c.y=-c.y),r.canvas2DDraw3DDis(A(i),A(o),A(s),A(c),l,e.color,e),a.Vector33D.back(s),a.Vector33D.back(o),a.Vector33D.back(i),a.Vector33D.back(c),a.Vector43D.back(l)},M=function(e){w(e.pInfos[0].p,e.pInfos[1].p,e)},b=function(e){var s=a.Vector33D.get().copy(e.pInfos[0].p),p=a.Vector33D.get().copy(e.pInfos[1].p);if(s.project(h),s.z>1&&(s.x=-s.x,s.y=-s.y),A(s),p.project(h),p.z>1&&(p.x=-p.x,p.y=-p.y),A(p),r.canvas2DDrawPoint(s,r.pSize,g(e.color,u,"88")),r.canvas2DDrawLine(s.x,s.y,p.x,p.y,2,g(e.color,u,"88"),l.BrowserInfo.isMobile?0:void 0),r.canvas2DDrawPoint(p,r.pSize,g(e.color,u,"88")),3===e.pInfos.length){var d=a.Vector33D.get().copy(e.pInfos[2].p);d.project(h),d.z>1&&(d.x=-d.x,d.y=-d.y),A(d),r.canvas2DDrawLine(p.x,p.y,d.x,d.y,3,g(e.color,u,"88"),l.BrowserInfo.isMobile?0:void 0),r.canvas2DDrawPoint(d,r.pSize,g(e.color,u,"88")),s.copy(e.pInfos[0].p),p.copy(e.pInfos[1].p),d.copy(e.pInfos[2].p);var f=a.Vector33D.get(),m=a.Vector33D.get();p.distanceTo(s)>p.distanceTo(d)?(f.lerpVectors(p,d,.25),m.lerpVectors(p,s,f.distanceTo(p)/s.distanceTo(p))):(f.lerpVectors(p,s,.25),m.lerpVectors(p,d,f.distanceTo(p)/d.distanceTo(p))),function(e,t,n,r,s){var c=a.Vector33D.get();o.save(),o.beginPath(),o.lineWidth=1,o.strokeStyle=i.getColorStyle(s),c.copy(e).project(h),c.z>1&&(c.x=-c.x,c.y=-c.y);A(c),o.moveTo(c.x,c.y);for(var l=0;l<r+1;l++)c.copy(t).lerpArc(e,n,l/r),c.project(h),c.z>1&&(c.x=-c.x,c.y=-c.y),A(c),o.lineTo(c.x,c.y);o.closePath(),o.stroke(),o.fillStyle=i.getColorStyle(s),o.fill(),o.restore(),a.Vector33D.back(c)}(p,f,m,n.arcSegment,g(e.color,!1,"30")),f.x=(s.x+p.x+d.x)/3,f.y=(s.y+p.y+d.y)/3,f.z=(s.z+p.z+d.z)/3,f.project(h),f.z>1&&(f.x=-f.x,f.y=-f.y),A(f);var y=(new a.Vector33D).copy(s);t.UI.getSystemType()===c.SystemType.ST_2D_WSM&&(y.z=0);var v=(new a.Vector33D).copy(p);t.UI.getSystemType()===c.SystemType.ST_2D_WSM&&(v.z=0);var x=(new a.Vector33D).copy(d);t.UI.getSystemType()===c.SystemType.ST_2D_WSM&&(x.z=0);var M=180*y.calcAngle(v,x)/Math.PI;e.result.angle=M,e.sys===c.SystemType.ST_3D_WSM||void 0===e.sys?r.drawMensureFont("R",f.x,f.y,M,r.fontSize,g(e.color,u,"88")):e.sys!==c.SystemType.ST_2D_WSM||isNaN(M)||(o.font="normal 12pt Microsoft YaHei",o.fillStyle=i.getColorStyle(g(e.color,u,"88")),o.textAlign="center",o.textBaseline="middle",o.fillText(M.toFixed(2)+" ",f.x,f.y)),a.Vector33D.back(d),a.Vector33D.back(f),a.Vector33D.back(m)}a.Vector33D.back(p),a.Vector33D.back(s)};r.canvas2DDraw3DDis=function(e,t,n,i,o,s,c){r.canvas2DDrawPoint(e,r.pSize,g(s,u,"88")),r.canvas2DDrawLine(e.x,e.y,t.x,t.y,2,g(s,u,"88"),0),r.canvas2DDrawPoint(t,r.pSize,g(s,u,"88")),r.guideEnable&&(r.canvas2DDrawLine(i.x,i.y,t.x,t.y,3,u?"#539453cc":"#53945380",0),r.canvas2DDrawLine(i.x,i.y,n.x,n.y,3,u?"#5757dacc":"#5757da80",0),r.canvas2DDrawLine(e.x,e.y,n.x,n.y,3,u?"#ec4545CC":"#ec454580",0)),0===c.result.dx&&0===c.result.dz?(r.guideEnable&&(r.drawMensureFont("Z",a._Math.lerp(e.x,n.x,.5),a._Math.lerp(e.y,n.y,.5),_(o.z),r.fontSize,u?"#ec4545":"#ec454580"),r.drawMensureFont("Y",a._Math.lerp(n.x,i.x,.4),a._Math.lerp(n.y,i.y,.5),_(o.y),r.fontSize,u?"#5757da":"#5757da80"),r.drawMensureFont("X",a._Math.lerp(i.x,t.x,.5),a._Math.lerp(i.y,t.y,.5),_(o.x),r.fontSize,u?"#539453":"#53945380")),r.drawMensureFont("D",a._Math.lerp(e.x,t.x,.6),a._Math.lerp(e.y,t.y,.5),_(o.w),r.fontSize,u?"#00B0B5":"#00B0B580")):0===c.result.dx&&0===c.result.dy?(r.guideEnable&&(r.drawMensureFont("Z",a._Math.lerp(e.x,n.x,.5),a._Math.lerp(e.y,n.y,.4),_(o.z),r.fontSize,u?"#ec4545":"#ec454580"),r.drawMensureFont("Y",a._Math.lerp(n.x,i.x,.4),a._Math.lerp(n.y,e.y,1),_(o.y),r.fontSize,u?"#5757da":"#5757da80"),r.drawMensureFont("X",a._Math.lerp(i.x,t.x,.5),a._Math.lerp(i.y,t.y,.5),_(o.x),r.fontSize,u?"#539453":"#53945380")),r.drawMensureFont("D",a._Math.lerp(e.x,t.x,.6),a._Math.lerp(e.y,t.y,.6),_(o.w),r.fontSize,u?"#00B0B5":"#00B0B580")):0===c.result.dz&&0===c.result.dy?(r.guideEnable&&(r.drawMensureFont("Z",a._Math.lerp(e.x,n.x,.5),a._Math.lerp(e.y,n.y,.5),_(o.z),r.fontSize,u?"#ec4545":"#ec454580"),r.drawMensureFont("Y",a._Math.lerp(n.x,i.x,.5),a._Math.lerp(n.y,i.y,.5),_(o.y),r.fontSize,u?"#5757da":"#5757da80"),r.drawMensureFont("X",a._Math.lerp(i.x,t.x,.6),a._Math.lerp(i.y,t.y,.5),_(o.x),r.fontSize,u?"#539453":"#53945380")),r.drawMensureFont("D",a._Math.lerp(e.x,t.x,.4),a._Math.lerp(e.y,t.y,.5),_(o.w),r.fontSize,u?"#00B0B5":"#00B0B580")):(r.guideEnable&&(r.drawMensureFont("Z",a._Math.lerp(e.x,n.x,.5),a._Math.lerp(e.y,n.y,.5),_(o.z),r.fontSize,u?"#ec4545":"#ec454580"),r.drawMensureFont("Y",a._Math.lerp(n.x,i.x,.5),a._Math.lerp(n.y,i.y,.5),_(o.y),r.fontSize,u?"#5757da":"#5757da80"),r.drawMensureFont("X",a._Math.lerp(i.x,t.x,.5),a._Math.lerp(i.y,t.y,.5),_(o.x),r.fontSize,u?"#539453":"#53945380")),r.drawMensureFont("D",a._Math.lerp(e.x,t.x,.5),a._Math.lerp(e.y,t.y,.5),_(o.w),r.fontSize,u?"#00B0B5":"#00B0B580"))};var w=function(e,n,s){var p=(new a.Vector33D).copy(e),d=(new a.Vector33D).copy(n);t.UI.getSystemType()===c.SystemType.ST_2D_WSM&&(p.z=0,d.z=0);var f=_(p.distanceTo(d));s.result.dx=_(Math.abs(e.x-n.x)),s.result.dy=_(Math.abs(e.y-n.y)),s.result.dz=0,s.result.d=f;var m=a.Vector33D.get().copy(e).project(h),y=a.Vector33D.get().copy(n).project(h);A(m),A(y),r.canvas2DDrawPoint(m,r.pSize,g(s.color,u,"88")),r.canvas2DDrawLine(m.x,m.y,y.x,y.y,2,g(s.color,u,"88"),l.BrowserInfo.isMobile?0:void 0),r.canvas2DDrawPoint(y,r.pSize,g(s.color,u,"88")),0!==f&&(o.font="normal 12pt Microsoft YaHei",o.fillStyle=i.getColorStyle(g(s.color,!0)),o.textAlign="center",o.textBaseline="middle",o.fillText(f.toFixed(2)+" "+r.unitName,(m.x+y.x)/2,(m.y+y.y)/2)),a.Vector33D.back(m),a.Vector33D.back(y)};function A(e){var t=o.canvas.width,n=o.canvas.height;return e.x=t/2*(e.x+1),e.y=n/2*(1-e.y),e}r.canvas2DDrawLine=function(e,t,n,r,a,s,c){o.save(),o.beginPath(),o.lineWidth=void 0===a?1:a,o.strokeStyle=i.getColorStyle(void 0===s?"black":s),o.setLineDash([void 0===c?1:c]),o.moveTo(e,t),o.lineTo(n,r),o.stroke(),o.restore()},r.canvas2DDrawPoint=function(e,t,n){o.save(),o.shadowOffsetX=0,o.shadowOffsetY=3,o.shadowBlur=6,o.shadowColor=i.getColorStyle(u?"#00000099":"#00000055"),o.beginPath(),o.moveTo(e.x,e.y),o.arc(e.x,e.y,this.wirePSize,0,2*Math.PI,!0),o.fillStyle=i.getColorStyle(u?"#ffffff":"#ffffff88"),o.fill(),o.restore(),o.save(),o.shadowOffsetX=0,o.shadowOffsetY=3,o.shadowBlur=6,o.shadowColor=i.getColorStyle(u?"#00000099":"#00000055"),o.beginPath(),o.moveTo(e.x,e.y),o.arc(e.x,e.y,t,0,2*Math.PI,!0),o.fillStyle=i.getColorStyle(n),o.fill(),o.restore()},r.drawMensureFont=function(e,t,n,r,a,s){o.save(),o.shadowOffsetX=0,o.shadowOffsetY=3,o.shadowBlur=6,o.shadowColor=i.getColorStyle(u?"#00000099":"#00000055");var c=r.toFixed(3);o.font="normal "+a+"px Microsoft YaHei";var l=o.measureText(c).width;o.fillStyle=i.getColorStyle(u?"#ffffff":"#ffffff80"),p.canvas2DDrawRect(t-l/2,n-a-8,l+5+4,24,0,5,0,1,!0,o.fillStyle),o.fill();var d=o.measureText(e).width,h=t-l/2-d-16-1,f=n-a-8;o.fillStyle=i.getColorStyle(s),p.canvas2DDrawRect(h,f,d+16,24,5,0,0,1,!0,o.fillStyle),o.fill(),o.restore(),o.save(),o.font="normal "+a+"px Microsoft YaHei",o.textAlign="center",o.fillStyle=i.getColorStyle(s),o.fillText(c,t+5,n-6),o.textAlign="end",o.fillStyle=i.getColorStyle(u?"#ffffff":"#ffffff80"),o.fillText(e,t-l/2-8-1,n-6),o.restore()},r.updateMensure=function(){!0===r.display&&r.drawMensureResults()},p.addMarkerUpdateContext(r.updateMensure),r.raycastMeasureInfo=function(e,t,n,r){var i,o=a.Vector23D.get().set(e,t);return f.forEach(function(e){!1!==r?e.pInfos.map(function(t){var r=t.c.radius;l.BrowserInfo.isMobile&&(t.c.radius=30),t.c.containPoint(o)&&n.push({info:e,pi:t}),l.BrowserInfo.isMobile&&(t.c.radius=r)}):i||(e.box.containsPoint(o)?(e.check=!0,i=e.id):e.check=!1)}),p.enableMarkerRefresh(),i&&p.dispatchEvent({type:"measure_check",params:{checkId:i}}),n.sort(function(e,t){return e.pi.c.z-t.pi.c.z}),a.Vector23D.back(o),n},r.removeMeasureInfo=function(e){f.delete(e),a.arrayRemove(i.measureIds,e),p.enableMarkerRefresh()},r.getMeasureResult=function(){return f},r.getSerializedMeasureInfos=function(){var e=this,t={};return f.forEach(function(n,r){t[r]=e.serializedObject(n)}),JSON.stringify(t)},r.addSerializedMeasureInfos=function(e){for(var t in"string"==typeof e&&(e=JSON.parse(e)),e)f.set(t,this.deSerializedObject(e[t]));p.enableMarkerRefresh()},r.addMeasureEventListener=r.addEventListener,r.removeMeasureEventListener=r.removeEventListener,r.dispatchMeasureEvent=r.dispatchEvent;var _=function(e){return!l.Util.isNull(r.ratioScaleCallback)&&l.Util.isFunction(r.ratioScaleCallback)&&(e=r.ratioScaleCallback(e)),e/d.model_unit*d.model_unit};return r.serializedObject=function(e){var t=this;switch(typeof e){case"object":if(e instanceof a.Vector33D)return[e.x,e.y,e.z,"vector3"];if(e instanceof a.Circle3D)return[e.radius,e.z,e.center.x,e.center.y,"circle"];if(e instanceof a.Box23D)return[e.min.x,e.min.y,e.max.x,e.max.y,"box2"];if(e instanceof Array){var n=[];return e.forEach(function(e){return n.push(t.serializedObject(e))}),n}var r={};for(var i in e){var o=e[i];void 0!==o&&(r[i]=this.serializedObject(o))}return r;default:return e}},r.deSerializedObject=function(e){var t=this;switch(typeof e){case"object":if(!(e instanceof Array)){var n={};for(var r in e){var i=e[r];n[r]=this.deSerializedObject(i)}return n}if(!(e.length>0))return{};if("number"!=typeof e[0]){var o=[];return e.forEach(function(e){return o.push(t.deSerializedObject(e))}),o}switch(e.pop()){case"vector3":return(new a.Vector33D).fromArray(e);case"box2":var s=new a.Box23D;return s.min.set(e[0],e[1]),s.max.set(e[2],e[3]),s;case"circle":var c=new a.Circle3D;return c.radius=e[0],c.z=e[1],c.center.set(e[2],e[3]),c;default:return{}}break;default:return e}},i.getColorStyle=function(e){if(l.BrowserInfo.isAndroid&&9===e.length){var t=parseInt(e.slice(7,9),16)/255;return o.globalAlpha=t,e.slice(0,7)}return e},r.getMeasureInfo=function(){var e=[];return f.forEach(function(t){e.push({id:t.id,createTime:t.createTime,check:t.check,state:t.state,result:t.result,display:t.display,color:t.color})}),JSON.stringify(e)},r.setMeaureInfoAttri=function(e,t,n){var r=f.get(e);r&&void 0!==r[t]&&(r[t]=n,p.enableMarkerRefresh())},r.clearAllMeasureInfos=function(){f.clear(),p.enableMarkerRefresh()},r.setPSEnClosedComplete=function(){var e=!1;return r._info&&r._info.pInfos.length&&r._info.pInfos.length>3&&(e=!0,r._info.pInfos.pop(),r._info.pInfos.push(r._info.pInfos[0]),r._info.check=!1,p.enableMarkerRefresh(),r._info=null),e},r.backMeasureInfo=function(){if(i.measureIds.length){var e=i.measureIds.pop();t.PARAMS.ms_PSEnClosedComplete=!0,i.removeMeasureInfo(e)}},r.getMeasureParams=function(){return{color:t.PARAMS.ms_color,visiable:t.PARAMS.ms_display,resultUnit:t.PARAMS.ms_unit,type:t.PARAMS.ms_state}},r.setMeasureParams=function(e){l.Util.assert(function(e){return!l.Util.isNil(e)},e,"",0)&&(l.Util.assert(l.Util.isString,e.color,"",0)&&(t.PARAMS.ms_color=e.color),t.PARAMS.ms_display=!1!==e.visiable,l.Util.assert(function(e){return!l.Util.isNil(e)},e.resultUnit,"",0)&&(t.PARAMS.ms_unit=e.resultUnit),l.Util.assert(function(e){return!l.Util.isNil(e)},e.type,"",0)&&(t.PARAMS.ms_state=e.type),l.Util.assert(l.Util.isArray,e.needToAddMeaureInfoCheckedListeners,"",0)&&e.needToAddMeaureInfoCheckedListeners.forEach(function(e){return t["3D"].addEventListener("measure_check",e)}),l.Util.assert(l.Util.isArray,e.needToRemoveMeaureInfoCheckedListeners,"",0)&&e.needToRemoveMeaureInfoCheckedListeners.forEach(function(e){return t["3D"].removeEventListener("measure_check",e)}))},r}var n;return i(t,e),n=t,t.arcSegment=100,t.pColor="#02d6dc88",t.lColor="#02d6dc80",t.aColor="#02d6dc55",t.cfColor="#02d6dc11",t.pcColor="#02d6dc",t.lcColor="#02d6dc",t.acColor="blue",o([s.ParamExport("ms_color","#02d6dc")],t.prototype,"measureColor",void 0),o([s.ParamExport("ms_enable",!1)],t.prototype,"enable",void 0),o([s.ParamExport("ms_state",l.BrowserInfo.isMobile?null:c.MEASURESTATE.DIS)],t.prototype,"state",void 0),o([s.ParamExport("ms_pSize",l.BrowserInfo.isMobile?3:6)],t.prototype,"pSize",void 0),o([s.ParamExport("ms_wirePSize",l.BrowserInfo.isMobile?5:10)],t.prototype,"wirePSize",void 0),o([s.ParamExport("ms_action",1)],t.prototype,"action",void 0),o([s.ParamExport("ms_fontSize",16)],t.prototype,"fontSize",void 0),o([s.ParamExport("ms_guideEnable",!0)],t.prototype,"guideEnable",void 0),o([s.ParamExport("ms_mea2DFontColor","#ffffff")],t.prototype,"font2Dcolor",void 0),o([s.ParamExport("ms_pointSize",20)],t.prototype,"pointSize",void 0),o([s.ParamExport("ms_unit",c.GUMUNIT.UNIT_MM)],t.prototype,"unit",void 0),o([s.ParamExport("ms_display",!0)],t.prototype,"display",void 0),o([s.ParamExport("ms_PSEnClosedComplete",!1)],t.prototype,"PSEnClosedComplete",void 0),o([s.ParamExport("ms_ratioScaleTranslateCallback",null)],t.prototype,"ratioScaleCallback",void 0),t=n=o([s.ApiExport(["addMeasureInfo","removeMeasureInfo","raycastMeasureInfo","getMeasureResult","addMeasureEventListener","removeMeasureEventListener","dispatchMeasureEvent","getSerializedMeasureInfos","addSerializedMeasureInfos","serializedObject","deSerializedObject","getColorStyle","getMeasureInfo","setMeaureInfoAttri","clearAllMeasureInfos","setPSEnClosedComplete","backMeasureInfo","setMeasureParams","getMeasureParams"],"3D")],t)}(a.EventDispatcher3D);t.Measure=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(328),l=n(17),u=function(e){function t(t){var r=e.call(this)||this;r.frame=0,r.route=new a.Queue;var i,o=r,u=t["3D"],p=t.PARAMS,d=a.MOVESTATE.NONE,h=a.MOVESTATE.NONE,f=0,m=!1,g=new a.Vector33D,y=new a.Vector33D,v=new a.Vector33D,x=new a.Vector33D,M=new a.Vector33D,b=new a.Vector33D,w=0,A=0,_=0,E=new a.Vector33D,D=new a.Euler3D(Math.PI/2,0,0),S=new a.Matrix43D,P=new a.Matrix43D,T=0,C=null,R=new a.Vector33D,I={currentLook:""};function O(){I.currentLook=u.getCurrentLook(),R.setFromMatrixPosition(u.getBenchCamera().matrixWorld),u.checkBenchCamera("pers"),i=u.getBenchCamera(),function(){if(null===C){var e=u.getProjectRotationRef();E.set(-e.y-Math.PI/2,-e.z+Math.PI/2,0),i.position.copy(R),o.wanderRotate(0,0),n.params.initPosition=o.getWanderPos()}else k(C);t["3D"].wsmControlUpdate()}(),p.ng_enable=!1,t.UI.focus(),t.UI.setWorkMode(8),o.dispatchWanderEvent({type:"enable"}),u.update()}function L(){u.checkBenchCamera("orth"),i=u.getBenchCamera(),p.ng_enable=!0,t.UI.setWorkMode(1),o.dispatchWanderEvent({type:"disable"}),u.setCurrentLook(I.currentLook)}function k(e){var t=JSON.parse(atob(e));i.position.fromArray(t.pos),E.fromArray(t.rotate),o.wanderRotate(0,0)}function B(){x.copy(y),v.copy(g),i.position.copy(x);var e=a.Vector33D.get(),n=a.Matrix43D.get();e.copy(v),M.subVectors(v,x),A=0,w=Math.sqrt(M.lengthSq()/t.PARAMS.wd_animationSpeed),b=new a.Vector33D(M.x/w,M.y/w,M.z/w),n.lookAt(i.position,e,new a.Vector33D(0,0,1)),i.quaternion.setFromRotationMatrix(n),a.Matrix43D.back(n),a.Vector33D.back(e)}return o.frame=u.getFrameNumber(),s.BindParam("wd_enable",function(e){!0===e?O():L()},t.handle),s.BindParam("wd_routeEnable",function(e){!0===e&&0!==o.route.size?(o.toolBarsEbable=t.PARAMS.ts_toolbarEnable,t.UI.enableToolBars(!1),O()):(t.UI.enableToolBars(o.toolBarsEbable),L())},t.handle),o.getWanderEnable=function(){return o.enable},o.dispose=c.noop,o.wanderMove=function(e,t){o.frame!==u.getFrameNumber()&&(o.ableMove(e,t)&&i.position.add(a.Vector33D.back(a.Vector33D.get()).set(e,t,0)),o.frame=u.getFrameNumber())},o.changeAltitude=function(e){i.position.z+=e},o.ableMove=function(){return!0},o.getMoveState=function(){return d},o.getWanderPos=function(){var e={pos:i.position.toArray([]),rotate:E.toArray([])};return btoa(JSON.stringify(e))},o.render=function(){if(o.routeEnable&&(0==f?(y=o.route.shift(),o.route.push(y),g=o.route.shift(),o.route.push(g),B(),f++):f<_?m?(y=g,g=o.route.shift(),o.route.push(g),B(),m=!1):(x.add(b),A<w-1?(i.position.copy(x),A++):(i.position.copy(v),f++,m=!0)):t.PARAMS.wd_routeEnable=!1,t["3D"].wsmControlUpdate()),o.enable){var e=(h!==d?d===a.MOVESTATE.NONE?(T-=n.params.acceleratedSpeed)<=0&&(T=0,h=a.MOVESTATE.NONE):(h=d,T=0):(T+=n.params.acceleratedSpeed)>=1&&(T=1),n.params.speed*T);switch(d){case a.MOVESTATE.MOVEFORWARD:o.wanderMove(-e*Math.sin(E.y),e*Math.cos(E.y)),t["3D"].wsmControlUpdate();break;case a.MOVESTATE.MOVEBACK:o.wanderMove(e*Math.sin(E.y),-e*Math.cos(E.y)),t["3D"].wsmControlUpdate();break;case a.MOVESTATE.MOVELEFT:o.wanderMove(-e*Math.cos(E.y),-e*Math.sin(E.y)),t["3D"].wsmControlUpdate();break;case a.MOVESTATE.MOVERIGHT:o.wanderMove(e*Math.cos(E.y),e*Math.sin(E.y)),t["3D"].wsmControlUpdate();break;case a.MOVESTATE.UP:o.changeAltitude(e),t["3D"].wsmControlUpdate();break;case a.MOVESTATE.DOWN:o.changeAltitude(-e),t["3D"].wsmControlUpdate();break;case a.MOVESTATE.NONE:switch(h){case a.MOVESTATE.MOVEFORWARD:o.wanderMove(-e*Math.sin(E.y),e*Math.cos(E.y)),t["3D"].wsmControlUpdate();break;case a.MOVESTATE.MOVEBACK:o.wanderMove(e*Math.sin(E.y),-e*Math.cos(E.y)),t["3D"].wsmControlUpdate();break;case a.MOVESTATE.MOVELEFT:o.wanderMove(-e*Math.cos(E.y),-e*Math.sin(E.y)),t["3D"].wsmControlUpdate();break;case a.MOVESTATE.MOVERIGHT:o.wanderMove(e*Math.cos(E.y),e*Math.sin(E.y)),t["3D"].wsmControlUpdate();break;case a.MOVESTATE.UP:o.changeAltitude(e),t["3D"].wsmControlUpdate();break;case a.MOVESTATE.DOWN:o.changeAltitude(-e),t["3D"].wsmControlUpdate()}}}},o.setWanderMoveState=function(e){d=e},o.wanderRotate=function(e,r){E.y-=e*n.params.rotationSpeed,E.x-=r*n.params.rotationSpeed,E.x>Math.PI/2?E.x=Math.PI/2:E.x<-Math.PI/2&&(E.x=-Math.PI/2),P.makeRotationFromEuler(D).multiply(S.makeRotationY(E.y)).multiply(S.makeRotationX(E.x)),i.rotation.setFromRotationMatrix(P),t["3D"].wsmControlUpdate()},o.addWanderRoute=function(e){o.route.push(e),_++},o.setWanderPos=function(e,t){void 0===t&&(t=!1),C=e,t&&(null==e&&(e=n.params.initPosition),k(e))},o.setWanderPosByCompentId=function(e){var t=a.Vector33D.get(),n=a.Box33D.get();u.getComponentBoundingBox(e,n.makeEmpty()),n.getCenter(i.position),n.getSize(t),a.Vector33D.back(t),a.Box33D.back(n)},o.setWanderMoveSpeed=function(e){n.params.speed=n.params.moveSpeed*e},o.addWanderEventListener=o.addEventListener,o.removeWanderEventListener=o.removeEventListener,o.dispatchWanderEvent=o.dispatchEvent,r.getWanderParams=function(){var e=t.PARAMS;return{speed:e.wd_moveSpeed,routeEnable:e.wd_routeEnable,animationSpeed:e.wd_animationSpeed}},r.setWanderParams=function(e){var n=t.PARAMS;l.Util.assert(l.Util.isNumber,e.speed,"",0)&&(n.wd_moveSpeed=e.speed),l.Util.assert(l.Util.isNumber,e.animationSpeed,"",0)&&(n.wd_animationSpeed=e.animationSpeed),l.Util.assert(l.Util.isArray,e.routeData,"",0)&&e.routeData.forEach(function(e){r.addWanderRoute(e)}),n.wd_routeEnable=!0===e.routeEnable},r}var n;return i(t,e),n=t,t.params={rotationSpeed:l.BrowserInfo.isMobile?.01:.001,speed:2/a._Math.METER2FOOT,acceleratedSpeed:.2,height:1.8/a._Math.METER2FOOT,initHeight:0,blendLoad:!1,blendSpeed:.03,persion:!1,moveSpeed:1,initPosition:"",inWander:function(){}},o([s.ParamExport("wd_routeEnable",!1)],t.prototype,"routeEnable",void 0),o([s.ParamExport("wd_animationSpeed",1)],t.prototype,"animationSpeed",void 0),o([s.ParamExport("wd_enable",!1)],t.prototype,"enable",void 0),o([s.ParamExport("wd_moveSpeed",1)],t.prototype,"moveSpeed",void 0),t=n=o([s.ApiExport(["wanderMove","ableMove","changeAltitude","getWanderEnable","getWanderPos","setWanderPos","setWanderMoveState","setWanderMoveSpeed","addWanderEventListener","removeWanderEventListener","dispatchWanderEvent","wanderRotate","setWanderPosByCompentId","addWanderRoute","setWanderParams","getWanderParams"],"3D")],t)}(a.EventDispatcher3D);t.Wander3D=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(328),c=n(21),l=n(17),u=function(e){function t(t,n){var r=e.call(this)||this;return r.basePlane=t,r.matrix=n,r.update(),r}return i(t,e),t.prototype.update=function(){return a.Plane3D.prototype.copy.call(this,this.basePlane.clone()),this},t.prototype.clone=function(){return new this.constructor(this.basePlane,this.matrix)},t.prototype.copy=function(e){return this.basePlane.copy(e.basePlane),this.matrix=e.matrix,this.update()},t}(a.Plane3D),p=function(e){function t(n,r){var i=e.call(this)||this;switch(i.clippingPlane=n,i.name=r,i.arrow=t.createArrow(),i.arrow.material.side=a.Constant.DoubleSide,i.arrow.name=r,i.arrowLine=t.createArrowLine(),r){case"maxx":case"minx":i.arrow.rotateZ(Math.PI/2),i.arrowLine.rotateZ(Math.PI/2);break;case"minz":case"maxz":i.arrow.rotateX(Math.PI/2),i.arrowLine.rotateX(Math.PI/2)}return i.add(i.arrow,i.arrowLine),i}return i(t,e),t.prototype.pan=function(e){if(this.clippingPlane&&this.arrow){var t=this.clippingPlane.basePlane.normal;this.clippingPlane.basePlane.constant+=e.dot(t)}},t.prototype.setArrowPos=function(e){this.position.copy(e)},t.prototype.applyMatrix=function(e){this.position.applyMatrix4(e)},t.prototype.setRoattion=function(e){this.rotation.setFromRotationMatrix(e)},t.createArrow=function(){var e,t;return function(){return(e=new a.BufferGeometry3D).addAttribute("position",new a.Float32BufferAttribute([.5,.125,0,-.5,.125,0,0,Math.sqrt(3)/2+.25,0,.5,-.125,0,-.5,-.125,0,0,-Math.sqrt(3)/2-.25,0],3,!1)),t=new a.MeshBasicMaterial3D({color:255}),new a.Mesh3D(e,t)}}(),t.createArrowLine=function(){var e;return function(){return new a.LineSegments3D(((t=new a.BufferGeometry3D).addAttribute("position",new a.Float32BufferAttribute([.5,.125,0,-.5,.125,0,-.5,.125,0,0,Math.sqrt(3)/2+.25,0,0,Math.sqrt(3)/2+.25,0,.5,.125,0,.5,-.125,0,-.5,-.125,0,-.5,-.125,0,0,-Math.sqrt(3)/2-.25,0,0,-Math.sqrt(3)/2-.25,0,.5,-.125,0],3,!1)),e||(e=new a.LineBasicMaterial3D({color:45237})),t),e);var t}}(),t}(a.Object3D),d=function(e){function t(t,n){var r=e.call(this)||this;r.clippingPlanes=t,r.isBoxHelper=!0,r._ints=[],void 0===n&&(n=16776960),t&&(r.clippingMatrix=t[0].matrix);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new a.BufferGeometry3D;return s.setIndex(new a.BufferAttribute3D(i,1)),s.addAttribute("position",new a.BufferAttribute3D(o,3)),a.LineSegments3D.call(r,s,new a.LineBasicMaterial3D({color:n,transparent:!1,opacity:1})),r.matrixAutoUpdate=!1,t&&r.update(),r.clippingBox=new a.Box33D,r}return i(t,e),t.prototype.update=function(){var e=a.Vector33D.get(),t=a.Vector33D.get(),n=a.Vector33D.get();e.set(this.clippingPlanes[0].basePlane.constant,this.clippingPlanes[1].basePlane.constant,this.clippingPlanes[2].basePlane.constant),t.set(-this.clippingPlanes[3].basePlane.constant,-this.clippingPlanes[4].basePlane.constant,-this.clippingPlanes[5].basePlane.constant);var r=this.clippingMatrix;this.clippingBox.set(t,e);var i=(new a.Vector33D).lerpVectors(t,e,.5);r=(new a.Matrix43D).makeRotationFromCenterAndRotationMatrix(this.clippingCenter,r);var o=this.geometry.attributes.get("position"),s=o.array;n.set(e.x,e.y,e.z).applyMatrix4(r),s[0]=n.x,s[1]=n.y,s[2]=n.z,n.set(t.x,e.y,e.z).applyMatrix4(r),s[3]=n.x,s[4]=n.y,s[5]=n.z,n.set(t.x,t.y,e.z).applyMatrix4(r),s[6]=n.x,s[7]=n.y,s[8]=n.z,n.set(e.x,t.y,e.z).applyMatrix4(r),s[9]=n.x,s[10]=n.y,s[11]=n.z,n.set(e.x,e.y,t.z).applyMatrix4(r),s[12]=n.x,s[13]=n.y,s[14]=n.z,n.set(t.x,e.y,t.z).applyMatrix4(r),s[15]=n.x,s[16]=n.y,s[17]=n.z,n.set(t.x,t.y,t.z).applyMatrix4(r),s[18]=n.x,s[19]=n.y,s[20]=n.z,n.set(e.x,t.y,t.z).applyMatrix4(r),s[21]=n.x,s[22]=n.y,s[23]=n.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere(),this.geometry.computeBoundingBox(),this._cube?(this._cube.geometry.update(e.x-t.x,e.y-t.y,e.z-t.z),this._cube.matrix.identity(),this._cube.geometry.applyMatrix((new a.Matrix43D).makeTranslation(i.x,i.y,i.z)),this._cube.applyMatrix(r),this._cube.geometry.computeBoundingBox(),this._cube.geometry.computeBoundingSphere(),this._cube.updateMatrixWorld()):this.initCube(),a.Vector33D.back(e),a.Vector33D.back(t),a.Vector33D.back(n)},t.prototype.set=function(e,t,n){this.clippingPlanes=e,this.clippingMatrix=e[0].matrix,this.material.color.set(t),this.clippingCenter=n,this.update()},t.prototype.raycast=function(t,n,r){if(void 0===r&&(r=!1),r)t.linePrecision=0,this.clippingPlanes.forEach(function(e){return t.linePrecision+=e.basePlane.constant}),l.BrowserInfo.isMobile?t.linePrecision/=100:t.linePrecision/=200,e.prototype.raycast.call(this,t,n),t.linePrecision=1;else{this.initCube();var i=this._ints;t.intersectObject(this._cube,!1,i),i.length>0&&(i[0].object=this,i.push.apply(n,i),i.length=0)}return n},t.prototype.initCube=function(){if(void 0===this._cube){var e=this._cube=new a.Mesh3D,t=a.Box33D.get().makeEmpty();if(t.copy(this.clippingBox),t.isEmpty())return void a.Box33D.back(t);e.geometry=new a.BoxBufferGeometry3D(t.max.x-t.min.x,t.max.y-t.min.y,t.max.z-t.min.z),e.material=new a.MeshBasicMaterial3D({color:16711680,opacity:.3,transparent:!0});var n=t.getCenter(new a.Vector33D);e.geometry.applyMatrix((new a.Matrix43D).makeTranslation(n.x,n.y,n.z)),e.applyMatrix((new a.Matrix43D).makeRotationFromCenterAndRotationMatrix(this.clippingCenter,this.clippingMatrix)),e.geometry.computeBoundingBox(),e.geometry.computeBoundingSphere(),e.updateMatrixWorld(),a.Box33D.back(t)}},t}(a.LineSegments3D),h=function(e){function t(t){var n,r,i,o,s,c=e.call(this)||this;c.api=t,c.rotationCicleRenderState=!1,c.rotationCircle=new a.Circle3D,c.renderClippingPlane=function(){var e=c.boxHelper.clippingBox,t=e.max,n=e.min,r=a.Vector33D.get(),i=a.Vector33D.get();switch(c.dragArrowName){case"maxx":r.copy(t),i.set(t.x,n.y,n.z),c.renderPlane(r,i,"x");break;case"minx":r.copy(n),i.set(n.x,t.y,t.z),c.renderPlane(r,i,"x");break;case"maxy":r.copy(t),i.set(n.x,t.y,n.z),c.renderPlane(r,i,"y");break;case"miny":r.copy(n),i.set(t.x,n.y,t.z),c.renderPlane(r,i,"y");break;case"maxz":r.copy(t),i.set(n.x,n.y,t.z),c.renderPlane(r,i,"z");break;case"minz":r.copy(n),i.set(t.x,t.y,n.z),c.renderPlane(r,i,"z")}a.Vector33D.back(r),a.Vector33D.back(i)},c.getClippingArrows=function(){return n||(n=[]),n.length=0,c.triArrows.forEach(function(e){return n.push(e.arrow)}),n},c.setArrowPosition=function(e){var t=this;r||(r=new a.Vector33D,s=new a.Vector33D),r.set(0,0,0),i=this.posParams[e%3],o=this.triArrows[e],i.forEach(function(e){r.add(s.copy(t.clippingPlanes[e].basePlane.normal).multiplyScalar(t.clippingPlanes[e].basePlane.constant))}),r.multiplyScalar(-.5),r.add(s.copy(o.clippingPlane.basePlane.normal).multiplyScalar(-o.clippingPlane.basePlane.constant)),o.setArrowPos(r),o.applyMatrix(this.getClippingMatrix()),o.setRoattion(this.clippingMatrix)},c.renderRotationCircle=function(){if(c.enable&&c.rotationCicleRenderState){var e=new a.Vector33D(c.boxHelper.clippingBox.min.x,c.boxHelper.clippingBox.min.y,c.boxHelper.clippingBox.max.z);e.applyMatrix4(c.getClippingMatrix()).project(c.api3d.getBenchCamera()),e.x=c.api3d.getCanvas2DSizeX(e.x),e.y=c.api3d.getCanvas2DSizeY(e.y);var t=c.api3d.getContext().getMarker();t.save(),t.restore(),t.strokeStyle="#7de7ea",t.lineWidth=1,t.beginPath(),t.moveTo(e.x+5*Math.SQRT2,e.y-5*Math.SQRT2),t.arc(e.x,e.y,8,-Math.PI/4,3*Math.PI/2),t.stroke(),t.restore(),c.rotationCircle.center.set(e.x,e.y),c.rotationCircle.radius=8}},c.setFromBox3=function(){var e,t;return function(n){n.isEmpty()&&c.api3d.getBenchBox(n),function(n){e||(e=new a.Box33D,t=new a.Vector33D),e.copy(n),n.getSize(t),e.expandByScalar((t.x+t.y+t.z)/30)}(n),n.getCenter(c.clippingCenter),c.ClippingPlanX.constant=e.max.x,c.ClippingPlanY.constant=e.max.y,c.ClippingPlanZ.constant=e.max.z,c.ClippingPlanXN.constant=-e.min.x,c.ClippingPlanYN.constant=-e.min.y,c.ClippingPlanZN.constant=-e.min.z,c.identity(),c.clippingPlanes.forEach(function(e,t){c.clippintPlanes0[t].copy(e)}),c.boxHelper.update(),c.updateClippingPlanes(),c.update()}}(),c.boxCache=new a.Box33D,c.sizeCache=new a.Vector33D,c.cacheXMaxpos=0,c.offsetXMaxpos=0,c.cacheXMinpos=0,c.offsetXMinpos=0,c.cacheYMaxpos=0,c.offsetYMaxpos=0,c.cacheYMinpos=0,c.offsetYMinpos=0,c.cacheZMaxpos=0,c.offsetZMaxpos=0,c.cacheZMinpos=0,c.offsetZMinpos=0,c.api3d=t["3D"],c.clippingMatrix=c.matrix,c.clippingCenter=new a.Vector33D;var l=c.clippingArrowsAndLines=new a.Object3D;c.clippingPlanes=[new u(new a.Plane3D(new a.Vector33D(-1,0,0)),c.clippingMatrix),new u(new a.Plane3D(new a.Vector33D(0,-1,0)),c.clippingMatrix),new u(new a.Plane3D(new a.Vector33D(0,0,-1)),c.clippingMatrix),new u(new a.Plane3D(new a.Vector33D(1,0,0)),c.clippingMatrix),new u(new a.Plane3D(new a.Vector33D(0,1,0)),c.clippingMatrix),new u(new a.Plane3D(new a.Vector33D(0,0,1)),c.clippingMatrix)],c.triArrows=[new p(c.clippingPlanes[0],"maxx"),new p(c.clippingPlanes[1],"maxy"),new p(c.clippingPlanes[2],"maxz"),new p(c.clippingPlanes[3],"minx"),new p(c.clippingPlanes[4],"miny"),new p(c.clippingPlanes[5],"minz")],c.initTriArrows();var h=c.clippintPlanes0=[];return c.clippingPlanes.forEach(function(e){return h.push(e.clone())}),c.boxHelper=new d,c.boxHelper.set(c.clippingPlanes,255,c.clippingCenter),c.boxHelper.name="boxhelper",c.arrowMap=new Map,c.triArrows.forEach(function(e){l.add(e),c.arrowMap.set(e.arrow,e)}),c.boxHelper.visible=!1,c.clippingArrowsAndLines.visible=!1,c.rotationEuler=new a.Euler3D,c}return i(t,e),t.prototype.dispose=function(){this.arrowMap.clear(),this.triArrows.length=0},t.prototype.update=function(){!0===this.gl.localClippingEnabled&&(this.updateArrowsRotation(),this.updateArrowsScale())},t.prototype.renderPlane=function(e,t,n){var r=this.api3d.getBenchCamera(),i=a.Vector33D.get().copy(e),o=a.Vector33D.get(),s=a.Vector33D.get().copy(t),c=a.Vector33D.get();switch(n){case"x":o.x=e.x,o.y=i.y,o.z=s.z,c.x=e.x,c.y=s.y,c.z=i.z;break;case"y":o.x=i.x,o.y=e.y,o.z=s.z,c.x=s.x,c.y=e.y,c.z=i.z;break;case"z":o.x=i.x,o.y=s.y,o.z=e.z,c.x=s.x,c.y=i.y,c.z=e.z}var u=this.getClippingMatrix();i.applyMatrix4(u).project(r),o.applyMatrix4(u).project(r),s.applyMatrix4(u).project(r),c.applyMatrix4(u).project(r);var p=this.api3d.getContext().getMarker();p.save(),p.restore(),l.BrowserInfo.isAndroid?(p.fillStyle=this.planeColor.substr(0,7),p.globalAlpha=parseInt(this.planeColor.substr(7,2),16)/255):p.fillStyle=this.planeColor,p.strokeStyle=this.planeColor.substr(0,7),p.beginPath(),p.moveTo(this.api3d.getCanvas2DSizeX(i.x),this.api3d.getCanvas2DSizeY(i.y)),p.lineTo(this.api3d.getCanvas2DSizeX(o.x),this.api3d.getCanvas2DSizeY(o.y)),p.lineTo(this.api3d.getCanvas2DSizeX(s.x),this.api3d.getCanvas2DSizeY(s.y)),p.lineTo(this.api3d.getCanvas2DSizeX(c.x),this.api3d.getCanvas2DSizeY(c.y)),p.closePath(),p.stroke(),p.fill(),p.restore(),a.Vector33D.back(i),a.Vector33D.back(o),a.Vector33D.back(s),a.Vector33D.back(c)},t.prototype.init=function(){var e=this;(this.gl=this.api.PARAMS.eg_gumRenderer).clippingPlanes.push.apply(this.gl.clippingPlanes,this.clippingPlanes),this.boxHelper.material.color.set(this.boxColor),this.triArrows.forEach(function(t){t.arrow.material.color.set(e.arrowColor)}),this.api3d.addObject3D(this.boxHelper,3),this.api3d.addObject3D(this.clippingArrowsAndLines,3),this.gl.localClippingEnabled=!1,c.BindParam("cp_boxColor",function(t){e.boxHelper.material.color.set(t),e.api.PARAMS.rd_minorRefresh=!0},this.api.handle),c.BindParam("cp_arrowColor",function(t){e.triArrows.forEach(function(e){e.arrow.material.color.set(t)}),e.api.PARAMS.rd_minorRefresh=!0},this.api.handle),c.BindParam("cp_arrowSize",function(t){e.arrowSize=t,e.updateArrowsScale(),e.api.PARAMS.rd_minorRefresh=!0},this.api.handle),c.BindParam("cp_arrowVisitable",function(t){e.clippingArrowsAndLines&&e.clippingArrowsAndLines.visible!==t&&(e.clippingArrowsAndLines.visible=t,e.rotationCicleRenderState=t,e.triArrows.forEach(function(e){return e.arrow.visible=t}),e.api.PARAMS.rd_minorRefresh=!0,e.api3d.enableMarkerRefresh())},this.api.handle),c.BindParam("cp_enable",function(t){e.gl.localClippingEnabled=t,!0===t?(e.boxHelper.visible=!0,e.setFromBox3(e.api3d.getBoxByRenderState())):!1===t&&(e.boxCache=new a.Box33D,e.sizeCache=new a.Vector33D,e.cacheXMaxpos=0,e.offsetXMaxpos=0,e.cacheXMinpos=0,e.offsetXMinpos=0,e.cacheYMaxpos=0,e.offsetYMaxpos=0,e.cacheYMinpos=0,e.offsetYMinpos=0,e.cacheZMaxpos=0,e.offsetZMaxpos=0,e.cacheZMinpos=0,e.offsetZMinpos=0,e.boxHelper.visible=!1),e.update()},this.api.handle),this.api3d.addMarkerUpdateContext(this.renderClippingPlane),this.api3d.addMarkerUpdateContext(this.renderRotationCircle)},t.prototype.initPosParams=function(){this.posParams=[],this.posParams.push([1,2,4,5],[0,2,3,5],[0,1,3,4])},t.prototype.setSectionParams=function(e){l.Util.assert(function(t){return!l.Util.isNil(e)},e,"sectionParams",0)&&(l.Util.assert(function(e){return l.Util.isNumber(e)&&e>0},e.arrowSize,"sectionParamsarrowSize",0)&&(this.api.PARAMS.cp_arrowSize=e.arrowSize),l.Util.assert(l.Util.isNumber,e.boxColor,"sectionParamsboxColor",0)&&(this.api.PARAMS.cp_boxColor=e.boxColor),l.Util.assert(l.Util.isNumber,e.arrowColor,"sectionParamsarrowColor",0)&&(this.api.PARAMS.cp_arrowColor=e.arrowColor),l.Util.assert(l.Util.isString,e.planColor,"sectionParamsplanColor",0)&&(this.api.PARAMS.cp_planColor=e.planColor))},t.prototype.setClippingParams=function(e){this.setSectionParams(e)},t.prototype.getSectionParams=function(){return{arrowSize:this.api.PARAMS.cp_arrowSize,arrowColor:this.api.PARAMS.cp_arrowColor,boxColor:this.api.PARAMS.cp_boxColor,planColor:this.api.PARAMS.cp_planColor}},t.prototype.getClippingParams=function(){return this.getSectionParams()},t.prototype.initTriArrows=function(){var e=this;e.initPosParams(),this.triArrows.forEach(function(t,n){e.setArrowPosition(n)})},t.prototype.getClippingMatrix=function(){return(new a.Matrix43D).makeRotationFromCenterAndRotationMatrix(this.clippingCenter,this.clippingMatrix)},Object.defineProperty(t.prototype,"ClippingPlanX",{get:function(){return this.clippingPlanes[0].basePlane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClippingPlanY",{get:function(){return this.clippingPlanes[1].basePlane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClippingPlanZ",{get:function(){return this.clippingPlanes[2].basePlane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClippingPlanXN",{get:function(){return this.clippingPlanes[3].basePlane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClippingPlanYN",{get:function(){return this.clippingPlanes[4].basePlane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClippingPlanZN",{get:function(){return this.clippingPlanes[5].basePlane},enumerable:!0,configurable:!0}),t.prototype.raycastRotationCircle=function(e){var t=e.clone();return t.x=this.api3d.getCanvas2DSizeX(t.x),t.y=this.api3d.getCanvas2DSizeY(t.y),this.rotationCircle.containPoint(t)},t.prototype.addSectionRotatinAngle=function(e){var t=(new a.Euler3D).setFromRotationMatrix(this.clippingMatrix);this.clippingMatrix.makeRotationZ(t.z+e.z),this.boxHelper.update(),this.updateClippingPlanes(),this.update(),this.api3d.update()},t.prototype.setSectionRotationAngleZByMousePosition=function(e){var t=this.api3d.getBenchCamera(),n=new a.Vector33D(this.boxHelper.clippingBox.min.x,this.boxHelper.clippingBox.min.y,this.boxHelper.clippingBox.max.z),r=this.clippingCenter.clone();r.z=this.boxHelper.clippingBox.max.z;var i=new a.Raycaster3D;i.setFromCamera(e,t);var o=(r.z-i.ray.origin.z)/i.ray.direction.z,s=(new a.Vector33D).copy(i.ray.origin).add((new a.Vector33D).copy(i.ray.direction).multiplyScalar(o)),c=n.calcAngle(r,s);this.identity(),this.clippingMatrix.makeRotationZ(c),(n=new a.Vector33D(this.boxHelper.clippingBox.min.x,this.boxHelper.clippingBox.min.y,this.boxHelper.clippingBox.max.z)).applyMatrix4(this.getClippingMatrix()),n.calcAngle(r,s)>.01&&this.clippingMatrix.makeRotationZ(-c),this.boxHelper.update(),this.updateClippingPlanes(),this.update(),this.api3d.enableMarkerRefresh(),this.api.PARAMS.rd_minorRefresh=!0,this.api3d.update()},t.prototype.updateClippingPlanes=function(){var e=this;this.clippingPlanes.forEach(function(e){return e.update()}),this.triArrows.forEach(function(t,n){return e.setArrowPosition(n)});var t=this.api.engine.malloc(96),n=this.boxHelper.clippingBox,r=this.getClippingMatrix(),i=n.max,o=n.min,s=new a.Vector33D(i.x,i.y,i.z).applyMatrix4(r),c=new a.Vector33D(i.x,i.y,o.z).applyMatrix4(r),l=new a.Vector33D(i.x,o.y,i.z).applyMatrix4(r),u=new a.Vector33D(i.x,o.y,o.z).applyMatrix4(r),p=new a.Vector33D(o.x,i.y,i.z).applyMatrix4(r),d=new a.Vector33D(o.x,i.y,o.z).applyMatrix4(r),h=new a.Vector33D(o.x,o.y,i.z).applyMatrix4(r),f=new a.Vector33D(o.x,o.y,o.z).applyMatrix4(r),m=new a.Plane3D;m.setFromCoplanarPoints(p,d,f);var g=this.api3d.getWasmModule();g.HEAPF32[t/4+0]=m.normal.x,g.HEAPF32[t/4+1]=m.normal.y,g.HEAPF32[t/4+2]=m.normal.z,g.HEAPF32[t/4+3]=-m.constant,m.setFromCoplanarPoints(s,l,u),g.HEAPF32[t/4+4]=m.normal.x,g.HEAPF32[t/4+5]=m.normal.y,g.HEAPF32[t/4+6]=m.normal.z,g.HEAPF32[t/4+7]=-m.constant,m.setFromCoplanarPoints(l,h,f),g.HEAPF32[t/4+8]=m.normal.x,g.HEAPF32[t/4+9]=m.normal.y,g.HEAPF32[t/4+10]=m.normal.z,g.HEAPF32[t/4+11]=-m.constant,m.setFromCoplanarPoints(s,c,d),g.HEAPF32[t/4+12]=m.normal.x,g.HEAPF32[t/4+13]=m.normal.y,g.HEAPF32[t/4+14]=m.normal.z,g.HEAPF32[t/4+15]=-m.constant,m.setFromCoplanarPoints(u,f,d),g.HEAPF32[t/4+16]=m.normal.x,g.HEAPF32[t/4+17]=m.normal.y,g.HEAPF32[t/4+18]=m.normal.z,g.HEAPF32[t/4+19]=-m.constant,m.setFromCoplanarPoints(s,p,h),g.HEAPF32[t/4+20]=m.normal.x,g.HEAPF32[t/4+21]=m.normal.y,g.HEAPF32[t/4+22]=m.normal.z,g.HEAPF32[t/4+23]=-m.constant,this.api.engine.setClippingsValue(t),this.api3d.update(),this.api.engine.free(t)},t.prototype.makeRadianBetweenNPIAndPI=function(e){return e=(e%=2*Math.PI)>Math.PI?e-2*Math.PI:e<-Math.PI?e+2*Math.PI:e},t.prototype.updateArrowsRotation=function(){var e=this;this.projectRotationEuler||(this.projectRotationEuler=this.api3d.getProjectRotationRef()),this.rotationEuler.copy(this.projectRotationEuler),this.rotationEuler.z=this.makeRadianBetweenNPIAndPI(this.rotationEuler.z);var t=a.Matrix43D.get(),n=a.Matrix43D.get();this.triArrows.forEach(function(r){switch(r.setRoattion(e.clippingMatrix),n.makeRotationZ(r.rotation.z),r.name){case"minz":case"maxz":r.rotation.z=-e.rotationEuler.z+Math.PI/2;break;case"minx":case"maxx":(i=e.makeRadianBetweenNPIAndPI(r.rotation.z+e.rotationEuler.z-Math.PI/2))<=Math.PI/2&&i>=-Math.PI/2?r.rotation.setFromRotationMatrix(n.multiply(t.makeRotationX(-Math.PI-e.rotationEuler.y))):r.rotation.setFromRotationMatrix(n.multiply(t.makeRotationX(e.rotationEuler.y)));break;case"miny":case"maxy":var i;(i=e.makeRadianBetweenNPIAndPI(r.rotation.z+e.rotationEuler.z-Math.PI/2))>=0&&i<=Math.PI?r.rotation.setFromRotationMatrix(n.multiply(t.makeRotationY(e.rotationEuler.y))):r.rotation.setFromRotationMatrix(n.multiply(t.makeRotationY(-Math.PI-e.rotationEuler.y)))}}),a.Matrix43D.back(t),a.Matrix43D.back(n)},t.prototype.updateArrowsScale=function(){var e=this.arrowSize*this.api.PARAMS.eg_frameBufferMultiple*20/this.api3d.getBenchCamera().zoom;this.triArrows.forEach(function(t){t.arrow.scale.set(e,e,e),t.arrowLine.scale.set(e,e,e)})},t.prototype.identity=function(){this.position.set(0,0,0),this.rotation.set(0,0,0),this.scale.set(1,1,1),this.clippingMatrix.identity()},t.prototype.reset=function(){var e=this;this.identity(),this.clippingPlans0.forEach(function(t,n){e.clippingPlanes[n].copy(t)})},t.prototype.moveClippingPlan=function(e,t){var n=this.arrowMap.get(t);e=e.clone().applyMatrix4((new a.Matrix43D).getInverse(this.clippingMatrix)),n&&(n.pan(e.negate()),this.updateClippingPlanes(),this.boxHelper.update(),this.api3d.update())},t.prototype.setClippingPlan=function(e,t){var n,r=new a.Object3D,i=new a.Vector33D;n=this.getClippingArrows();for(var o=0;o<n.length;o++)if(n[o].name==t){r=n[o];break}var s=new a.Matrix43D;switch(this.boxCache.isEmpty()&&(this.getClippingBoxAndMatrix(this.boxCache,s),this.boxCache.getSize(this.sizeCache)),t){case"maxx":this.offsetXMaxpos=e-this.cacheXMaxpos,this.cacheXMaxpos=e,i.set(this.offsetXMaxpos*this.sizeCache.x,0,0);break;case"minx":this.offsetXMinpos=e-this.cacheXMinpos,this.cacheXMinpos=e,i.set(this.offsetXMinpos*this.sizeCache.x,0,0);break;case"maxy":this.offsetYMaxpos=e-this.cacheYMaxpos,this.cacheYMaxpos=e,i.set(0,this.offsetYMaxpos*this.sizeCache.y,0);break;case"miny":this.offsetYMinpos=e-this.cacheYMinpos,this.cacheYMinpos=e,i.set(0,this.offsetYMinpos*this.sizeCache.y,0);break;case"maxz":this.offsetZMaxpos=e-this.cacheZMaxpos,this.cacheZMaxpos=e,i.set(0,0,this.offsetZMaxpos*this.sizeCache.z);break;case"minz":this.offsetZMinpos=e-this.cacheZMinpos,this.cacheZMinpos=e,i.set(0,0,this.offsetZMinpos*this.sizeCache.z)}this.moveClippingPlan(i,r)},t.prototype.setSectionPlanPosition=function(e,t){this.setClippingPlan(e,t)},t.prototype.getClippingBoxAndMatrix=function(e,t){e.max.set(this.clippingPlanes[0].basePlane.constant,this.clippingPlanes[1].basePlane.constant,this.clippingPlanes[2].basePlane.constant),e.min.set(-this.clippingPlanes[3].basePlane.constant,-this.clippingPlanes[4].basePlane.constant,-this.clippingPlanes[5].basePlane.constant),t.copy(this.clippingMatrix)},t.prototype.intersectClippingBox=function(e,t){var n=a.Box33D.get(),r=a.Matrix43D.get(),i=!0;if(!0===this.gl.localClippingEnabled)if(this.getClippingBoxAndMatrix(n,r),r.getInverse(r),e.isVector3){var o=a.Vector33D.get().copy(e).applyMatrix4(r);i=n.containsPoint(o),a.Vector33D.back(o)}else{var s=a.Box33D.get().copy(e).applyMatrix4(r);i=!0===t?n.containsBox(s):n.intersectsBox(s),a.Box33D.back(s)}return a.Box33D.back(n),a.Matrix43D.back(r),i},o([c.ParamExport("cp_boxMesh",null)],t.prototype,"boxHelper",void 0),o([c.ParamExport("cp_arrowSize",1)],t.prototype,"arrowSize",void 0),o([c.ParamExport("cp_boxColor",8251370)],t.prototype,"boxColor",void 0),o([c.ParamExport("cp_arrowColor",8251370)],t.prototype,"arrowColor",void 0),o([c.ParamExport("cp_arrowVisitable",!1)],t.prototype,"arrowVisiable",void 0),o([c.ParamExport("cp_enable",!1)],t.prototype,"enable",void 0),o([c.ParamExport("cp_dragArrowName",null)],t.prototype,"dragArrowName",void 0),o([c.ParamExport("cp_planColor","#02d6dc33")],t.prototype,"planeColor",void 0),t=o([s.Sealed(),c.ApiExport(["getClippingArrows","moveClippingPlan","setClippingPlan","setSectionPlanPosition","intersectClippingBox","setClippingParams","getClippingParams","setSectionParams","getSectionParams","raycastRotationCircle","addSectionRotatinAngle","setSectionRotationAngleZByMousePosition"],"3D")],t)}(a.Object3D);t.Clipping3D=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(21),a=function(){function e(e){this.api=e,this.imageData=0,this.needUpdate=!1,this.api3d=e["3D"],this.minorScene=new i.Scene3D,this.scenes=[];var t=this.api.UI.getSize(),n=this.api.PARAMS.eg_frameBufferMultiple;this.minorRenderTarget=new i.WebGLRenderTarget(t.width*n,t.height*n,{minFilter:i.Constant.LinearFilter,magFilter:i.Constant.LinearFilter,format:i.Constant.RGBAFormat,stencilBuffer:!1,depthBuffer:!0,depthTexture:new i.DepthTexture}),this.fog=new i.Fog3D(this.fogColor)}return e.prototype.init=function(){var e=this;this.gl=this.api.PARAMS.eg_gumRenderer;var t=this.api.PARAMS.eg_frameBufferMultiple,n=this.api.UI.getSize();this.minorRenderTarget.depthTexture.type=i.Constant.UnsignedIntType,this.imageData=this.api3d.getWasmModule().MallocJSArrayBuffer(n.width*t*n.height*t*4),this.colorBuffer=new s(n.width*t,n.height*t,0,this.api3d.getWasmModule().arrayBufferMap.get(this.imageData).buffer),o.BindParam("mr_fogColor",function(t){e.fog.color.set(t),e.api.PARAMS.rd_minorRefresh=!0},this.api.handle),o.BindParam("ng_navigateSize",function(t){e.fog.near=1,e.fog.far=t},this.api.handle),o.BindParam("rd_minorRefresh",function(t){1==t&&e.clear()},this.api.handle),this.api3d.addEventListener("mainview_frameend",function(){e.readPixelBuffer()})},e.prototype.resize=function(e,t){this.minorRenderTarget.setSize(1*e,1*t),this.imageData&&this.api3d.getWasmModule().FreeJSArrayBuffer(this.imageData),this.imageData=this.api3d.getWasmModule().MallocJSArrayBuffer(1*e*t*1*4),this.colorBuffer.resize(1*e,1*t,0,this.api3d.getWasmModule().arrayBufferMap.get(this.imageData).buffer)},e.prototype.render=function(){var e=this,t=this.gl,n=this.api3d.getBenchCamera();if(this.minorRefresh||this.needUpdate){this.clear(),this.needUpdate=!1;var r=t.localClippingEnabled;t.localClippingEnabled=!1,t.render(this.minorScene,n,this.minorRenderTarget),this.scenes.map(function(n){return t.render(n,n.camera,e.minorRenderTarget)}),t.localClippingEnabled=r,this.minorRefresh&&(this.minorRefresh=!1,this.readPixelBuffer())}},e.prototype.clear=function(){this.needUpdate=!0;var e=i.Color3D.get().setHex(0);this.gl.setClearColor(e,0),this.gl.clearTarget(this.minorRenderTarget),i.Color3D.back(e)},e.prototype.addObject=function(e){this.minorScene.add(e)},e.prototype.removeObject=function(e){this.minorScene.remove(e)},e.prototype.addMinorScene=function(e,t){void 0===t&&(t=!0),t&&(e.fog=this.fog),this.scenes.push(e)},e.prototype.readPixelBuffer=function(){var e=this.minorRenderTarget;this.colorBuffer.checkBuffer(this.api3d.getWasmModule().arrayBufferMap.get(this.imageData).buffer),this.gl.readRenderTargetPixels(e,0,0,e.width,e.height,this.colorBuffer.data),this.api.engine.setExtendedViewTextureData(this.imageData,e.width,e.height)},e.prototype.dispose=function(){this.minorScene.dispose(),this.scenes.map(function(e){return e.dispose()}),this.minorRenderTarget.dispose(),this.colorBuffer&&(this.colorBuffer.data=null,this.colorBuffer=null),this.api3d.getWasmModule().FreeJSArrayBuffer(this.imageData)},r([o.ParamExport("mr_fogColor",14935011)],e.prototype,"fogColor",void 0),r([o.ParamExport("rd_minorRefresh",!1)],e.prototype,"minorRefresh",void 0),e=r([o.ApiExport(["addMinorScene"],"3D")],e)}();t.MinorRenderer=a;var s=function(){function e(e,t,n,r){this.width=e,this.height=t,this.offset=n,this.size=e*t*4,this.data=new Uint8Array(r,n,this.size),this.tempArray=new Uint8Array(4),this.tempArray1=new Uint8Array(4)}return e.prototype.checkBuffer=function(e){0==this.data.length&&(this.data=new Uint8Array(e,this.offset,this.size))},e.prototype.resize=function(e,t,n,r){this.size=e*t*4,this.data=new Uint8Array(r,n,this.size),this.width=e,this.height=t,this.offset=n},e.prototype.getPixelColors=function(e,t,n,r,i){for(var o=this.tempArray,a=0;a<n;a++)for(var s=0;s<r;s++)i.setPixelColor(a,s,this.getPixelColor(a+e,s+t,o));return i},e.prototype.getPixelColor=function(e,t,n){var r=this.data,i=4*(t*this.width+e);return(!n||n.length<4)&&(n=this.tempArray),n[0]=r[i],n[1]=r[i+1],n[2]=r[i+2],n[3]=r[i+3],n},e.prototype.setPixelColor=function(e,t,n){if(n.length>=4){var r=this.data,i=4*(t*this.width+e);r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}return this},e.prototype.flipY=function(){for(var e=this.width,t=this.height,n=Math.floor(t/2),r=0;r<n;r++)for(var i=0;i<e;i++)this.swapPixelColor(i,r,i,t-1-r);return this},e.prototype.swapPixelColor=function(e,t,n,r){var i=this.getPixelColor(e,t,this.tempArray),o=this.getPixelColor(n,r,this.tempArray1);this.setPixelColor(e,t,o),this.setPixelColor(n,r,i)},e}();t.ColorBuffer=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(17),l=n(410),u=n(328),p=function(e){function t(t){var n=e.call(this)||this;n.api=t,n.scene=new a.MinorScene3D;var r=n.camera=new a.OrthographicCamera3D(1,-1,-1,1,-5e3,5e3);return n.scene.camera=r,r.up.copy(l.Cameras3D.defaultUp),r.position.set(0,0,1),r.lookAt(0,0,0),r.viewport=new a.Vector43D,n.navAmbientLight=new a.AmbientLight3D(16777215,.8),n.scene.add(n.navAmbientLight),s.BindParam("ng_navigateSize",function(e){n.size=e;var r=t.PARAMS.eg_frameBufferMultiple;e*=r;var i=n.camera;i.left=-e/2,i.right=e/2,i.top=e/2,i.bottom=-e/2,i.viewport.set(-e-n.right*r,-e-n.top*r,e,e),i.updateProjectionMatrix(),t.PARAMS.rd_minorRefresh=!0},t.handle),s.BindParam("ng_enable",function(e){var t=n.scene;!0===e?!0!==t.visible&&(n.api3d.update(),t.visible=!0):!1!==t.visible&&(n.api3d.update(),t.visible=!1)},t.handle),s.BindParam("ng_right",function(e){var r=t.PARAMS.eg_frameBufferMultiple,i=n.size*r,o=n.camera;o.viewport.set(-i-e*r,-i-n.top*r,i,i),o.updateProjectionMatrix(),t.PARAMS.rd_minorRefresh=!0},t.handle),s.BindParam("ng_top",function(e){var r=t.PARAMS.eg_frameBufferMultiple,i=n.size*r,o=n.camera;o.viewport.set(-i-n.right*r,-i-e*r,i,i),o.updateProjectionMatrix(),t.PARAMS.rd_minorRefresh=!0},t.handle),n}return i(t,e),t.prototype.dispose=function(){u.noop()},t.prototype.init=function(){var e=this.api3d=this.api["3D"];this.api.PARAMS.ng_navigateSize=this.size,e.addMinorScene(this.scene)},t.prototype.getNavigateScene=function(){return this.scene},t.prototype.getNavigateCamera=function(){return this.camera},t.prototype.setNavigatorParams=function(e){var t=this.api.PARAMS;c.Util.assert(function(e){return!c.Util.isNil(e)},e,"",0)&&(c.Util.assert(c.Util.isNumber,e.size,"",0)&&(t.ng_navigateSize=e.size),t.ng_enable=!1!==e.visiable,c.Util.assert(c.Util.isNumber,e.top,"",0)&&(t.ng_top=e.top),c.Util.assert(c.Util.isNumber,e.right,"",0)&&(t.ng_right=e.right),c.Util.assert(c.Util.isNumber,e.cubeColor,"",0)&&(t.ng_cubeColor=e.cubeColor),c.Util.assert(c.Util.isNumber,e.triColor,"",0)&&(t.ng_triColor=e.triColor),c.Util.assert(c.Util.isNumber,e.toursColor,"",0)&&(t.ng_circleColor=e.toursColor),c.Util.assert(c.Util.isNumber,e.arrowColor,"",0)&&(t.ng_arrowColor=e.arrowColor),c.Util.assert(c.Util.isNumber,e.checkedColor,"",0)&&(t.ng_checkColor=e.checkedColor),c.Util.assert(c.Util.isNumber,e.fontSize,"",0)&&(t.ng_fontSize=e.fontSize),c.Util.assert(c.Util.isNumber,e.wireframeColor,"",0)&&(t.ng_lineColor=e.wireframeColor),c.Util.assert(c.Util.isString,e.fontColor,"",0)&&(t.ng_fontColor=e.fontColor),c.Util.assert(c.Util.isString,e.fontFamily,"",0)&&(t.ng_fontFamily=e.fontFamily),t.ng_controlState=!1!==e.controlState)},t.prototype.getNavigatorParams=function(){var e=this.api.PARAMS;return{size:e.ng_navigateSize,visiable:e.ng_enable,right:e.ng_right,top:e.ng_top,cubeColor:e.ng_cubeColor,triColor:e.ng_triColor,toursColor:e.ng_circleColor,arrowColor:e.ng_arrowColor,checkedColor:e.ng_checkColor,fontSize:e.ng_fontSize,fontColor:e.ng_fontColor,fontFamily:e.ng_fontFamily,wireframeColor:e.ng_lineColor}},o([s.ParamExport("ng_navigateSize",c.BrowserInfo.isMobile?100:134)],t.prototype,"size",void 0),o([s.ParamExport("ng_enable",!0)],t.prototype,"enable",void 0),o([s.ParamExport("ng_right",20)],t.prototype,"right",void 0),o([s.ParamExport("ng_top",20)],t.prototype,"top",void 0),o([s.ParamExport("ng_cubeColor",13035769)],t.prototype,"cubeColor",void 0),o([s.ParamExport("ng_triColor",186076)],t.prototype,"triColor",void 0),o([s.ParamExport("ng_circleColor",186076)],t.prototype,"circleColor",void 0),o([s.ParamExport("ng_arrowColor",186076)],t.prototype,"arrowColor",void 0),o([s.ParamExport("ng_checkColor",186076)],t.prototype,"checkColor",void 0),o([s.ParamExport("ng_fontSize",50)],t.prototype,"fontSize",void 0),o([s.ParamExport("ng_fontColor","#269599")],t.prototype,"fontColor",void 0),o([s.ParamExport("ng_fontFamily"," ")],t.prototype,"fontFamily",void 0),o([s.ParamExport("ng_lineColor",8576222)],t.prototype,"lineUseColor",void 0),o([s.ParamExport("ng_controlState",!0)],t.prototype,"controlState",void 0),t=o([s.ApiExport(["getNavigateCamera","getNavigateScene","setNavigatorParams","getNavigatorParams"],"3D")],t)}(a.EventDispatcher3D);t.Navigate3D=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(21),a=n(17);!function(e){e.UNLOAD="unload",e.LOADENV="loadenv",e.LOADGEOMETRY="loadgeometry",e.ERROR="loaderror",e.END="loadend"}(i||(i={})),t.MODELLOADDES=i;var s=function(){function e(e){var t=this;this.api=e,this.renderProcess=function(){if(t.enable){var e=t.api3d.getContext().getMarker(),n=e.canvas.width,r=e.canvas.height,i=a.BrowserInfo.isMobile?690*n/1e3:790*n/1920,o=(n-i)/2,s=(a.BrowserInfo.isMobile,1*r/2);t.renderRect(e,o,s,i,8,4,"#ebe9e9"),t.renderRect(e,o,s,i*t.percent/100,8,4,"#02d6dc"),t.renderImage(e,o+i*t.percent/100,s,8),t.renderText(e,o+i+14,s+8)}},this.api3d=this.api["3D"],this.models=new Map,this.circle=new Image,this.circle.src=a.Icon.CIRCLE,this.spider=new Image,this.spider.src=a.Icon.SPD}return e.prototype.init=function(){var e=this;this.api3d.addEventListener("model_add",function(t){var n=t.params.newId;e.models.size,e.models.has(n)||(e.models.set(n,{percent:0,des:i.UNLOAD,time:0,preTIme:performance.now()}),e.updatePrecent())}),this.api3d.addEventListener("benchmodel_removemodel",function(t){var n=t.params.benchModelId;e.models.has(n)&&(e.models.delete(n),e.updatePrecent())}),this.api3d.addEventListener("model_beginload",function(t){var n=t.params.newId,r=e.models.get(n);r?(r.percent=10,r.des=i.LOADENV,r.time+=performance.now()-r.preTIme,r.preTIme=performance.now()):e.models.set(n,{percent:10,des:i.LOADENV,time:0,preTIme:performance.now()}),e.updatePrecent()}),this.api3d.addEventListener("fileloader_geomloadend",function(t){var n=t.params.newModelId,r=e.models.get(n);r?(r.percent=20+t.params.current/t.params.totial*80,r.des=i.LOADGEOMETRY,r.time+=performance.now()-r.preTIme,r.preTIme=performance.now()):e.models.set(n,{percent:20+t.params.current/t.params.totial*80,des:i.LOADGEOMETRY,time:0,preTIme:performance.now()}),e.updatePrecent()}),this.api3d.addEventListener("fileloader_geomallloadend",function(t){var n=t.params.newModelId,r=e.models.get(n);r?(r.percent=100,r.des=i.END,r.time+=performance.now()-r.preTIme,r.preTIme=performance.now()):e.models.set(n,{percent:100,des:i.END}),e.updatePrecent()}),this.api3d.addEventListener("fileloader_geomloaderror",function(t){var n=t.params.newModelId,r=e.models.get(n);r?(r.percent=20+t.params.current/t.params.totial*80,r.des=i.LOADGEOMETRY,r.time+=performance.now()-r.preTIme,r.preTIme=performance.now()):e.models.set(n,{percent:20+t.params.current/t.params.totial*80,des:i.LOADGEOMETRY,time:0,preTIme:performance.now()}),e.updatePrecent()}),this.api3d.addEventListener("fileloader_envloadend",function(t){var n=t.params.benchModelId,r=e.models.get(n);r?(r.percent=20,r.des=i.LOADGEOMETRY,r.time+=performance.now()-r.preTIme,r.preTIme=performance.now()):e.models.set(n,{percent:20,des:i.LOADGEOMETRY,time:0,preTIme:performance.now()}),e.updatePrecent()}),this.api3d.addMarkerUpdateContext(this.renderProcess)},e.prototype.updatePrecent=function(){var e=this,t=0;this.models.forEach(function(e){t+=e.percent}),100===(t/=this.models.size)&&(this.models.clear(),setTimeout(function(){e.enable=!1,e.api3d.enableMarkerRefresh()},500)),this.percent=t,this.api3d.dispatchEvent({type:"updateloadpercent",params:{percent:this.percent}}),this.api3d.enableMarkerRefresh()},e.prototype.renderRect=function(e,t,n,r,i,o,a){e.save(),e.beginPath(),e.moveTo(t,n),e.lineTo(t+r,n),e.arc(t+r,n+i/2,o,-Math.PI/2,Math.PI/2),e.moveTo(t+r,n+i),e.lineTo(t,n+i),e.arc(t,n+i/2,o,Math.PI/2,-Math.PI/2),e.closePath(),e.fillStyle=a,e.fill(),e.restore()},e.prototype.renderImage=function(e,t,n,r){e.save(),e.drawImage(this.circle,t-this.circle.width/2,n-this.circle.height/2+r/2),e.restore()},e.prototype.renderText=function(e,t,n){e.save(),e.font="normal 16px SimHei",e.fillStyle="#02d6dc",e.fillText(Math.floor(this.percent)+"%",t,n),e.restore()},e.prototype.dispose=function(){this.models.clear()},e.prototype.setModelLoadingProcessBarParams=function(e){var t=this;a.Util.assert(function(t){return!a.Util.isNil(e)},e,"modelLoadingProcessBarParams",0)&&(this.api.PARAMS.lp_enable=!0===e.visiable,a.Util.assert(a.Util.isArray,e.needToAddLoadingPercentChangeListeners,"modelLoadingProcessBarParams.needToAddLoadingPercentChangeListeners",0)&&e.needToAddLoadingPercentChangeListeners.forEach(function(e){return t.api3d.addEventListener("updateloadpercent",e)}),a.Util.assert(a.Util.isArray,e.needToRemoveLoadingPercentChangeLiteners,"modelLoadingProcessBarParams.needToRemoveLoadingPercentChangeLiteners",0)&&e.needToRemoveLoadingPercentChangeLiteners.forEach(function(e){return t.api3d.removeEventListener("updateloadpercent",e)}))},e.prototype.getModelLoadingProcessBarParams=function(){return{visiable:this.api.PARAMS.lp_enable}},r([o.ParamExport("lp_enable",!1)],e.prototype,"enable",void 0),r([o.ParamExport("lp_loadPercent",0)],e.prototype,"loadPercent",void 0),e=r([o.ApiExport(["setModelLoadingProcessBarParams","getModelLoadingProcessBarParams"],"3D")],e)}();t.LoadProcess=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(21),a=function(){function e(e){this.api=e,this.matches=new Map,this.api3d=e["3D"],this.keySet1=[],this.keySet2=[]}return e.prototype.matchText=function(e,t){var n=this;return this.matches.has(e)||(this.api["3D"].wsmTextForeach(function(t,r,i){n.kmpMatch(r,e)&&n.pushMathes(e,i.clone(),t,r)}),this.api.PARAMS.mk2_infos.forEach(function(t){t.type===i.MARKERTYPE.TEXT&&n.kmpMatch(t.data.text,e)&&n.pushMathes(e,n.computeMarker2DTextBox(t,new i.Box33D),t.id,t.data.text)})),this.focus=this.matches.get(e),this.index=-1,t||this.nextTextFocus(),this.focus?this.focus.length:0},e.prototype.init=function(){var e=this;function t(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].id===t)return!0===n&&delete e[r],!0;return!1}this.api3d.addEventListener("marker2d_addinfo",function(n){var r=n.params?n.params.info:null;if(r&&r.data&&r.type===i.MARKERTYPE.TEXT){var o=r.id,a=r.data.text;e.matches.forEach(function(n,s){e.kmpMatch(a,s)&&(t(n,o)||e.pushMathes(s,e.computeMarker2DTextBox(r,new i.Box33D),r.id))})}}),this.api3d.addEventListener("marker2d_removeinfo",function(n){var r=n.params?n.params.info:null;if(r&&r.data&&r.type===i.MARKERTYPE.TEXT){var o=r.id,a=r.data.text;e.matches.forEach(function(n,r){e.kmpMatch(a,r)&&t(n,o,!0)})}})},e.prototype.computeMarker2DTextBox=function(e,t){var n=e.data.fontPos,r=e.data.fontSize,o=e.data.text.length*r,a=i.Vector33D.get().copy(n),s=i.Vector33D.get().copy(n);switch(e.data.textAlign?e.data.textAlign:"center"){case"center":a.x-=o/2,s.x+=o/2;break;case"start":case"left":s.x+=o;break;case"end":case"right":a.x-=o}switch(e.data.textBaseline?e.data.textBaseline:"center"){case"middle":a.y-=r/2,s.y+=r/2;break;case"top":s.y+=r;break;case"bottom":a.y-=r}return t.makeEmpty(),t.expandByPoint(a.multiplyScalar(1/3)),t.expandByPoint(s.multiplyScalar(1/3)),i.Vector33D.back(a),i.Vector33D.back(s),t},e.prototype.kmpMatch=function(e,t){for(var n,r=this.calcPartMatch(t),i=e.length,o=t.length,a=0;a<i;a++){for(var s=0;s<o;s++){if(t.charAt(s)!=e.charAt(a)){s>1&&r[s-1]>0?a+=a-s-r[s-1]:a-=s;break}if(s==o-1){n=a-s;break}a++}if(n||0==n)break}return!(!n&&0!=n)},e.prototype.calcPartMatch=function(e){for(var t=[],n=0;n<e.length;++n)if(0!==n){var r=e.substring(0,n+1);this.keySet1.length=0,this.keySet2.length=0;for(var i=0;i<n;++i)this.keySet1[i]=r.slice(0,i+1),this.keySet2[i]=r.slice(-i-1),this.keySet1[i]===this.keySet2[i]&&(t[n]=this.keySet1[i].length);t[n]||(t[n]=0)}else t.push(0);return t},e.prototype.pushMathes=function(e,t,n,r){var i=this.matches.get(e);i||(i=[],this.matches.set(e,i)),i.push({id:n,box:t,context:r})},e.prototype.focusText=function(e){var t=i.Vector33D.get();this.api3d.setFocusPosition(e.getCenter(t)),this.api3d.setBenchCameraZoom(e,{changeZoom:!1,resetZoom:!0}),this.api3d.update(),this.api3d.wsmControlUpdate(),i.Vector33D.back(t)},e.prototype.preIndex=function(){return this.index--,this.index<0&&(this.index=this.focus.length-1),this.index},e.prototype.nextIndex=function(){return this.index++,this.index===this.focus.length&&(this.index=0),this.index},e.prototype.previousTextFocus=function(){return this.focus&&this.focusText(this.focus[this.preIndex()].box),this.index},e.prototype.nextTextFocus=function(){return this.focus&&this.focusText(this.focus[this.nextIndex()].box),this.index},e.prototype.dispose=function(){this.matches.clear(),this.focus=null},r([o.ParamExport("matches",null)],e.prototype,"matches",void 0),e=r([o.ApiExport(["matchText","previousTextFocus","nextTextFocus"],"3D")],e)}();t.TextMaching=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(328),l=n(17),u=function(e){function t(t){var r=e.call(this)||this;r.api=t;var i=r,o=t["3D"],c=t.UI.getSize(),u=o.getBenchCamera(),p=document.createElement("canvas");p.width=c.width,p.height=c.height;var d=p.getContext("2d",{alpha:!0}),h=0,f=!1,m=new Image;function g(e){return n.fontSize/e}function y(e){return e=p.width/2*(e+1)}function v(e){return e=p.height/2*(1-e)}m.src=l.Icon.SPDLOGO,s.BindParam("mk_watermarkenable",function(e){r.waterMarkeEnabke=e,t.PARAMS.rd_minorRefresh=!0,t.PARAMS.rd_extendUpdate=!0,M(),x(),f=!0,o.update()},t.handle),s.BindParam("mk_textContext",function(){return t.PARAMS.rd_minorRefresh=!0},t.handle),s.BindParam("mk_textColor",function(){return t.PARAMS.rd_minorRefresh=!0},t.handle),s.BindParam("mk_textSize",function(){return t.PARAMS.rd_minorRefresh=!0},t.handle),s.BindParam("spd_logoEnable",function(e){r.logoEnable=e,M(),x(),f=!0,o.update()},t.handle),i.textRenderTarget=new a.WebGLRenderTarget(c.width,c.height),i.textRenderTarget.texture=new a.CanvasTexture(p),i.textRenderTarget.texture.minFilter=a.Constant.NearestFilter,i.textRenderTarget.texture.generateMipmaps=!0,i.resize=function(e,t){f=!0,p.width=e,p.height=t,h&&o.getWasmModule().FreeJSArrayBuffer(h),h=o.getWasmModule().MallocJSArrayBuffer(p.width*p.height*4),i.clear()},i.clear=function(){d.save(),d.fillStyle="#00000000",d.clearRect(0,0,p.width,p.height),M(),x(),i.textRenderTarget.texture.needsUpdate=!0,d.restore()},i.render=function(e){var t;t=e,d.save(),function(e){0===e.material.color.r&&0===e.material.color.g&&0===e.material.color.b&&e.material.color.set(65793),d.fillStyle="#"+e.material.color.getHexString(),d.font="normal "+n.fontSize+"px "+e.material.fontName,function(e){switch(e.material.verticalAlignment){case a.VerticalAlignment.Buttom:d.textBaseline="bottom";break;case a.VerticalAlignment.Top:d.textBaseline="top";break;case a.VerticalAlignment.Middle:d.textBaseline="middle"}switch(e.material.horizontalAlignment){case a.HorizontalAlignment.Left:d.textAlign="left";break;case a.HorizontalAlignment.Right:d.textAlign="right";break;case a.HorizontalAlignment.Center:d.textAlign="center"}}(e)}(t),function(e){(function(e){var t=a.Vector33D.get(),n=a.Euler3D.get().setFromRotationMatrix(e.matrixWorld),r=a.Vector33D.get().setFromMatrixScale(e.matrixWorld),i=a.Matrix33D.get().getAffineRotationAndScale(u,y,v);t.setFromMatrixPosition(e.matrixWorld).project(u),d.translate(y(t.x),v(t.y)),d.transform(i.elements[0]/g(e.material.fontHeight),i.elements[1]/g(e.material.fontHeight),i.elements[2]/g(e.material.fontHeight),i.elements[3]/g(e.material.fontHeight),0,0),d.rotate(-n.z+Math.PI/2),d.scale(r.x,r.y),a.Euler3D.back(n),a.Vector33D.back(t),a.Matrix33D.back(i),a.Vector33D.back(r)})(e),d.fillText(e.geometry.textContext,0,0),d.fill()}(t),d.restore(),i.textRenderTarget.texture.needsUpdate=!0,f=!0},i.getCanvas=function(){return p},i.addWaterMarkText=function(e,t,n){this.waterMarkText=e,this.waterMarkTextSize=t?t/window.devicePixelRatio:120/window.devicePixelRatio,this.waterMarkTextColor=n||"#aaccbb88"};var x=function(){if(r.waterMarkeEnabke){d.save();var e=p.width,t=p.height,n=3*r.waterMarkTextSize;d.font="normal "+r.waterMarkTextSize+"px "+r.waterFontFamilt,d.fillStyle=o.getColorStyle(r.waterMarkTextColor);var i=d.measureText(r.waterMarkText).width,a=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))/2;d.rotate(Math.PI/4);for(var s=0;s<e/i+10;++s){d.translate(0,(s%2==1?1:-1)*n/2);for(var c=-a/n-s;c<a/n+s;++c)d.fillText(r.waterMarkText,s*i,c*n)}d.fill(),d.restore()}},M=function(){if(r.logoEnable){var e=d;e.save();var t=e.canvas.width,n=e.canvas.height;e.globalAlpha=1;var i=r.api.PARAMS.eg_frameBufferMultiple;e.translate(.5*t-m.width*i/6,l.BrowserInfo.isAndroid?n-150*i*.5:n-56*i*.5),e.scale(i/3,i/3),e.drawImage(m,0,0),e.restore()}};return i.dispose=function(){h&&o.getWasmModule().FreeJSArrayBuffer(h)},r.getWatermarkParams=function(){return{visiable:r.waterMarkeEnabke,textContext:r.waterMarkText,textColor:r.waterMarkTextColor,fontFamily:r.waterFontFamilt,textSize:r.waterMarkTextSize}},r.setWatermarkParams=function(e){l.Util.assert(function(e){return!l.Util.isNil(e)},e,"watermarkParams",0)&&(r.api.PARAMS.mk_watermarkenable=!0===e.visiable,l.Util.assert(function(e){return l.Util.isNumber(e)&&e>0},e.textSize,"watermarkParams.textSize>0",0)&&(r.api.PARAMS.mk_textSize=e.textSize),l.Util.assert(l.Util.isString,e.textContext,"watermarkParams.textContext",0)&&(r.api.PARAMS.mk_textContext=e.textContext),l.Util.assert(l.Util.isString,e.textColor,"watermarkParams.textColor",0)&&(r.api.PARAMS.mk_textColor=e.textColor),l.Util.assert(l.Util.isString,e.fontFamily,"watermarkParams.fontFamily",0)&&(r.api.PARAMS.mk_waterFontFamily=e.fontFamily))},r.init=function(){o.addEventListener("mainview_frameend",function(){var e;f&&(e=d.getImageData(0,0,p.width,p.height),o.getWasmModule().arrayBufferMap.get(h).set(e.data.buffer,e.data.buffer.byteLength,0,0),t.engine.setTextViewTextureData(h,p.width,p.height),f=!1)}),f=!0},r}var n;return i(t,e),n=t,t.fontSize=12,o([s.ParamExport("mk_watermarkenable",!1)],t.prototype,"waterMarkeEnabke",void 0),o([s.ParamExport("mk_textContext","SPD3D")],t.prototype,"waterMarkText",void 0),o([s.ParamExport("mk_textSize",26/window.devicePixelRatio)],t.prototype,"waterMarkTextSize",void 0),o([s.ParamExport("mk_textColor",l.BrowserInfo.isMobile?"#445566":"#88888834")],t.prototype,"waterMarkTextColor",void 0),o([s.ParamExport("spd_logoEnable",!0)],t.prototype,"logoEnable",void 0),o([s.ParamExport("mk_waterFontFamily","Microsoft YaHei, Times New Roman")],t.prototype,"waterFontFamilt",void 0),t=n=o([c.Sealed(),s.ApiExport(["addWaterMarkText","setWatermarkParams","getWatermarkParams"],"3D")],t)}(a.EventDispatcher3D);t.TextRenderer=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(17),l=function(e){function t(t){var n=e.call(this)||this;n.api=t;var r=t["3D"],i=new Map,o=new Map,l=r.getBenchCamera(),u=new Map,p=.001,d=n;function h(e){var t=u.get(e);void 0===t&&(t=new Map,u.set(e,t)),t.clear(),o.forEach(function(n,r){e===r&&n.forEach(function(e){e.ReAxiss.forEach(function(e){if(e.Data&&e.Data.length>=6)switch(e.statrPoint&&e.statrPoint.isVector3||(e.statrPoint=(new a.Vector33D).fromArray(e.Data,0)),e.endPoint&&e.endPoint.isVector3||(e.endPoint=(new a.Vector33D).fromArray(e.Data,3)),e.Type){case 0:!function(e,t,n){var r=!1,i=!1;if(Math.abs(e.x-t.x)<p){var o=n.get("x");o||n.set("x",o=new Map),o.forEach(function(n,o){r||Math.abs(o-e.x)<p&&(n.push((new a.Vector33D).copy(e).lerp(t,.1)),r=!0),i||Math.abs(o-t.x)<p&&(n.push((new a.Vector33D).copy(t).lerp(e,.1)),i=!0)}),r||o.set(e.x,[e]),i||o.set(t.x,[t])}else if(Math.abs(e.y-t.y)<p){var o=n.get("y");o||n.set("y",o=new Map),o.forEach(function(n,o){r||Math.abs(o-e.y)<p&&(n.push(e),r=!0),i||Math.abs(o-t.y)<p&&(n.push(t),i=!0)}),i||o.set(e.y,[e]),r||o.set(t.y,[t])}else console.warn("Not support this grid")}(e.statrPoint,e.endPoint,t)}else console.warn("Axis data illegality!")})})}),function(e){u.forEach(function(t,n){e===n&&t.forEach(function(e,t){e.forEach(function(e){e.sort(function(e,n){return"x"===t?e.y-n.y:e.x-n.y})})})})}(e)}var f=function(e,t,n){var i=t.getSize(a.Vector33D.get()),o=a.Vector33D.get().set(n.min.x,n.min.y,e.Height),s=a.Vector33D.get().set(n.max.x===n.min.x?n.min.x:n.min.x-i.x/10,n.max.x===n.min.x?n.min.y-i.y/10:n.min.y,e.Height),c=a.Vector33D.get().set(n.max.x,n.max.y,e.Height),u=a.Vector33D.get().set(n.max.x===n.min.x?n.max.x:n.max.x+i.x/10,n.max.x===n.min.x?n.max.y+i.y/10:n.max.y,e.Height),p=a.Vector33D.get().copy(u).lerp(c,5/6);p.z-=c.distanceTo(u)/6;var d=a.Vector33D.get().copy(u).lerp(c,2/3),h=a.Vector33D.get().copy(c).lerp(u,7/6),f=a.Vector33D.get().copy(s).lerp(o,5/6);f.z-=o.distanceTo(s)/6;var m=a.Vector33D.get().copy(s).lerp(o,2/3),g=a.Vector33D.get().copy(o).lerp(s,7/6);M(o.project(l)),M(s.project(l)),M(c.project(l)),M(u.project(l)),M(p.project(l)),M(d.project(l)),M(h.project(l)),M(f.project(l)),M(m.project(l)),M(g.project(l)),r.canvas2DDrawPath([s,o,f,m],1,"red",0,!0),r.canvas2DDrawPath([u,c,p,d],1,"red",0,!0),v(e.Name,e.Height,i,s,s,"red",14,"left","right"),v(e.Name,e.Height,i,u,u,"red",14,"right","left"),a.Vector33D.back(i),a.Vector33D.back(o),a.Vector33D.back(s),a.Vector33D.back(f),a.Vector33D.back(m),a.Vector33D.back(g),a.Vector33D.back(c),a.Vector33D.back(u),a.Vector33D.back(p),a.Vector33D.back(d),a.Vector33D.back(h)},m=function(e,t,i){var o=a.Vector33D.get().copy(e.statrPoint),s=a.Vector33D.get().copy(e.endPoint),c=a.Vector33D.get().subVectors(s,o).setLength(5),u=a.Vector33D.get().copy(e.statrPoint).sub(c),p=a.Vector33D.get().copy(e.endPoint).add(c);if(o.project(l),s.project(l),u.project(l),p.project(l),M(o),M(s),M(u),M(p),n.ctx.save(),r.canvas2DDrawPath([o,s],1,"red",5,!0),n.ctx.restore(),e.Name=i,g(u)&&y(e.Name,"red",n.axisNameSize,u,e.statrPoint.y-e.endPoint.y<1e-5?"y":"x","start"),g(p)&&y(e.Name,"red",n.axisNameSize,p,e.statrPoint.y-e.endPoint.y<1e-5?"y":"x","end"),!g(u)&&!g(p)){var d=(u.y-p.y)/(u.x-p.x),h=u.y-d*u.x,f=n.ctx.canvas.width,m=n.ctx.canvas.height,v=[a.Vector33D.get(),a.Vector33D.get(),a.Vector33D.get(),a.Vector33D.get()];v[0].set(0,h,0),v[1].set(f,d*f+h,0),v[2].set(-h/d,0,0),v[3].set((m-h)/d,m,0),v.sort(function(e,t){return e.x-t.x});var x=v[1].lerp(v[2],.5);y(e.Name,"red",n.axisNameSize,x,e.statrPoint.y-e.endPoint.y<1e-5?"y":"x","end"),a.Vector33D.back(v[0]),a.Vector33D.back(v[1]),a.Vector33D.back(v[2]),a.Vector33D.back(v[3])}a.Vector33D.back(o),a.Vector33D.back(s),a.Vector33D.back(c),a.Vector33D.back(u),a.Vector33D.back(p)},g=function(e){return e.x>=0&&e.x<=n.ctx.canvas.width&&e.y>=0&&e.y<n.ctx.canvas.height},y=function(e,t,i,o,s,c){n.ctx.save(),n.ctx.fillStyle=t,n.ctx.font="normal "+i+"pt Microsoft YaHei",n.ctx.textAlign="center",n.ctx.textBaseline="middle",n.ctx.translate(o.x,o.y);var u=l.zoom;u=Math.max(u,1);var p=a.Matrix33D.get().getAffineRotationAndScale(l,r.getCanvas2DSizeX,r.getCanvas2DSizeY);n.ctx.transform(p.elements[0]/u,p.elements[1]/u,p.elements[2]/u,p.elements[3]/u,0,0),"x"===s&&n.ctx.rotate(Math.PI/2),"end"===c&&n.ctx.rotate(Math.PI),n.ctx.strokeStyle="#ff0000",n.ctx.lineWidth=1,n.ctx.beginPath(),n.ctx.arc(0,-3,n.axisNameSize+4,0,2*Math.PI),n.ctx.fillText(e,0,0),n.ctx.stroke(),n.ctx.restore()},v=function(e,t,r,i,o,a,s,c,u){var p=t.toFixed(2);"0.00"==p&&(p=""+p),n.ctx.save(),n.ctx.fillStyle=a,n.ctx.font="normal "+s+"pt Microsoft YaHei",n.ctx.textAlign=c,n.ctx.textBaseline="bottom",n.ctx.translate(i.x,i.y),n.ctx.scale(l.zoom*Math.max(r.x,r.y)/40/24,l.zoom*Math.max(r.x,r.y)/40/24),n.ctx.fillText(p,0,0),n.ctx.restore(),n.ctx.save(),n.ctx.fillStyle=a,n.ctx.font="normal "+s+"pt Microsoft YaHei",n.ctx.textAlign=u,n.ctx.textBaseline="middle",n.ctx.translate(o.x,o.y),n.ctx.scale(l.zoom*Math.max(r.x,r.y)/40/24,l.zoom*Math.max(r.x,r.y)/40/24),n.ctx.fillText(e,0,0),n.ctx.restore()};function x(e,t,n,r){var i=t.get(e);i||(i=new Map,t.set(e,i)),c.Util.isArray(n)?n.map(function(e){return r(i,e)}):r(i,n)}r.addMarkerUpdateContext(function(){d.enableLevel&&(i.forEach(function(e,t){var n=r.getModelBoundBox(t,a.Box33D.get().makeEmpty()),i=function(e){var t=e.getCenter(a.Vector33D.get()),n=e.getSize(a.Vector33D.get());return n.x<n.y?(e.max.x=t.x,e.min.x=t.x):(e.max.y=t.y,e.min.y=t.y),a.Vector33D.back(t),a.Vector33D.back(n),e}(a.Box33D.get().copy(n));e.forEach(function(e){return f(e,n,i)}),a.Box33D.back(n),a.Box33D.back(i)}),u.forEach(function(e){})),d.enableGrid&&o.forEach(function(e,t){var n=r.getModelBoundBox(t,a.Box33D.get().makeEmpty());e.forEach(function(e){e.ReAxiss.forEach(function(t){return m(t,n,e.Name)})}),a.Box33D.back(n)})}),n.init=function(){n.ctx=r.getContext().getMarker(),s.BindParam("lg_enableLevel",function(e){d.enableLevel!==e&&r.enableMarkerRefresh()},n.api.handle),s.BindParam("lg_enableGrid",function(e){d.enableGrid!==e&&r.enableMarkerRefresh()},n.api.handle)},n.addLevel=function(e,t){x(e,i,t,function(e,t){return e.set(t.Name,t)})},n.addGrid=function(e,t){x(e,o,t,function(e,t){return e.set(t.Guid,t)}),h(e)},n.removeLevel=function(e,t){x(e,i,t,function(e,t){return e.delete(t.Name)})},n.removeGrid=function(e,t){x(e,o,t,function(e,t){return e.delete(t.Guid)}),h(e)},n.dispose=function(){i.clear(),o.clear()};var M=function(e){var t=n.ctx.canvas.width,r=n.ctx.canvas.height;return e.x=t/2*(e.x+1),e.y=r/2*(1-e.y),e};return n.setLevelsAndGridsParams=function(e){c.Util.assert(function(e){return!c.Util.isNil(e)},e,"levelsAndGridsParams",0)&&(n.api.PARAMS.lg_enableLevel=!0===e.levelsDisplay,n.api.PARAMS.lg_enableGrid=!0===e.gridsDisplay,c.Util.assert(c.Util.isNumber,e.gridNameSize,"levelsAndGridsParams.gridNameSize",0)&&(n.api.PARAMS.lg_axisNameSize=e.gridNameSize),c.Util.assert(function(e){return!c.Util.isNil(e)&&e.set&&e.get},e.levels,"levelsAndGridsParams.levelsmap",0)&&e.levels.forEach(function(e,t){return n.addLevel(t,e)}),c.Util.assert(function(e){return!c.Util.isNil(e)&&e.set&&e.get},e.grids,"levelsAndGridsParams.gridsmap",0)&&e.grids.forEach(function(e,t){return n.addGrid(t,e)}))},n.getLevelsAndGridsParams=function(){return{levelsDisplay:n.api.PARAMS.lg_enableLevel,gridsDisplay:n.api.PARAMS.lg_enableGrid,gridNameSize:n.api.PARAMS.lg_axisNameSize}},n}return i(t,e),o([s.ParamExport("lg_enableLevel",!1)],t.prototype,"enableLevel",void 0),o([s.ParamExport("lg_enableGrid",!1)],t.prototype,"enableGrid",void 0),o([s.ParamExport("lg_axisNameSize",12)],t.prototype,"axisNameSize",void 0),t=o([s.ApiExport(["addLevel","addGrid","removeLevel","removeGrid","setLevelsAndGridsParams","getLevelsAndGridsParams"],"3D")],t)}(a.EventDispatcher3D);t.LevelAndGrid3D=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(23),a=n(427),s=function(){function e(e){this._api=e,this._api3d=this._api["3D"],this._benchHandle=e.handle,this._links=new Map}return e.prototype.init=function(){var e=this;this._api3d.addEventListener("control_update",function(){e.updateLink()})},e.prototype.addLink=function(e,t){if(this._benchHandle===e)throw Error("Add link failed, benc params invalid. the benchId is equal to this bench");var n=a.Apis.getApi(e);if(t.acceptLinked=!1!==t.acceptLinked,t.linked=!1!==t.linked,!n)throw Error("Add link failed, bench id illegality!");if(!1===t.acceptLinked&&!1===t.linked)throw Error("Add link failed, benc params invalid. the acceptLinked and linked muse have one to be true or default");t.acceptLinked&&this._links.set(e,t),t.linked&&!n["3D"].hasLinkWith(this._benchHandle)&&n["3D"].addLink(this._benchHandle,{acceptLinked:!0,linked:t.acceptLinked})},e.prototype.removeLink=function(e,t){t=!1!==t,this._links.delete(e);var n=a.Apis.getApi(e);n&&t&&n["3D"].removeLink(this._benchHandle,!1)},e.prototype.getLink=function(e){return this._links.get(e)},e.prototype.setLinkParams=function(e,t,n,r){var i=a.Apis.getApi(e);if(!this._links.has(e)||!e)throw Error("Set link params failed, has no this benchid linked");if(!("3D"===r&&t&&t.length>=4&&n&&n.length>=4||"2D"===r&&t&&t.length>=3&&n&&n.length>=3))throw Error("Set link params failed, the srcLocPoints and dstLocPoints must more than three('2D') or four('3D') point");var s=new o.Matrix43D,c=new o.Matrix43D;if(3==t.length&&t.push(new o.Vector33D),3==n.length&&n.push(new o.Vector33D),s.set(t[0].x,t[1].x,t[2].x,t[3].x,t[0].y,t[1].y,t[2].y,t[3].y,t[0].z,t[1].z,t[2].z,t[3].z,1,1,1,1),c.set(n[0].x,n[1].x,n[2].x,n[3].x,n[0].y,n[1].y,n[2].y,n[3].y,n[0].z,n[1].z,n[2].z,n[3].z,1,1,1,1),Math.abs(c.determinant())<1e-5||Math.abs(s.determinant())<1e-5)throw Error("the determinat of the srcMatrix or dst matrix is zeor!");var l=(new o.Matrix43D).getInverse(s).premultiply(c),u=(new o.Matrix43D).getInverse(l),p=i["3D"].getBenchTransform();i["3D"].setBenchTransform(p.multiply(u))},e.prototype.getLinks=function(){var e=[];return this._links.forEach(function(t,n){e.push(n)}),e},e.prototype.hasLinkWith=function(e){return this._links.has(e)},e.prototype.dispose=function(){var e=this;this._links.forEach(function(t,n){e.removeLink(n)}),this._links.clear()},e.prototype.updateLink=function(){var e=this,t=JSON.parse(atob(this._api3d.getCurrentLook()));this._links.forEach(function(n,r){n.acceptLinked&&e.setBenchLook(r,n,t)})},e.prototype.setBenchLook=function(e,t,n){var r=a.Apis.getApi(e);r&&r["3D"].setCurrentLook(btoa(JSON.stringify(n)),!1,!1)},e=r([i.ApiExport(["addLink","removeLink","getLinks","hasLinkWith","getLink","setLinkParams"],"3D")],e)}();t.BenchLink=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(326),a=n(328),s=n(377),c=function(){var e=function(){function e(){this.initialize=function(e){t.apiMap.set(e.handle,e);var n=e["3D"];s.spiderBimApp&&s.spiderBimApp.getPosition&&n.addEventListener("marker2d_addtext",function(e){s.spiderBimApp.getPosition(JSON.stringify(e))})},this.dispose=function(){this.initialize=a.noop,this.dispose=a.noop}}var t;return t=e,e.apiMap=new Map,e=t=r([o.Plugin(i.SystemType.ST_2D_WSM),o.Plugin(i.SystemType.ST_3D_WSM),o.Plugin(i.SystemType.ST_PANORAMA),o.Plugin(i.SystemType.ST_2D),o.Plugin(i.SystemType.ST_GIS),o.Plugin(i.SystemType.ST_3D)],e)}().apiMap;return{run:function(t,n,r,i){if(e.has(t)){var o=e.get(t);if(o[n]&&o[n][r])return o[n][r].apply(o,i),!0}return!1},getApi:function(t){return e.get(t)},removeApi:function(t){e.delete(t)}}}();t.Apis=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(21),a=n(17),s=n(23),c=function(){return function e(t,n,r,o){var a=this;this.obj=t,this.api=n;var c=this,l=n["3D"],u=n.PARAMS;if(t)null==r&&(r=u.dt_label,u.dt_label++),c.key=u.dt_label,u.dt_label++,c.title=t.Name,c.guid=t.Guid,c.parentGuid=t.ParentGuid,c.parentKey=r,c.uuid=new Set(t.InstanceGuids),c.hiddenUuid=new Set,c.checkState=i.DirectoryCheckState.CHECK,c.children=[],c.isDispatchEvent=!1,0!=c.uuid.size&&c.uuid.forEach(function(e){u.dt_uuidToKey.set(e,a.key)}),u.dt_checkedKeys.add(this.key),u.dt_directorytree.set(this.key,this),u.dt_directoryState.set(this.key,this.checkState),0!==t.Children.length&&t.Children.forEach(function(t){var r=new e(t,n,c.key);a.children.push(r)});else if(o)switch(c.key=u.dt_label,u.dt_label++,c.title=o.title,c.guid=s.btoa3D(s._Math.generateUUID()),c.children=void 0===o.children?[]:o.children,c.parentGuid=s.btoa3D(s._Math.generateUUID()),c.parentKey=o.parentKey,c.uuid=void 0===o.uuid?new Set:o.uuid,c.hiddenUuid=void 0===o.hiddenUuid?new Set:o.hiddenUuid,c.checkState=void 0===o.checkState?i.DirectoryCheckState.CHECK:o.checkState,c.checkState){case i.DirectoryCheckState.CHECK:c.uuid=new Set(Array.from(c.uuid).concat(Array.from(c.hiddenUuid))),c.hiddenUuid=new Set;break;case i.DirectoryCheckState.UNCHECK:c.hiddenUuid=new Set(Array.from(c.uuid).concat(Array.from(c.hiddenUuid))),c.uuid=new Set}c.childCheckFun=function(){c&&(c.checkState=i.DirectoryCheckState.CHECK,u.dt_directoryState.set(this.key,this.checkState),c.hiddenUuid.size>0&&c.hiddenUuid.forEach(function(e){l.wsmVisiableComponent(s.atob3D(e)),c.hiddenUuid.delete(e),c.uuid.add(e)}),c.children.forEach(function(e){e.isDispatchEvent=c.isDispatchEvent,e.childCheckFun()}))},c.childUnCheckFun=function(){if(c){c.checkState=i.DirectoryCheckState.UNCHECK,u.dt_directoryState.set(this.key,this.checkState);var e=[];c.uuid.size>0&&c.uuid.forEach(function(t){e.push(s.atob3D(t)),c.uuid.delete(t),c.hiddenUuid.add(t)}),l.hiddenComponent(e),c.children.forEach(function(e){e.isDispatchEvent=c.isDispatchEvent,e.childUnCheckFun()})}},c.parentCheckFun=function(){var e=u.dt_directorytree.get(c.parentKey);if(e){var t=!0;e.isDispatchEvent=c.isDispatchEvent,e.children.forEach(function(e){e.checkState!=i.DirectoryCheckState.CHECK&&(t=!1)}),t?(e.checkState=i.DirectoryCheckState.CHECK,u.dt_directoryState.set(e.key,e.checkState)):(e.checkState=i.DirectoryCheckState.HALFCHECK,u.dt_directoryState.set(e.key,e.checkState)),e.parentCheckFun()}},c.parentUnCheckFun=function(){var e=u.dt_directorytree.get(c.parentKey);if(e){var t=!0;e.isDispatchEvent=c.isDispatchEvent,e.children.forEach(function(e){e.checkState!=i.DirectoryCheckState.CHECK&&e.checkState!=i.DirectoryCheckState.HALFCHECK||(t=!1)}),t?(e.checkState=i.DirectoryCheckState.UNCHECK,u.dt_directoryState.set(e.key,e.checkState)):(e.checkState=i.DirectoryCheckState.HALFCHECK,u.dt_directoryState.set(e.key,e.checkState)),e.parentUnCheckFun()}},c.addChild=function(e){c.children.push(e),0!=e.uuid.size&&e.uuid.forEach(function(t){u.dt_uuidToKey.set(t,e.key)}),0!=e.hiddenUuid.size&&e.hiddenUuid.forEach(function(t){u.dt_uuidToKey.set(t,e.key)})},c.removeChild=function(e){0!=e.children.length&&(e.children.forEach(function(t){e.removeChild(t)}),0!=e.uuid.size&&e.uuid.forEach(function(e){u.dt_uuidToKey.delete(e)}),0!=e.hiddenUuid.size&&e.hiddenUuid.forEach(function(e){u.dt_uuidToKey.delete(e)})),c.children.forEach(function(e){var t=c.children.indexOf(e);c.children.splice(t,1)})};var p=i.DirectoryCheckState.CHECK;Object.defineProperty(this,"checkState",{set:function(e){if(!0!==a.isDispatchEvent)switch(c.checkState){case i.DirectoryCheckState.UNCHECK:c.isDispatchEvent=!0,c.childUnCheckFun(),c.parentUnCheckFun(),c.isDispatchEvent=!1;break;case i.DirectoryCheckState.CHECK:c.isDispatchEvent=!0,c.childCheckFun(),c.parentCheckFun(),c.isDispatchEvent=!1}p=e},get:function(){return p}})}}();t.DirectoryTree=c;var l=function(){function e(e){this._api=e,this.initState=!0,this.expanded=[],this.currentCheckKeys=new Set,this.lastCheckedKeys=new Set,this.initDirectoryData=[],this.cbs=[],this.dispose=function(){this.directorytree=null};var t=this,n=e["3D"];t.uuidToKey=new Map,t.directorytree=new Map,t.directoryState=new Map,t.checkedKeys=new Set;var r=new XMLHttpRequest;t.getDirectoryTree=function(o,l){var u=[];t.enable&&(a.Util.isArray(o)?o.forEach(function(n){r.open("GET",o,!1),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var n=JSON.parse(r.responseText),i=JSON.parse(n.item),o=new c(i,e);1==o.children.length&&(t.checkedKeys.delete(o.key),t.directorytree.delete(o.key),t.directoryState.delete(o.key),o=o.children[0]),u.push(o);var a=function(e,n){n.forEach(function(n){e++,t.expanded.push(n.key),e<2&&a(e,n.children)})};a(0,u),l(u)}},r.send()}):(r.open("GET",o,!1),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var n=JSON.parse(r.responseText),i=JSON.parse(n.item),o=new c(i,e);1==o.children.length&&(t.checkedKeys.delete(o.key),t.directorytree.delete(o.key),t.directoryState.delete(o.key),o=o.children[0]),u.push(o);var a=function(e,n){n.forEach(function(n){e++,t.expanded.push(n.key),e<2&&a(e,n.children)})};a(0,u),l(u)}},r.send()),n.addEventListener("directoryData_hidden",function(e){if(t.revState){var n=new Map;if(a.Util.isArray(e.params.uuid))e.params.uuid.forEach(function(e){var r=s.btoa3D(e),i=t.uuidToKey.get(r);if(void 0!==i)if(n.has(i))n.get(i).push(r);else{var o=[];o.push(r),n.set(i,o)}});else{var r=s.btoa3D(e.params.uuid),o=t.uuidToKey.get(r);if(void 0!==o)if(n.has(o))n.get(o).push(r);else{var c=[];c.push(r),n.set(o,c)}}var l=new Map;n.forEach(function(e,n){var r=t.directorytree.get(n);r.isDispatchEvent=!0,e.forEach(function(e){r.uuid.delete(e),r.hiddenUuid.add(e),0==r.uuid.size?(r.checkState=i.DirectoryCheckState.UNCHECK,t.directoryState.set(r.key,r.checkState)):(r.checkState=i.DirectoryCheckState.HALFCHECK,t.directoryState.set(r.key,r.checkState))}),r.parentUnCheckFun(),r.isDispatchEvent=!1,l.set(n,r.checkState)}),t.cbs.forEach(function(e){e(l)});var u=[],p=[];t.directoryState.forEach(function(e,t){switch(e){case i.DirectoryCheckState.CHECK:u.push(t);break;case i.DirectoryCheckState.HALFCHECK:p.push(t)}}),t.checkedKeys=new Set(u),t.vue.checkedKeys={checked:u,halfCheckedKeyed:p}}}),n.addEventListener("directoryData_show",function(e){if(t.revState){var n=new Map,r=s.btoa3D(e.params.uuid),o=t.uuidToKey.get(r);if(void 0!==o)if(n.has(o))n.get(o).push(r);else{var a=[];a.push(r),n.set(o,a)}var c=new Map;n.forEach(function(e,n){var r=t.directorytree.get(n);r.isDispatchEvent=!0,e.forEach(function(e){r.hiddenUuid.delete(e),r.uuid.add(e),0==r.hiddenUuid.size?(r.checkState=i.DirectoryCheckState.CHECK,t.directoryState.set(r.key,r.checkState)):(r.checkState=i.DirectoryCheckState.HALFCHECK,t.directoryState.set(r.key,r.checkState))}),r.parentCheckFun(),r.isDispatchEvent=!1,c.set(n,r.checkState)}),t.cbs.forEach(function(e){e(c)});var l=[],u=[];t.directoryState.forEach(function(e,t){switch(e){case i.DirectoryCheckState.CHECK:l.push(t);break;case i.DirectoryCheckState.HALFCHECK:u.push(t)}}),t.checkedKeys=new Set(l),t.vue.checkedKeys={checked:l,halfCheckedKeyed:u}}}),n.addEventListener("directoryData_hiddenAll",function(){if(t.revState){var e=new Map;t.directorytree.forEach(function(n,r){n.isDispatchEvent=!0,n.checkState=i.DirectoryCheckState.UNCHECK,t.directoryState.set(r,n.checkState),n.hiddenUuid=new Set(Array.from(n.uuid).concat(Array.from(n.hiddenUuid))),n.uuid=new Set,n.isDispatchEvent=!1,e.set(r,n.checkState)}),t.cbs.forEach(function(t){t(e)});var n=[];t.checkedKeys=new Set(n),t.vue.checkedKeys={checked:n,halfCheckedKeyed:[]}}}),n.addEventListener("directoryData_showAll",function(){if(t.revState){var e=[],n=new Map;t.directorytree.forEach(function(r,o){r.isDispatchEvent=!0,r.checkState=i.DirectoryCheckState.CHECK,t.directoryState.set(o,r.checkState),r.uuid=new Set(Array.from(r.hiddenUuid).concat(Array.from(r.uuid))),r.hiddenUuid=new Set,e.push(o),r.isDispatchEvent=!1,n.set(o,r.checkState)}),t.cbs.forEach(function(e){e(n)});var r=e;t.checkedKeys=new Set(r),t.vue.checkedKeys={checked:r,halfCheckedKeyed:[]}}}))},t.addDirectoryData=function(n){var r=new c(void 0,e,void 0,n);void 0!==n.parentKey?t.directorytree.get(r.parentKey).addChild(r):t.initDirectoryData.push(r),t.directorytree.set(r.key,r),t.setDirectoryTree(t.initDirectoryData)},t.removeDirectoryData=function(e){var n=t.directorytree.get(e);t.directorytree.get(n.parentKey).removeChild(n),t.directorytree.delete(e),t.setDirectoryTree(t.initDirectoryData)},t.setDirectoryTree=function(e){0==e.length?console.warn(""):"undefined"==typeof Vue?console.warn("vue"):(t.initDirectoryData=e,t.vue=new Vue({el:"#constainer",template:'<a-tree                                 style="position: absolute; top: 24px; left: 24px; background: rgba(2,214,220,0.2); border-radius: 5px; opacity: 0.8; z-index: 5; font-size: 14px;padding: 16px;color:rgba(0,0,0,1)"                                checkable="checkable"                                 checkStrictly="checkStrictly"                                 @expand="onExpand"                                 :expandedKeys="expandedKeys"                                 @check="onCheck"                                 v-model="checkedKeys"                                 @select="onSelect"                                 :selectedKeys="selectedKeys"                                 :treeData="treeData"                             />',data:{checkable:!0,checkStrictly:!0,expandedKeys:t.expanded,checkedKeys:{checked:Array.from(t.checkedKeys),halfCheckedKeyed:[]},selectedKeys:[],treeData:e},methods:{onCheck:function(e){var r;t.revState=!1,t.lastCheckedKeys=new Set(Array.from(t.checkedKeys)),t.currentCheckKeys=new Set(e.checked),t.currentCheckKeys.forEach(function(e){if(t.lastCheckedKeys.has(e))t.lastCheckedKeys.delete(e);else{var n=t.directorytree.get(e);r=e,n.isDispatchEvent=!0,n.childCheckFun(),n.parentCheckFun(),n.isDispatchEvent=!1}}),t.lastCheckedKeys.forEach(function(e){var n=t.directorytree.get(e);r=e,n.isDispatchEvent=!0,n.childUnCheckFun(),n.parentUnCheckFun(),n.isDispatchEvent=!1}),e.checked=[],e.halfCheckedKeyed=[],t.directoryState.forEach(function(t,n){switch(t){case i.DirectoryCheckState.CHECK:e.checked.push(n);break;case i.DirectoryCheckState.HALFCHECK:e.halfCheckedKeyed.push(n)}}),t.checkedKeys=new Set(e.checked),n.update(),t.revState=!0,n.dispatchEvent({type:"directory_checkFinish",params:{checkKey:r}})},onSelect:function(e,t){this.selectedKeys=e},onExpand:function(e){this.expandedKeys=e}}}))}}return e.prototype.addDirectoryTreeChangeCallBack=function(e){-1==this.cbs.indexOf(e)?this.cbs.push(e):console.warn("")},e.prototype.removeDirectoryTreeChangeCallBack=function(e){-1==this.cbs.indexOf(e)?console.warn(""):this.cbs.splice(this.cbs.indexOf(e),1)},r([o.ParamExport("dt_label",0)],e.prototype,"label",void 0),r([o.ParamExport("dt_uuidToKey",null)],e.prototype,"uuidToKey",void 0),r([o.ParamExport("dt_enable",!1)],e.prototype,"enable",void 0),r([o.ParamExport("dt_revState",!0)],e.prototype,"revState",void 0),r([o.ParamExport("dt_checkedKeys",null)],e.prototype,"checkedKeys",void 0),r([o.ParamExport("dt_directorytree",null)],e.prototype,"directorytree",void 0),r([o.ParamExport("dt_directoryState",null)],e.prototype,"directoryState",void 0),e=r([o.ApiExport(["getDirectoryTree","setDirectoryTree","addDirectoryData","removeDirectoryData","addDirectoryTreeChangeCallBack","removeDirectoryTreeChangeCallBack"],"3D")],e)}();t.DirectoryTree3D=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=function(){function e(e){this._api=e,this.dispose=function(){};var t=new XMLHttpRequest;this.getElementsByFuzzySearch=function(e,n,r,i,o){(void 0).ProjectId=n,(void 0).ModelId=r,(void 0).ValueKeys=i,e+=void 0,t.open("GET",e,!1),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText),n=JSON.parse(e.item);o(n)}},t.send()},this.setFuzzySearchParams=function(t){return e["3D"].getElementsByFuzzySearch(t.url,t.projectId,t.modelId,t.valueKeys,function(e){t.result=e}),0===t.result.length&&(t.result=""),t.result}}return e=r([i.ApiExport(["getElementsByFuzzySearch","setFuzzySearchParams"],"3D")],e)}();t.FuzzySearch3D=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),s=n(21),c=n(17),l=function(e){function t(t){var n=e.call(this)||this,r=t["3D"],i=0,o=null;n.valueColor=new a.Color3D("green"),n.wireColor=new a.Color3D(0),n.init=function(){n.ctx=r.getContext().getMarker(),r.addEventListener("fileloader_envloadend",s),r.addEventListener("fileloader_geomallloadend",l),r.addEventListener("fileloader_geomloadend",p),r.addMarkerUpdateContext(u)};var s=function(){n.enable&&(null!==o&&clearTimeout(o),i=0,n.enable=!0,r.enableMarkerRefresh())},l=function(){n.enable&&(null!==o&&clearTimeout(o),i=1,o=setTimeout(function(){n.enable=!1,r.enableMarkerRefresh(),o=null},500))},u=function(){if(n.enable){var e=n.ctx.canvas.width/4,t=n.ctx.canvas.height,r=n.posX,o=n.posY,a=n.width,s=n.height;void 0===r&&(c.BrowserInfo.isMobile,r=5),void 0===o&&(o=c.BrowserInfo.isMobile?1:t-8),void 0===a&&(a=c.BrowserInfo.isMobile?4*e-10:Math.max(100,Math.min(500,e))),void 0===s&&(s=5/window.devicePixelRatio),n.ctx.strokeStyle="#"+n.wireColor.getHexString(),n.ctx.strokeRect(r,o,a,s),n.ctx.fillStyle="#"+n.valueColor.getHexString(),n.ctx.fillRect(r,o,a*i,s)}};function p(e){i=e.params.current/e.params.totial,r.enableMarkerRefresh(),e=null}return n.dispose=function(){r.removeEventListener("fileloader_envloadend",s),r.removeEventListener("fileloader_geomallloadend",l),r.removeEventListener("fileloader_geomloadned",p)},n.setProcessViewPosAndSize=function(e,t,r,i){n.posX=e,n.posY=t,n.width=r,n.height=i},n}return i(t,e),o([s.ParamExport("pv_valueColor",null)],t.prototype,"valueColor",void 0),o([s.ParamExport("pv_wireColor",null)],t.prototype,"wireColor",void 0),o([s.ParamExport("pv_enable",!1)],t.prototype,"enable",void 0),o([s.ParamExport("pv_width",void 0)],t.prototype,"width",void 0),o([s.ParamExport("pv_height",void 0)],t.prototype,"height",void 0),o([s.ParamExport("pv_posX",void 0)],t.prototype,"posX",void 0),o([s.ParamExport("pv_posY",void 0)],t.prototype,"posY",void 0),t=o([s.ApiExport(["setProcessViewPosAndSize"],"3D")],t)}(a.EventDispatcher3D);t.ProcessView3D=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=n(328),a=n(23),s=function(){function e(e){var t=this;this.api=e,this.getCanvas2DSize=function(e,n,r,i){e.x=t.api3d.getCanvas2DSizeX(e.x),e.y=t.api3d.getCanvas2DSizeY(e.y);var o=new a.Vector23D(e.x-n.x,e.y-n.y);e.x=r.x+o.x/i*2,e.y=r.y+o.y/i*2},this.renderPickTools=function(){if(t.enable&&t.pick.point&&t.display){var e=t.ctx,n=t.api3d.getBenchCamera();e.save();var r=a.Vector33D.get().copy(t.pick.point);switch(r.project(n),r.x=t.api3d.getCanvas2DSizeX(r.x),r.y=t.api3d.getCanvas2DSizeY(r.y),t.pick.pointType){case a.PICKPOINT.MIDDLEPOINT:case a.PICKPOINT.TERMINALPOINT:t.api3d.canvas2DDrawPoint(r.x,r.y,t.pointSize,t.color,!0);break;case a.PICKPOINT.EDGEPOINT:e.beginPath(),e.strokeStyle=t.color,t.pick.start.project(n),e.moveTo(t.api3d.getCanvas2DSizeX(t.pick.start.x),t.api3d.getCanvas2DSizeY(t.pick.start.y)),e.lineWidth=3,t.pick.end.project(n),e.lineTo(t.api3d.getCanvas2DSizeX(t.pick.end.x),t.api3d.getCanvas2DSizeY(t.pick.end.y)),e.closePath(),e.stroke();break;case a.PICKPOINT.REGIONPOINT:var i=(new a.Quaternion3D).setFromUnitVectors(new a.Vector33D(0,0,1),t.pick.normal),o=new a.Vector33D(5,5,0).applyQuaternion(i).project(n),s=new a.Vector33D(-5,5,0).applyQuaternion(i).project(n),c=new a.Vector33D(-5,-5,0).applyQuaternion(i).project(n),l=new a.Vector33D(5,-5,0).applyQuaternion(i).project(n),u=(new a.Vector33D).project(n);u.x=t.api3d.getCanvas2DSizeX(u.x),u.y=t.api3d.getCanvas2DSizeY(u.y),t.getCanvas2DSize(o,u,r,n.zoom),t.getCanvas2DSize(s,u,r,n.zoom),t.getCanvas2DSize(c,u,r,n.zoom),t.getCanvas2DSize(l,u,r,n.zoom),e.beginPath(),e.strokeStyle=t.color,e.lineWidth=1,e.moveTo(o.x,o.y),e.lineTo(s.x,s.y),e.lineTo(c.x,c.y),e.lineTo(l.x,l.y),e.closePath(),e.stroke(),e.fillStyle=t.color+"66",e.fill()}e.restore(),a.Vector33D.back(r)}},this.api3d=e["3D"],this.params=e.PARAMS,this.raycaster=new a.Raycaster3D,this.picks=[],this.intersects=[],this.pick={},i.BindParam("pp_enable",function(e){var n=t.api.engine.malloc(4);t.api3d.getWasmModule().HEAPU32[n/4]=e?1:0;var r=t.api.engine.stringToUTF8("MainView_EnableColorHandle");t.api.engine.setParams(r,n),t.api.engine.free(n),t.api.engine.free(r),t.api.UI.resizeBench()},this.api.handle)}return e.prototype.dispose=function(){o.noop()},e.prototype.init=function(){this.api3d.addMarkerUpdateContext(this.renderPickTools),this.ctx=this.api3d.getContext().getMarker()},e.prototype.drawRect=function(e,t,n,r){r.strokeStyle=n,r.beginPath(),r.lineWidth=1,r.strokeRect(e-this.size/2,t-this.size/2,this.size,this.size),r.fillStyle=this.color+"66",r.fillRect(e-this.size/2,t-this.size/2,this.size,this.size),r.stroke()},e.prototype.drawTriangle=function(e,t,n,r){r.strokeStyle=n,r.beginPath(),r.moveTo(e-this.size/2,t+this.size/6*Math.sqrt(3)),r.lineTo(e,t-this.size/3*Math.sqrt(3)),r.lineTo(e+this.size/2,t+this.size/6*Math.sqrt(3)),r.closePath(),r.stroke()},e.prototype.drawCross=function(e,t,n,r){r.beginPath(),r.strokeStyle=n;var i=this.size/4;r.moveTo(e-i*Math.sqrt(2),t-i*Math.sqrt(2)),r.lineTo(e+i*Math.sqrt(2),t+i*Math.sqrt(2)),r.moveTo(e-i*Math.sqrt(2),t+i*Math.sqrt(2)),r.lineTo(e+i*Math.sqrt(2),t-i*Math.sqrt(2)),r.stroke()},e.prototype.drawPlus=function(e,t,n,r){r.beginPath(),r.strokeStyle=n;var i=this.size;r.moveTo(e,t-i/2),r.lineTo(e,t+i/2),r.moveTo(e-i/2,t),r.lineTo(e+i/2,t),r.stroke()},e.prototype.pickPoint=function(e,t){this.enable&&(this.picks.length=0,this.intersects.length=0,this.pick.point=void 0,this.api3d.GPURaycast(e,t,this.scalar,this.scalar,this.picks),this.picks.length&&(this.picks.sort(function(e,t){return e.pointType-t.pointType}),this.pick=this.picks[0]),this.api3d.enableMarkerRefresh())},e.prototype.drawDebug=function(e,t,n){if(this.ctx.save(),this.ctx.strokeStyle=this.color,this.ctx.beginPath(),this.ctx.strokeRect(e-this.scalar,t-this.scalar,2*this.scalar+1,2*this.scalar+1),n){var r=new ImageData(new Uint8ClampedArray(n.data),this.ctx.canvas.width,this.ctx.canvas.height);this.ctx.putImageData(r,0,0)}this.ctx.closePath(),this.ctx.stroke(),this.ctx.restore()},r([i.ParamExport("pp_enable",!1)],e.prototype,"enable",void 0),r([i.ParamExport("pp_display",!1)],e.prototype,"display",void 0),r([i.ParamExport("pp_scalar",1)],e.prototype,"scalar",void 0),r([i.ParamExport("pp_size",16)],e.prototype,"size",void 0),r([i.ParamExport("pp_color","#02d6dc")],e.prototype,"color",void 0),r([i.ParamExport("pp_pointSize",5)],e.prototype,"pointSize",void 0),r([i.ParamExport("pp_pick",null)],e.prototype,"pick",void 0),e=r([i.ApiExport(["pickPoint"],"3D")],e)}();t.PickPoint=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=n(21),a=n(1),s=function(){function e(e){this.api=e;var t=this,n=e["3D"],r=new Map,o=new Map,s=new Map,c=new Map,l=new Map,u=new Map,p=new Map;t.get3DMarker=function(e){if(o.has(e))return o.get(e);console.warn(",ID")},t.get3DMarkerByDeviceType=function(e){u.has(e)?u.get(e).forEach(function(e){(void 0).push(o.get(e))}):console.warn(",")},t.get3DMarkerTransform=function(e){var t;if(o.has(e)){var r=o.get(e);switch(r.markerType){case a.IMarkerType.MODEL:t=n.getModelTransform(r.modelID);break;case a.IMarkerType.COMPONENT:t=n.getRenderElementTransform(r.componentID)}return t}console.warn(",ID")},t.getDeviceTransform=function(e){if(p.has(e))return p.get(e);console.warn(",")},t.addIOTDeviceParams=function(e){l.has(e.deviveTypeID)?console.warn(""):(l.set(e.deviveTypeID,e),u.set(e.deviveTypeID,[]),void 0!==e.transform?p.set(e.deviveTypeID,e.transform):p.set(e.deviveTypeID,(new i.Matrix43D).compose(void 0===e.pos?new i.Vector33D(0,0,0):e.pos,(new i.Quaternion3D).setFromEuler(void 0===e.euler?new i.Euler3D(0,0,0):e.euler),void 0===e.scale?new i.Vector33D(1,1,1):e.scale)))},t.set3DMarkerShow=function(e,t){s.has(e)||c.has(e)?(o.get(e).markerType==a.IMarkerType.MODEL?!0===t?n.setModelRenderState(s.get(e),i.RenderState.VISIBLE):n.setModelRenderState(s.get(e),i.RenderState.HIDDEN):!0===t?n.setElementRenderState(c.get(e),i.RenderState.VISIBLE):n.setElementRenderState(c.get(e),i.RenderState.HIDDEN),n.update()):console.warn(",.")},t.set3DMarkerShowByDeviceType=function(e,n){r.has(e)?r.get(e).forEach(function(e){t.set3DMarkerShow(e,n)}):console.warn(",.")},t.setAll3DMarkerShow=function(e){o.forEach(function(n,r){t.set3DMarkerShow(r,e)})},t.add3DMarker=function(t){var p;if(l.has(t.deviveTypeID))switch(u.get(t.deviveTypeID).push(t.markerID),t.markerType){case a.IMarkerType.MODEL:if(t.modelUrl){var d=void 0===t.pos?new i.Vector33D(0,0,0):t.pos,h=void 0===t.euler?new i.Euler3D(0,0,0):t.euler,f=void 0===t.scale?new i.Vector33D(1,1,1):t.scale;if(p=p=void 0===t.modelID?e.PARAMS.mk_markModelID--:t.modelID,n.addModel(t.modelUrl,0,p,(new i.Matrix43D).compose(d,(new i.Quaternion3D).setFromEuler(h),f).elements,0,6),r.has(t.deviveTypeID))r.get(t.deviveTypeID).push(t.markerID);else(y=[]).push(t.markerID),r.set(t.deviveTypeID,y);o.set(t.markerID,t),s.set(t.markerID,p)}else console.warn(",.");break;case a.IMarkerType.COMPONENT:if(void 0!==t.componentID){if(void 0!==t.euler){h=t.euler;var m=new i.Box33D;n.getComponentBoundingBox(t.componentID,m);var g=m.getCenter();n.changeComponentAngle(t.componentID,g,h)}var y;if(void 0!==t.pos&&n.changeComponentPosition(t.componentID,t.pos),void 0!==t.scale&&n.changeComponentScale(t.componentID,t.scale),r.has(t.deviveTypeID))r.get(t.deviveTypeID).push(t.markerID);else(y=[]).push(t.componentID),r.set(t.deviveTypeID,y);o.set(t.markerID,t),c.set(t.markerID,t.componentID)}else console.warn("ID,.")}else console.warn(",")},t.set3DMarkerPan=function(e,t){switch(o.get(e).markerType){case a.IMarkerType.MODEL:var r=s.get(e);n.setModelTranslate(r,t);break;case a.IMarkerType.COMPONENT:n.changeComponentPosition(o.get(e).componentID,t)}},t.set3DMarkerTransform=function(e,t){switch(o.get(e).markerType){case a.IMarkerType.MODEL:var r=s.get(e);n.setModelTransform(r,t);break;case a.IMarkerType.COMPONENT:var c=new i.Box33D;n.getComponentBoundingBox(o.get(e).componentID,c);var l=c.getCenter();n.changeComponentAngle(o.get(e).componentID,l,new i.Vector33D(t.x,t.y,t.z))}},t.set3DMarkerScale=function(e,t){switch(o.get(e).markerType){case a.IMarkerType.MODEL:var r=s.get(e);n.setModelTranslate(r,t);break;case a.IMarkerType.COMPONENT:n.changeComponentScale(o.get(e).componentID,t)}},t.dispose=function(){r=new Map,o=new Map,s=new Map,c=new Map,l=new Map,u=new Map,p=new Map}}return e=r([o.ApiExport(["add3DMarker","get3DMarker","set3DMarkerPan","set3DMarkerScale","set3DMarkerShow","getDeviceTransform","addIOTDeviceParams","get3DMarkerTransform","setAll3DMarkerShow","set3DMarkerTransform","get3DMarkerByDeviceType","set3DMarkerShowByDeviceType"],"3D")],e)}();t.Marker3D=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(367),i=function(){return function(){var e=[],t=!1,n=r.Looper.request,i=function(){e.forEach(function(e){e()}),t=!1},o=function(){t||(t=!0,n(i))};this.addResize=function(t){e.length||window.addEventListener("resize",o),function(t){t&&e.push(t)}(t)},this.dispose=function(){e.length&&window.removeEventListener("resize",o),e.length=0,e=null,n=null}}}();t.Resizer=i},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(17),a=n(21);var s=function(){function e(e,t){var n=null,r=null,a=t.system,s=e.getPainter(),c=e.getMarker();this.ready=function(){if(a===i.SystemType.ST_3D||a===i.SystemType.ST_2D||a===i.SystemType.ST_PANORAMA){var e=function(){try{var e=document.createElement("canvas");if(window.WebGLRenderingContext&&e.getContext("webgl"))return"webgl"}catch(e){}try{var t=document.createElement("canvas");if(window.WebGLRenderingContext&&t.getContext("experimental-webgl"))return"experimental-webgl"}catch(e){}return null}();if(!e)throw new Error("not support webgl");n||(n=Object.seal(s.dom.getContext(e,{alpha:!0,depth:!0,stencil:!0,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!0,powerPreference:o.BrowserInfo.isMobile?"low-power":"high-performance"})))}else a===i.SystemType.ST_CELL?n=Object.seal(s.dom.getContext("2d",{alpha:!1})):a!==i.SystemType.ST_2D_WSM&&a!==i.SystemType.ST_3D_WSM||(n=null);r=Object.seal(c.dom.getContext("2d",{alpha:!0}))},this.resize=function(){a===i.SystemType.ST_3D||i.SystemType.ST_2D},this.getDrawBufferSize=function(){return e.getSize()},this.addLostEventListener=function(e){s.addLostEventListener(e)},this.addRestoreEventListener=function(e){s.addRestoreEventListener(e)},this.getPainter=function(){return n},this.getMarker=function(){return r},this.dispose=function(){n=null,r=null,c=null,s=null}}return e=r([a.ApiExport(["getPainter","getMarker"],"GL")],e)}();t.Context=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(17);!function(e){e[e.UINT8=0]="UINT8",e[e.UINT16=1]="UINT16",e[e.UINT32=2]="UINT32",e[e.INT8=3]="INT8",e[e.INT16=4]="INT16",e[e.INT32=5]="INT32",e[e.FLOAT4=6]="FLOAT4",e[e.FLOAT8=7]="FLOAT8"}(r||(r={}));var o=new Map;o.set(r.UINT8,{constructor:Uint8Array,bytePerElement:1}),o.set(r.UINT16,{constructor:Uint16Array,bytePerElement:2}),o.set(r.UINT32,{constructor:Uint32Array,bytePerElement:4}),o.set(r.INT8,{constructor:Int8Array,bytePerElement:1}),o.set(r.INT16,{constructor:Int16Array,bytePerElement:2}),o.set(r.INT32,{constructor:Int32Array,bytePerElement:4}),o.set(r.FLOAT4,{constructor:Float32Array,bytePerElement:4}),o.set(r.FLOAT8,{constructor:Float64Array,bytePerElement:8});var a=function(){function e(e){if(!(e>=0))throw new Error("JSMemory create failed, size: "+e);this.setBuffer(new ArrayBuffer(e))}return e.prototype.setValue=function(e,t,n,r){if(this.heapMap.has(r)){var i=this.heapMap.get(r);if(n%i.BYTES_PER_ELEMENT!=0)return void(new(o.get(r).constructor)(this.buffer,n)[e]=t);if(e+=n/i.BYTES_PER_ELEMENT,i.length>e)return void(i[e]=t)}throw new Error("JSMemory setValue failed")},e.prototype.getValue=function(e,t,n){if(this.heapMap.has(n)){var r=this.heapMap.get(n);if(t%r.BYTES_PER_ELEMENT==0){if(e+=t/r.BYTES_PER_ELEMENT,r.length>e)return r[e];throw new Error("JSMemory getValue failed index range override length is"+r.length+" index is "+e)}return new(o.get(n).constructor)(this.buffer,t)[e]}throw new Error("JSMemory getValue failed not support this type, "+n)},e.prototype.set=function(t,n,r,i){if(!e.checkArrayBufferValid(this.buffer,i,n)||!e.checkArrayBufferValid(t,r,n))throw new Error("JSMemory set falied");var o=new Uint8Array(t,r,n);this.HEAPU8.set(o,i)},e.prototype.get=function(t,n,r,i){if(!e.checkArrayBufferValid(this.buffer,r,n)||!e.checkArrayBufferValid(t.buffer,i,n))throw new Error("JSMemory get falied");var o=new Uint8Array(this.buffer,r,n);t.set(o,i)},e.prototype.setBuffer=function(e){this.buffer=e,this.heapMap=new Map,this.heapMap.set(r.INT8,new Int8Array(e)),e.byteLength%2==0&&this.heapMap.set(r.INT16,new Int16Array(e)),e.byteLength%4==0&&this.heapMap.set(r.INT32,new Int32Array(e)),this.heapMap.set(r.UINT8,new Uint8Array(e)),e.byteLength%2==0&&this.heapMap.set(r.UINT16,new Uint16Array(e)),e.byteLength%4==0&&this.heapMap.set(r.UINT32,new Uint32Array(e)),e.byteLength%4==0&&this.heapMap.set(r.FLOAT4,new Float32Array(e)),e.byteLength%8==0&&this.heapMap.set(r.FLOAT8,new Float64Array(e)),this.HEAPU8=this.heapMap.get(r.UINT8)},e.prototype.heapObjectForWebGLType=function(e){return 0==(e-=5120)?this.heapMap.get(r.INT8):1==e?this.heapMap.get(r.UINT8):2==e?this.heapMap.get(r.INT16):4==e?this.heapMap.get(r.INT32):6==e?this.heapMap.get(r.FLOAT4):5==e||28922==e||28520==e||30779==e||30782==e?this.heapMap.get(r.UINT32):this.heapMap.get(r.UINT16)},e.checkArrayBufferValid=function(e,t,n){return e.byteLength>=t+n},e}();t.JSMemory=a,t.LoadEngineSource=function(e,t,n){n=void 0!==n?n:{};var o,s={};for(o in n)n.hasOwnProperty(o)&&(s[o]=n[o]);var c,l="./this.program",u=[],p=!1,d=!1;if(p="object"==typeof window,d=!1,c=!p&&!d,n.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var h,f,m="";if(c)f=function(e){var t;return A("object"==typeof(t=(void 0)(e,"binary"))),t},void 0!==arguments&&(u=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.warn=console.error=print);else{if(!p&&!d)throw new Error("environment detection error");d?m=self.location.href:document.currentScript&&(m=document.currentScript.src),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",h=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(f=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})}var g,y,v,x=n.print||console.warn.bind(console),M=n.printErr||console.warn.bind(console);for(o in s)s.hasOwnProperty(o)&&(n[o]=s[o]);function b(e){b.shown||(b.shown={}),b.shown[e]||(b.shown[e]=1,M(e))}s=null,n.arguments&&(u=n.arguments),Object.getOwnPropertyDescriptor(n,"arguments")||Object.defineProperty(n,"arguments",{configurable:!0,get:function(){ae("Module.arguments has been replaced with plain arguments_")}}),n.thisProgram&&(l=n.thisProgram),Object.getOwnPropertyDescriptor(n,"thisProgram")||Object.defineProperty(n,"thisProgram",{configurable:!0,get:function(){ae("Module.thisProgram has been replaced with plain thisProgram")}}),n.quit&&n.quit,Object.getOwnPropertyDescriptor(n,"quit")||Object.defineProperty(n,"quit",{configurable:!0,get:function(){ae("Module.quit has been replaced with plain quit_")}}),A(void 0===n.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),A(void 0===n.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),A(void 0===n.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),A(void 0===n.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),A(void 0===n.read,"Module.read option was removed (modify read_ in JS)"),A(void 0===n.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),A(void 0===n.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),A(void 0===n.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),A(void 0===n.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Object.getOwnPropertyDescriptor(n,"read")||Object.defineProperty(n,"read",{configurable:!0,get:function(){ae("Module.read has been replaced with plain read_")}}),Object.getOwnPropertyDescriptor(n,"readAsync")||Object.defineProperty(n,"readAsync",{configurable:!0,get:function(){ae("Module.readAsync has been replaced with plain readAsync")}}),Object.getOwnPropertyDescriptor(n,"readBinary")||Object.defineProperty(n,"readBinary",{configurable:!0,get:function(){ae("Module.readBinary has been replaced with plain readBinary")}}),g=y=function(){ae("cannot use the stack before compiled code is ready to run, and has provided stack access")},n.noExitRuntime&&(v=n.noExitRuntime),Object.getOwnPropertyDescriptor(n,"noExitRuntime")||Object.defineProperty(n,"noExitRuntime",{configurable:!0,get:function(){ae("Module.noExitRuntime has been replaced with plain noExitRuntime")}}),"object"!=typeof WebAssembly&&ae("No WebAssembly support found. Build with -s WASM=0 to target JavaScript instead."),n.wasmTable=new WebAssembly.Table({initial:2546,maximum:2546,element:"anyfunc"});var w=!1;function A(e,t){e||ae("Assertion failed: "+t),e=null}var _="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function E(e,t,n){for(var r=t+n,i=t,o="";e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&_)return _.decode(e.subarray(t,i));for(;t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if(224==(240&a)?a=(15&a)<<12|s<<6|c:(240!=(248&a)&&b("Invalid UTF-8 leading byte 0x"+a.toString(16)+" encountered when deserializing a UTF-8 string on the asm.js/wasm heap to a JS string!"),a=(7&a)<<18|s<<12|c<<6|63&e[t++]),a<65536)o+=String.fromCharCode(a);else{var l=a-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function D(e,t){return e?E(n.HEAPU8,e,t):""}function S(e,t,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=o)break;t[n++]=s}else if(s<=2047){if(n+1>=o)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+3>=o)break;s>=2097152&&b("Invalid Unicode code point 0x"+s.toString(16)+" encountered when serializing a JS string to an UTF-8 string on the asm.js/wasm heap! (Valid unicode code points should be in range 0-0x1FFFFF)."),t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function P(e,t,r){return A("number"==typeof r,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),S(e,n.HEAPU8,t,r)}function T(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}n.stringToUTF8=P;var C="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function R(e){A(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var t=e,r=t>>1;n.HEAP16[r];)++r;if((t=r<<1)-e>32&&C)return C.decode(n.HEAPU8.subarray(e,t));for(var i=0,o="",a=n.HEAP16[e+2*i>>1];0!=a;)++i,o+=String.fromCharCode(a),a=n.HEAP16[e+2*i>>1];return o}function I(e,t,r){if(A(t%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),A("number"==typeof r,"stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===r&&(r=2147483647),r<2)return 0;for(var i=t,o=(r-=2)<2*e.length?r/2:e.length,a=0;a<o;++a){var s=e.charCodeAt(a);n.HEAP16[t>>1]=s,t+=2}return n.HEAP16[t>>1]=0,t-i}function O(e){return 2*e.length}function L(e){A(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var t=0,r="",i=n.HEAP32[e+4*t>>2];0!=i;){if(++t,i>=65536){var o=i-65536;r+=String.fromCharCode(55296|o>>10,56320|1023&o)}else r+=String.fromCharCode(i);i=n.HEAP32[e+4*t>>2]}return r}function k(e,t,r){if(A(t%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),A("number"==typeof r,"stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===r&&(r=2147483647),r<4)return 0;for(var i=t,o=i+r-4,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),n.HEAP32[t>>2]=s,(t+=4)+4>o)break}return n.HEAP32[t>>2]=0,t-i}function B(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function U(e){n.buffer=e,n.HEAP8=new Int8Array(e),n.HEAP16=new Int16Array(e),n.HEAP32=new Int32Array(e),n.HEAPU8=new Uint8Array(e),n.HEAPU16=new Uint16Array(e),n.HEAPU32=new Uint32Array(e),n.HEAPF32=new Float32Array(e),n.HEAPF64=new Float64Array(e)}var N=1337376,F=1337184;A(!0,"stack must start aligned"),A(!0,"heap must start aligned"),n.TOTAL_STACK&&A(5242880===n.TOTAL_STACK,"the stack size can no longer be determined at runtime");var j=n.INITIAL_MEMORY||16777216;Object.getOwnPropertyDescriptor(n,"INITIAL_MEMORY")||Object.defineProperty(n,"INITIAL_MEMORY",{configurable:!0,get:function(){ae("Module.INITIAL_MEMORY has been replaced with plain INITIAL_INITIAL_MEMORY")}}),A(j>=5242880,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+j+"! (TOTAL_STACK=5242880)"),A("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),n.wasmMemory||(n.wasmMemory=new WebAssembly.Memory({initial:j/65536,maximum:32512}));function z(){A(0==(3&N)),n.HEAPU32[1+(N>>2)]=34821223,n.HEAPU32[2+(N>>2)]=2310721022,n.HEAP32[0]=1668509029}function V(){var e=n.HEAPU32[1+(N>>2)],t=n.HEAPU32[2+(N>>2)];34821223==e&&2310721022==t||ae("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+t.toString(16)+" "+e.toString(16)),1668509029!==n.HEAP32[0]&&ae("Runtime error: The application has corrupted its heap memory area (address zero)!")}function H(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?n.dynCall_v(r):n.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}n.wasmMemory&&(n.buffer=n.wasmMemory.buffer),A((j=n.buffer.byteLength)%65536==0),A(!0),U(n.buffer),n.HEAP32[F>>2]=6580256,function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian!"}();var G=[],W=[],X=[],Y=[],Q=[],q=!1;A(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),A(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),A(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),A(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var K=Math.abs,Z=Math.ceil,J=Math.floor,$=Math.min,ee=0,te=null,ne=null,re={};function ie(e){ee++,n.monitorRunDependencies&&n.monitorRunDependencies(ee),e?(A(!re[e]),re[e]=1,null===te&&"undefined"!=typeof setInterval&&(te=setInterval(function(){if(w)return clearInterval(te),void(te=null);var e=!1;for(var t in re)e||(e=!0,M("still waiting on run dependencies:")),M("dependency: "+t);e&&M("(end of list)")},1e4))):M("warning: run dependency added without ID")}function oe(e){if(ee--,n.monitorRunDependencies&&n.monitorRunDependencies(ee),e?(A(re[e]),delete re[e]):M("warning: run dependency removed without ID"),0==ee&&(null!==te&&(clearInterval(te),te=null),ne)){var t=ne;ne=null,t()}}function ae(e){throw n.onAbort&&n.onAbort(e),x(e+=""),M(e),w=!0,e="abort("+e+") at "+me(),new WebAssembly.RuntimeError(e)}n.preloadedImages={},n.preloadedAudios={};var se="data:application/octet-stream;base64,";function ce(e){return String.prototype.startsWith?e.startsWith(se):0===e.indexOf(se)}var le,ue,pe,de=(e||"")+"engine.wasm";function he(){try{if(n.wasmBinary)return new Uint8Array(n.wasmBinary);if(f)return f(de);throw"both async and sync fetching of the wasm failed"}catch(e){ae(e)}}function fe(e){return e.replace(/\b_Z[\w\d_]+/g,function(e){var t,n=(t=e,b("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),t);return e===n?e:n+" ["+e+"]"})}function me(){var e=function(){var e=new Error;if(!e.stack){try{throw new Error}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return n.extraStackTrace&&(e+="\n"+n.extraStackTrace()),fe(e)}ce(de)||(le=de,de=n.locateFile?n.locateFile(le,m):le),W.push({func:function(){zt()}});var ge={},ye=0;function ve(e){return n.___errno_location?n.HEAP32[n.___errno_location()>>2]=e:M("failed to set errno from JS"),e}var xe,Me,be=[];function we(e){if(!e||ge[e])return e;for(var t in ge)for(var n=+t,r=ge[n].adjusted,i=r.length,o=0;o<i;o++)if(r[o]===e)return n;return e}function Ae(e){try{return Ht(e)}catch(e){M("exception during cxa_free_exception: "+e)}}function _e(e){return n.HEAP32[Gt()>>2]=e,e}var Ee={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=Ee.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Ee.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return Ee.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Ee.normalize(e.join("/"))},join2:function(e,t){return Ee.normalize(e+"/"+t)}},De={resolve:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var o=i>=0?arguments[i]:Re.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";n=o+"/"+n,r="/"===o.charAt(0)}return(r?"/":"")+(n=Ee.normalizeArray(n.split("/").filter(function(e){return!!e}),!r).join("/"))||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=De.resolve(e).substr(1),t=De.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var c=[];for(s=a;s<r.length;s++)c.push("..");return(c=c.concat(i.slice(a))).join("/")}},Se={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Se.ttys[e]={input:[],output:[],ops:t},Re.registerDevice(e,Se.stream_ops)},stream_ops:{open:function(e){var t=Se.ttys[e.node.rdev];if(!t)throw new Re.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new Re.ErrnoError(60);for(var o=0,a=0;a<r;a++){var s=void 0;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Re.ErrnoError(29)}if(void 0===s&&0===o)throw new Re.ErrnoError(6);if(null==s)break;o++,t[n+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,r,i){var o;if(!e.tty||!e.tty.ops.put_char)throw new Re.ErrnoError(60);try{for(o=0;o<r;o++)e.tty.ops.put_char(e.tty,t[n+o])}catch(e){throw new Re.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt&&null!==(t=window.prompt("Input: "))&&(t+="\n"),!t)return null;e.input=Ot(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(x(E(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(x(E(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(M(E(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(M(E(e.output,0)),e.output=[])}}},Pe={ops_table:null,mount:function(e){return Pe.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(Re.isBlkdev(n)||Re.isFIFO(n))throw new Re.ErrnoError(63);Pe.ops_table||(Pe.ops_table={dir:{node:{getattr:Pe.node_ops.getattr,setattr:Pe.node_ops.setattr,lookup:Pe.node_ops.lookup,mknod:Pe.node_ops.mknod,rename:Pe.node_ops.rename,unlink:Pe.node_ops.unlink,rmdir:Pe.node_ops.rmdir,readdir:Pe.node_ops.readdir,symlink:Pe.node_ops.symlink},stream:{llseek:Pe.stream_ops.llseek}},file:{node:{getattr:Pe.node_ops.getattr,setattr:Pe.node_ops.setattr},stream:{llseek:Pe.stream_ops.llseek,read:Pe.stream_ops.read,write:Pe.stream_ops.write,allocate:Pe.stream_ops.allocate,mmap:Pe.stream_ops.mmap,msync:Pe.stream_ops.msync}},link:{node:{getattr:Pe.node_ops.getattr,setattr:Pe.node_ops.setattr,readlink:Pe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Pe.node_ops.getattr,setattr:Pe.node_ops.setattr},stream:Re.chrdev_stream_ops}});var i=Re.createNode(e,t,n,r);return Re.isDir(i.mode)?(i.node_ops=Pe.ops_table.dir.node,i.stream_ops=Pe.ops_table.dir.stream,i.contents={}):Re.isFile(i.mode)?(i.node_ops=Pe.ops_table.file.node,i.stream_ops=Pe.ops_table.file.stream,i.usedBytes=0,i.contents=null):Re.isLink(i.mode)?(i.node_ops=Pe.ops_table.link.node,i.stream_ops=Pe.ops_table.link.stream):Re.isChrdev(i.mode)&&(i.node_ops=Pe.ops_table.chrdev.node,i.stream_ops=Pe.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)|0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Re.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Re.isDir(e.mode)?t.size=4096:Re.isFile(e.mode)?t.size=e.usedBytes:Re.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Pe.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Re.genericErrors[44]},mknod:function(e,t,n,r){return Pe.createNode(e,t,n,r)},rename:function(e,t,n){if(Re.isDir(e.mode)){var r=void 0;try{r=Re.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new Re.ErrnoError(55)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=Re.lookupNode(e,t);for(var r in n.contents)throw new Re.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=Pe.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!Re.isLink(e.mode))throw new Re.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,r);if(A(a>=0),a>8&&o.subarray)t.set(o.subarray(i,i+a),n);else for(var s=0;s<a;s++)t[n+s]=o[i+s];return a},write:function(e,t,r,i,o,a){if(A(!(t instanceof ArrayBuffer)),t.buffer===n.HEAP8.buffer&&(a&&b("file packager has copied file data into memory, but in memory growth we are forced to copy it again (see --no-heap-copy)"),a=!1),!i)return 0;var s=e.node;if(s.timestamp=Date.now(),t.subarray&&(!s.contents||s.contents.subarray)){if(a)return A(0===o,"canOwn must imply no weird position inside the file"),s.contents=t.subarray(r,r+i),s.usedBytes=i,i;if(0===s.usedBytes&&0===o)return s.contents=t.slice(r,r+i),s.usedBytes=i,i;if(o+i<=s.usedBytes)return s.contents.set(t.subarray(r,r+i),o),i}if(Pe.expandFileStorage(s,o+i),s.contents.subarray&&t.subarray)s.contents.set(t.subarray(r,r+i),o);else for(var c=0;c<i;c++)s.contents[o+c]=t[r+c];return s.usedBytes=Math.max(s.usedBytes,o+i),i},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&Re.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Re.ErrnoError(28);return r},allocate:function(e,t,n){Pe.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,r,i,o,a,s){if(A(!(t instanceof ArrayBuffer)),!Re.isFile(e.node.mode))throw new Re.ErrnoError(43);var c,l,u=e.node.contents;if(2&s||u.buffer!==t.buffer){(o>0||o+i<u.length)&&(u=u.subarray?u.subarray(o,o+i):Array.prototype.slice.call(u,o,o+i)),l=!0;var p=t.buffer==n.HEAP8.buffer;if(!(c=Vt(i)))throw new Re.ErrnoError(48);(p?n.HEAP8:t).set(u,c)}else l=!1,c=u.byteOffset;return{ptr:c,allocated:l}},msync:function(e,t,n,r,i){if(!Re.isFile(e.node.mode))throw new Re.ErrnoError(43);return 2&i?0:(Pe.stream_ops.write(e,t,0,r,n,!1),0)}}},Te={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},Ce={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},Re={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof Re.ErrnoError))throw e+" : "+me();return ve(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=De.resolve(Re.cwd(),e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new Re.ErrnoError(32);for(var i=Ee.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=Re.root,a="/",s=0;s<i.length;s++){var c=s===i.length-1;if(c&&t.parent)break;if(o=Re.lookupNode(o,i[s]),a=Ee.join2(a,i[s]),Re.isMountpoint(o)&&(!c||c&&t.follow_mount)&&(o=o.mounted.root),!c||t.follow)for(var l=0;Re.isLink(o.mode);){var u=Re.readlink(a);if(a=De.resolve(Ee.dirname(a),u),o=Re.lookupPath(a,{recurse_count:t.recurse_count}).node,l++>40)throw new Re.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var t;!Re.isRoot(e);)t=t?e.name+"/"+t:e.name,e=e.parent;var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Re.nameTable.length},hashAddNode:function(e){var t=Re.hashName(e.parent.id,e.name);e.name_next=Re.nameTable[t],Re.nameTable[t]=e},hashRemoveNode:function(e){var t=Re.hashName(e.parent.id,e.name);if(Re.nameTable[t]===e)Re.nameTable[t]=e.name_next;else for(var n=Re.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=Re.mayLookup(e);if(n)throw new Re.ErrnoError(n,e);for(var r=Re.hashName(e.id,t),i=Re.nameTable[r];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return Re.lookup(e,t)},createNode:function(e,t,n,r){var i=new Re.FSNode(e,t,n,r);return Re.hashAddNode(i),i},destroyNode:function(e){Re.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=Re.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Re.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var t=Re.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return Re.lookupNode(e,t),20}catch(e){}return Re.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=Re.lookupNode(e,t)}catch(e){return e.errno}var i=Re.nodePermissions(e,"wx");if(i)return i;if(n){if(!Re.isDir(r.mode))return 54;if(Re.isRoot(r)||Re.getPath(r)===Re.cwd())return 10}else if(Re.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?Re.isLink(e.mode)?32:Re.isDir(e.mode)&&("r"!==Re.flagsToPermissionString(t)||512&t)?31:Re.nodePermissions(e,Re.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||Re.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!Re.streams[n])return n;throw new Re.ErrnoError(33)},getStream:function(e){return Re.streams[e]},createStream:function(e,t,n){Re.FSStream||(Re.FSStream=function(){},Re.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var r=new Re.FSStream;for(var i in e)r[i]=e[i];e=r;var o=Re.nextfd(t,n);return e.fd=o,Re.streams[o]=e,e},closeStream:function(e){Re.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Re.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Re.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Re.devices[e]={stream_ops:t}},getDevice:function(e){return Re.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Re.syncFSRequests++,Re.syncFSRequests>1&&M("warning: "+Re.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Re.getMounts(Re.root.mount),r=0;function i(e){return A(Re.syncFSRequests>0),Re.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++r>=n.length&&i(null)}n.forEach(function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)})},mount:function(e,t,n){if("string"==typeof e)throw e;var r,i="/"===n,o=!n;if(i&&Re.root)throw new Re.ErrnoError(10);if(!i&&!o){var a=Re.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,Re.isMountpoint(r))throw new Re.ErrnoError(10);if(!Re.isDir(r.mode))throw new Re.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},c=e.mount(s);return c.mount=s,s.root=c,i?Re.root=c:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),c},unmount:function(e){var t=Re.lookupPath(e,{follow_mount:!1});if(!Re.isMountpoint(t.node))throw new Re.ErrnoError(28);var n=t.node,r=n.mounted,i=Re.getMounts(r);Object.keys(Re.nameTable).forEach(function(e){for(var t=Re.nameTable[e];t;){var n=t.name_next;-1!==i.indexOf(t.mount)&&Re.destroyNode(t),t=n}}),n.mounted=null;var o=n.mount.mounts.indexOf(r);A(-1!==o),n.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=Re.lookupPath(e,{parent:!0}).node,i=Ee.basename(e);if(!i||"."===i||".."===i)throw new Re.ErrnoError(28);var o=Re.mayCreate(r,i);if(o)throw new Re.ErrnoError(o);if(!r.node_ops.mknod)throw new Re.ErrnoError(63);return r.node_ops.mknod(r,i,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Re.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Re.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{Re.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,Re.mknod(e,t,n)},symlink:function(e,t){if(!De.resolve(e))throw new Re.ErrnoError(44);var n=Re.lookupPath(t,{parent:!0}).node;if(!n)throw new Re.ErrnoError(44);var r=Ee.basename(t),i=Re.mayCreate(n,r);if(i)throw new Re.ErrnoError(i);if(!n.node_ops.symlink)throw new Re.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,i=Ee.dirname(e),o=Ee.dirname(t),a=Ee.basename(e),s=Ee.basename(t);try{n=Re.lookupPath(e,{parent:!0}).node,r=Re.lookupPath(t,{parent:!0}).node}catch(e){throw new Re.ErrnoError(10)}if(!n||!r)throw new Re.ErrnoError(44);if(n.mount!==r.mount)throw new Re.ErrnoError(75);var c,l=Re.lookupNode(n,a),u=De.relative(e,o);if("."!==u.charAt(0))throw new Re.ErrnoError(28);if("."!==(u=De.relative(t,i)).charAt(0))throw new Re.ErrnoError(55);try{c=Re.lookupNode(r,s)}catch(e){}if(l!==c){var p=Re.isDir(l.mode),d=Re.mayDelete(n,a,p);if(d)throw new Re.ErrnoError(d);if(d=c?Re.mayDelete(r,s,p):Re.mayCreate(r,s))throw new Re.ErrnoError(d);if(!n.node_ops.rename)throw new Re.ErrnoError(63);if(Re.isMountpoint(l)||c&&Re.isMountpoint(c))throw new Re.ErrnoError(10);if(r!==n&&(d=Re.nodePermissions(n,"w")))throw new Re.ErrnoError(d);try{Re.trackingDelegate.willMovePath&&Re.trackingDelegate.willMovePath(e,t)}catch(n){M("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}Re.hashRemoveNode(l);try{n.node_ops.rename(l,r,s)}catch(e){throw e}finally{Re.hashAddNode(l)}try{Re.trackingDelegate.onMovePath&&Re.trackingDelegate.onMovePath(e,t)}catch(n){M("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=Re.lookupPath(e,{parent:!0}).node,n=Ee.basename(e),r=Re.lookupNode(t,n),i=Re.mayDelete(t,n,!0);if(i)throw new Re.ErrnoError(i);if(!t.node_ops.rmdir)throw new Re.ErrnoError(63);if(Re.isMountpoint(r))throw new Re.ErrnoError(10);try{Re.trackingDelegate.willDeletePath&&Re.trackingDelegate.willDeletePath(e)}catch(t){M("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,n),Re.destroyNode(r);try{Re.trackingDelegate.onDeletePath&&Re.trackingDelegate.onDeletePath(e)}catch(t){M("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=Re.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Re.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Re.lookupPath(e,{parent:!0}).node,n=Ee.basename(e),r=Re.lookupNode(t,n),i=Re.mayDelete(t,n,!1);if(i)throw new Re.ErrnoError(i);if(!t.node_ops.unlink)throw new Re.ErrnoError(63);if(Re.isMountpoint(r))throw new Re.ErrnoError(10);try{Re.trackingDelegate.willDeletePath&&Re.trackingDelegate.willDeletePath(e)}catch(t){M("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,n),Re.destroyNode(r);try{Re.trackingDelegate.onDeletePath&&Re.trackingDelegate.onDeletePath(e)}catch(t){M("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=Re.lookupPath(e).node;if(!t)throw new Re.ErrnoError(44);if(!t.node_ops.readlink)throw new Re.ErrnoError(28);return De.resolve(Re.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=Re.lookupPath(e,{follow:!t}).node;if(!n)throw new Re.ErrnoError(44);if(!n.node_ops.getattr)throw new Re.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Re.stat(e,!0)},chmod:function(e,t,n){var r;if(!(r="string"==typeof e?Re.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Re.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){Re.chmod(e,t,!0)},fchmod:function(e,t){var n=Re.getStream(e);if(!n)throw new Re.ErrnoError(8);Re.chmod(n.node,t)},chown:function(e,t,n,r){var i;if(!(i="string"==typeof e?Re.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Re.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){Re.chown(e,t,n,!0)},fchown:function(e,t,n){var r=Re.getStream(e);if(!r)throw new Re.ErrnoError(8);Re.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new Re.ErrnoError(28);var n;if(!(n="string"==typeof e?Re.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Re.ErrnoError(63);if(Re.isDir(n.mode))throw new Re.ErrnoError(31);if(!Re.isFile(n.mode))throw new Re.ErrnoError(28);var r=Re.nodePermissions(n,"w");if(r)throw new Re.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=Re.getStream(e);if(!n)throw new Re.ErrnoError(8);if(0==(2097155&n.flags))throw new Re.ErrnoError(28);Re.truncate(n.node,t)},utime:function(e,t,n){var r=Re.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,t,r,i,o){if(""===e)throw new Re.ErrnoError(44);var a;if(r=void 0===r?438:r,r=64&(t="string"==typeof t?Re.modeStringToFlags(t):t)?4095&r|32768:0,"object"==typeof e)a=e;else{e=Ee.normalize(e);try{a=Re.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var s=!1;if(64&t)if(a){if(128&t)throw new Re.ErrnoError(20)}else a=Re.mknod(e,r,0),s=!0;if(!a)throw new Re.ErrnoError(44);if(Re.isChrdev(a.mode)&&(t&=-513),65536&t&&!Re.isDir(a.mode))throw new Re.ErrnoError(54);if(!s){var c=Re.mayOpen(a,t);if(c)throw new Re.ErrnoError(c)}512&t&&Re.truncate(a,0),t&=-641;var l=Re.createStream({node:a,path:Re.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},i,o);l.stream_ops.open&&l.stream_ops.open(l),!n.logReadFiles||1&t||(Re.readFiles||(Re.readFiles={}),e in Re.readFiles||(Re.readFiles[e]=1,M("FS.trackingDelegate error on read file: "+e)));try{if(Re.trackingDelegate.onOpenFile){var u=0;1!=(2097155&t)&&(u|=Re.tracking.openFlags.READ),0!=(2097155&t)&&(u|=Re.tracking.openFlags.WRITE),Re.trackingDelegate.onOpenFile(e,u)}}catch(t){M("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return l},close:function(e){if(Re.isClosed(e))throw new Re.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Re.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(Re.isClosed(e))throw new Re.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Re.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Re.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new Re.ErrnoError(28);if(Re.isClosed(e))throw new Re.ErrnoError(8);if(1==(2097155&e.flags))throw new Re.ErrnoError(8);if(Re.isDir(e.node.mode))throw new Re.ErrnoError(31);if(!e.stream_ops.read)throw new Re.ErrnoError(28);var o=void 0!==i;if(o){if(!e.seekable)throw new Re.ErrnoError(70)}else i=e.position;var a=e.stream_ops.read(e,t,n,r,i);return o||(e.position+=a),a},write:function(e,t,n,r,i,o){if(r<0||i<0)throw new Re.ErrnoError(28);if(Re.isClosed(e))throw new Re.ErrnoError(8);if(0==(2097155&e.flags))throw new Re.ErrnoError(8);if(Re.isDir(e.node.mode))throw new Re.ErrnoError(31);if(!e.stream_ops.write)throw new Re.ErrnoError(28);1024&e.flags&&Re.llseek(e,0,2);var a=void 0!==i;if(a){if(!e.seekable)throw new Re.ErrnoError(70)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,o);a||(e.position+=s);try{e.path&&Re.trackingDelegate.onWriteToFile&&Re.trackingDelegate.onWriteToFile(e.path)}catch(t){M("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return s},allocate:function(e,t,n){if(Re.isClosed(e))throw new Re.ErrnoError(8);if(t<0||n<=0)throw new Re.ErrnoError(28);if(0==(2097155&e.flags))throw new Re.ErrnoError(8);if(!Re.isFile(e.node.mode)&&!Re.isDir(e.node.mode))throw new Re.ErrnoError(43);if(!e.stream_ops.allocate)throw new Re.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new Re.ErrnoError(2);if(1==(2097155&e.flags))throw new Re.ErrnoError(2);if(!e.stream_ops.mmap)throw new Re.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,i,o,a)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new Re.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=Re.open(e,t.flags),i=Re.stat(e).size,o=new Uint8Array(i);return Re.read(r,o,0,i,0),"utf8"===t.encoding?n=E(o,0):"binary"===t.encoding&&(n=o),Re.close(r),n},writeFile:function(e,t,n){(n=n||{}).flags=n.flags||"w";var r=Re.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(T(t)+1),o=S(t,i,0,i.length);Re.write(r,i,0,o,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Re.write(r,t,0,t.byteLength,void 0,n.canOwn)}Re.close(r)},cwd:function(){return Re.currentPath},chdir:function(e){var t=Re.lookupPath(e,{follow:!0});if(null===t.node)throw new Re.ErrnoError(44);if(!Re.isDir(t.node.mode))throw new Re.ErrnoError(54);var n=Re.nodePermissions(t.node,"x");if(n)throw new Re.ErrnoError(n);Re.currentPath=t.path},createDefaultDirectories:function(){Re.mkdir("/tmp"),Re.mkdir("/home"),Re.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(Re.mkdir("/dev"),Re.registerDevice(Re.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),Re.mkdev("/dev/null",Re.makedev(1,3)),Se.register(Re.makedev(5,0),Se.default_tty_ops),Se.register(Re.makedev(6,0),Se.default_tty1_ops),Re.mkdev("/dev/tty",Re.makedev(5,0)),Re.mkdev("/dev/tty1",Re.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}e||(e=function(){ae("no cryptographic support found for random_device. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: let crypto = { getRandomValues: function(array) { for (let i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}),Re.createDevice("/dev","random",e),Re.createDevice("/dev","urandom",e),Re.mkdir("/dev/shm"),Re.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Re.mkdir("/proc"),Re.mkdir("/proc/self"),Re.mkdir("/proc/self/fd"),Re.mount({mount:function(){var e=Re.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=Re.getStream(n);if(!r)throw new Re.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){n.stdin?Re.createDevice("/dev","stdin",n.stdin):Re.symlink("/dev/tty","/dev/stdin"),n.stdout?Re.createDevice("/dev","stdout",null,n.stdout):Re.symlink("/dev/tty","/dev/stdout"),n.stderr?Re.createDevice("/dev","stderr",null,n.stderr):Re.symlink("/dev/tty1","/dev/stderr");var e=Re.open("/dev/stdin","r"),t=Re.open("/dev/stdout","w"),r=Re.open("/dev/stderr","w");A(0===e.fd,"invalid handle for stdin ("+e.fd+")"),A(1===t.fd,"invalid handle for stdout ("+t.fd+")"),A(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){Re.ErrnoError||(Re.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,Ce)if(Ce[t]===e){this.code=t;break}},this.setErrno(e),this.message=Te[e],this.stack&&(Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0}),this.stack=fe(this.stack))},Re.ErrnoError.prototype=new Error,Re.ErrnoError.prototype.constructor=Re.ErrnoError,[44].forEach(function(e){Re.genericErrors[e]=new Re.ErrnoError(e),Re.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){Re.ensureErrnoError(),Re.nameTable=new Array(4096),Re.mount(Pe,{},"/"),Re.createDefaultDirectories(),Re.createDefaultDevices(),Re.createSpecialDirectories(),Re.filesystems={MEMFS:Pe}},init:function(e,t,r){A(!Re.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),Re.init.initialized=!0,Re.ensureErrnoError(),n.stdin=e||n.stdin,n.stdout=t||n.stdout,n.stderr=r||n.stderr,Re.createStandardStreams()},quit:function(){Re.init.initialized=!1;var e=n._fflush;e&&e(0);for(var t=0;t<Re.streams.length;t++){var r=Re.streams[t];r&&Re.close(r)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=Ee.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return De.resolve(t,e)},standardizePath:function(e){return Ee.normalize(e)},findObject:function(e,t){var n=Re.analyzePath(e,t);return n.exists?n.object:(ve(n.error),null)},analyzePath:function(e,t){try{e=(r=Re.lookupPath(e,{follow:!t})).path}catch(e){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Re.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=Ee.basename(e),r=Re.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(e){n.error=e.errno}return n},createFolder:function(e,t,n,r){var i=Ee.join2("string"==typeof e?e:Re.getPath(e),t),o=Re.getMode(n,r);return Re.mkdir(i,o)},createPath:function(e,t,n,r){e="string"==typeof e?e:Re.getPath(e);for(var i,o=t.split("/").reverse();o.length;){var a=o.pop();if(a){i=Ee.join2(e,a);try{Re.mkdir(i)}catch(e){}e=i}}return i},createFile:function(e,t,n,r,i){var o=Ee.join2("string"==typeof e?e:Re.getPath(e),t),a=Re.getMode(r,i);return Re.create(o,a)},createDataFile:function(e,t,n,r,i,o){var a=t?Ee.join2("string"==typeof e?e:Re.getPath(e),t):e,s=Re.getMode(r,i),c=Re.create(a,s);if(n){if("string"==typeof n){for(var l=new Array(n.length),u=0,p=n.length;u<p;++u)l[u]=n.charCodeAt(u);n=l}Re.chmod(c,146|s);var d=Re.open(c,"w");Re.write(d,n,0,n.length,0,o),Re.close(d),Re.chmod(c,s)}return c},createDevice:function(e,t,n,r){var i=Ee.join2("string"==typeof e?e:Re.getPath(e),t),o=Re.getMode(!!n,!!r);Re.createDevice.major||(Re.createDevice.major=64);var a=Re.makedev(Re.createDevice.major++,0);return Re.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,o){for(var a=0,s=0;s<i;s++){var c=void 0;try{c=n()}catch(e){throw new Re.ErrnoError(29)}if(void 0===c&&0===a)throw new Re.ErrnoError(6);if(null==c)break;a++,t[r+s]=c}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,i,o){var a;for(a=0;a<i;a++)try{r(t[n+a])}catch(e){throw new Re.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),a}}),Re.mkdev(i,o,a)},createLink:function(e,t,n,r,i){var o=Ee.join2("string"==typeof e?e:Re.getPath(e),t);return Re.symlink(n,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!h)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Ot(h(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||ve(29),t},createLazyFile:function(e,t,n,r,i){function o(){this.lengthKnown=!1,this.chunks=[]}var a;if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;i||(a=r);var s=this;s.setDataGetter(function(e){var t=e*a,i=(e+1)*a-1;if(i=Math.min(i,r-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==a&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):Ot(i.responseText||"",!0)}(t,i)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]}),!o&&r||(a=r=1,r=this.getter(0).length,a=r,x("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new o;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}}),a={isDevice:!1,contents:s}}else a={isDevice:!1,url:n};var c=Re.createFile(e,t,a,r,i);a.contents?c.contents=a.contents:a.url&&(c.contents=null,c.url=a.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var l={};return Object.keys(c.stream_ops).forEach(function(e){var t=c.stream_ops[e];l[e]=function(){if(!Re.forceLoadFile(c))throw new Re.ErrnoError(29);return t.apply(null,arguments)}}),l.read=function(e,t,n,r,i){if(!Re.forceLoadFile(c))throw new Re.ErrnoError(29);var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,r);if(A(a>=0),o.slice)for(var s=0;s<a;s++)t[n+s]=o[i+s];else for(s=0;s<a;s++)t[n+s]=o.get(i+s);return a},c.stream_ops=l,c},createPreloadedFile:function(e,t,r,i,o,a,s,c,l,u){(void 0).init();var p=t?De.resolve(Ee.join2(e,t)):e,d=function(e){for(var t=e;re[e];)e=t+Math.random();return e}("cp "+p);function h(r){function h(n){u&&u(),c||Re.createDataFile(e,t,n,i,o,l),a&&a(),oe(d)}var f=!1;n.preloadPlugins.forEach(function(e){f||e.canHandle(p)&&(e.handle(r,p,h,function(){s&&s(),oe(d)}),f=!0)}),f||h(r)}ie(d),"string"==typeof r?(void 0).asyncLoad(r,function(e){h(e)},s):h(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r,i=Re.indexedDB();try{r=i.open(Re.DB_NAME(),Re.DB_VERSION)}catch(e){return n(e)}r.onupgradeneeded=function(){x("creating db"),r.result.createObjectStore(Re.DB_STORE_NAME)},r.onsuccess=function(){var i=r.result.transaction([Re.DB_STORE_NAME],"readwrite"),o=i.objectStore(Re.DB_STORE_NAME),a=0,s=0,c=e.length;function l(){0==s?t():n()}e.forEach(function(e){var t=o.put(Re.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+s==c&&l()},t.onerror=function(){a+ ++s==c&&l()}}),i.onerror=n},r.onerror=n},loadFilesFromDB:function(e,t,n){var r,i;t=t||function(){},n=n||function(){};var o=Re.indexedDB();try{r=o.open(Re.DB_NAME(),Re.DB_VERSION)}catch(e){return n(e)}r.onupgradeneeded=n,r.onsuccess=function(){var o=r.result;try{i=o.transaction([Re.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var a=i.objectStore(Re.DB_STORE_NAME),s=0,c=0,l=e.length;function u(){0==c?t():n()}e.forEach(function(e){var t=a.get(e);t.onsuccess=function(){Re.analyzePath(e).exists&&Re.unlink(e),Re.createDataFile(Ee.dirname(e),Ee.basename(e),t.result,!0,!0,!0),++s+c==l&&u()},t.onerror=function(){s+ ++c==l&&u()}}),i.onerror=n},r.onerror=n}},Ie={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n=void 0;if(-100===e)n=Re.cwd();else{var r=Re.getStream(e);if(!r)throw new Re.ErrnoError(8);n=r.path}t=Ee.join2(n,t)}return t},doStat:function(e,t,r){var i;try{i=e(t)}catch(e){if(e&&e.node&&Ee.normalize(t)!==Ee.normalize(Re.getPath(e.node)))return-54;throw e}return n.HEAP32[r>>2]=i.dev,n.HEAP32[r+4>>2]=0,n.HEAP32[r+8>>2]=i.ino,n.HEAP32[r+12>>2]=i.mode,n.HEAP32[r+16>>2]=i.nlink,n.HEAP32[r+20>>2]=i.uid,n.HEAP32[r+24>>2]=i.gid,n.HEAP32[r+28>>2]=i.rdev,n.HEAP32[r+32>>2]=0,pe=[i.size>>>0,(ue=i.size,+K(ue)>=1?ue>0?(0|$(+J(ue/4294967296),4294967295))>>>0:~~+Z((ue-+(~~ue>>>0))/4294967296)>>>0:0)],n.HEAP32[r+40>>2]=pe[0],n.HEAP32[r+44>>2]=pe[1],n.HEAP32[r+48>>2]=4096,n.HEAP32[r+52>>2]=i.blocks,n.HEAP32[r+56>>2]=i.atime.getTime()/1e3|0,n.HEAP32[r+60>>2]=0,n.HEAP32[r+64>>2]=i.mtime.getTime()/1e3|0,n.HEAP32[r+68>>2]=0,n.HEAP32[r+72>>2]=i.ctime.getTime()/1e3|0,n.HEAP32[r+76>>2]=0,pe=[i.ino>>>0,(ue=i.ino,+K(ue)>=1?ue>0?(0|$(+J(ue/4294967296),4294967295))>>>0:~~+Z((ue-+(~~ue>>>0))/4294967296)>>>0:0)],n.HEAP32[r+80>>2]=pe[0],n.HEAP32[r+84>>2]=pe[1],0},doMsync:function(e,t,r,i,o){var a=n.HEAPU8.slice(e,e+r);Re.msync(t,a,o,r,i)},doMkdir:function(e,t){return"/"===(e=Ee.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Re.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Re.mknod(e,t,n),0},doReadlink:function(e,t,r){if(r<=0)return-28;var i=Re.readlink(e),o=Math.min(r,T(i)),a=n.HEAP8[t+o];return P(i,t,r+1),n.HEAP8[t+o]=a,o},doAccess:function(e,t){if(-8&t)return-28;var n;if(!(n=Re.lookupPath(e,{follow:!0}).node))return-44;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&Re.nodePermissions(n,r)?-2:0},doDup:function(e,t,n){var r=Re.getStream(n);return r&&Re.close(r),Re.open(e,t,0,n,n).fd},doReadv:function(e,t,r,i){for(var o=0,a=0;a<r;a++){var s=n.HEAP32[t+8*a>>2],c=n.HEAP32[t+(8*a+4)>>2],l=Re.read(e,n.HEAP8,s,c,i);if(l<0)return-1;if(o+=l,l<c)break}return o},doWritev:function(e,t,r,i){for(var o=0,a=0;a<r;a++){var s=n.HEAP32[t+8*a>>2],c=n.HEAP32[t+(8*a+4)>>2],l=Re.write(e,n.HEAP8,s,c,i);if(l<0)return-1;o+=l}return o},varargs:void 0,get:function(){return A(null!=Ie.varargs),Ie.varargs+=4,n.HEAP32[Ie.varargs-4>>2]},getStr:function(e){return D(e)},getStreamFromFD:function(e){var t=Re.getStream(e);if(!t)throw new Re.ErrnoError(8);return t},get64:function(e,t){return A(e>=0?0===t:-1===t),e}};function Oe(e,t){if(-1===e||0===t)return-28;var n=Ie.mappings[e];if(!n)return 0;if(t===n.len){var r=Re.getStream(n.fd);Ie.doMsync(e,r,t,n.flags,n.offset),Re.munmap(r),Ie.mappings[e]=null,n.allocated&&Ht(n.malloc)}return 0}function Le(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var ke=void 0;function Be(e){for(var t="",r=e;n.HEAPU8[r];)t+=ke[n.HEAPU8[r++]];return t}var Ue={},Ne={},Fe={},je=48,ze=57,Ve=Function;function He(e,t){return e=function(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=je&&t<=ze?"_"+e:e}(e),new Ve("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Ge(e,t){var n=He(t,function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var We=void 0;function Xe(e){throw new We(e)}function Ye(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||Xe('type "'+r+'" must have a positive integer typeid pointer'),Ne.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;Xe("Cannot register type '"+r+"' twice")}if(Ne[e]=t,delete Fe[e],Ue.hasOwnProperty(e)){var i=Ue[e];delete Ue[e],i.forEach(function(e){e()})}}var Qe,qe=[],Ke=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ze(){for(var e=0,t=5;t<Ke.length;++t)void 0!==Ke[t]&&++e;return e}function Je(){for(var e=5;e<Ke.length;++e)if(void 0!==Ke[e])return Ke[e];return null}function $e(e){return this.fromWireType(n.HEAPU32[e>>2])}function et(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function tt(){return n.HEAPU8.length}function nt(e){try{return n.wasmMemory.grow(e-n.buffer.byteLength+65535>>16),U(n.wasmMemory.buffer),1}catch(t){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+n.buffer.byteLength+" bytes to "+e+" bytes, but got error: "+t)}}Qe=function(){return performance.now()};var rt={keyEvent:0,mouseEvent:0,wheelEvent:0,uiEvent:0,focusEvent:0,deviceOrientationEvent:0,deviceMotionEvent:0,fullscreenChangeEvent:0,pointerlockChangeEvent:0,visibilityChangeEvent:0,touchEvent:0,previousFullscreenElement:null,previousScreenX:null,previousScreenY:null,removeEventListenersRegistered:!1,removeAllEventListeners:function(){for(var e=rt.eventHandlers.length-1;e>=0;--e)rt._removeHandler(e);rt.eventHandlers=[],rt.deferredCalls=[]},registerRemoveEventListeners:function(){rt.removeEventListenersRegistered||(Y.push(rt.removeAllEventListeners),rt.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,n){function r(e,t){if(e.length!=t.length)return!1;for(var n in e)if(e[n]!=t[n])return!1;return!0}for(var i in rt.deferredCalls){var o=rt.deferredCalls[i];if(o.targetFunction==e&&r(o.argsList,n))return}rt.deferredCalls.push({targetFunction:e,precedence:t,argsList:n}),rt.deferredCalls.sort(function(e,t){return e.precedence<t.precedence})},removeDeferredCalls:function(e){for(var t=0;t<rt.deferredCalls.length;++t)rt.deferredCalls[t].targetFunction==e&&(rt.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return rt.inEventHandler&&rt.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(rt.canPerformEventHandlerRequests())for(var e=0;e<rt.deferredCalls.length;++e){var t=rt.deferredCalls[e];rt.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},inEventHandler:0,currentEventHandler:null,eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var n=0;n<rt.eventHandlers.length;++n)rt.eventHandlers[n].target!=e||t&&t!=rt.eventHandlers[n].eventTypeString||rt._removeHandler(n--)},_removeHandler:function(e){var t=rt.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),rt.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++rt.inEventHandler,rt.currentEventHandler=e,rt.runDeferredCalls(),e.handlerFunc(t),rt.runDeferredCalls(),--rt.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),rt.eventHandlers.push(e),rt.registerRemoveEventListeners();else for(var n=0;n<rt.eventHandlers.length;++n)rt.eventHandlers[n].target==e.target&&rt.eventHandlers[n].eventTypeString==e.eventTypeString&&rt._removeHandler(n--)},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},it=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function ot(e){var t;return it[e]||("undefined"!=typeof document?document.querySelector((t=e)===t+0?D(t):t):void 0)}function at(e){return ot(e)}var st={xhrs:[],setu64:function(e,t){n.HEAPU32[e>>2]=t,n.HEAPU32[e+4>>2]=t/4294967296|0},openDatabase:function(e,t,n,r){var i;try{i=indexedDB.open(e,t)}catch(e){return r(e)}i.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("FILES")&&t.deleteObjectStore("FILES"),t.createObjectStore("FILES")},i.onsuccess=function(e){n(e.target.result)},i.onerror=function(e){r(e)}},staticInit:function(){st.openDatabase("emscripten_filesystem",1,function(e){st.dbInstance=e,oe("library_fetch_init")},function(){st.dbInstance=!1,oe("library_fetch_init")}),ie("library_fetch_init")}};function ct(e,t,r,i,o){var a=n.HEAPU32[e+8>>2];if(a){var s=D(a),c=e+112,l=D(c);l||(l="GET"),n.HEAPU32[c+32>>2];var u=n.HEAPU32[c+52>>2],p=n.HEAPU32[c+56>>2],d=!!n.HEAPU32[c+60>>2],h=(n.HEAPU32[c+64>>2],n.HEAPU32[c+68>>2]),f=n.HEAPU32[c+72>>2],m=n.HEAPU32[c+76>>2],g=n.HEAPU32[c+80>>2],y=n.HEAPU32[c+84>>2],v=n.HEAPU32[c+88>>2],x=!!(1&u),M=!!(2&u),b=!!(64&u),w=h?D(h):void 0,_=f?D(f):void 0,E=g?D(g):void 0,S=new XMLHttpRequest;if(S.withCredentials=d,S.open(l,s,!b,w,_),b||(S.timeout=p),S.url_=s,A(!M,"streaming uses moz-chunked-arraybuffer which is no longer supported; TODO: rewrite using fetch()"),S.responseType="arraybuffer",g&&S.overrideMimeType(E),m)for(;;){var T=n.HEAPU32[m>>2];if(!T)break;var C=n.HEAPU32[m+4>>2];if(!C)break;m+=8;var R=D(T),I=D(C);S.setRequestHeader(R,I)}st.xhrs.push(S);var O=st.xhrs.length;n.HEAPU32[e+0>>2]=O;var L=y&&v?n.HEAPU8.slice(y,y+v):null;S.onload=function(i){if(n.HEAPU8){var o=S.response?S.response.byteLength:0,a=0,s=0;x&&!M&&(a=Vt(s=o),n.HEAPU8.set(new Uint8Array(S.response),a)),n.HEAPU32[e+12>>2]=a,st.setu64(e+16,s),st.setu64(e+24,0),o&&st.setu64(e+32,o),n.HEAPU16[e+40>>1]=S.readyState,4===S.readyState&&0===S.status&&(S.status=o>0?200:404),n.HEAPU16[e+42>>1]=S.status,S.statusText&&P(S.statusText,e+44,64),S.status>=200&&S.status<300?t&&t(e,S,i):r&&r(e,S,i)}},S.onerror=function(t){if(n.HEAPU8){var i=S.status;4===S.readyState&&0===i&&(i=404),n.HEAPU32[e+12>>2]=0,st.setu64(e+16,0),st.setu64(e+24,0),st.setu64(e+32,0),n.HEAPU16[e+40>>1]=S.readyState,n.HEAPU16[e+42>>1]=i,r&&r(e,S,t)}},S.ontimeout=function(t){r&&r(e,S,t)},S.onprogress=function(t){if(n.HEAPU32){var r=x&&M&&S.response?S.response.byteLength:0,o=0;x&&M&&(o=Vt(r),n.HEAPU8.set(new Uint8Array(S.response),o)),n.HEAPU32[e+12>>2]=o,st.setu64(e+16,r),st.setu64(e+24,t.loaded-r),st.setu64(e+32,t.total),n.HEAPU16[e+40>>1]=S.readyState,S.readyState>=3&&0===S.status&&t.loaded>0&&(S.status=200),n.HEAPU16[e+42>>1]=S.status,S.statusText&&P(S.statusText,e+44,64),i&&i(e,S,t)}},S.onreadystatechange=function(t){n.HEAPU16&&(n.HEAPU16[e+40>>1]=S.readyState,S.readyState>=2&&(n.HEAPU16[e+42>>1]=S.status),o&&o(e,S,t))};try{S.send(L)}catch(t){r&&r(e,S,t)}}else r(e,0,"no url specified!")}function lt(e,t,r,i,o){if(e){var a=t+112,s=n.HEAPU32[a+64>>2];s||(s=n.HEAPU32[t+8>>2]);var c=D(s);try{var l=e.transaction(["FILES"],"readwrite").objectStore("FILES").put(r,c);l.onsuccess=function(e){n.HEAPU16[t+40>>1]=4,n.HEAPU16[t+42>>1]=200,P("OK",t+44,64),i(t,0,c)},l.onerror=function(e){n.HEAPU16[t+40>>1]=4,n.HEAPU16[t+42>>1]=413,P("Payload Too Large",t+44,64),o(t,0,e)}}catch(e){o(t,0,e)}}else o(t,0,"IndexedDB not available!")}var ut={counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},currentContext:null,offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,init:function(){for(var e=new Float32Array(ut.MINI_TEMP_BUFFER_SIZE),t=0;t<ut.MINI_TEMP_BUFFER_SIZE;t++)ut.miniTempBufferFloatViews[t]=e.subarray(0,t+1);var n=new Int32Array(ut.MINI_TEMP_BUFFER_SIZE);for(t=0;t<ut.MINI_TEMP_BUFFER_SIZE;t++)ut.miniTempBufferIntViews[t]=n.subarray(0,t+1)},recordError:function(e){ut.lastError||(ut.lastError=e)},getNewId:function(e){for(var t=ut.counter++,n=e.length;n<t;n++)e[n]=null;return t},MINI_TEMP_BUFFER_SIZE:256,miniTempBufferFloatViews:[0],miniTempBufferIntViews:[0],getSource:function(e,t,r,i){for(var o="",a=0;a<t;++a){var s=i?n.HEAP32[i+4*a>>2]:-1;o+=D(n.HEAP32[r+4*a>>2],s<0?void 0:s)}return o},createContext:function(e,t){var n=t.majorVersion>1?e.getContext("webgl2",t):e.getContext("webgl",t);return n?ut.registerContext(n,t):0},registerContext:function(e,t){var n=Vt(8),r={handle:n,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=r),ut.contexts[n]=r,(void 0===t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&ut.initExtensions(r),n},makeContextCurrent:function(e){return ut.currentContext=ut.contexts[e],n.ctx=Ct=ut.currentContext&&ut.currentContext.GLctx,!(e&&!Ct)},getContext:function(e){return ut.contexts[e]},deleteContext:function(e){ut.currentContext===ut.contexts[e]&&(ut.currentContext=null),"object"==typeof rt&&rt.removeAllHandlersOnTarget(ut.contexts[e].GLctx.canvas),ut.contexts[e]&&ut.contexts[e].GLctx.canvas&&(ut.contexts[e].GLctx.canvas.GLctxObject=void 0),Ht(ut.contexts[e].handle),ut.contexts[e].GLctx.getExtension("WEBGL_lose_context").loseContext(),ut.contexts[e]=null},initExtensions:function(e){if(e||(e=ut.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t,n,r=e.GLctx;e.version<2&&((n=(t=r).getExtension("ANGLE_instanced_arrays"))&&(t.vertexAttribDivisor=function(e,t){n.vertexAttribDivisorANGLE(e,t)},t.drawArraysInstanced=function(e,t,r,i){n.drawArraysInstancedANGLE(e,t,r,i)},t.drawElementsInstanced=function(e,t,r,i,o){n.drawElementsInstancedANGLE(e,t,r,i,o)}),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(r),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)})}(r)),r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query");var i=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","EXT_texture_norm16","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2","WEBKIT_WEBGL_compressed_texture_pvrtc"];(r.getSupportedExtensions()||[]).forEach(function(e){-1!=i.indexOf(e)&&r.getExtension(e)})}},populateUniformTable:function(e){for(var t=ut.programs[e],n=ut.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},r=n.uniforms,i=Ct.getProgramParameter(t,35718),o=0;o<i;++o){var a=Ct.getActiveUniform(t,o),s=a.name;n.maxUniformLength=Math.max(n.maxUniformLength,s.length+1),"]"==s.slice(-1)&&(s=s.slice(0,s.lastIndexOf("[")));var c=Ct.getUniformLocation(t,s);if(c){var l=ut.getNewId(ut.uniforms);r[s]=[a.size,l],ut.uniforms[l]=c;for(var u=1;u<a.size;++u){var p=s+"["+u+"]";c=Ct.getUniformLocation(t,p),l=ut.getNewId(ut.uniforms),ut.uniforms[l]=c}}}}},pt=["default","low-power","high-performance"];function dt(e){return ut.makeContextCurrent(e)?0:-5}n._emscripten_webgl_make_context_current=dt;var ht={};function ft(){if(!ft.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(var t in ht)e[t]=ht[t];var n=[];for(var t in e)n.push(t+"="+e[t]);ft.strings=n}return ft.strings}var mt=[];function gt(e,t,r,i){for(var o=0;o<e;o++){var a=Ct[r](),s=a&&ut.getNewId(i);a?(a.name=s,i[s]=a):ut.recordError(1282),n.HEAP32[t+4*o>>2]=s}}function yt(e,t){n.HEAPU32[e>>2]=t,n.HEAPU32[e+4>>2]=(t-n.HEAPU32[e>>2])/4294967296;var r=t>=0?function(e){return n.HEAPU32[e>>2]+4294967296*n.HEAPU32[e+4>>2]}(e):function(e){return n.HEAPU32[e>>2]+4294967296*n.HEAP32[e+4>>2]}(e);r!=t&&b("writeI53ToI64() out of range: serialized JS Number "+t+" to Wasm heap as bytes lo=0x"+n.HEAPU32[e>>2].toString(16)+", hi=0x"+n.HEAPU32[e+4>>2].toString(16)+", which deserializes back to "+r+" instead!")}function vt(e){return 0==(e-=5120)?n.HEAP8:1==e?n.HEAPU8:2==e?n.HEAP16:4==e?n.HEAP32:6==e?n.HEAPF32:5==e||28922==e||28520==e||30779==e||30782==e?n.HEAPU32:n.HEAPU16}function xt(e){return 31-Math.clz32(e.BYTES_PER_ELEMENT)}function Mt(e,t,n,r,i,o){var a=vt(e),s=xt(a),c=1<<s,l=function(e,t,n,r){var i;return t*(e*n+(i=r)-1&-i)}(n,r,function(e){return{5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[e-6402]||1}(t)*c,ut.unpackAlignment);return a.subarray(i>>s,i+l>>s)}var bt=0,wt=function(e){bt=e},At=function(){return bt};function _t(e){return e%4==0&&(e%100!=0||e%400==0)}function Et(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var Dt=[31,29,31,30,31,30,31,31,30,31,30,31],St=[31,28,31,30,31,30,31,31,30,31,30,31];function Pt(e,t){for(var n=new Date(e.getTime());t>0;){var r=_t(n.getFullYear()),i=n.getMonth(),o=(r?Dt:St)[i];if(!(t>o-n.getDate()))return n.setDate(n.getDate()+t),n;t-=o-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function Tt(e,t,r,i){var o=n.HEAP32[i+40>>2],a={tm_sec:n.HEAP32[i>>2],tm_min:n.HEAP32[i+4>>2],tm_hour:n.HEAP32[i+8>>2],tm_mday:n.HEAP32[i+12>>2],tm_mon:n.HEAP32[i+16>>2],tm_year:n.HEAP32[i+20>>2],tm_wday:n.HEAP32[i+24>>2],tm_yday:n.HEAP32[i+28>>2],tm_isdst:n.HEAP32[i+32>>2],tm_gmtoff:n.HEAP32[i+36>>2],tm_zone:o?D(o):""},s=D(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in c)s=s.replace(new RegExp(l,"g"),c[l]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t,n){for(var r="number"==typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function h(e,t){return d(e,t,"0")}function f(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function m(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function g(e){var t=Pt(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=m(n),o=m(r);return f(i,t)<=0?f(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var y={"%a":function(e){return u[e.tm_wday].substring(0,3)},"%A":function(e){return u[e.tm_wday]},"%b":function(e){return p[e.tm_mon].substring(0,3)},"%B":function(e){return p[e.tm_mon]},"%C":function(e){return h((e.tm_year+1900)/100|0,2)},"%d":function(e){return h(e.tm_mday,2)},"%e":function(e){return d(e.tm_mday,2," ")},"%g":function(e){return g(e).toString().substring(2)},"%G":function(e){return g(e)},"%H":function(e){return h(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),h(t,2)},"%j":function(e){return h(e.tm_mday+Et(_t(e.tm_year+1900)?Dt:St,e.tm_mon-1),3)},"%m":function(e){return h(e.tm_mon+1,2)},"%M":function(e){return h(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return h(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),n=0===t.getDay()?t:Pt(t,7-t.getDay()),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(f(n,r)<0){var i=Et(_t(r.getFullYear())?Dt:St,r.getMonth()-1)-31,o=31-n.getDate()+i+r.getDate();return h(Math.ceil(o/7),2)}return 0===f(n,t)?"01":"00"},"%V":function(e){var t,n=new Date(e.tm_year+1900,0,4),r=new Date(e.tm_year+1901,0,4),i=m(n),o=m(r),a=Pt(new Date(e.tm_year+1900,0,1),e.tm_yday);return f(a,i)<0?"53":f(o,a)<=0?"01":(t=i.getFullYear()<e.tm_year+1900?e.tm_yday+32-i.getDate():e.tm_yday+1-i.getDate(),h(Math.ceil(t/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),n=1===t.getDay()?t:Pt(t,0===t.getDay()?1:7-t.getDay()+1),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(f(n,r)<0){var i=Et(_t(r.getFullYear())?Dt:St,r.getMonth()-1)-31,o=31-n.getDate()+i+r.getDate();return h(Math.ceil(o/7),2)}return 0===f(n,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var l in y)s.indexOf(l)>=0&&(s=s.replace(new RegExp(l,"g"),y[l](a)));var v,x,M=Ot(s,!1);return M.length>t?0:(x=e,A((v=M).length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),n.HEAP8.set(v,x),M.length-1)}var Ct,Rt=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Re.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r};Object.defineProperties(Rt.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Re.isDir(this.mode)}},isDevice:{get:function(){return Re.isChrdev(this.mode)}}}),Re.FSNode=Rt,Re.staticInit(),function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);ke=e}(),We=n.BindingError=Ge(Error,"BindingError"),n.InternalError=Ge(Error,"InternalError"),n.count_emval_handles=Ze,n.get_first_emval=Je,st.staticInit(),ut.init();for(var It=0;It<32;It++)mt.push(new Array(It));function Ot(e,t,n){var r=n>0?n:T(e)+1,i=new Array(r),o=S(e,i,0,i.length);return t&&(i.length=o),i}var Lt={BenchBoxUpdateCallBack:function(e,n){t&&t["3D"].wsmUpdateBenchBox(n)},ConsoleError:function(e){try{console.error(D(e))}catch(e){console.error(e)}},ConsoleInfo:function(e){try{console.warn(D(e))}catch(e){console.error(e)}},ConsoleWarn:function(e){try{console.warn(D(e))}catch(e){console.error(e)}},JSEventCallBack:function(e,n,r){t&&t["3D"].wsmDispatchEvent(D(n),r)},JSRenderText:function(e,n,r,i){t&&t["3D"].wsmRenderText(D(n),D(r),i)},XHRGet:function(e,n,r,i){if(t)switch(r){case 0:return t["3D"].JS_XHRGet(D(n),"text",i,r,e);case 1:case 2:return t["3D"].JS_XHRGet(D(n),"blob",i,r,e)}},__assert_fail:function(e,t,n,r){ae("Assertion failed: "+D(e)+", at: "+[t?D(t):"unknown filename",n,r?D(r):"unknown function"])},__cxa_allocate_exception:function(e){return Vt(e)},__cxa_throw:function(e,t,n){throw ge[e]={ptr:e,adjusted:[e],type:t,destructor:n,refcount:0,caught:!1,rethrown:!1},ye=e,"uncaught_exception"in Wt?Wt.uncaught_exceptions++:Wt.uncaught_exceptions=1,e},__handle_stack_overflow:function(){ae("stack overflow")},__map_file:function(e,t){return _e(63),-1},__syscall221:function(e,t,r){Ie.varargs=r;try{var i=Ie.getStreamFromFD(e);switch(t){case 0:return(o=Ie.get())<0?-28:Re.open(i.path,i.flags,0,o).fd;case 1:case 2:return 0;case 3:return i.flags;case 4:var o=Ie.get();return i.flags|=o,0;case 12:return o=Ie.get(),n.HEAP16[o+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return ve(28),-1;default:return-28}}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),-e.errno}},__syscall5:function(e,t,n){Ie.varargs=n;try{var r=Ie.getStr(e),i=Ie.get();return Re.open(r,t,i).fd}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),-e.errno}},__syscall54:function(e,t,r){Ie.varargs=r;try{var i=Ie.getStreamFromFD(e);switch(t){case 21509:case 21505:return i.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return i.tty?0:-59;case 21519:if(!i.tty)return-59;var o=Ie.get();return n.HEAP32[o>>2]=0,0;case 21520:return i.tty?-28:-59;case 21531:return o=Ie.get(),Re.ioctl(i,t,o);case 21523:case 21524:return i.tty?0:-59;default:ae("bad ioctl syscall "+t)}}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),-e.errno}},__syscall91:function(e,t){try{return Oe(e,t)}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),-e.errno}},__cxa_end_catch:function(){qt(0);var e=be.pop();e&&(function(e){if(e){var t=ge[e];A(t.refcount>0),t.refcount--,0!==t.refcount||t.rethrown||(t.destructor&&n.dynCall_ii(t.destructor,e),delete ge[e],Ae(e))}}(we(e)),ye=0)},__cxa_find_matching_catch_2:function(){var e=ye;if(!e)return 0|(wt(0),0);var t=ge[e],r=t.type;if(!r)return 0|(wt(0),e);var i=Array.prototype.slice.call(arguments);xe(r),n.HEAP32[287352]=e,e=1149408;for(var o=0;o<i.length;o++)if(i[o]&&Me(i[o],r,e))return e=n.HEAP32[e>>2],t.adjusted.push(e),0|(wt(i[o]),e);return e=n.HEAP32[e>>2],0|(wt(r),e)},__cxa_find_matching_catch_3:function(){var e=ye;if(!e)return 0|(wt(0),0);var t=ge[e],r=t.type;if(!r)return 0|(wt(0),e);var i=Array.prototype.slice.call(arguments);n.HEAP32[287352]=e,e=1149408;for(var o=0;o<i.length;o++)if(i[o]&&Me(i[o],r,e))return e=n.HEAP32[e>>2],t.adjusted.push(e),0|(wt(i[o]),e);return e=n.HEAP32[e>>2],0|(wt(r),e)},__cxa_free_exception:Ae,__cxa_begin_catch:function(e){var t=ge[e];return t&&!t.caught&&(t.caught=!0,Wt.uncaught_exceptions--),t&&(t.rethrown=!1),be.push(e),function(e){e&&ge[e].refcount++}(we(e)),e},__cxa_rethrow:function(){var e=be.pop();throw e=we(e),ge[e].rethrown||(be.push(e),ge[e].rethrown=!0),ye=e,e},__resumeException:function(e){throw ye||(ye=e),e},__sys_fcntl64:function(e,t,r){Ie.varargs=r;try{var i=Ie.getStreamFromFD(e);switch(t){case 0:return(o=Ie.get())<0?-28:Re.open(i.path,i.flags,0,o).fd;case 1:case 2:return 0;case 3:return i.flags;case 4:var o=Ie.get();return i.flags|=o,0;case 12:return o=Ie.get(),n.HEAP16[o+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return _e(28),-1;default:return-28}}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),-e.errno}},__sys_ioctl:function(e,t,r){Ie.varargs=r;try{var i=Ie.getStreamFromFD(e);switch(t){case 21509:case 21505:return i.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return i.tty?0:-59;case 21519:if(!i.tty)return-59;var o=Ie.get();return n.HEAP32[o>>2]=0,0;case 21520:return i.tty?-28:-59;case 21531:return o=Ie.get(),Re.ioctl(i,t,o);case 21523:case 21524:return i.tty?0:-59;default:ae("bad ioctl syscall "+t)}}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),-e.errno}},__sys_munmap:function(e,t){try{return Oe(e,t)}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),-e.errno}},__sys_open:function(e,t,n){Ie.varargs=n;try{var r=Ie.getStr(e),i=Ie.get();return Re.open(r,t,i).fd}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),-e.errno}},__cxa_uncaught_exceptions:function(){return Wt.uncaught_exceptions},_embind_register_bool:function(e,t,r,i,o){var a=Le(r);Ye(e,{name:t=Be(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?i:o},argPackAdvance:8,readValueFromPointer:function(e){var i;if(1===r)i=n.HEAP8;else if(2===r)i=n.HEAP16;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);i=n.HEAP32}return this.fromWireType(i[e>>a])},destructorFunction:null})},_embind_register_emval:function(e,t){Ye(e,{name:t=Be(t),fromWireType:function(e){var t=Ke[e].value;return function(e){e>4&&0==--Ke[e].refcount&&(Ke[e]=void 0,qe.push(e))}(e),t},toWireType:function(e,t){return function(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=qe.length?qe.pop():Ke.length;return Ke[t]={refcount:1,value:e},t}}(t)},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:null})},_embind_register_float:function(e,t,r){var i=Le(r);Ye(e,{name:t=Be(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+et(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:function(e,t){switch(t){case 2:return function(e){return this.fromWireType(n.HEAPF32[e>>2])};case 3:return function(e){return this.fromWireType(n.HEAPF64[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}(t,i),destructorFunction:null})},_embind_register_integer:function(e,t,r,i,o){t=Be(t),-1===o&&(o=4294967295);var a=Le(r),s=function(e){return e};if(0===i){var c=32-8*r;s=function(e){return e<<c>>>c}}var l=-1!=t.indexOf("unsigned");Ye(e,{name:t,fromWireType:s,toWireType:function(e,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+et(n)+'" to '+this.name);if(n<i||n>o)throw new TypeError('Passing a number "'+et(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+i+", "+o+"]!");return l?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:function(e,t,r){switch(t){case 0:return r?function(e){return n.HEAP8[e]}:function(e){return n.HEAPU8[e]};case 1:return r?function(e){return n.HEAP16[e>>1]}:function(e){return n.HEAPU16[e>>1]};case 2:return r?function(e){return n.HEAP32[e>>2]}:function(e){return n.HEAPU32[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}(t,a,0!==i),destructorFunction:null})},_embind_register_memory_view:function(e,t,r){var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){e>>=2;var t=n.HEAPU32,r=t[e],o=t[e+1];return new i(n.buffer,o,r)}Ye(e,{name:r=Be(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:function(e,t){var r="std::string"===(t=Be(t));Ye(e,{name:t,fromWireType:function(e){var t,i=n.HEAPU32[e>>2];if(r){var o=n.HEAPU8[e+4+i],a=0;0!=o&&(a=o,n.HEAPU8[e+4+i]=0);for(var s=e+4,c=0;c<=i;++c){var l=e+4+c;if(0==n.HEAPU8[l]){var u=D(s);void 0===t?t=u:(t+=String.fromCharCode(0),t+=u),s=l+1}}0!=a&&(n.HEAPU8[e+4+i]=a)}else{var p=new Array(i);for(c=0;c<i;++c)p[c]=String.fromCharCode(n.HEAPU8[e+4+c]);t=p.join("")}return Ht(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i="string"==typeof t;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Xe("Cannot pass non-string to std::string");var o=(r&&i?function(){return T(t)}:function(){return t.length})(),a=Vt(4+o+1);if(n.HEAPU32[a>>2]=o,r&&i)P(t,a+4,o+1);else if(i)for(var s=0;s<o;++s){var c=t.charCodeAt(s);c>255&&(Ht(a),Xe("String has UTF-16 code units that do not fit in 8 bits")),n.HEAPU8[a+4+s]=c}else for(s=0;s<o;++s)n.HEAPU8[a+4+s]=t[s];return null!==e&&e.push(Ht,a),a},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:function(e){Ht(e)}})},_embind_register_std_wstring:function(e,t,r){var i,o,a,s,c;r=Be(r),2===t?(i=R,o=I,s=O,a=function(){return n.HEAPU16},c=1):4===t&&(i=L,o=k,s=B,a=function(){return n.HEAPU32},c=2),Ye(e,{name:r,fromWireType:function(e){var r,o=n.HEAPU32[e>>2],s=a(),l=s[e+4+o*t>>c],u=0;0!=l&&(u=l,s[e+4+o*t>>c]=0);for(var p=e+4,d=0;d<=o;++d){var h=e+4+d*t;if(0==s[h>>c]){var f=i(p);void 0===r?r=f:(r+=String.fromCharCode(0),r+=f),p=h+t}}return 0!=u&&(s[e+4+o*t>>c]=u),Ht(e),r},toWireType:function(e,i){"string"!=typeof i&&Xe("Cannot pass non-string to C++ string type "+r);var a=s(i),l=Vt(4+a+t);return n.HEAPU32[l>>2]=a>>c,o(i,l+4,a+t),null!==e&&e.push(Ht,l),l},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:function(e){Ht(e)}})},_embind_register_void:function(e,t){Ye(e,{isVoid:!0,name:t=Be(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},_emscripten_fetch_free:function(e){delete st.xhrs[e-1]},abort:function(){ae()},clock:function e(){return void 0===e.start&&(e.start=Date.now()),1e3*(Date.now()-e.start)|0},emscripten_is_main_browser_thread:function(){return!d},emscripten_memcpy_big:function(e,t,r){n.HEAPU8.copyWithin(e,t,t+r)},emscripten_resize_heap:function(e){var t=tt();if(A(e>t),e>2130706432)return M("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is 2130706432 bytes!"),!1;for(var n,r,i,o=1;o<=4;o*=2){var a=t*(1+.2/o);a=Math.min(a,e+100663296),n=Math.min(2130706432,((r=Math.max(16777216,e,a))%(i=65536)>0&&(r+=i-r%i),r)),Qe();var s=nt(n);if(Qe(),s)return!0}return M("Failed to grow the heap from "+t+" bytes to "+n+" bytes, not enough memory!"),!1},emscripten_set_canvas_element_size:function(e,t,n){var r=at(e);return r?(r.width=t,r.height=n,0):-4},emscripten_start_fetch:function(e,t,r,i,o){void 0!==v&&(v=!0);var a=e+112,s=D(a),c=n.HEAPU32[a+36>>2],l=n.HEAPU32[a+40>>2],u=n.HEAPU32[a+44>>2],p=n.HEAPU32[a+48>>2],d=n.HEAPU32[a+52>>2],h=!!(4&d),f=!!(32&d),m=!!(16&d),g=function(e,n,r){c?Yt(c,e):t&&t(e)},y=function(e,t,n){u?Yt(u,e):i&&i(e)},x=function(e,t,n){l?Yt(l,e):r&&r(e)},M=function(e,t,n){p?Yt(p,e):o&&o(e)},b=function(e,n,r){lt(st.dbInstance,e,n.response,function(e,n,r){c?Yt(c,e):t&&t(e)},function(e,n,r){c?Yt(c,e):t&&t(e)})};if("EM_IDB_STORE"===s){var w=n.HEAPU32[a+84>>2];lt(st.dbInstance,e,n.HEAPU8.slice(w,w+n.HEAPU32[a+88>>2]),g,x)}else if("EM_IDB_DELETE"===s)!function(e,t,r,i){if(e){var o=t+112,a=n.HEAPU32[o+64>>2];a||(a=n.HEAPU32[t+8>>2]);var s=D(a);try{var c=e.transaction(["FILES"],"readwrite").objectStore("FILES").delete(s);c.onsuccess=function(e){var i=e.target.result;n.HEAPU32[t+12>>2]=0,st.setu64(t+16,0),st.setu64(t+24,0),st.setu64(t+32,0),n.HEAPU16[t+40>>1]=4,n.HEAPU16[t+42>>1]=200,P("OK",t+44,64),r(t,0,i)},c.onerror=function(e){n.HEAPU16[t+40>>1]=4,n.HEAPU16[t+42>>1]=404,P("Not Found",t+44,64),i(t,0,e)}}catch(e){i(t,0,e)}}else i(t,0,"IndexedDB not available!")}(st.dbInstance,e,g,x);else if(m){if(f)return 0;ct(e,h?b:g,x,y,M)}else!function(e,t,r,i){if(e){var o=t+112,a=n.HEAPU32[o+64>>2];a||(a=n.HEAPU32[t+8>>2]);var s=D(a);try{var c=e.transaction(["FILES"],"readonly").objectStore("FILES").get(s);c.onsuccess=function(e){if(n.HEAPU8)if(e.target.result){var o=e.target.result,a=o.byteLength||o.length,s=Vt(a);n.HEAPU8.set(new Uint8Array(o),s),n.HEAPU32[t+12>>2]=s,st.setu64(t+16,a),st.setu64(t+24,0),st.setu64(t+32,a),n.HEAPU16[t+40>>1]=4,n.HEAPU16[t+42>>1]=200,P("OK",t+44,64),r(t,0,o)}else n.HEAPU16[t+40>>1]=4,n.HEAPU16[t+42>>1]=404,P("Not Found",t+44,64),i(t,0,"no data")},c.onerror=function(e){n.HEAPU16[t+40>>1]=4,n.HEAPU16[t+42>>1]=404,P("Not Found",t+44,64),i(t,0,e)}}catch(e){i(t,0,e)}}else i(t,0,"IndexedDB not available!")}(st.dbInstance,e,g,f?x:h?function(e,t,n){ct(e,b,x,y,M)}:function(e,t,n){ct(e,g,x,y,M)});return e},emscripten_webgl_create_context:function(e,t){return function(e,t){A(t);var r={},i=t>>2;r.alpha=!!n.HEAP32[i+0],r.depth=!!n.HEAP32[i+1],r.stencil=!!n.HEAP32[i+2],r.antialias=!!n.HEAP32[i+3],r.premultipliedAlpha=!!n.HEAP32[i+4],r.preserveDrawingBuffer=!!n.HEAP32[i+5];var o=n.HEAP32[i+6];r.powerPreference=pt[o],r.failIfMajorPerformanceCaveat=!!n.HEAP32[i+7],r.majorVersion=n.HEAP32[i+8],r.minorVersion=n.HEAP32[i+9],r.enableExtensionsByDefault=n.HEAP32[i+10],r.explicitSwapControl=n.HEAP32[i+11],r.proxyContextToMainThread=n.HEAP32[i+12],r.renderViaOffscreenBackBuffer=n.HEAP32[i+13];var a=at(e);return a?r.explicitSwapControl?0:ut.createContext(a,r):0}(e,t)},emscripten_webgl_destroy_context:function(e){return t=e,ut.currentContext==t&&(ut.currentContext=0),void ut.deleteContext(t);var t},emscripten_webgl_make_context_current:dt,environ_get:function(e,t){var r=ft(),i=0;return r.forEach(function(r,o){var a=t+i;n.HEAP32[e+4*o>>2]=a,function(e,t,r){for(var i=0;i<e.length;++i)A(e.charCodeAt(i)===(255&e.charCodeAt(i))),n.HEAP8[t++>>0]=e.charCodeAt(i);r||(n.HEAP8[t>>0]=0)}(r,a),i+=r.length+1}),0},environ_sizes_get:function(e,t){var r=ft();n.HEAP32[e>>2]=r.length;var i=0;return r.forEach(function(e){i+=e.length+1}),n.HEAP32[t>>2]=i,0},fd_close:function(e){try{var t=Ie.getStreamFromFD(e);return Re.close(t),0}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),e.errno}},fd_read:function(e,t,r,i){try{var o=Ie.getStreamFromFD(e),a=Ie.doReadv(o,t,r);return n.HEAP32[i>>2]=a,0}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),e.errno}},fd_seek:function(e,t,r,i,o){try{var a=Ie.getStreamFromFD(e),s=4294967296*r+(t>>>0);return s<=-9007199254740992||s>=9007199254740992?-61:(Re.llseek(a,s,i),pe=[a.position>>>0,(ue=a.position,+K(ue)>=1?ue>0?(0|$(+J(ue/4294967296),4294967295))>>>0:~~+Z((ue-+(~~ue>>>0))/4294967296)>>>0:0)],n.HEAP32[o>>2]=pe[0],n.HEAP32[o+4>>2]=pe[1],a.getdents&&0===s&&0===i&&(a.getdents=null),0)}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),e.errno}},fd_write:function(e,t,r,i){try{var o=Ie.getStreamFromFD(e),a=Ie.doWritev(o,t,r);return n.HEAP32[i>>2]=a,0}catch(e){return void 0!==Re&&e instanceof Re.ErrnoError||ae(e),e.errno}},glActiveTexture:function(e){Ct.activeTexture(e)},glAttachShader:function(e,t){Ct.attachShader(ut.programs[e],ut.shaders[t])},glBindBuffer:function(e,t){35051==e?Ct.currentPixelPackBufferBinding=t:35052==e&&(Ct.currentPixelUnpackBufferBinding=t),Ct.bindBuffer(e,ut.buffers[t])},glPolygonOffset:function(e,t){Ct.polygonOffset(e,t)},glBindBufferBase:function(e,t,n){Ct.bindBufferBase(e,t,ut.buffers[n])},glBindFramebuffer:function(e,t){Ct.bindFramebuffer(e,ut.framebuffers[t])},glBindRenderbuffer:function(e,t){Ct.bindRenderbuffer(e,ut.renderbuffers[t])},glBindTexture:function(e,t){Ct.bindTexture(e,ut.textures[t])},glBindVertexArray:function(e){Ct.bindVertexArray(ut.vaos[e])},glBlendEquation:function(e){Ct.blendEquation(e)},glBlendFunc:function(e,t){Ct.blendFunc(e,t)},glBlitFramebuffer:function(e,t,n,r,i,o,a,s,c,l){Ct.blitFramebuffer(e,t,n,r,i,o,a,s,c,l)},glBufferData:function(e,t,r,i){ut.currentContext.version>=2?r?r>0?Ct.bufferData(e,n.HEAPU8,i,r,t):Ct.bufferData(e,kt().get(r).HEAPU8,i,0,t):Ct.bufferData(e,t,i):r>=0?Ct.bufferData(e,r?n.HEAPU8.subarray(r,r+t):t,i):Ct.bufferData(e,kt().get(r).HEAPU8,i)},glCheckFramebufferStatus:function(e){return Ct.checkFramebufferStatus(e)},glClear:function(e){Ct.clear(e)},glClearColor:function(e,t,n,r){Ct.clearColor(e,t,n,r)},glClearDepthf:function(e){Ct.clearDepth(e)},glClearStencil:function(e){Ct.clearStencil(e)},glColorMask:function(e,t,n,r){Ct.colorMask(!!e,!!t,!!n,!!r)},glCompileShader:function(e){Ct.compileShader(ut.shaders[e])},glCreateProgram:function(){var e=ut.getNewId(ut.programs),t=Ct.createProgram();return t.name=e,ut.programs[e]=t,e},glCreateShader:function(e){var t=ut.getNewId(ut.shaders);return ut.shaders[t]=Ct.createShader(e),t},glCullFace:function(e){Ct.cullFace(e)},glDeleteBuffers:function(e,t){for(var r=0;r<e;r++){var i=n.HEAP32[t+4*r>>2],o=ut.buffers[i];o&&(Ct.deleteBuffer(o),o.name=0,ut.buffers[i]=null,i==ut.currArrayBuffer&&(ut.currArrayBuffer=0),i==ut.currElementArrayBuffer&&(ut.currElementArrayBuffer=0),i==Ct.currentPixelPackBufferBinding&&(Ct.currentPixelPackBufferBinding=0),i==Ct.currentPixelUnpackBufferBinding&&(Ct.currentPixelUnpackBufferBinding=0))}},glDeleteFramebuffers:function(e,t){for(var r=0;r<e;++r){var i=n.HEAP32[t+4*r>>2],o=ut.framebuffers[i];o&&(Ct.deleteFramebuffer(o),o.name=0,ut.framebuffers[i]=null)}},glDeleteProgram:function(e){if(e){var t=ut.programs[e];t?(Ct.deleteProgram(t),t.name=0,ut.programs[e]=null,ut.programInfos[e]=null):ut.recordError(1281)}},glDeleteRenderbuffers:function(e,t){for(var r=0;r<e;r++){var i=n.HEAP32[t+4*r>>2],o=ut.renderbuffers[i];o&&(Ct.deleteRenderbuffer(o),o.name=0,ut.renderbuffers[i]=null)}},glDeleteShader:function(e){if(e){var t=ut.shaders[e];t?(Ct.deleteShader(t),ut.shaders[e]=null):ut.recordError(1281)}},glDeleteTextures:function(e,t){for(var r=0;r<e;r++){var i=n.HEAP32[t+4*r>>2],o=ut.textures[i];o&&(Ct.deleteTexture(o),o.name=0,ut.textures[i]=null)}},glDeleteVertexArrays:function(e,t){for(var r=0;r<e;r++){var i=n.HEAP32[t+4*r>>2];Ct.deleteVertexArray(ut.vaos[i]),ut.vaos[i]=null}},glDepthFunc:function(e){Ct.depthFunc(e)},glDepthMask:function(e){Ct.depthMask(!!e)},glDisable:function(e){Ct.disable(e)},glDisableVertexAttribArray:function(e){Ct.disableVertexAttribArray(e)},glDrawArrays:function(e,t,n){Ct.drawArrays(e,t,n)},glDrawArraysInstanced:function(e,t,n,r){Ct.drawArraysInstanced(e,t,n,r)},glDrawBuffers:function(e,t){for(var r=mt[e],i=0;i<e;i++)r[i]=n.HEAP32[t+4*i>>2];Ct.drawBuffers(r)},glDrawElements:function(e,t,n,r){Ct.drawElements(e,t,n,r)},glDrawElementsInstanced:function(e,t,n,r,i){Ct.drawElementsInstanced(e,t,n,r,i)},glEnable:function(e){Ct.enable(e)},glFlush:function(){Ct.flush()},glEnableVertexAttribArray:function(e){Ct.enableVertexAttribArray(e)},glFramebufferRenderbuffer:function(e,t,n,r){Ct.framebufferRenderbuffer(e,t,n,ut.renderbuffers[r])},glFramebufferTexture2D:function(e,t,n,r,i){Ct.framebufferTexture2D(e,t,n,ut.textures[r],i)},glFrontFace:function(e){Ct.frontFace(e)},glGenBuffers:function(e,t){gt(e,t,"createBuffer",ut.buffers)},glGenFramebuffers:function(e,t){gt(e,t,"createFramebuffer",ut.framebuffers)},glGenRenderbuffers:function(e,t){gt(e,t,"createRenderbuffer",ut.renderbuffers)},glGenTextures:function(e,t){gt(e,t,"createTexture",ut.textures)},glGenVertexArrays:function(e,t){gt(e,t,"createVertexArray",ut.vaos)},glGenerateMipmap:function(e){Ct.generateMipmap(e)},glUniform4fv:function(e,t,r){if(ut.currentContext.version>=2)Ct.uniform4fv(ut.uniforms[e],n.HEAPF32,r>>2,4*t);else{var i;if(4*t<=ut.MINI_TEMP_BUFFER_SIZE){i=ut.miniTempBufferFloatViews[4*t-1];var o=n.HEAPF32;r>>=2;for(var a=0;a<4*t;a+=4){var s=r+a;i[a]=o[s],i[a+1]=o[s+1],i[a+2]=o[s+2],i[a+3]=o[s+3]}}else i=n.HEAPF32.subarray(r>>2,r+16*t>>2);Ct.uniform4fv(ut.uniforms[e],i)}},glUniform3fv:function(e,t,r){if(ut.currentContext.version>=2)Ct.uniform3fv(ut.uniforms[e],n.HEAPF32,r>>2,3*t);else{var i;if(3*t<=ut.MINI_TEMP_BUFFER_SIZE){i=ut.miniTempBufferFloatViews[3*t-1];for(var o=0;o<3*t;o+=3)i[o]=n.HEAPF32[r+4*o>>2],i[o+1]=n.HEAPF32[r+(4*o+4)>>2],i[o+2]=n.HEAPF32[r+(4*o+8)>>2]}else i=n.HEAPF32.subarray(r>>2,r+12*t>>2);Ct.uniform3fv(ut.uniforms[e],i)}},glGetAttribLocation:function(e,t){return Ct.getAttribLocation(ut.programs[e],D(t))},glGetIntegerv:function(e,t){!function(e,t,r){if(t){var i=void 0;switch(e){case 36346:i=1;break;case 36344:return void(0!=r&&1!=r&&ut.recordError(1280));case 34814:case 36345:i=0;break;case 34466:var o=Ct.getParameter(34467);i=o?o.length:0;break;case 33309:if(ut.currentContext.version<2)return void ut.recordError(1282);i=2*(Ct.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(ut.currentContext.version<2)return void ut.recordError(1280);i=33307==e?3:0}if(void 0===i){var a=Ct.getParameter(e);switch(typeof a){case"number":i=a;break;case"boolean":i=a?1:0;break;case"string":return void ut.recordError(1280);case"object":if(null===a)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 35097:case 36389:case 34068:i=0;break;default:return void ut.recordError(1280)}else{if(a instanceof Float32Array||a instanceof Uint32Array||a instanceof Int32Array||a instanceof Array){for(var s=0;s<a.length;++s)switch(r){case 0:n.HEAP32[t+4*s>>2]=a[s];break;case 2:n.HEAPF32[t+4*s>>2]=a[s];break;case 4:n.HEAP8[t+s>>0]=a[s]?1:0}return}try{i=0|a.name}catch(t){return ut.recordError(1280),void M("GL_INVALID_ENUM in glGet"+r+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+t+")")}}break;default:return ut.recordError(1280),void M("GL_INVALID_ENUM in glGet"+r+"v: Native code calling glGet"+r+"v("+e+") and it returns "+a+" of type "+typeof a+"!")}}switch(r){case 1:yt(t,i);break;case 0:n.HEAP32[t>>2]=i;break;case 2:n.HEAPF32[t>>2]=i;break;case 4:n.HEAP8[t>>0]=i?1:0}}else ut.recordError(1281)}(e,t,0)},glGetShaderInfoLog:function(e,t,r,i){var o=Ct.getShaderInfoLog(ut.shaders[e]);null===o&&(o="(unknown error)");var a=t>0&&i?P(o,i,t):0;r&&(n.HEAP32[r>>2]=a)},glGetShaderiv:function(e,t,r){if(r)if(35716==t){var i=Ct.getShaderInfoLog(ut.shaders[e]);null===i&&(i="(unknown error)"),n.HEAP32[r>>2]=i.length+1}else if(35720==t){var o=Ct.getShaderSource(ut.shaders[e]),a=null===o||0==o.length?0:o.length+1;n.HEAP32[r>>2]=a}else n.HEAP32[r>>2]=Ct.getShaderParameter(ut.shaders[e],t);else ut.recordError(1281)},glGetUniformBlockIndex:function(e,t){return Ct.getUniformBlockIndex(ut.programs[e],D(t))},glGetUniformLocation:function(e,t){var n,r=0;if("]"==(t=D(t))[t.length-1]){var i=t.lastIndexOf("[");r="]"!=t[i+1]?(n=t.slice(i+1),parseInt(n,void 0)):0,t=t.slice(0,i)}var o=ut.programInfos[e]&&ut.programInfos[e].uniforms[t];return o&&r>=0&&r<o[0]?o[1]+r:-1},glLinkProgram:function(e){Ct.linkProgram(ut.programs[e]),ut.populateUniformTable(e)},glReadBuffer:function(e){Ct.readBuffer(e)},glReadPixels:function(e,t,n,r,i,o,a){if(ut.currentContext.version>=2)if(Ct.currentPixelPackBufferBinding)Ct.readPixels(e,t,n,r,i,o,a);else if(a>0){var s=vt(o);Ct.readPixels(e,t,n,r,i,o,s,a>>xt(s))}else s=kt().get(a).heapObjectForWebGLType(o),Ct.readPixels(e,t,n,r,i,o,s,0);else{var c;if(a>=0){if(!(c=Mt(o,i,n,r,a)))return void ut.recordError(1280)}else c=kt().get(a).heapObjectForWebGLType(o);Ct.readPixels(e,t,n,r,i,o,c)}},glUniform1iv:function(e,t,r){if(ut.currentContext.version>=2)Ct.uniform1iv(ut.uniforms[e],n.HEAP32,r>>2,t);else{var i;if(t<=ut.MINI_TEMP_BUFFER_SIZE){i=ut.miniTempBufferIntViews[t-1];for(var o=0;o<t;++o)i[o]=n.HEAP32[r+4*o>>2]}else i=n.HEAP32.subarray(r>>2,r+4*t>>2);Ct.uniform1iv(ut.uniforms[e],i)}},glUniform2fv:function(e,t,r){if(ut.currentContext.version>=2)Ct.uniform2fv(ut.uniforms[e],n.HEAPF32,r>>2,2*t);else{var i;if(2*t<=ut.MINI_TEMP_BUFFER_SIZE){i=ut.miniTempBufferFloatViews[2*t-1];for(var o=0;o<2*t;o+=2)i[o]=n.HEAPF32[r+4*o>>2],i[o+1]=n.HEAPF32[r+(4*o+4)>>2]}else i=n.HEAPF32.subarray(r>>2,r+8*t>>2);Ct.uniform2fv(ut.uniforms[e],i)}},glUniform1fv:function(e,t,r){if(ut.currentContext.version>=2)Ct.uniform1fv(ut.uniforms[e],n.HEAPF32,r>>2,t);else{var i;if(t<=ut.MINI_TEMP_BUFFER_SIZE){i=ut.miniTempBufferFloatViews[t-1];for(var o=0;o<t;++o)i[o]=n.HEAPF32[r+4*o>>2]}else i=n.HEAPF32.subarray(r>>2,r+4*t>>2);Ct.uniform1fv(ut.uniforms[e],i)}},glRenderbufferStorage:function(e,t,n,r){Ct.renderbufferStorage(e,t,n,r)},glRenderbufferStorageMultisample:function(e,t,n,r,i){Ct.renderbufferStorageMultisample(e,t,n,r,i)},glFinish:function(){Ct.finish()},glShaderSource:function(e,t,n,r){var i=ut.getSource(e,t,n,r);Ct.shaderSource(ut.shaders[e],i)},glTexImage2D:function(e,t,n,r,i,o,a,s,c){if(ut.currentContext.version>=2)if(Ct.currentPixelUnpackBufferBinding)Ct.texImage2D(e,t,n,r,i,o,a,s,c);else if(c)if(c>0){var l=vt(s);Ct.texImage2D(e,t,n,r,i,o,a,s,l,c>>xt(l))}else l=kt().get(c).heapObjectForWebGLType(s),Ct.texImage2D(e,t,n,r,i,o,a,s,l,0);else Ct.texImage2D(e,t,n,r,i,o,a,s,null);else c>=0?Ct.texImage2D(e,t,n,r,i,o,a,s,c?Mt(s,a,r,i,c):null):Ct.texImage2D(e,t,n,r,i,o,a,s,kt().get(c).heapObjectForWebGLType(s))},glTexParameteri:function(e,t,n){Ct.texParameteri(e,t,n)},glUniform1i:function(e,t){Ct.uniform1i(ut.uniforms[e],t)},glUniformBlockBinding:function(e,t,n){e=ut.programs[e],Ct.uniformBlockBinding(e,t,n)},glUniformMatrix3fv:function(e,t,r,i){if(ut.currentContext.version>=2)Ct.uniformMatrix3fv(ut.uniforms[e],!!r,n.HEAPF32,i>>2,9*t);else{var o;if(9*t<=ut.MINI_TEMP_BUFFER_SIZE){o=ut.miniTempBufferFloatViews[9*t-1];for(var a=0;a<9*t;a+=9)o[a]=n.HEAPF32[i+4*a>>2],o[a+1]=n.HEAPF32[i+(4*a+4)>>2],o[a+2]=n.HEAPF32[i+(4*a+8)>>2],o[a+3]=n.HEAPF32[i+(4*a+12)>>2],o[a+4]=n.HEAPF32[i+(4*a+16)>>2],o[a+5]=n.HEAPF32[i+(4*a+20)>>2],o[a+6]=n.HEAPF32[i+(4*a+24)>>2],o[a+7]=n.HEAPF32[i+(4*a+28)>>2],o[a+8]=n.HEAPF32[i+(4*a+32)>>2]}else o=n.HEAPF32.subarray(i>>2,i+36*t>>2);Ct.uniformMatrix3fv(ut.uniforms[e],!!r,o)}},glUniformMatrix4fv:function(e,t,r,i){if(ut.currentContext.version>=2)Ct.uniformMatrix4fv(ut.uniforms[e],!!r,n.HEAPF32,i>>2,16*t);else{var o;if(16*t<=ut.MINI_TEMP_BUFFER_SIZE){o=ut.miniTempBufferFloatViews[16*t-1];for(var a=0;a<16*t;a+=16)o[a]=n.HEAPF32[i+4*a>>2],o[a+1]=n.HEAPF32[i+(4*a+4)>>2],o[a+2]=n.HEAPF32[i+(4*a+8)>>2],o[a+3]=n.HEAPF32[i+(4*a+12)>>2],o[a+4]=n.HEAPF32[i+(4*a+16)>>2],o[a+5]=n.HEAPF32[i+(4*a+20)>>2],o[a+6]=n.HEAPF32[i+(4*a+24)>>2],o[a+7]=n.HEAPF32[i+(4*a+28)>>2],o[a+8]=n.HEAPF32[i+(4*a+32)>>2],o[a+9]=n.HEAPF32[i+(4*a+36)>>2],o[a+10]=n.HEAPF32[i+(4*a+40)>>2],o[a+11]=n.HEAPF32[i+(4*a+44)>>2],o[a+12]=n.HEAPF32[i+(4*a+48)>>2],o[a+13]=n.HEAPF32[i+(4*a+52)>>2],o[a+14]=n.HEAPF32[i+(4*a+56)>>2],o[a+15]=n.HEAPF32[i+(4*a+60)>>2]}else o=n.HEAPF32.subarray(i>>2,i+64*t>>2);Ct.uniformMatrix4fv(ut.uniforms[e],!!r,o)}},glUseProgram:function(e){Ct.useProgram(ut.programs[e])},glValidateProgram:function(e){Ct.validateProgram(ut.programs[e])},glVertexAttribDivisor:function(e,t){Ct.vertexAttribDivisor(e,t)},glVertexAttribPointer:function(e,t,n,r,i,o){Ct.vertexAttribPointer(e,t,n,!!r,i,o)},glViewport:function(e,t,n,r){Ct.viewport(e,t,n,r)},invoke_diii:function(e,t,n,r){var i=g();try{return vn(e,t,n,r)}catch(e){if(y(i),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_fiii:function(e,t,n,r){var i=g();try{return yn(e,t,n,r)}catch(e){if(y(i),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_i:function(e){var t=g();try{return rn(e)}catch(e){if(y(t),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_ii:function(e,t){var n=g();try{return on(e,t)}catch(e){if(y(n),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_iii:function(e,t,n){var r=g();try{return an(e,t,n)}catch(e){if(y(r),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_iiii:function(e,t,n,r){var i=g();try{return sn(e,t,n,r)}catch(e){if(y(i),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_iiiii:function(e,t,n,r,i){var o=g();try{return cn(e,t,n,r,i)}catch(e){if(y(o),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_iiiiid:function(e,t,n,r,i,o){var a=g();try{return ln(e,t,n,r,i,o)}catch(e){if(y(a),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_iiiiii:function(e,t,n,r,i,o){var a=g();try{return un(e,t,n,r,i,o)}catch(e){if(y(a),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_iiiiiii:function(e,t,n,r,i,o,a){var s=g();try{return pn(e,t,n,r,i,o,a)}catch(e){if(y(s),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_iiiiiiii:function(e,t,n,r,i,o,a,s){var c=g();try{return dn(e,t,n,r,i,o,a,s)}catch(e){if(y(c),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_iiiiiiiiiii:function(e,t,n,r,i,o,a,s,c,l,u){var p=g();try{return hn(e,t,n,r,i,o,a,s,c,l,u)}catch(e){if(y(p),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_iiiiiiiiiiii:function(e,t,n,r,i,o,a,s,c,l,u,p){var d=g();try{return fn(e,t,n,r,i,o,a,s,c,l,u,p)}catch(e){if(y(d),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_iiiiiiiiiiiii:function(e,t,n,r,i,o,a,s,c,l,u,p,d){var h=g();try{return mn(e,t,n,r,i,o,a,s,c,l,u,p,d)}catch(e){if(y(h),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_jiiii:function(e,t,n,r,i){var o=g();try{return gn(e,t,n,r,i)}catch(e){if(y(o),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_v:function(e){var t=g();try{Qt(e)}catch(e){if(y(t),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_vi:function(e,t){var n=g();try{Yt(e,t)}catch(e){if(y(n),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_vii:function(e,t,n){var r=g();try{Kt(e,t,n)}catch(e){if(y(r),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_viii:function(e,t,n,r){var i=g();try{Zt(e,t,n,r)}catch(e){if(y(i),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_viiii:function(e,t,n,r,i){var o=g();try{Jt(e,t,n,r,i)}catch(e){if(y(o),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_viiiiiii:function(e,t,n,r,i,o,a,s){var c=g();try{$t(e,t,n,r,i,o,a,s)}catch(e){if(y(c),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_viiiiiiiiii:function(e,t,n,r,i,o,a,s,c,l,u){var p=g();try{en(e,t,n,r,i,o,a,s,c,l,u)}catch(e){if(y(p),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_viiiiiiiiiiiiiii:function(e,t,n,r,i,o,a,s,c,l,u,p,d,h,f,m){var v=g();try{tn(e,t,n,r,i,o,a,s,c,l,u,p,d,h,f,m)}catch(e){if(y(v),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},invoke_viijii:function(e,t,n,r,i,o,a){var s=g();try{nn(e,t,n,r,i,o,a)}catch(e){if(y(s),e!==e+0&&"longjmp"!==e)throw e;qt(1,0)}},memory:n.wasmMemory,round:function(e){return(e=+e)>=0?+J(e+.5):+Z(e-.5)},getTempRet0:function(){return 0|At()},strftime_l:function(e,t,n,r){return Tt(e,t,n,r)},table:n.wasmTable,roundf:function(e){return(e=+e)>=0?+J(e+.5):+Z(e-.5)},setTempRet0:function(e){wt(0|e)}};function kt(){return n.arrayBufferMap}function Bt(e){switch(e){case r.UINT8:return n.HEAPU8;case r.UINT16:return n.HEAPU16;case r.UINT32:return n.HEAPU32;case r.INT8:return n.HEAP8;case r.INT16:return n.HEAP16;case r.INT32:return n.HEAP32;case r.FLOAT4:return n.HEAPF32;case r.FLOAT8:return n.HEAPF64}}function Ut(e,t){for(var n=0;n<e.length;++n)if(!i.Util.isNil(e[n]))try{t(e[n])}catch(e){}}n.arrayBufferMap=new Map;var Nt=-1,Ft=!1;n.freeResource=function(){if(!1===Ft){Ft=!0;var e=Ct;null!=e&&ut&&(ut.textures&&ut.textures.length&&Ut(ut.textures,e.deleteTexture),ut.buffers&&Ut(ut.buffers,e.deleteBuffer),ut.framebuffers&&Ut(ut.framebuffers,e.deleteFramebuffer),ut.renderbuffers&&Ut(ut.renderbuffers,e.deleteRenderbuffer),ut.vaos&&Ut(ut.vaos,e.deleteVertexArray)),n.arrayBufferMap&&(n.arrayBufferMap.clear(),delete Lt.memory,Lt.memory=null,delete Lt.table,Lt.table=null),Ct=null}},n.MallocJSArrayBuffer=Lt.MallocJSArrayBuffer=function(e){return kt().set(Nt,new a(e)),Nt--},n.FreeJSArrayBuffer=Lt.FreeJSArrayBuffer=function(e){kt().delete(e)},n.GetValueFromJSArrayBuffer=Lt.GetValueFromJSArrayBuffer=function(e,t,n,r,i){var o=kt();if(o.has(e)){var a=Bt(i);if(a&&a.byteLength>t)return void(a[t/a.BYTES_PER_ELEMENT]=o.get(e).getValue(n,r,i))}throw new Error("JS Function GetValueFromJSArrayBuffer error")},n.SetValueToJSArrayBuffer=Lt.SetValueToJSArrayBuffer=function(e,t,n,r,i){var o=kt();if(o.has(e)){var a=Bt(i);if(a&&a.byteLength>t){var s=t/a.BYTES_PER_ELEMENT;return void o.get(e).setValue(n,a[s],r,i)}}throw new Error("JS Function SetValueToJSArrayBuffer error")},n.CopyValueFromWasmMemeoryToJSArrayBuffer=Lt.CopyValueFromWasmMemeoryToJSArrayBuffer=function(e,t,r,i){var o=kt();if(!o.has(e))throw new Error("JS Function CopyValueFromWasmMemeoryToJSArrayBuffer error");o.get(e).set(n.buffer,r,t,i)},n.CopyValueFromJSArrayBufferToWasmMemeory=Lt.CopyValueFromJSArrayBufferToWasmMemeory=function(e,t,r,i){var o=kt();if(!o.has(e))throw new Error("JS Function CopyValueFromJSArrayBufferToWasmMemeory error");o.get(e).get(n.HEAPU8,r,i,t)},n.CopyValueFromJSArrayBufferToJSArrayBuffer=Lt.CopyValueFromJSArrayBufferToJSArrayBuffer=function(e,t,n,r,i){var o=kt();if(!o.has(e)||!o.has(t))throw new Error("JS Function CopyValueFromJSArrayBufferToJSArrayBuffer error");o.get(e).set(o.get(t).buffer,n,i,r)};var jt=function(){var e={env:Lt,wasi_snapshot_preview1:Lt};function t(e,t){var r=e.exports;n.asm=r,oe("wasm-instantiate")}ie("wasm-instantiate");var r=n;function i(e){A(n===r,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),r=null,t(e.instance)}function o(t){return(n.wasmBinary||!p&&!d||"function"!=typeof fetch?new Promise(function(e,t){e(he())}):fetch(de,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+de+"'";return e.arrayBuffer()}).catch(function(){return he()})).then(function(t){return WebAssembly.instantiate(t,e)}).then(t,function(e){M("failed to asynchronously prepare wasm: "+e),ae(e)})}if(n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(e){return M("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(n.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||ce(de)||"function"!=typeof fetch)return o(i);fetch(de,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(i,function(e){M("wasm streaming compile failed: "+e),M("falling back to ArrayBuffer instantiation"),o(i)})})}(),{}}();n.asm=jt;var zt=n.___wasm_call_ctors=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.__wasm_call_ctors.apply(null,arguments)},Vt=(n._SetParams=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetParams.apply(null,arguments)},n._AddTexture=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.AddTexture.apply(null,arguments)},n._SetRenderElementCanSelectedState=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetRenderElementCanSelectedState.apply(null,arguments)},n._GetRenderElementCanSelectedState=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetRenderElementCanSelectedState.apply(null,arguments)},n._SetExplosionState=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetExplosionState.apply(null,arguments)},n._DispatchEvent=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.DispatchEvent.apply(null,arguments)},n._SetCameraData=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetCameraData.apply(null,arguments)},n._CreateWsmCamera=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateWsmCamera.apply(null,arguments)},n._SetExtendedViewTextureData=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetExtendedViewTextureData.apply(null,arguments)},n._SetTextViewTextureData=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetTextViewTextureData.apply(null,arguments)},n._SetBackgroundTextureData=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetBackgroundTextureData.apply(null,arguments)},n._SetClippingsState=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetClippingsState.apply(null,arguments)},n._SetClippingsValue=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetClippingsValue.apply(null,arguments)},n._GetBoxByRenderState=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetBoxByRenderState.apply(null,arguments)},n._CreateBench=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateBench.apply(null,arguments)},n._DestoryBench=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.DestoryBench.apply(null,arguments)},n._Draw=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.Draw.apply(null,arguments)},n._Resize=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.Resize.apply(null,arguments)},n._OnPluginEvent=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.OnPluginEvent.apply(null,arguments)},n._SetMouseState=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetMouseState.apply(null,arguments)},n._SetRenderState=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetRenderState.apply(null,arguments)},n._GetRenderState=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetRenderState.apply(null,arguments)},n._RemoveModel=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.RemoveModel.apply(null,arguments)},n._UndoCommand=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.UndoCommand.apply(null,arguments)},n._OnMessage=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.OnMessage.apply(null,arguments)},n._StoreModelFileInIndexDB=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.StoreModelFileInIndexDB.apply(null,arguments)},n._DeleteModelFileFromIndexDB=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.DeleteModelFileFromIndexDB.apply(null,arguments)},n._OnMessageImage=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.OnMessageImage.apply(null,arguments)},n._OnError=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.OnError.apply(null,arguments)},n._OnImageError=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.OnImageError.apply(null,arguments)},n._LoadModel=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.LoadModel.apply(null,arguments)},n._SetModelTranslate=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetModelTranslate.apply(null,arguments)},n._SetModelTransform=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetModelTransform.apply(null,arguments)},n._GetTransformMatrix=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetTransformMatrix.apply(null,arguments)},n._SetModelScale=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetModelScale.apply(null,arguments)},n._Update=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.Update.apply(null,arguments)},n._ControlUpdate=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.ControlUpdate.apply(null,arguments)},n._ChangeRenderElementEmissiveColor=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.ChangeRenderElementEmissiveColor.apply(null,arguments)},n._BackRenderElementEmissiveColor=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.BackRenderElementEmissiveColor.apply(null,arguments)},n._ChangeRenderElementOutlineColor=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.ChangeRenderElementOutlineColor.apply(null,arguments)},n._RestoreRenderElementOutlineColor=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.RestoreRenderElementOutlineColor.apply(null,arguments)},n._OpenRenderElementGlow=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.OpenRenderElementGlow.apply(null,arguments)},n._CloseRenderElementGlow=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CloseRenderElementGlow.apply(null,arguments)},n._Raycast=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.Raycast.apply(null,arguments)},n._malloc=function(e){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.malloc.apply(null,arguments)}),Ht=(n._HighLightComponent=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.HighLightComponent.apply(null,arguments)},n._BackTransparent=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.BackTransparent.apply(null,arguments)},n._ChangeTransparent=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.ChangeTransparent.apply(null,arguments)},n._RestoreRenderElementTransparent=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.RestoreRenderElementTransparent.apply(null,arguments)},n._TransparentMesh=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.TransparentMesh.apply(null,arguments)},n._IsolationMesh=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.IsolationMesh.apply(null,arguments)},n._GetBoundingBox=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetBoundingBox.apply(null,arguments)},n._VisiableComponent=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.VisiableComponent.apply(null,arguments)},n._HiddenComponent=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.HiddenComponent.apply(null,arguments)},n._UpdateView=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.UpdateView.apply(null,arguments)},n._HiddenAll=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.HiddenAll.apply(null,arguments)},n._ShowAll=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.ShowAll.apply(null,arguments)},n._GetMeshArea=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetMeshArea.apply(null,arguments)},n._SetUrlParams=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetUrlParams.apply(null,arguments)},n._SetHeaders=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetHeaders.apply(null,arguments)},n._GetMeshVolume=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetMeshVolume.apply(null,arguments)},n._RegionCast=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.RegionCast.apply(null,arguments)},n._SetFps=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetFps.apply(null,arguments)},n._ChangeMeshAngle=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.ChangeMeshAngle.apply(null,arguments)},n._ChangeMeshPosition=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.ChangeMeshPosition.apply(null,arguments)},n._BackMeshPosition=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.BackMeshPosition.apply(null,arguments)},n._ChangeMeshColor=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.ChangeMeshColor.apply(null,arguments)},n._BackMeshColor=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.BackMeshColor.apply(null,arguments)},n._ChangeMeshScale=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.ChangeMeshScale.apply(null,arguments)},n._ChangeRenderElementBloomColor=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.ChangeRenderElementBloomColor.apply(null,arguments)},n._RestoreRenderElementBloomColor=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.RestoreRenderElementBloomColor.apply(null,arguments)},n._BackMeshScale=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.BackMeshScale.apply(null,arguments)},n._SetAnimationData=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetAnimationData.apply(null,arguments)},n._AnimationReset=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.AnimationReset.apply(null,arguments)},n._GetBenchBox=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetBenchBox.apply(null,arguments)},n._GetModelBox=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetModelBox.apply(null,arguments)},n._GetModelInitBoundBox=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetModelInitBoundBox.apply(null,arguments)},n._GetModelCurrentBoundBox=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetModelCurrentBoundBox.apply(null,arguments)},n._SetBenchTransform=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.SetBenchTransform.apply(null,arguments)},n._GetBenchTransform=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetBenchTransform.apply(null,arguments)},n._GetRenderElementIDs=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetRenderElementIDs.apply(null,arguments)},n._GetRenderElementNumber=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetRenderElementNumber.apply(null,arguments)},n._GetRenderElementTransform=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetRenderElementTransform.apply(null,arguments)},n._GetModelTransform=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GetModelTransform.apply(null,arguments)},n._RemoveRenderElementByHandle=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.RemoveRenderElementByHandle.apply(null,arguments)},n._VisiableRenderElementByHandle=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.VisiableRenderElementByHandle.apply(null,arguments)},n._HiddenRenderElementByHandle=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.HiddenRenderElementByHandle.apply(null,arguments)},n._HighLightRenderElementByHandle=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.HighLightRenderElementByHandle.apply(null,arguments)},n._CreateRebar=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateRebar.apply(null,arguments)},n._CreateHelixRebar=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateHelixRebar.apply(null,arguments)},n._CreateLine=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateLine.apply(null,arguments)},n._CreateLineElement=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateLineElement.apply(null,arguments)},n._CreateArc=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateArc.apply(null,arguments)},n._CreateArcElement=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateArcElement.apply(null,arguments)},n._CreatePolygon=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreatePolygon.apply(null,arguments)},n._CreatePolygonElement=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreatePolygonElement.apply(null,arguments)},n._CreatePolygon2d=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreatePolygon2d.apply(null,arguments)},n._CreatePolygon2dElement=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreatePolygon2dElement.apply(null,arguments)},n._CreateDiscreteRebar=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateDiscreteRebar.apply(null,arguments)},n._CreateDiscreteRebarElement=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateDiscreteRebarElement.apply(null,arguments)},n._CreateDiscreteHelixRebar=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateDiscreteHelixRebar.apply(null,arguments)},n._CreateDiscreteHelixRebarElement=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateDiscreteHelixRebarElement.apply(null,arguments)},n._CreateText=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateText.apply(null,arguments)},n._CreateTextElement=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateTextElement.apply(null,arguments)},n._CreateMeshLine=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateMeshLine.apply(null,arguments)},n._CreateMeshLineElement=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.CreateMeshLineElement.apply(null,arguments)},n._LoadShxCache=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.LoadShxCache.apply(null,arguments)},n._GpuRaycast=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.GpuRaycast.apply(null,arguments)},n._free=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.free.apply(null,arguments)}),Gt=(n._fflush=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.fflush.apply(null,arguments)},n.___errno_location=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.__errno_location.apply(null,arguments)}),Wt=n.__ZSt18uncaught_exceptionv=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm._ZSt18uncaught_exceptionv.apply(null,arguments)};n.___getTypeName=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.__getTypeName.apply(null,arguments)},n.___embind_register_native_and_builtin_types=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.__embind_register_native_and_builtin_types.apply(null,arguments)},g=n.stackSave=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.stackSave.apply(null,arguments)},n.stackAlloc=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.stackAlloc.apply(null,arguments)},y=n.stackRestore=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.stackRestore.apply(null,arguments)};var Xt,Yt=n.dynCall_vi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_vi.apply(null,arguments)},Qt=n.dynCall_v=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_v.apply(null,arguments)},qt=n._setThrew=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.setThrew.apply(null,arguments)},Kt=n.dynCall_vii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_vii.apply(null,arguments)},Zt=n.dynCall_viii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_viii.apply(null,arguments)},Jt=n.dynCall_viiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_viiii.apply(null,arguments)},$t=n.dynCall_viiiiiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_viiiiiii.apply(null,arguments)},en=n.dynCall_viiiiiiiiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_viiiiiiiiii.apply(null,arguments)},tn=n.dynCall_viiiiiiiiiiiiiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_viiiiiiiiiiiiiii.apply(null,arguments)},nn=n.dynCall_viijii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_viijii.apply(null,arguments)},rn=n.dynCall_i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_i.apply(null,arguments)},on=n.dynCall_ii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_ii.apply(null,arguments)},an=n.dynCall_iii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_iii.apply(null,arguments)},sn=n.dynCall_iiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_iiii.apply(null,arguments)},cn=n.dynCall_iiiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_iiiii.apply(null,arguments)},ln=n.dynCall_iiiiid=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_iiiiid.apply(null,arguments)},un=n.dynCall_iiiiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_iiiiii.apply(null,arguments)},pn=n.dynCall_iiiiiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_iiiiiii.apply(null,arguments)},dn=n.dynCall_iiiiiiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_iiiiiiii.apply(null,arguments)},hn=n.dynCall_iiiiiiiiiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_iiiiiiiiiii.apply(null,arguments)},fn=n.dynCall_iiiiiiiiiiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_iiiiiiiiiiii.apply(null,arguments)},mn=n.dynCall_iiiiiiiiiiiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_iiiiiiiiiiiii.apply(null,arguments)},gn=n.dynCall_jiiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_jiiii.apply(null,arguments)},yn=n.dynCall_fiii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_fiii.apply(null,arguments)},vn=n.dynCall_diii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.dynCall_diii.apply(null,arguments)};function xn(e){function t(){Xt||(Xt=!0,n.calledRun=!0,w||(V(),A(!q),q=!0,n.noFSInit||Re.init.initialized||Re.init(),Se.init(),H(W),V(),Re.ignorePermissions=!1,H(X),n.onRuntimeInitialized&&n.onRuntimeInitialized(),A(!n._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),function(){if(V(),n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)e=n.postRun.shift(),Q.unshift(e);var e;H(Q)}()))}e=e||u,ee>0||(z(),function(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)e=n.preRun.shift(),G.unshift(e);var e;H(G)}(),ee>0||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t(),V()))}if(n.___set_stack_limit=function(){return A(q,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),A(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),n.asm.__set_stack_limit.apply(null,arguments)},n.asm=jt,Object.getOwnPropertyDescriptor(n,"intArrayFromString")||(n.intArrayFromString=function(){ae("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"intArrayToString")||(n.intArrayToString=function(){ae("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"ccall")||(n.ccall=function(){ae("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"cwrap")||(n.cwrap=function(){ae("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"setValue")||(n.setValue=function(){ae("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getValue")||(n.getValue=function(){ae("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"allocate")||(n.allocate=function(){ae("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getMemory")||(n.getMemory=function(){ae("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(n,"UTF8ArrayToString")||(n.UTF8ArrayToString=function(){ae("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"UTF8ToString")||(n.UTF8ToString=D),Object.getOwnPropertyDescriptor(n,"stringToUTF8Array")||(n.stringToUTF8Array=function(){ae("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"stringToUTF8")||(n.stringToUTF8=function(){ae("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"lengthBytesUTF8")||(n.lengthBytesUTF8=function(){ae("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"stackTrace")||(n.stackTrace=function(){ae("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"addOnPreRun")||(n.addOnPreRun=function(){ae("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"addOnInit")||(n.addOnInit=function(){ae("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"addOnPreMain")||(n.addOnPreMain=function(){ae("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"addOnExit")||(n.addOnExit=function(){ae("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"addOnPostRun")||(n.addOnPostRun=function(){ae("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"writeStringToMemory")||(n.writeStringToMemory=function(){ae("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"writeArrayToMemory")||(n.writeArrayToMemory=function(){ae("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"writeAsciiToMemory")||(n.writeAsciiToMemory=function(){ae("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"addRunDependency")||(n.addRunDependency=function(){ae("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(n,"removeRunDependency")||(n.removeRunDependency=function(){ae("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(n,"FS_createFolder")||(n.FS_createFolder=function(){ae("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(n,"FS_createPath")||(n.FS_createPath=function(){ae("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(n,"FS_createDataFile")||(n.FS_createDataFile=function(){ae("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(n,"FS_createPreloadedFile")||(n.FS_createPreloadedFile=function(){ae("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(n,"FS_createLazyFile")||(n.FS_createLazyFile=function(){ae("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(n,"FS_createLink")||(n.FS_createLink=function(){ae("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(n,"FS_createDevice")||(n.FS_createDevice=function(){ae("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(n,"FS_unlink")||(n.FS_unlink=function(){ae("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(n,"dynamicAlloc")||(n.dynamicAlloc=function(){ae("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"loadDynamicLibrary")||(n.loadDynamicLibrary=function(){ae("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"loadWebAssemblyModule")||(n.loadWebAssemblyModule=function(){ae("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getLEB")||(n.getLEB=function(){ae("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getFunctionTables")||(n.getFunctionTables=function(){ae("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"alignFunctionTables")||(n.alignFunctionTables=function(){ae("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"registerFunctions")||(n.registerFunctions=function(){ae("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"addFunction")||(n.addFunction=function(){ae("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"removeFunction")||(n.removeFunction=function(){ae("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getFuncWrapper")||(n.getFuncWrapper=function(){ae("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"prettyPrint")||(n.prettyPrint=function(){ae("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"makeBigInt")||(n.makeBigInt=function(){ae("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"dynCall")||(n.dynCall=function(){ae("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getCompilerSetting")||(n.getCompilerSetting=function(){ae("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"print")||(n.print=function(){ae("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"printErr")||(n.printErr=function(){ae("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getTempRet0")||(n.getTempRet0=function(){ae("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"setTempRet0")||(n.setTempRet0=function(){ae("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"callMain")||(n.callMain=function(){ae("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"abort")||(n.abort=function(){ae("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"stringToNewUTF8")||(n.stringToNewUTF8=function(){ae("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emscripten_realloc_buffer")||(n.emscripten_realloc_buffer=function(){ae("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"ENV")||(n.ENV=function(){ae("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"setjmpId")||(n.setjmpId=function(){ae("'setjmpId' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"ERRNO_CODES")||(n.ERRNO_CODES=function(){ae("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"ERRNO_MESSAGES")||(n.ERRNO_MESSAGES=function(){ae("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"DNS")||(n.DNS=function(){ae("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"GAI_ERRNO_MESSAGES")||(n.GAI_ERRNO_MESSAGES=function(){ae("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"Protocols")||(n.Protocols=function(){ae("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"Sockets")||(n.Sockets=function(){ae("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"UNWIND_CACHE")||(n.UNWIND_CACHE=function(){ae("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"readAsmConstArgs")||(n.readAsmConstArgs=function(){ae("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"jstoi_q")||(n.jstoi_q=function(){ae("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"jstoi_s")||(n.jstoi_s=function(){ae("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"PATH")||(n.PATH=function(){ae("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"PATH_FS")||(n.PATH_FS=function(){ae("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"SYSCALLS")||(n.SYSCALLS=function(){ae("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"syscallMmap2")||(n.syscallMmap2=function(){ae("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"syscallMunmap")||(n.syscallMunmap=function(){ae("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"JSEvents")||(n.JSEvents=function(){ae("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"demangle")||(n.demangle=function(){ae("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"demangleAll")||(n.demangleAll=function(){ae("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"jsStackTrace")||(n.jsStackTrace=function(){ae("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"stackTrace")||(n.stackTrace=function(){ae("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"writeI53ToI64")||(n.writeI53ToI64=function(){ae("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"writeI53ToI64Clamped")||(n.writeI53ToI64Clamped=function(){ae("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"writeI53ToI64Signaling")||(n.writeI53ToI64Signaling=function(){ae("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"writeI53ToU64Clamped")||(n.writeI53ToU64Clamped=function(){ae("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"writeI53ToU64Signaling")||(n.writeI53ToU64Signaling=function(){ae("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"readI53FromI64")||(n.readI53FromI64=function(){ae("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"readI53FromU64")||(n.readI53FromU64=function(){ae("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"convertI32PairToI53")||(n.convertI32PairToI53=function(){ae("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"convertU32PairToI53")||(n.convertU32PairToI53=function(){ae("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"Browser")||(n.Browser=function(){ae("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"FS")||(n.FS=function(){ae("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"MEMFS")||(n.MEMFS=function(){ae("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"TTY")||(n.TTY=function(){ae("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"PIPEFS")||(n.PIPEFS=function(){ae("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"SOCKFS")||(n.SOCKFS=function(){ae("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"GL")||(n.GL=function(){ae("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emscriptenWebGLGet")||(n.emscriptenWebGLGet=function(){ae("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emscriptenWebGLGetTexPixelData")||(n.emscriptenWebGLGetTexPixelData=function(){ae("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emscriptenWebGLGetUniform")||(n.emscriptenWebGLGetUniform=function(){ae("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emscriptenWebGLGetVertexAttrib")||(n.emscriptenWebGLGetVertexAttrib=function(){ae("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"AL")||(n.AL=function(){ae("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"SDL")||(n.SDL=function(){ae("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"SDL_gfx")||(n.SDL_gfx=function(){ae("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"GLUT")||(n.GLUT=function(){ae("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"EGL")||(n.EGL=function(){ae("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"GLFW_Window")||(n.GLFW_Window=function(){ae("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"GLFW")||(n.GLFW=function(){ae("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"GLEW")||(n.GLEW=function(){ae("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"IDBStore")||(n.IDBStore=function(){ae("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"runAndAbortIfError")||(n.runAndAbortIfError=function(){ae("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emval_handle_array")||(n.emval_handle_array=function(){ae("'emval_handle_array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emval_free_list")||(n.emval_free_list=function(){ae("'emval_free_list' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emval_symbols")||(n.emval_symbols=function(){ae("'emval_symbols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"init_emval")||(n.init_emval=function(){ae("'init_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"count_emval_handles")||(n.count_emval_handles=function(){ae("'count_emval_handles' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"get_first_emval")||(n.get_first_emval=function(){ae("'get_first_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getStringOrSymbol")||(n.getStringOrSymbol=function(){ae("'getStringOrSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"requireHandle")||(n.requireHandle=function(){ae("'requireHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emval_newers")||(n.emval_newers=function(){ae("'emval_newers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"craftEmvalAllocator")||(n.craftEmvalAllocator=function(){ae("'craftEmvalAllocator' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emval_get_global")||(n.emval_get_global=function(){ae("'emval_get_global' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emval_methodCallers")||(n.emval_methodCallers=function(){ae("'emval_methodCallers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"InternalError")||(n.InternalError=function(){ae("'InternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"BindingError")||(n.BindingError=function(){ae("'BindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"UnboundTypeError")||(n.UnboundTypeError=function(){ae("'UnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"PureVirtualError")||(n.PureVirtualError=function(){ae("'PureVirtualError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"init_embind")||(n.init_embind=function(){ae("'init_embind' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"throwInternalError")||(n.throwInternalError=function(){ae("'throwInternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"throwBindingError")||(n.throwBindingError=function(){ae("'throwBindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"throwUnboundTypeError")||(n.throwUnboundTypeError=function(){ae("'throwUnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"ensureOverloadTable")||(n.ensureOverloadTable=function(){ae("'ensureOverloadTable' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"exposePublicSymbol")||(n.exposePublicSymbol=function(){ae("'exposePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"replacePublicSymbol")||(n.replacePublicSymbol=function(){ae("'replacePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"extendError")||(n.extendError=function(){ae("'extendError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"createNamedFunction")||(n.createNamedFunction=function(){ae("'createNamedFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"registeredInstances")||(n.registeredInstances=function(){ae("'registeredInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getBasestPointer")||(n.getBasestPointer=function(){ae("'getBasestPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"registerInheritedInstance")||(n.registerInheritedInstance=function(){ae("'registerInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"unregisterInheritedInstance")||(n.unregisterInheritedInstance=function(){ae("'unregisterInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getInheritedInstance")||(n.getInheritedInstance=function(){ae("'getInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getInheritedInstanceCount")||(n.getInheritedInstanceCount=function(){ae("'getInheritedInstanceCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getLiveInheritedInstances")||(n.getLiveInheritedInstances=function(){ae("'getLiveInheritedInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"registeredTypes")||(n.registeredTypes=function(){ae("'registeredTypes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"awaitingDependencies")||(n.awaitingDependencies=function(){ae("'awaitingDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"typeDependencies")||(n.typeDependencies=function(){ae("'typeDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"registeredPointers")||(n.registeredPointers=function(){ae("'registeredPointers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"registerType")||(n.registerType=function(){ae("'registerType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"whenDependentTypesAreResolved")||(n.whenDependentTypesAreResolved=function(){ae("'whenDependentTypesAreResolved' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"embind_charCodes")||(n.embind_charCodes=function(){ae("'embind_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"embind_init_charCodes")||(n.embind_init_charCodes=function(){ae("'embind_init_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"readLatin1String")||(n.readLatin1String=function(){ae("'readLatin1String' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getTypeName")||(n.getTypeName=function(){ae("'getTypeName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"heap32VectorToArray")||(n.heap32VectorToArray=function(){ae("'heap32VectorToArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"requireRegisteredType")||(n.requireRegisteredType=function(){ae("'requireRegisteredType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"getShiftFromSize")||(n.getShiftFromSize=function(){ae("'getShiftFromSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"integerReadValueFromPointer")||(n.integerReadValueFromPointer=function(){ae("'integerReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"enumReadValueFromPointer")||(n.enumReadValueFromPointer=function(){ae("'enumReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"floatReadValueFromPointer")||(n.floatReadValueFromPointer=function(){ae("'floatReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"simpleReadValueFromPointer")||(n.simpleReadValueFromPointer=function(){ae("'simpleReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"runDestructors")||(n.runDestructors=function(){ae("'runDestructors' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"new_")||(n.new_=function(){ae("'new_' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"craftInvokerFunction")||(n.craftInvokerFunction=function(){ae("'craftInvokerFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"embind__requireFunction")||(n.embind__requireFunction=function(){ae("'embind__requireFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"tupleRegistrations")||(n.tupleRegistrations=function(){ae("'tupleRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"structRegistrations")||(n.structRegistrations=function(){ae("'structRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"genericPointerToWireType")||(n.genericPointerToWireType=function(){ae("'genericPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"constNoSmartPtrRawPointerToWireType")||(n.constNoSmartPtrRawPointerToWireType=function(){ae("'constNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"nonConstNoSmartPtrRawPointerToWireType")||(n.nonConstNoSmartPtrRawPointerToWireType=function(){ae("'nonConstNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"init_RegisteredPointer")||(n.init_RegisteredPointer=function(){ae("'init_RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"RegisteredPointer")||(n.RegisteredPointer=function(){ae("'RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"RegisteredPointer_getPointee")||(n.RegisteredPointer_getPointee=function(){ae("'RegisteredPointer_getPointee' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"RegisteredPointer_destructor")||(n.RegisteredPointer_destructor=function(){ae("'RegisteredPointer_destructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"RegisteredPointer_deleteObject")||(n.RegisteredPointer_deleteObject=function(){ae("'RegisteredPointer_deleteObject' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"RegisteredPointer_fromWireType")||(n.RegisteredPointer_fromWireType=function(){ae("'RegisteredPointer_fromWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"runDestructor")||(n.runDestructor=function(){ae("'runDestructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"releaseClassHandle")||(n.releaseClassHandle=function(){ae("'releaseClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"finalizationGroup")||(n.finalizationGroup=function(){ae("'finalizationGroup' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"detachFinalizer_deps")||(n.detachFinalizer_deps=function(){ae("'detachFinalizer_deps' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"detachFinalizer")||(n.detachFinalizer=function(){ae("'detachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"attachFinalizer")||(n.attachFinalizer=function(){ae("'attachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"makeClassHandle")||(n.makeClassHandle=function(){ae("'makeClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"init_ClassHandle")||(n.init_ClassHandle=function(){ae("'init_ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"ClassHandle")||(n.ClassHandle=function(){ae("'ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"ClassHandle_isAliasOf")||(n.ClassHandle_isAliasOf=function(){ae("'ClassHandle_isAliasOf' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"throwInstanceAlreadyDeleted")||(n.throwInstanceAlreadyDeleted=function(){ae("'throwInstanceAlreadyDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"ClassHandle_clone")||(n.ClassHandle_clone=function(){ae("'ClassHandle_clone' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"ClassHandle_delete")||(n.ClassHandle_delete=function(){ae("'ClassHandle_delete' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"deletionQueue")||(n.deletionQueue=function(){ae("'deletionQueue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"ClassHandle_isDeleted")||(n.ClassHandle_isDeleted=function(){ae("'ClassHandle_isDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"ClassHandle_deleteLater")||(n.ClassHandle_deleteLater=function(){ae("'ClassHandle_deleteLater' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"flushPendingDeletes")||(n.flushPendingDeletes=function(){ae("'flushPendingDeletes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"delayFunction")||(n.delayFunction=function(){ae("'delayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"setDelayFunction")||(n.setDelayFunction=function(){ae("'setDelayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"RegisteredClass")||(n.RegisteredClass=function(){ae("'RegisteredClass' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"shallowCopyInternalPointer")||(n.shallowCopyInternalPointer=function(){ae("'shallowCopyInternalPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"downcastPointer")||(n.downcastPointer=function(){ae("'downcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"upcastPointer")||(n.upcastPointer=function(){ae("'upcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"validateThis")||(n.validateThis=function(){ae("'validateThis' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"char_0")||(n.char_0=function(){ae("'char_0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"char_9")||(n.char_9=function(){ae("'char_9' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"makeLegalFunctionName")||(n.makeLegalFunctionName=function(){ae("'makeLegalFunctionName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"Fetch")||(n.Fetch=function(){ae("'Fetch' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"__emscripten_fetch_delete_cached_data")||(n.__emscripten_fetch_delete_cached_data=function(){ae("'__emscripten_fetch_delete_cached_data' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"__emscripten_fetch_load_cached_data")||(n.__emscripten_fetch_load_cached_data=function(){ae("'__emscripten_fetch_load_cached_data' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"__emscripten_fetch_cache_data")||(n.__emscripten_fetch_cache_data=function(){ae("'__emscripten_fetch_cache_data' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"__emscripten_fetch_xhr")||(n.__emscripten_fetch_xhr=function(){ae("'__emscripten_fetch_xhr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"emscriptenWebGLGetIndexed")||(n.emscriptenWebGLGetIndexed=function(){ae("'emscriptenWebGLGetIndexed' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"warnOnce")||(n.warnOnce=function(){ae("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"stackSave")||(n.stackSave=function(){ae("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"stackRestore")||(n.stackRestore=function(){ae("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"stackAlloc")||(n.stackAlloc=function(){ae("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"AsciiToString")||(n.AsciiToString=function(){ae("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"stringToAscii")||(n.stringToAscii=function(){ae("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"UTF16ToString")||(n.UTF16ToString=function(){ae("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"stringToUTF16")||(n.stringToUTF16=function(){ae("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"lengthBytesUTF16")||(n.lengthBytesUTF16=function(){ae("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"UTF32ToString")||(n.UTF32ToString=function(){ae("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"stringToUTF32")||(n.stringToUTF32=function(){ae("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"lengthBytesUTF32")||(n.lengthBytesUTF32=function(){ae("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"allocateUTF8")||(n.allocateUTF8=function(){ae("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(n,"allocateUTF8OnStack")||(n.allocateUTF8OnStack=function(){ae("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),n.writeStackCookie=z,n.checkStackCookie=V,n.abortStackOverflow=function(e){ae("Stack overflow! Attempted to allocate "+e+" bytes on the stack, but stack has only "+(N-g()+e)+" bytes available!")},Object.getOwnPropertyDescriptor(n,"ALLOC_NORMAL")||Object.defineProperty(n,"ALLOC_NORMAL",{configurable:!0,get:function(){ae("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(n,"ALLOC_STACK")||Object.defineProperty(n,"ALLOC_STACK",{configurable:!0,get:function(){ae("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(n,"ALLOC_DYNAMIC")||Object.defineProperty(n,"ALLOC_DYNAMIC",{configurable:!0,get:function(){ae("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(n,"ALLOC_NONE")||Object.defineProperty(n,"ALLOC_NONE",{configurable:!0,get:function(){ae("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),ne=function e(){Xt||xn(),Xt||(ne=e)},n.run=xn,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();v=!0,xn()}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),a=n(23),s=function(e){function t(t,n,r,i){var a=e.call(this)||this;a.cranes=t,a.poles=n,a.hangings=r,a.api3d=i;var s=a,c=new o.Box33D,l=new o.Box33D;n.forEach(function(e){var t=new o.Box33D;t=a.api3d.getComponentBoundingBox(e,t),c.union(t)}),t.forEach(function(e){var t=new o.Box33D;t=a.api3d.getComponentBoundingBox(e,t),l.union(t)});var u=c.getCenter(),p=l.getCenter();return s.isTowerCrane=u.z>p.z,s.isTowerCrane||console.error("This is not a tower crane ! Check you compoinents !"),s.poleCenter=p,a}return i(t,e),t.prototype.setTCAnimate=function(e,t,n,r){if(this.isTowerCrane){var i=[];i.push(0),i.push(0),i.push(e),i.push(2),i.push(this.poleCenter.x),i.push(this.poleCenter.y),i.push(this.poleCenter.z);var o=[];this.poles.forEach(function(e){var a={guid:e,aniType:0,transType:1,value:i,totalTime:t,sort:n,chunkid:r++};o.push(a)}),this.hangings.forEach(function(e){var a={guid:e,aniType:0,transType:1,value:i,totalTime:t,sort:n,chunkid:r++};o.push(a)}),this.api3d.setAnimateData(o)}else console.error("This is not a tower crane ! Check you compoinents !")},t}(o.Object3D);t.TowerCrane=s;var c=function(e){function t(t,n,r){var i=e.call(this)||this;i.crane=t,i.pole=n,i.api3d=r;var a=i,s=new o.Box33D,c=new o.Box33D;return c=i.api3d.getComponentBoundingBox(t,c),s.union(c),a.poleCenter=s.getCenter(),i}return i(t,e),t.prototype.setTCAnimate=function(e,t,n,r){var i=[];i.push(0),i.push(0),i.push(e),i.push(2),i.push(this.poleCenter.x),i.push(this.poleCenter.y),i.push(this.poleCenter.z);var o=[],a={guid:this.pole,aniType:0,transType:1,value:i,totalTime:t,sort:n,chunkid:r};o.push(a),this.api3d.setAnimateData(o)},t}(o.Object3D);t.DTowerCrane=c;var l=function(e){function t(t,n,r){var i=e.call(this)||this;i.points=t,i.api3d=n,i.positiveDir=r;var a=i;a.length=0,a.eulers=[],a.vectors=[];for(var s=t.length,c=1;c<s;c++){var l=new o.Vector33D;l.subVectors(t[c],t[c-1]),a.vectors.push(l)}var u=new o.Vector33D;return u=r||i.vectors[0],i.vectors.forEach(function(e){var t=new o.Vector33D;t.crossVectors(u,e),t.normalize();var n=u.angleTo(e),r=new o.Quaternion3D;r.setFromAxisAngle(t,n);var i=new o.Euler3D;i.setFromQuaternion(r),a.length=a.length+e.length(),a.eulers.push(i),u=e}),i}return i(t,e),t.prototype.setRouteAnimation=function(e,t,n,r){var i=[];if("number"==typeof t){for(var o=this.length/t,a=0;a<this.vectors.length;a++){var s=this.vectors[a].length()/o;(l=[]).push(this.vectors[a].x),l.push(this.vectors[a].y),l.push(this.vectors[a].z),l.push(this.eulers[a].x),l.push(this.eulers[a].y),l.push(this.eulers[a].z),l.push(1);var c={guid:e,aniType:2,transType:2,value:l,totalTime:s,sort:n,chunkid:r};i.push(c)}this.api3d.setAnimateData(i)}else if(t.length==this.vectors.length){for(a=0;a<this.vectors.length;a++){var l;(l=[]).push(this.vectors[a].x),l.push(this.vectors[a].y),l.push(this.vectors[a].z),l.push(this.eulers[a].x),l.push(this.eulers[a].y),l.push(this.eulers[a].z),l.push(1);c={guid:e,aniType:2,transType:2,value:l,totalTime:t[a],sort:n,chunkid:r};i.push(c)}this.api3d.setAnimateData(i)}else console.error("Check your input totalTime size !")},t}(o.Object3D);t.Route=l;var u=function(){return function(e,t,n,r,i){this.index=e,this.name=t,this.id=n,this.api=r;var o=r["3D"],s=r.PARAMS.demo_deviceUuid.size;if(0!=r.PARAMS.demo_deviceUuid.size){for(var c=0;c<s;c++){var l=r.PARAMS.demo_deviceUuid.shift();o.removeMarkerDeviceInfo(l)}o.backHighlight(),o.enableMarkerRefresh()}for(var u=0;u<n.length;u++){o.highlightComponent(a.atob(n[u]));var p=a._Math.generateUUID();r.PARAMS.demo_deviceUuid.push(p),i.deviceId=p;var d={state:0,deviceId:p};d.div=void 0===i.div?null:i.div,d.intersectionRatio=void 0===i.intersectionRatio?void 0:i.intersectionRatio,d.circleNumber=void 0===i.circleNumber?void 0:i.circleNumber,d.circleOpacity=void 0===i.circleOpacity?void 0:i.circleOpacity,d.currentOutterCircleRadius=void 0===i.currentOutterCircleRadius?void 0:i.currentOutterCircleRadius,d.currentPointInnerRadius=void 0===i.currentPointInnerRadius?void 0:i.currentPointInnerRadius,d.currentPointOutterRadius=void 0===i.currentPointOutterRadius?void 0:i.currentPointOutterRadius,d.customColor=void 0===i.customColor?void 0:i.customColor,d.isFlicker=void 0===i.isFlicker?void 0:i.isFlicker,d.isFocus=void 0===i.isFocus?void 0:i.isFocus,d.isInnerFlicker=void 0===i.isInnerFlicker?void 0:i.isInnerFlicker,d.isOutterFlicker=void 0===i.isOutterFlicker?void 0:i.isOutterFlicker,d.lineState=void 0===i.lineState?void 0:i.lineState,d.lookInfo=void 0===i.lookInfo?void 0:i.lookInfo,d.markerDiv=void 0===i.markerDiv?void 0:i.markerDiv,d.maxMarkerPointInnerRadius=void 0===i.maxMarkerPointInnerRadius?void 0:i.maxMarkerPointInnerRadius,d.maxMarkerPointOutterRadius=void 0===i.maxMarkerPointOutterRadius?void 0:i.maxMarkerPointOutterRadius,d.outterInsterval=void 0===i.outterInsterval?void 0:i.outterInsterval,d.pointOffset=void 0===i.pointOffset?void 0:i.pointOffset,d.state=void 0===i.state?void 0:i.state,d.subLineLength=void 0===i.subLineLength?void 0:i.subLineLength,d.subLineRadian=void 0===i.subLineRadian?void 0:i.subLineRadian,d.subLineWidth=void 0===i.subLineWidth?void 0:i.subLineWidth,o.markerDeviceInfoByComponentId(a.atob(n[u]),d);var h=document.createElement("table");h.style.borderStyle="solid",h.style.borderWidth="1px",h.style.borderColor="#FFFFFF00",h.style.borderTopLeftRadius="12px",h.style.borderTopRightRadius="12px",h.style.borderBottomLeftRadius="12px",h.style.borderBottomRightRadius="12px",h.style.paddingLeft="10px",h.style.paddingRight="10px",h.style.paddingTop="10px",h.style.paddingBottom="6px",h.style.textAlign="left",h.style.backgroundColor="#02D6DC99",h.style.width="260px";var f=document.createElement("tr"),m=document.createElement("th");m.style.paddingBottom="4px",m.style.borderBottomStyle="solid",m.style.borderWidth="1px",m.style.borderColor="#FFFFFF7F",m.innerHTML='<font family="Microsoft YaHei" color="#FFFFFF">'+t+"</font>",m.style.fontSize="18px",m.colSpan=2,f.appendChild(m),h.appendChild(f);for(var g=0;g<e.length;g++){var y=document.createElement("tr");y.style.textAlign="left";var v=document.createElement("td");v.style.paddingTop="10px",v.style.fontSize="16px",v.style.border="none",v.innerHTML='<font family="Microsoft YaHei" color="#FFFFFF">'+e[g].Name+"</font>";var x=document.createElement("td");x.style.paddingTop="10px",x.style.fontSize="18px",x.style.border="none",x.style.textAlign="right",x.innerHTML='<font family="Microsoft YaHei" color="#FFFFFF">'+e[g].Value+"</font>",y.appendChild(v),y.appendChild(x),h.appendChild(y)}d.div.style.borderTopLeftRadius="10px",d.div.style.borderTopRightRadius="10px",d.div.style.borderBottomLeftRadius="10px",d.div.style.borderBottomRightRadius="10px",d.div.style.width=h.style.width,d.div.style.height=h.style.height,d.div.appendChild(h)}}}();t.Case=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(438);t.Helper=r.Helper;var i=n(439);t.Matrix2x3=i.Matrix2x3;var o=n(440);t.Matrix3x3=o.Matrix3x3;var a=n(441);t.Matrix4x4=a.Matrix4x4;var s=n(443);t.Quaternion=s.Quaternion;var c=n(445);t.Vector2=c.Vector2;var l=n(442);t.Vector3=l.Vector3;var u=n(446);t.Vector4=u.Vector4;var p=n(447);t.Box2=p.Box2;var d=n(449);t.Box3=d.Box3;var h=n(448);t.Size=h.Size;var f=n(444);t.V4B=f.V4B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.toString(16);return e<=15?("0"+t).toUpperCase():t.toUpperCase()};t.Helper={TwoPI:2*Math.PI,HalfPI:.5*Math.PI,EPSILON:1e-7,DEGREE:Math.PI/180,toRadian:function(e){return e*t.Helper.DEGREE},toDegree:function(e){return e/t.Helper.DEGREE},equals:function(e,n){return Math.abs(e-n)<=t.Helper.EPSILON*Math.max(1,Math.abs(e),Math.abs(n))},toHex:r,color:{toHexString:function(e){var t=e>>16&255,n=e>>8&255,i=255&e;return"#"+r(e>>24&255)+r(t)+r(n)+r(i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(438),i=function(){function e(){this.m=[1,0,0,0,1,0]}return e.prototype.toString=function(){return"Matrix2x3("+this.m[0]+", "+this.m[1]+", "+this.m[2]+","+this.m[3]+", "+this.m[4]+", "+this.m[5]+")"},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.from=function(e,t){void 0===t&&(t=0);var n=this.m;return n[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],n[4]=e[t+4],n[5]=e[t+5],this},e.prototype.to=function(e,t){void 0===t&&(t=0);var n=this.m;e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5]},e.prototype.asArray=function(){return[this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5]]},e.prototype.copy=function(e){var t=this.m,n=e.m;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],this},e.prototype.exactEquals=function(e){var t=this.m,n=this.m;return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]},e.prototype.equals=function(e,t){void 0===t&&(t=r.Helper.EPSILON);var n=this.m,i=e.m,o=n[0],a=n[1],s=n[2],c=n[3],l=n[4],u=n[5],p=i[0],d=i[1],h=i[2],f=i[3],m=i[4],g=i[5];return Math.abs(o-p)<=t*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-d)<=t*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-h)<=t*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(c-f)<=t*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(l-m)<=t*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-g)<=t*Math.max(1,Math.abs(u),Math.abs(g))},e.prototype.set=function(e,t,n,r,i,o){var a=this.m;return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=i,a[5]=o,this},e.prototype.identity=function(){return this.set(1,0,0,0,1,0)},e.prototype.invert=function(){var e=this.m,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=t*i-n*r;return s?(s=1/s,e[0]=i*s,e[1]=-n*s,e[2]=-r*s,e[3]=t*s,e[4]=(r*a-i*o)*s,e[5]=(n*o-t*a)*s,this):null},e.prototype.determinant=function(){return this.m[0]*this.m[3]-this.m[1]*this.m[2]},e.prototype.mul=function(e){var t=this.m,n=e.m,r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],l=n[0],u=n[1],p=n[2],d=n[3],h=n[4],f=n[5];return t[0]=r*l+o*u,t[1]=i*l+a*u,t[2]=r*p+o*d,t[3]=i*p+a*d,t[4]=r*h+o*f+s,t[5]=i*h+a*f+c,this},e.prototype.rotate=function(e){var t=this.m,n=t[0],r=t[1],i=t[2],o=t[3],a=Math.sin(e),s=Math.cos(e);return t[0]=n*s+i*a,t[1]=r*s+o*a,t[2]=n*-a+i*s,t[3]=r*-a+o*s,this},e.prototype.scale=function(e){var t=this.m,n=t[0],r=t[1],i=t[2],o=t[3];return t[0]=n*e.x,t[1]=r*e.x,t[2]=i*e.y,t[3]=o*e.y,this},e.prototype.translate=function(e){var t=this.m,n=t[4],r=t[5];return t[4]=t[0]*e.x+t[2]*e.y+n,t[5]=t[1]*e.x+t[3]*e.y+r,this},e.prototype.add=function(e){var t=this.m,n=e.m;return t[0]+=n[0],t[1]+=n[1],t[2]+=n[2],t[3]+=n[3],t[4]+=n[4],t[5]+=n[5],this},e.prototype.sub=function(e){var t=this.m,n=e.m;return t[0]-=n[0],t[1]-=n[1],t[2]-=n[2],t[3]-=n[3],t[4]-=n[4],t[5]-=n[5],this},e.prototype.mulScalar=function(e){var t=this.m;return t[0]=t[0]*e,t[1]=t[1]*e,t[2]=t[2]*e,t[3]=t[3]*e,t[4]=t[4]*e,t[5]=t[5]*e,this},e.prototype.frob=function(){var e=this.m;return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},e.CreateByRotation=function(t){var n=Math.sin(t),r=Math.cos(t);return(new e).set(r,n,-n,r,0,0)},e.CreateByScaling=function(t){return(new e).set(t.x,0,0,t.y,0,0)},e.CreateByTranslation=function(t){return(new e).set(1,0,0,1,t.x,t.y)},e}();t.Matrix2x3=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(438),i=function(){function e(){this.m=[1,0,0,0,1,0,0,0,1]}return e.prototype.toString=function(){return"Matrix3x3("+this.m[0]+", "+this.m[1]+", "+this.m[2]+","+this.m[3]+", "+this.m[4]+", "+this.m[5]+","+this.m[6]+", "+this.m[7]+", "+this.m[8]+")"},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.from=function(e,t){void 0===t&&(t=0);var n=this.m;return n[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],n[4]=e[t+4],n[5]=e[t+5],n[6]=e[t+6],n[7]=e[t+7],n[8]=e[t+8],this},e.prototype.to=function(e,t){void 0===t&&(t=0);var n=this.m;e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8]},e.prototype.asArray=function(){var e=this.m;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},e.prototype.copy=function(e){var t=this.m,n=e.m;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},e.prototype.exactEquals=function(e){var t=this.m,n=e.m;return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},e.prototype.equals=function(e,t){void 0===t&&(t=r.Helper.EPSILON);var n=this.m,i=e.m,o=n[0],a=n[1],s=n[2],c=n[3],l=n[4],u=n[5],p=n[6],d=n[7],h=n[8],f=i[0],m=i[1],g=i[2],y=i[3],v=i[4],x=i[5],M=i[6],b=i[7],w=i[8];return Math.abs(o-f)<=t*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-m)<=t*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-g)<=t*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-y)<=t*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(l-v)<=t*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-x)<=t*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(p-M)<=t*Math.max(1,Math.abs(p),Math.abs(M))&&Math.abs(d-b)<=t*Math.max(1,Math.abs(d),Math.abs(b))&&Math.abs(h-w)<=t*Math.max(1,Math.abs(h),Math.abs(w))},e.prototype.set=function(e,t,n,r,i,o,a,s,c){return this.m[0]=e,this.m[1]=t,this.m[2]=n,this.m[3]=r,this.m[4]=i,this.m[5]=o,this.m[6]=a,this.m[7]=s,this.m[8]=c,this},e.prototype.identity=function(){return this.set(1,0,0,0,1,0,0,0,1)},e.prototype.transpose=function(){var e=this.m,t=e[1],n=e[2],r=e[5];return e[1]=e[3],e[2]=e[6],e[3]=t,e[5]=e[7],e[6]=n,e[7]=r,this},e.prototype.invert=function(){var e=this.m,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8],u=l*o-a*c,p=-l*i+a*s,d=c*i-o*s,h=t*u+n*p+r*d;return h?(h=1/h,e[0]=u*h,e[1]=(-l*n+r*c)*h,e[2]=(a*n-r*o)*h,e[3]=p*h,e[4]=(l*t-r*s)*h,e[5]=(-a*t+r*i)*h,e[6]=d*h,e[7]=(-c*t+n*s)*h,e[8]=(o*t-n*i)*h,this):null},e.prototype.adjoint=function(){var e=this.m,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return e[0]=o*l-a*c,e[1]=r*c-n*l,e[2]=n*a-r*o,e[3]=a*s-i*l,e[4]=t*l-r*s,e[5]=r*i-t*a,e[6]=i*c-o*s,e[7]=n*s-t*c,e[8]=t*o-n*i,this},e.prototype.determinant=function(){var e=this.m,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return t*(l*o-a*c)+n*(-l*i+a*s)+r*(c*i-o*s)},e.prototype.mul=function(e){var t=this.m,n=e.m,r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],l=t[6],u=t[7],p=t[8],d=n[0],h=n[1],f=n[2],m=n[3],g=n[4],y=n[5],v=n[6],x=n[7],M=n[8];return t[0]=d*r+h*a+f*l,t[1]=d*i+h*s+f*u,t[2]=d*o+h*c+f*p,t[3]=m*r+g*a+y*l,t[4]=m*i+g*s+y*u,t[5]=m*o+g*c+y*p,t[6]=v*r+x*a+M*l,t[7]=v*i+x*s+M*u,t[8]=v*o+x*c+M*p,this},e.prototype.translate=function(e){var t=this.m,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],l=t[7],u=t[8];return t[0]=n,t[1]=r,t[2]=i,t[3]=o,t[4]=a,t[5]=s,t[6]=e.x*n+e.y*o+c,t[7]=e.x*r+e.y*a+l,t[8]=e.x*i+e.y*s+u,this},e.prototype.rotate=function(e){var t=this.m,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],l=t[7],u=t[8],p=Math.sin(e),d=Math.cos(e);return t[0]=d*n+p*o,t[1]=d*r+p*a,t[2]=d*i+p*s,t[3]=d*o-p*n,t[4]=d*a-p*r,t[5]=d*s-p*i,t[6]=c,t[7]=l,t[8]=u,this},e.prototype.scale=function(e){var t=this.m;return t[0]=e.x*t[0],t[1]=e.x*t[1],t[2]=e.x*t[2],t[3]=e.y*t[3],t[4]=e.y*t[4],t[5]=e.y*t[5],this},e.prototype.frob=function(){var e=this.m;return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},e.prototype.add=function(e){var t=this.m,n=this.m;return t[0]+=n[0],t[1]+=n[1],t[2]+=n[2],t[3]+=n[3],t[4]+=n[4],t[5]+=n[5],t[6]+=n[6],t[7]+=n[7],t[8]+=n[8],this},e.prototype.sub=function(e){var t=this.m,n=this.m;return t[0]-=n[0],t[1]-=n[1],t[2]-=n[2],t[3]-=n[3],t[4]-=n[4],t[5]-=n[5],t[6]-=n[6],t[7]-=n[7],t[8]-=n[8],this},e.prototype.mulScalar=function(e){var t=this.m;return t[0]=t[0]*e,t[1]=t[1]*e,t[2]=t[2]*e,t[3]=t[3]*e,t[4]=t[4]*e,t[5]=t[5]*e,t[6]=t[6]*e,t[7]=t[7]*e,t[8]=t[8]*e,this},e.CreateByProjection=function(t,n){var r=new e;return r.m[0]=2/t,r.m[4]=-2/n,r.m[6]=-1,r.m[7]=1,r},e.CreateByTranslation=function(t){var n=new e;return n.m[6]=t.x,n.m[7]=t.y,n},e.CreateByRotation=function(t){var n=new e,r=Math.sin(t),i=Math.cos(t);return n.m[0]=i,n.m[1]=r,n.m[3]=-r,n.m[4]=i,n},e.CreateByScaling=function(t){var n=new e;return n.m[0]=t.x,n.m[4]=t.y,n},e.CreateByQuaternion=function(t){var n=t.x+t.x,r=t.y+t.y,i=t.z+t.z,o=t.x*n,a=t.y*n,s=t.y*r,c=t.z*n,l=t.z*r,u=t.z*i,p=t.w*n,d=t.w*r,h=t.w*i;return(new e).set(1-s-u,a+h,c-d,a-h,1-o-u,l+p,c+d,l-p,1-o-s)},e.CreateByMatrix4x4=function(t){var n=t.m,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],p=n[8],d=n[9],h=n[10],f=n[11],m=n[12],g=n[13],y=n[14],v=n[15],x=r*c-i*s,M=r*l-o*s,b=r*u-a*s,w=i*l-o*c,A=i*u-a*c,_=o*u-a*l,E=p*g-d*m,D=p*y-h*m,S=p*v-f*m,P=d*y-h*g,T=d*v-f*g,C=h*v-f*y,R=x*C-M*T+b*P+w*S-A*D+_*E;return R?(R=1/R,(new e).set((c*C-l*T+u*P)*R,(l*S-s*C-u*D)*R,(s*T-c*S+u*E)*R,(o*T-i*C-a*P)*R,(r*C-o*S+a*D)*R,(i*S-r*T-a*E)*R,(g*_-y*A+v*w)*R,(y*b-m*_-v*M)*R,(m*A-g*b+v*x)*R)):null},e}();t.Matrix3x3=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(442),i=n(438),o=n(443),a=function(){function e(){this.m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return e.prototype.toString=function(){return"Matrix4x4("+this.m[0]+", "+this.m[1]+", "+this.m[2]+", "+this.m[3]+","+this.m[4]+", "+this.m[5]+", "+this.m[6]+", "+this.m[7]+","+this.m[8]+", "+this.m[9]+", "+this.m[10]+", "+this.m[11]+", "+this.m[12]+", "+this.m[13]+", "+this.m[14]+", "+this.m[15]+")"},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.from=function(e,t){void 0===t&&(t=0);var n=this.m;return n[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],n[4]=e[t+4],n[5]=e[t+5],n[6]=e[t+6],n[7]=e[t+7],n[8]=e[t+8],n[9]=e[t+9],n[10]=e[t+10],n[11]=e[t+11],n[12]=e[t+12],n[13]=e[t+13],n[14]=e[t+14],n[15]=e[t+15],this},e.prototype.to=function(e,t){void 0===t&&(t=0);var n=this.m;e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15]},e.prototype.asArray=function(){var e=this.m;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},e.prototype.copy=function(e){var t=this.m,n=e.m;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},e.prototype.exactEquals=function(e){var t=this.m,n=e.m;return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]},e.prototype.equals=function(e,t){void 0===t&&(t=i.Helper.EPSILON);var n=this.m,r=e.m,o=n[0],a=n[1],s=n[2],c=n[3],l=n[4],u=n[5],p=n[6],d=n[7],h=n[8],f=n[9],m=n[10],g=n[11],y=n[12],v=n[13],x=n[14],M=n[15],b=r[0],w=r[1],A=r[2],_=r[3],E=r[4],D=r[5],S=r[6],P=r[7],T=r[8],C=r[9],R=r[10],I=r[11],O=r[12],L=r[13],k=r[14],B=r[15];return Math.abs(o-b)<=t*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-w)<=t*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-A)<=t*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(c-_)<=t*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(l-E)<=t*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(u-D)<=t*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(p-S)<=t*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(d-P)<=t*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(h-T)<=t*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(f-C)<=t*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(m-R)<=t*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(g-I)<=t*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(y-O)<=t*Math.max(1,Math.abs(y),Math.abs(O))&&Math.abs(v-L)<=t*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(x-k)<=t*Math.max(1,Math.abs(x),Math.abs(k))&&Math.abs(M-B)<=t*Math.max(1,Math.abs(M),Math.abs(B))},e.prototype.set=function(e,t,n,r,i,o,a,s,c,l,u,p,d,h,f,m){var g=this.m;return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=o,g[6]=a,g[7]=s,g[8]=c,g[9]=l,g[10]=u,g[11]=p,g[12]=d,g[13]=h,g[14]=f,g[15]=m,this},e.prototype.identity=function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},e.prototype.transpose=function(){var e=this.m,t=e[1],n=e[2],r=e[3],i=e[6],o=e[7],a=e[11];return e[1]=e[4],e[2]=e[8],e[3]=e[12],e[4]=t,e[6]=e[9],e[7]=e[13],e[8]=n,e[9]=i,e[11]=e[14],e[12]=r,e[13]=o,e[14]=a,this},e.prototype.invert=function(){var e=this.m,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8],u=e[9],p=e[10],d=e[11],h=e[12],f=e[13],m=e[14],g=e[15],y=t*a-n*o,v=t*s-r*o,x=t*c-i*o,M=n*s-r*a,b=n*c-i*a,w=r*c-i*s,A=l*f-u*h,_=l*m-p*h,E=l*g-d*h,D=u*m-p*f,S=u*g-d*f,P=p*g-d*m,T=y*P-v*S+x*D+M*E-b*_+w*A;return T?(T=1/T,e[0]=(a*P-s*S+c*D)*T,e[1]=(r*S-n*P-i*D)*T,e[2]=(f*w-m*b+g*M)*T,e[3]=(p*b-u*w-d*M)*T,e[4]=(s*E-o*P-c*_)*T,e[5]=(t*P-r*E+i*_)*T,e[6]=(m*x-h*w-g*v)*T,e[7]=(l*w-p*x+d*v)*T,e[8]=(o*S-a*E+c*A)*T,e[9]=(n*E-t*S-i*A)*T,e[10]=(h*b-f*x+g*y)*T,e[11]=(u*x-l*b-d*y)*T,e[12]=(a*_-o*D-s*A)*T,e[13]=(t*D-n*_+r*A)*T,e[14]=(f*v-h*M-m*y)*T,e[15]=(l*M-u*v+p*y)*T,this):null},e.prototype.adjoint=function(){var e=this.m,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8],u=e[9],p=e[10],d=e[11],h=e[12],f=e[13],m=e[14],g=e[15];return e[0]=a*(p*g-d*m)-u*(s*g-c*m)+f*(s*d-c*p),e[1]=-(n*(p*g-d*m)-u*(r*g-i*m)+f*(r*d-i*p)),e[2]=n*(s*g-c*m)-a*(r*g-i*m)+f*(r*c-i*s),e[3]=-(n*(s*d-c*p)-a*(r*d-i*p)+u*(r*c-i*s)),e[4]=-(o*(p*g-d*m)-l*(s*g-c*m)+h*(s*d-c*p)),e[5]=t*(p*g-d*m)-l*(r*g-i*m)+h*(r*d-i*p),e[6]=-(t*(s*g-c*m)-o*(r*g-i*m)+h*(r*c-i*s)),e[7]=t*(s*d-c*p)-o*(r*d-i*p)+l*(r*c-i*s),e[8]=o*(u*g-d*f)-l*(a*g-c*f)+h*(a*d-c*u),e[9]=-(t*(u*g-d*f)-l*(n*g-i*f)+h*(n*d-i*u)),e[10]=t*(a*g-c*f)-o*(n*g-i*f)+h*(n*c-i*a),e[11]=-(t*(a*d-c*u)-o*(n*d-i*u)+l*(n*c-i*a)),e[12]=-(o*(u*m-p*f)-l*(a*m-s*f)+h*(a*p-s*u)),e[13]=t*(u*m-p*f)-l*(n*m-r*f)+h*(n*p-r*u),e[14]=-(t*(a*m-s*f)-o*(n*m-r*f)+h*(n*s-r*a)),e[15]=t*(a*p-s*u)-o*(n*p-r*u)+l*(n*s-r*a),this},e.prototype.determinant=function(){var e=this.m,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8],u=e[9],p=e[10],d=e[11],h=e[12],f=e[13],m=e[14],g=e[15];return(t*a-n*o)*(p*g-d*m)-(t*s-r*o)*(u*g-d*f)+(t*c-i*o)*(u*m-p*f)+(n*s-r*a)*(l*g-d*h)-(n*c-i*a)*(l*m-p*h)+(r*c-i*s)*(l*f-u*h)},e.prototype.mul=function(e){var t=this.m,n=e.m,r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],l=t[6],u=t[7],p=t[8],d=t[9],h=t[10],f=t[11],m=t[12],g=t[13],y=t[14],v=t[15],x=n[0],M=n[1],b=n[2],w=n[3];return t[0]=x*r+M*s+b*p+w*m,t[1]=x*i+M*c+b*d+w*g,t[2]=x*o+M*l+b*h+w*y,t[3]=x*a+M*u+b*f+w*v,x=n[4],M=n[5],b=n[6],w=n[7],t[4]=x*r+M*s+b*p+w*m,t[5]=x*i+M*c+b*d+w*g,t[6]=x*o+M*l+b*h+w*y,t[7]=x*a+M*u+b*f+w*v,x=n[8],M=n[9],b=n[10],w=n[11],t[8]=x*r+M*s+b*p+w*m,t[9]=x*i+M*c+b*d+w*g,t[10]=x*o+M*l+b*h+w*y,t[11]=x*a+M*u+b*f+w*v,x=n[12],M=n[13],b=n[14],w=n[15],t[12]=x*r+M*s+b*p+w*m,t[13]=x*i+M*c+b*d+w*g,t[14]=x*o+M*l+b*h+w*y,t[15]=x*a+M*u+b*f+w*v,this},e.prototype.add=function(e){var t=this.m,n=e.m;return t[0]=t[0]+n[0],t[1]=t[1]+n[1],t[2]=t[2]+n[2],t[3]=t[3]+n[3],t[4]=t[4]+n[4],t[5]=t[5]+n[5],t[6]=t[6]+n[6],t[7]=t[7]+n[7],t[8]=t[8]+n[8],t[9]=t[9]+n[9],t[10]=t[10]+n[10],t[11]=t[11]+n[11],t[12]=t[12]+n[12],t[13]=t[13]+n[13],t[14]=t[14]+n[14],t[15]=t[15]+n[15],this},e.prototype.sub=function(e){var t=this.m,n=e.m;return t[0]=t[0]-n[0],t[1]=t[1]-n[1],t[2]=t[2]-n[2],t[3]=t[3]-n[3],t[4]=t[4]-n[4],t[5]=t[5]-n[5],t[6]=t[6]-n[6],t[7]=t[7]-n[7],t[8]=t[8]-n[8],t[9]=t[9]-n[9],t[10]=t[10]-n[10],t[11]=t[11]-n[11],t[12]=t[12]-n[12],t[13]=t[13]-n[13],t[14]=t[14]-n[14],t[15]=t[15]-n[15],this},e.prototype.mulScalar=function(e){var t=this.m;return t[0]=t[0]*e,t[1]=t[1]*e,t[2]=t[2]*e,t[3]=t[3]*e,t[4]=t[4]*e,t[5]=t[5]*e,t[6]=t[6]*e,t[7]=t[7]*e,t[8]=t[8]*e,t[9]=t[9]*e,t[10]=t[10]*e,t[11]=t[11]*e,t[12]=t[12]*e,t[13]=t[13]*e,t[14]=t[14]*e,t[15]=t[15]*e,this},e.prototype.translate=function(e){var t=this.m;return t[12]=t[0]*e.x+t[4]*e.y+t[8]*e.z+t[12],t[13]=t[1]*e.x+t[5]*e.y+t[9]*e.z+t[13],t[14]=t[2]*e.x+t[6]*e.y+t[10]*e.z+t[14],t[15]=t[3]*e.x+t[7]*e.y+t[11]*e.z+t[15],this},e.prototype.scale=function(e){var t=this.m;return t[0]=t[0]*e.x,t[1]=t[1]*e.x,t[2]=t[2]*e.x,t[3]=t[3]*e.x,t[4]=t[4]*e.y,t[5]=t[5]*e.y,t[6]=t[6]*e.y,t[7]=t[7]*e.y,t[8]=t[8]*e.z,t[9]=t[9]*e.z,t[10]=t[10]*e.z,t[11]=t[11]*e.z,this},e.prototype.rotate=function(e,t){var n=e.length();if(n<i.Helper.EPSILON)return null;var r,o,a,s,c,l,u,p,d,h,f,m,g,y,v,x,M,b,w,A,_,E,D,S,P=e.x,T=e.y,C=e.z,R=this.m;return P*=n=1/n,T*=n,C*=n,r=Math.sin(t),a=1-(o=Math.cos(t)),s=R[0],c=R[1],l=R[2],u=R[3],p=R[4],d=R[5],h=R[6],f=R[7],m=R[8],g=R[9],y=R[10],v=R[11],x=P*P*a+o,M=T*P*a+C*r,b=C*P*a-T*r,w=P*T*a-C*r,A=T*T*a+o,_=C*T*a+P*r,E=P*C*a+T*r,D=T*C*a-P*r,S=C*C*a+o,R[0]=s*x+p*M+m*b,R[1]=c*x+d*M+g*b,R[2]=l*x+h*M+y*b,R[3]=u*x+f*M+v*b,R[4]=s*w+p*A+m*_,R[5]=c*w+d*A+g*_,R[6]=l*w+h*A+y*_,R[7]=u*w+f*A+v*_,R[8]=s*E+p*D+m*S,R[9]=c*E+d*D+g*S,R[10]=l*E+h*D+y*S,R[11]=u*E+f*D+v*S,this},e.prototype.rotateX=function(e){var t=this.m,n=Math.sin(e),r=Math.cos(e),i=t[4],o=t[5],a=t[6],s=t[7],c=t[8],l=t[9],u=t[10],p=t[11];return t[4]=i*r+c*n,t[5]=o*r+l*n,t[6]=a*r+u*n,t[7]=s*r+p*n,t[8]=c*r-i*n,t[9]=l*r-o*n,t[10]=u*r-a*n,t[11]=p*r-s*n,this},e.prototype.rotateY=function(e){var t=this.m,n=Math.sin(e),r=Math.cos(e),i=t[0],o=t[1],a=t[2],s=t[3],c=t[8],l=t[9],u=t[10],p=t[11];return t[0]=i*r-c*n,t[1]=o*r-l*n,t[2]=a*r-u*n,t[3]=s*r-p*n,t[8]=i*n+c*r,t[9]=o*n+l*r,t[10]=a*n+u*r,t[11]=s*n+p*r,this},e.prototype.rotateZ=function(e){var t=this.m,n=Math.sin(e),r=Math.cos(e),i=t[0],o=t[1],a=t[2],s=t[3],c=t[4],l=t[5],u=t[6],p=t[7];return t[0]=i*r+c*n,t[1]=o*r+l*n,t[2]=a*r+u*n,t[3]=s*r+p*n,t[4]=c*r-i*n,t[5]=l*r-o*n,t[6]=u*r-a*n,t[7]=p*r-s*n,this},e.prototype.lookAt=function(e,t,n){var r,o,a,s,c,l,u,p,d,h;if(Math.abs(e.x-t.x)<i.Helper.EPSILON&&Math.abs(e.y-t.y)<i.Helper.EPSILON&&Math.abs(e.z-t.z)<i.Helper.EPSILON)return this.identity();u=e.x-t.x,p=e.y-t.y,d=e.z-t.z,u*=h=1/Math.sqrt(u*u+p*p+d*d),p*=h,d*=h,r=n.y*d-n.z*p,o=n.z*u-n.x*d,a=n.x*p-n.y*u,(h=Math.sqrt(r*r+o*o+a*a))?(r*=h=1/h,o*=h,a*=h):(r=0,o=0,a=0),s=p*a-d*o,c=d*r-u*a,l=u*o-p*r,(h=Math.sqrt(s*s+c*c+l*l))?(s*=h=1/h,c*=h,l*=h):(s=0,c=0,l=0);var f=this.m;return f[0]=r,f[1]=s,f[2]=u,f[3]=0,f[4]=o,f[5]=c,f[6]=p,f[7]=0,f[8]=a,f[9]=l,f[10]=d,f[11]=0,f[12]=-(r*e.x+o*e.y+a*e.z),f[13]=-(s*e.x+c*e.y+l*e.z),f[14]=-(u*e.x+p*e.y+d*e.z),f[15]=1,this},e.prototype.targetTo=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=r*r+i*i+o*o;a>0&&(r*=a=1/Math.sqrt(a),i*=a,o*=a);var s=n.y*o-n.z*i,c=n.z*r-n.x*o,l=n.x*i-n.y*r;(a=s*s+c*c+l*l)>0&&(s*=a=1/Math.sqrt(a),c*=a,l*=a);var u=this.m;return u[0]=s,u[1]=c,u[2]=l,u[3]=0,u[4]=i*l-o*c,u[5]=o*s-r*l,u[6]=r*c-i*s,u[7]=0,u[8]=r,u[9]=i,u[10]=o,u[11]=0,u[12]=e.x,u[13]=e.y,u[14]=e.z,u[15]=1,this},e.prototype.forb=function(){return Math.sqrt(Math.pow(this.m[0],2)+Math.pow(this.m[1],2)+Math.pow(this.m[2],2)+Math.pow(this.m[3],2)+Math.pow(this.m[4],2)+Math.pow(this.m[5],2)+Math.pow(this.m[6],2)+Math.pow(this.m[7],2)+Math.pow(this.m[8],2)+Math.pow(this.m[9],2)+Math.pow(this.m[10],2)+Math.pow(this.m[11],2)+Math.pow(this.m[12],2)+Math.pow(this.m[13],2)+Math.pow(this.m[14],2)+Math.pow(this.m[15],2))},Object.defineProperty(e.prototype,"translation",{get:function(){return new r.Vector3(this.m[12],this.m[13],this.m[14])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaling",{get:function(){var e=this.m;return new r.Vector3(Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]),Math.sqrt(e[4]*e[4]+e[5]*e[5]+e[6]*e[6]),Math.sqrt(e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){var e=new o.Quaternion,t=this.m,n=t[0]+t[5]+t[10],r=0;return n>0?(r=2*Math.sqrt(n+1),e.w=.25*r,e.x=(t[6]-t[9])/r,e.y=(t[8]-t[2])/r,e.z=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e.w=(t[6]-t[9])/r,e.x=.25*r,e.y=(t[1]+t[4])/r,e.z=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e.w=(t[8]-t[2])/r,e.x=(t[1]+t[4])/r,e.y=.25*r,e.z=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e.w=(t[1]-t[4])/r,e.x=(t[8]+t[2])/r,e.y=(t[6]+t[9])/r,e.z=.25*r),e},enumerable:!0,configurable:!0}),e.CreateByTranslation=function(t){var n=new e;return n.m[12]=t.x,n.m[13]=t.y,n.m[14]=t.z,n},e.CreateByScaling=function(t){var n=new e;return n.m[0]=t.x,n.m[5]=t.y,n.m[10]=t.z,n},e.CreateByRotation=function(t,n){var r=t.length();if(r<i.Helper.EPSILON)return null;var o,a,s,c=t.x,l=t.y,u=t.z,p=new e;return c*=r=1/r,l*=r,u*=r,o=Math.sin(n),s=1-(a=Math.cos(n)),p.m[0]=c*c*s+a,p.m[1]=l*c*s+u*o,p.m[2]=u*c*s-l*o,p.m[4]=c*l*s-u*o,p.m[5]=l*l*s+a,p.m[6]=u*l*s+c*o,p.m[8]=c*u*s+l*o,p.m[9]=l*u*s-c*o,p.m[10]=u*u*s+a,p},e.CreateByXRotation=function(t){var n=Math.sin(t),r=Math.cos(t),i=new e;return i.m[5]=r,i.m[6]=n,i.m[9]=-n,i.m[10]=r,i},e.CreateByYRotation=function(t){var n=Math.sin(t),r=Math.cos(t),i=new e;return i.m[0]=r,i.m[2]=-n,i.m[8]=n,i.m[10]=r,i},e.CreateByZRotation=function(t){var n=Math.sin(t),r=Math.cos(t),i=new e;return i.m[0]=r,i.m[1]=n,i.m[4]=-n,i.m[5]=r,i},e.CreateByRotationTranslation=function(t,n){var r=t.x,i=t.y,o=t.z,a=t.w,s=r+r,c=i+i,l=o+o,u=r*s,p=r*c,d=r*l,h=i*c,f=i*l,m=o*l,g=a*s,y=a*c,v=a*l,x=new e;return x.m[0]=1-(h+m),x.m[1]=p+v,x.m[2]=d-y,x.m[4]=p-v,x.m[5]=1-(u+m),x.m[6]=f+g,x.m[8]=d+y,x.m[9]=f-g,x.m[10]=1-(u+h),x.m[12]=n.x,x.m[13]=n.y,x.m[14]=n.z,x},e.CreateByQuaternion=function(t){var n=t.x,r=t.y,i=t.z,o=t.w,a=n+n,s=r+r,c=i+i,l=n*a,u=r*a,p=r*s,d=i*a,h=i*s,f=i*c,m=o*a,g=o*s,y=o*c,v=new e;return v.m[0]=1-p-f,v.m[1]=u+y,v.m[2]=d-g,v.m[4]=u-y,v.m[5]=1-l-f,v.m[6]=h+m,v.m[8]=d+g,v.m[9]=h-m,v.m[10]=1-l-p,v},e.CreateByRotationTranslationScale=function(t,n,r){var i=t.x,o=t.y,a=t.z,s=t.w,c=i+i,l=o+o,u=a+a,p=i*c,d=i*l,h=i*u,f=o*l,m=o*u,g=a*u,y=s*c,v=s*l,x=s*u,M=r.x,b=r.y,w=r.z,A=new e;return A.m[0]=(1-(f+g))*M,A.m[1]=(d+x)*M,A.m[2]=(h-v)*M,A.m[4]=(d-x)*b,A.m[5]=(1-(p+g))*b,A.m[6]=(m+y)*b,A.m[8]=(h+v)*w,A.m[9]=(m-y)*w,A.m[10]=(1-(p+f))*w,A.m[12]=n.x,A.m[13]=n.y,A.m[14]=n.z,A},e.CreateByRotationTranslationScaleOrigin=function(t,n,r,i){var o=t.x,a=t.y,s=t.z,c=t.w,l=o+o,u=a+a,p=s+s,d=o*l,h=o*u,f=o*p,m=a*u,g=a*p,y=s*p,v=c*l,x=c*u,M=c*p,b=r.x,w=r.y,A=r.z,_=i.x,E=i.y,D=i.z,S=(1-(m+y))*b,P=(h+M)*b,T=(f-x)*b,C=(h-M)*w,R=(1-(d+y))*w,I=(g+v)*w,O=(f+x)*A,L=(g-v)*A,k=(1-(d+m))*A,B=new e;return B.m[0]=S,B.m[1]=P,B.m[2]=T,B.m[4]=C,B.m[5]=R,B.m[6]=I,B.m[8]=O,B.m[9]=L,B.m[10]=k,B.m[12]=n.x+_-(S*_+C*E+O*D),B.m[13]=n.y+E-(P*_+R*E+L*D),B.m[14]=n.z+D-(T*_+I*E+k*D),B},e.CreateFrustum=function(t,n,r,i,o,a){var s=1/(n-t),c=1/(i-r),l=1/(o-a),u=new e;return u.m[0]=2*o*s,u.m[5]=2*o*c,u.m[8]=(n+t)*s,u.m[9]=(i+r)*c,u.m[10]=(a+o)*l,u.m[11]=-1,u.m[14]=a*o*2*l,u.m[15]=0,u},e.CreatePerspective=function(t,n,r,i){var o,a=1/Math.tan(t/2),s=new e;return s.m[0]=a/n,s.m[5]=a,s.m[11]=-1,s.m[15]=0,null!=i&&i!==1/0?(o=1/(r-i),s.m[10]=(i+r)*o,s.m[14]=2*i*r*o):(s.m[10]=-1,s.m[14]=-2*r),s},e.CreatePerspectiveByFieldOfView=function(t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),c=2/(a+s),l=2/(i+o),u=new e;return u.m[0]=c,u.m[5]=l,u.m[8]=-(a-s)*c*.5,u.m[9]=(i-o)*l*.5,u.m[10]=r/(n-r),u.m[11]=-1,u.m[14]=r*n/(n-r),u.m[15]=0,u},e.CreateOrtho=function(t,n,r,i,o,a){var s=1/(t-n),c=1/(r-i),l=1/(o-a),u=new e;return u.m[0]=-2*s,u.m[5]=-2*c,u.m[10]=2*l,u.m[12]=(t+n)*s,u.m[13]=(i+r)*c,u.m[14]=(a+o)*l,u},e.createByBasis=function(t,n,r){return(new e).set(t.x,n.x,r.x,0,t.y,n.y,r.y,0,t.z,n.z,r.z,0,0,0,0,1)},e}();t.Matrix4x4=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(438),i=function(){function e(e,t,n){this.set(e||0,t||0,n||0)}return e.prototype.isNaN=function(){return Number.isNaN(this.x)||Number.isNaN(this.y)||Number.isNaN(this.z)},e.prototype.toString=function(){return"Vector3("+this.x+", "+this.y+", "+this.z+")"},e.prototype.clone=function(){return new e(this.x,this.y,this.z)},e.prototype.from=function(e,t){return void 0===t&&(t=0),this.set(e[t],e[t+1],e[t+2])},e.prototype.to=function(e,t){void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z},e.prototype.asArray=function(){return[this.x,this.y,this.z]},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.z=void 0===e.z?0:e.z,this},e.prototype.exactEquals=function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z},e.prototype.equals=function(e,t){return void 0===t&&(t=r.Helper.EPSILON),Math.abs(this.x-e.x)<=t*Math.max(1,Math.abs(this.x),Math.abs(e.x))&&Math.abs(this.y-e.y)<=t*Math.max(1,Math.abs(this.y),Math.abs(e.y))&&Math.abs(this.z-e.z)<=t*Math.max(1,Math.abs(this.z),Math.abs(e.z))},e.prototype.set=function(e,t,n){return this.x=e,this.y=t,this.z=n,this},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},e.prototype.mul=function(e){return this.x=this.x*e.x,this.y=this.y*e.y,this.z=this.z*e.z,this},e.prototype.div=function(e){return this.x=this.x/e.x,this.y=this.y/e.y,this.z=this.z/e.z,this},e.prototype.min=function(e){return this.set(Math.min(this.x,e.x),Math.min(this.y,e.y),Math.min(this.z,e.z))},e.prototype.max=function(e){return this.set(Math.max(this.x,e.x),Math.max(this.y,e.y),Math.max(this.z,e.z))},e.prototype.scale=function(e){return this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this},e.prototype.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},e.prototype.cross=function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z;return this.set(n*a-r*o,r*i-t*a,t*o-n*i)},e.prototype.distanceTo=function(e){return Math.sqrt(this.squaredDistanceTo(e))},e.prototype.squaredDistanceTo=function(e){var t=e.x-this.x,n=e.y-this.y,r=e.z-this.z;return t*t+n*n+r*r},e.prototype.angleTo=function(e){var t=this.clone().normalize().dot(e.clone().normalize());return t>1?0:t<-1?Math.PI:Math.acos(t)},e.prototype.length=function(){return Math.sqrt(this.squaredLength())},e.prototype.squaredLength=function(){return this.x*this.x+this.y*this.y+this.z*this.z},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},e.prototype.negate=function(){return this.set(-this.x,-this.y,-this.z)},e.prototype.inverse=function(){return this.set(1/this.x,1/this.y,1/this.z)},e.prototype.round=function(){return this.set(Math.round(this.x),Math.round(this.y),Math.round(this.z))},e.prototype.ceil=function(){return this.set(Math.ceil(this.x),Math.ceil(this.y),Math.ceil(this.z))},e.prototype.floor=function(){return this.set(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z))},e.prototype.normalize=function(){var e=this.squaredLength();return e>0&&(e=1/Math.sqrt(e),this.scale(e)),this},e.prototype.applyM44=function(e){var t=this.x,n=this.y,r=this.z,i=e.m,o=i[3]*t+i[7]*n+i[11]*r+i[15];return o=o||1,this.set((i[0]*t+i[4]*n+i[8]*r+i[12])/o,(i[1]*t+i[5]*n+i[9]*r+i[13])/o,(i[2]*t+i[6]*n+i[10]*r+i[14])/o)},e.prototype.applyM33=function(e){var t=this.x,n=this.y,r=this.z,i=e.m;return this.set(t*i[0]+n*i[3]+r*i[6],t*i[1]+n*i[4]+r*i[7],t*i[2]+n*i[5]+r*i[8])},e.prototype.applyQuat=function(e){var t=e.x,n=e.y,r=e.z,i=e.w,o=this.x,a=this.y,s=this.z,c=n*s-r*a,l=r*o-t*s,u=t*a-n*o,p=n*u-r*l,d=r*c-t*u,h=t*l-n*c,f=2*i;return c*=f,l*=f,u*=f,p*=2,d*=2,h*=2,this.set(o+c+p,a+l+d,s+u+h)},e.prototype.rotateX=function(e,t){var n=this.clone().sub(e),r=n.x,i=n.y*Math.cos(t)-n.z*Math.sin(t),o=n.y*Math.sin(t)+n.z*Math.cos(t);return this.set(r+e.x,i+e.y,o+e.z)},e.prototype.rotateY=function(e,t){var n=this.clone().sub(e),r=n.z*Math.sin(t)+n.x*Math.cos(t),i=n.y,o=n.z*Math.cos(t)-n.x*Math.sin(t);return this.set(r+e.x,i+e.y,o+e.z)},e.prototype.rotateZ=function(e,t){var n=this.clone().sub(e),r=n.x*Math.cos(t)+n.y*Math.sin(t),i=n.x*Math.sin(t)-n.y*Math.cos(t),o=n.z;return this.set(r+e.x,i+e.y,o+e.z)},e.prototype.distanceToLine=function(e,t){var n=t.clone().dot(this.clone().sub(e)),r=e.clone().add(t.clone().scale(n)),i=this.clone().sub(r);return Math.sqrt(i.dot(i))},e.Hermite=function(t,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,c=a*(o-2)+o,l=a*(o-1),u=a*(3-2*o);return(new e).set(t.x*s+n.x*c+r.x*l+i.x*u,t.y*s+n.y*c+r.y*l+i.y*u,t.z*s+n.z*c+r.z*l+i.z*u)},e.Bezier=function(t,n,r,i,o){var a=1-o,s=a*a,c=o*o,l=s*a,u=3*o*s,p=3*c*a,d=c*o;return(new e).set(t.x*l+n.x*u+r.x*p+i.x*d,t.y*l+n.y*u+r.y*p+i.y*d,t.z*l+n.z*u+r.z*p+i.z*d)},Object.defineProperty(e,"Zero",{get:function(){return new e(0,0,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"One",{get:function(){return new e(1,1,1)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Up",{get:function(){return new e(0,1,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Down",{get:function(){return new e(0,-1,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Forward",{get:function(){return new e(0,0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Right",{get:function(){return new e(1,0,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Left",{get:function(){return new e(-1,0,0)},enumerable:!0,configurable:!0}),e.arePerpendicular=function(e,t){return r.Helper.equals(e.clone().dot(t),r.Helper.EPSILON)},e.areParallel=function(e,t){var n=e.clone().cross(t);return!!r.Helper.equals(n.x,r.Helper.EPSILON)&&(!!r.Helper.equals(n.y,r.Helper.EPSILON)&&!!r.Helper.equals(n.z,r.Helper.EPSILON))},e}();t.Vector3=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(444),a=n(442),s=function(e){function t(t,n,r,i){return e.call(this,t||0,n||0,r||0,i||1)||this}return i(t,e),t.prototype.toString=function(){return"Quaternion("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)},t.prototype.identity=function(){return this.set(0,0,0,1)},t.prototype.setAxisAngle=function(e,t){t*=.5;var n=Math.sin(t);return this.set(n*e.x,n*e.y,n*e.z,Math.cos(t))},t.prototype.getAxisAngle=function(){var e=2*Math.acos(this.w),t=Math.sin(e/2),n=new a.Vector3;return 0!=t?(n.x=this.x/t,n.y=this.y/t,n.z=this.z/t):(n.x=1,n.y=0,n.z=0),[n,e]},t.prototype.rotateX=function(e){e*=.5;var t=this.x,n=this.y,r=this.z,i=this.w,o=Math.sin(e),a=Math.cos(e);return this.set(t*a+i*o,n*a+r*o,r*a-n*o,i*a-t*o)},t.prototype.rotateY=function(e){e*=.5;var t=this.x,n=this.y,r=this.z,i=this.w,o=Math.sin(e),a=Math.cos(e);return this.set(t*a-r*o,n*a+i*o,r*a+t*o,i*a-n*o)},t.prototype.rotateZ=function(e){e*=.5;var t=this.x,n=this.y,r=this.z,i=this.w,o=Math.sin(e),a=Math.cos(e);return this.set(t*a+n*o,n*a-t*o,r*a+i*o,i*a-r*o)},t.prototype.calculateW=function(){var e=this.x,t=this.y,n=this.z;return this.set(e,t,n,Math.sqrt(Math.abs(1-e*e-t*t-n*n)))},t.prototype.slerp=function(e,t){var n,r,i,o,a,s=this.x,c=this.y,l=this.z,u=this.w,p=e.x,d=e.y,h=e.z,f=e.w;return(r=s*p+c*d+l*h+u*f)<0&&(r=-r,p=-p,d=-d,h=-h,f=-f),1-r>1e-6?(n=Math.acos(r),i=Math.sin(n),o=Math.sin((1-t)*n)/i,a=Math.sin(t*n)/i):(o=1-t,a=t),this.set(o*s+a*p,o*c+a*d,o*l+a*h,o*u+a*f)},t.prototype.invert=function(){var e=this.x,t=this.y,n=this.z,r=this.w,i=this.squaredLength(),o=i?1/i:0;return this.set(-e*o,-t*o,-n*o,r*o)},t.prototype.conjugate=function(){return this.set(-this.x,-this.y,-this.z,this.w)},t.prototype.fromMatrix3x3=function(e){var t,n=e.m,r=[0,0,0,0],i=n[0]+n[4]+n[8];if(i>0)t=Math.sqrt(i+1),r[3]=.5*t,t=.5/t,r[0]=(n[5]-n[7])*t,r[1]=(n[6]-n[2])*t,r[2]=(n[1]-n[3])*t;else{var o=0;n[4]>n[0]&&(o=1),n[8]>n[3*o+o]&&(o=2);var a=(o+1)%3,s=(o+2)%3;t=Math.sqrt(n[3*o+o]-n[3*a+a]-n[3*s+s]+1),r[o]=.5*t,t=.5/t,r[3]=(n[3*a+s]-n[3*s+a])*t,r[a]=(n[3*a+o]+n[3*o+a])*t,r[s]=(n[3*s+o]+n[3*o+s])*t}return this.set(r[0],r[1],r[2],r[3])},t.prototype.fromEuler=function(e,t,n){var r=.5*Math.PI/180;e*=r,t*=r,n*=r;var i=Math.sin(e),o=Math.cos(e),a=Math.sin(t),s=Math.cos(t),c=Math.sin(n),l=Math.cos(n);return this.set(i*s*l-o*a*c,o*a*l+i*s*c,o*s*c-i*a*l,o*s*l+i*a*c)},t}(o.V4B);t.Quaternion=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(438),i=function(){function e(e,t,n,r){this.set(e,t,n,r||0)}return e.prototype.set=function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},e.prototype.from=function(e,t){return void 0===t&&(t=0),this.set(e[t],e[t+1],e[t+2],e[t+3])},e.prototype.to=function(e,t){void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w},e.prototype.asArray=function(){return[this.x,this.y,this.z,this.w]},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.z=void 0===e.z?0:e.z,this.w=void 0===e.w?0:e.w,this},e.prototype.exactEquals=function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z&&this.w===e.w},e.prototype.equals=function(e,t){return void 0===t&&(t=r.Helper.EPSILON),Math.abs(this.x-e.x)<=t*Math.max(1,Math.abs(this.x),Math.abs(e.x))&&Math.abs(this.y-e.y)<=t*Math.max(1,Math.abs(this.y),Math.abs(e.y))&&Math.abs(this.z-e.z)<=t*Math.max(1,Math.abs(this.z),Math.abs(e.z))&&Math.abs(this.w-e.w)<=t*Math.max(1,Math.abs(this.w),Math.abs(e.w))},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this},e.prototype.mul=function(e){return this.x=this.x*e.x,this.y=this.y*e.y,this.z=this.z*e.z,this.w=this.w*e.w,this},e.prototype.scale=function(e){return this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},e.prototype.length=function(){return Math.sqrt(this.squaredLength())},e.prototype.squaredLength=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},e.prototype.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},e}();t.V4B=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(438),i=function(){function e(e,t){this.set(e||0,t||0)}return e.prototype.isNaN=function(){return Number.isNaN(this.x)||Number.isNaN(this.y)},e.prototype.toString=function(){return"Vector2("+this.x+", "+this.y+")"},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.from=function(e,t){return void 0===t&&(t=0),this.set(e[t],e[t+1])},e.prototype.to=function(e,t){void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y},e.prototype.asArray=function(){return[this.x,this.y]},e.prototype.copy=function(e){return this.set(e.x,e.y)},e.prototype.exactEquals=function(e){return this.x===e.x&&this.y===e.y},e.prototype.equals=function(e,t){return void 0===t&&(t=r.Helper.EPSILON),Math.abs(this.x-e.x)<=t*Math.max(1,Math.abs(this.x),Math.abs(e.x))&&Math.abs(this.y-e.y)<=t*Math.max(1,Math.abs(this.y),Math.abs(e.y))},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.mul=function(e){return this.x=this.x*e.x,this.y=this.y*e.y,this},e.prototype.div=function(e){return this.x=this.x/e.x,this.y=this.y/e.y,this},e.prototype.min=function(e){return this.set(Math.min(this.x,e.x),Math.min(this.y,e.y))},e.prototype.max=function(e){return this.set(Math.max(this.x,e.x),Math.max(this.y,e.y))},e.prototype.scale=function(e){return this.x=this.x*e,this.y=this.y*e,this},e.prototype.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.cross=function(e){return this.x*e.y-this.y*e.x},e.prototype.ceil=function(){return this.set(Math.ceil(this.x),Math.ceil(this.y))},e.prototype.floor=function(){return this.set(Math.floor(this.x),Math.floor(this.y))},e.prototype.round=function(){return this.set(Math.round(this.x),Math.round(this.y))},e.prototype.length=function(){return Math.sqrt(this.squaredLength())},e.prototype.squaredLength=function(){return this.x*this.x+this.y*this.y},e.prototype.distanceTo=function(e){return Math.sqrt(this.squaredDistanceTo(e))},e.prototype.squaredDistanceTo=function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},e.prototype.negate=function(){return this.set(-this.x,-this.y)},e.prototype.inverse=function(){return this.set(1/this.x,1/this.y)},e.prototype.normalize=function(){var e=this.squaredLength();return e>0&&(e=1/Math.sqrt(e),this.x=this.x*e,this.y=this.y*e),this},e.prototype.angleTo=function(e){var t=this.x,n=this.y,r=e.x,i=e.y,o=t*t+n*n;o>0&&(o=1/Math.sqrt(o));var a=r*r+i*i;a>0&&(a=1/Math.sqrt(a));var s=(t*r+n*i)*o*a;return s>1?0:s<-1?Math.PI:Math.acos(s)},e.prototype.rotate=function(e,t){var n=this.x-e.x,r=this.y-e.y,i=Math.sin(t),o=Math.cos(t);return this.set(n*o-r*i+e.x,n*i+r*o+e.y)},e.prototype.applyM33=function(e){var t=e.m,n=this.x,r=this.y;return this.set(t[0]*n+t[3]*r+t[6],t[1]*n+t[4]*r+t[7])},e.prototype.applyM44=function(e){var t=e.m,n=this.x,r=this.y;return this.set(t[0]*n+t[4]*r+t[12],t[1]*n+t[5]*r+t[13])},e.prototype.applyM23=function(e){var t=e.m,n=this.x,r=this.y;return this.set(t[0]*n+t[2]*r+t[4],t[1]*n+t[3]*r+t[5])},e.prototype.distanctToLine=function(e,t){var n=t.clone().dot(this.clone().sub(e)),r=e.clone().add(t.clone().scale(n)),i=this.clone().sub(r);return Math.sqrt(i.dot(i))},e.angle=function(e,t){var n;n=void 0!==t?e.clone().sub(t):e.clone();var i=Math.atan2(n.y,n.x);return i<0?r.Helper.TwoPI+i:i},e.arePerpendicular=function(e,t){return r.Helper.equals(e.clone().dot(t),r.Helper.EPSILON)},e.areParallel=function(e,t){return r.Helper.equals(e.clone().cross(t),r.Helper.EPSILON)},e.findIntersection=function(t,n,r,i){if(e.areParallel(n,i))return new e(Number.NaN,Number.NaN);var o=r.clone().sub(t),a=n.clone().cross(i),s=(o.x*i.y-o.y*i.x)/a;return t.clone().add(n.clone().scale(s))},e}();t.Vector2=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r,i){return e.call(this,t||0,n||0,r||0,i||0)||this}return i(t,e),t.prototype.toString=function(){return"Vector4("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this},t.prototype.div=function(e){return this.x=this.x/e.x,this.y=this.y/e.y,this.z=this.z/e.z,this.w=this.w/e.w,this},t.prototype.ceil=function(){return this.set(Math.ceil(this.x),Math.ceil(this.y),Math.ceil(this.z),Math.ceil(this.w))},t.prototype.floor=function(){return this.set(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z),Math.floor(this.w))},t.prototype.min=function(e){return this.set(Math.min(this.x,e.x),Math.min(this.y,e.y),Math.min(this.z,e.z),Math.min(this.w,e.w))},t.prototype.max=function(e){return this.set(Math.max(this.x,e.x),Math.max(this.y,e.y),Math.max(this.z,e.z),Math.max(this.w,e.w))},t.prototype.round=function(){return this.set(Math.round(this.x),Math.round(this.y),Math.round(this.z),Math.round(this.w))},t.prototype.distanceTo=function(e){return Math.sqrt(this.squaredDistanceTo(e))},t.prototype.squaredDistanceTo=function(e){var t=e.x-this.x,n=e.y-this.y,r=e.z-this.z,i=e.w-this.w;return t*t+n*n+r*r+i*i},t.prototype.negate=function(){return this.set(-this.x,-this.y,-this.z,-this.w)},t.prototype.inverse=function(){return this.set(1/this.x,1/this.y,1/this.z,1/this.w)},t.prototype.normalize=function(){var e=this.squaredLength();return e>0&&(e=1/Math.sqrt(e),this.set(this.x*e,this.y*e,this.z*e,this.w*e)),this},t.prototype.applyM44=function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.m;return this.set(o[0]*t+o[4]*n+o[8]*r+o[12]*i,o[1]*t+o[5]*n+o[9]*r+o[13]*i,o[2]*t+o[6]*n+o[10]*r+o[14]*i,o[3]*t+o[7]*n+o[11]*r+o[15]*i)},t.prototype.applyQuat=function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*r-a*n,l=s*n+a*t-i*r,u=s*r+i*n-o*t,p=-i*t-o*n-a*r;return this.set(c*s+p*-i+l*-a-u*-o,l*s+p*-o+u*-i-c*-a,u*s+p*-a+c*-o-l*-i,this.w)},t}(n(444).V4B);t.Vector4=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(438),i=n(445),o=n(448),a=function(){function e(e,t){this.min=void 0!==e?e:new i.Vector2(1/0,1/0),this.max=void 0!==t?t:new i.Vector2(-1/0,-1/0)}return e.prototype.set=function(e,t){return this.min.copy(e),this.max.copy(t),this},e.prototype.from=function(e,t){return void 0===t&&(t=0),this.min.x=e[t],this.min.y=e[t+1],this.max.x=e[t+2],this.max.y=e[t+3],this},e.prototype.to=function(e,t){void 0===t&&(t=0),e[t]=this.min.x,e[t+1]=this.min.y,e[t+2]=this.max.x,e[t+3]=this.max.y},e.prototype.asArray=function(){return[this.min.x,this.min.y,this.max.x,this.max.y]},e.prototype.toString=function(){return"Box2(min("+this.min.x+","+this.min.y+"),max("+this.max.x+","+this.max.y+"))"},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){return this.min.copy(e.min),this.max.copy(e.max),this},e.prototype.exactEquals=function(e){return this.min.exactEquals(e.min)&&this.max.exactEquals(e.max)},e.prototype.equals=function(e,t){return void 0===t&&(t=r.Helper.EPSILON),this.min.equals(e.min,t)&&this.max.equals(e.max,t)},e.prototype.makeEmpty=function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},e.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y},Object.defineProperty(e.prototype,"center",{get:function(){return this.isEmpty()?new i.Vector2:(new i.Vector2).copy(this.min).add(this.max).scale(.5)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.isEmpty()?new o.Size:(new o.Size).set(this.max.x-this.min.x,this.max.y-this.min.y)},enumerable:!0,configurable:!0}),e.prototype.contains=function(t){return t instanceof i.Vector2||t.x&&t.y?!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y):t instanceof e&&(this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y)},e.prototype.isIntersect=function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},e.prototype.intersect=function(e){return this.min.max(e.min),this.max.min(e.max),this},e.prototype.union=function(e){return this.min.min(e.min),this.max.max(e.max),this},e.prototype.offset=function(e){return this.min.add(e),this.max.add(e),this},e.prototype.expandBy=function(e,t){return e===+e?(this.min.scale(-e),this.max.scale(e),this):e instanceof i.Vector2&&t?t?(this.min.sub(e),this.max.add(e),this):(this.min.min(e),this.max.max(e),this):this},e}();t.Box2=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(438),i=function(){function e(e,t){this.width=e||0,this.height=t||0}return e.prototype.toString=function(){return"Size("+this.width+", "+this.height+")"},e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.from=function(e,t){return void 0===t&&(t=0),this.set(e[t],e[t+1])},e.prototype.to=function(e,t){void 0===t&&(t=0),e[t]=this.width,e[t+1]=this.height},e.prototype.asArray=function(){return[this.width,this.height]},e.prototype.copy=function(e){return this.set(e.width,e.height)},e.prototype.set=function(e,t){return this.width=e,this.height=t,this},e.prototype.exactEquals=function(e){return this.width===e.width&&this.height===e.height},e.prototype.equals=function(e,t){return void 0===t&&(t=r.Helper.EPSILON),Math.abs(this.width-e.width)<=t*Math.max(1,Math.abs(this.width),Math.abs(e.width))&&Math.abs(this.height-e.height)<=t*Math.max(1,Math.abs(this.height),Math.abs(e.height))},e.prototype.add=function(e){return this.set(this.width+e.width,this.height+e.height)},e.prototype.sub=function(e){return this.set(this.width-e.width,this.height-e.height)},e.prototype.scale=function(e,t){return this.set(this.width*e,this.height*t)},Object.defineProperty(e.prototype,"surface",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),e}();t.Size=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(438),i=n(442),o=function(){function e(e,t){this.min=void 0!==e?e:new i.Vector3(1/0,1/0,1/0),this.max=void 0!==t?t:new i.Vector3(-1/0,-1/0,-1/0)}return e.prototype.set=function(e,t){return this.min.copy(e),this.max.copy(t),this},e.prototype.from=function(e,t){return void 0===t&&(t=0),this.min.x=e[t],this.min.y=e[t+1],this.min.z=e[t+2],this.max.x=e[t+3],this.max.y=e[t+4],this.max.z=e[t+5],this},e.prototype.to=function(e,t){void 0===t&&(t=0),e[t]=this.min.x,e[t+1]=this.min.y,e[t+2]=this.min.z,e[t+3]=this.max.x,e[t+4]=this.max.y,e[t+5]=this.max.z},e.prototype.asArray=function(){return[this.min.x,this.min.y,this.min.z,this.max.x,this.max.y,this.max.z]},e.prototype.toString=function(){return"Box3(min("+this.min.x+","+this.min.y+","+this.min.z+"),max("+this.max.x+","+this.max.y+","+this.max.z+"))"},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(e){return this.min.copy(e.min),this.max.copy(e.max),this},e.prototype.exactEquals=function(e){return this.min.exactEquals(e.min)&&this.max.exactEquals(e.max)},e.prototype.equals=function(e,t){return void 0===t&&(t=r.Helper.EPSILON),this.min.equals(e.min,t)&&this.max.equals(e.max,t)},e.prototype.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},e.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},Object.defineProperty(e.prototype,"center",{get:function(){return this.isEmpty()?new i.Vector3:(new i.Vector3).copy(this.min).add(this.max).scale(.5)},enumerable:!0,configurable:!0}),e.prototype.contains=function(t){return t instanceof i.Vector3||t.x&&t.y&&t.z?!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z):t instanceof e&&(this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z)},e.prototype.isIntersect=function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},e.prototype.intersect=function(e){return this.min.max(e.min),this.max.min(e.max),this},e.prototype.union=function(e){return this.min.min(e.min),this.max.max(e.max),this},e.prototype.offset=function(e){return this.min.add(e),this.max.add(e),this},e.prototype.expandBy=function(e,t){return e===+e?(this.min.scale(-e),this.max.scale(e),this):e instanceof i.Vector3?t?(this.min.sub(e),this.max.add(e),this):(this.min.min(e),this.max.max(e),this):this},e}();t.Box3=o}]);